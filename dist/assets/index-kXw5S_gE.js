function mf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Cc={exports:{}},Ws={},Tc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=Symbol.for("react.element"),gf=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),kf=Symbol.for("react.memo"),Sf=Symbol.for("react.lazy"),ql=Symbol.iterator;function If(e){return e===null||typeof e!="object"?null:(e=ql&&e[ql]||e["@@iterator"],typeof e=="function"?e:null)}var Ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pc=Object.assign,Ac={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Ec}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lc(){}Lc.prototype=Bn.prototype;function Qi(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Ec}var Ji=Qi.prototype=new Lc;Ji.constructor=Qi;Pc(Ji,Bn.prototype);Ji.isPureReactComponent=!0;var Yl=Array.isArray,$c=Object.prototype.hasOwnProperty,qi={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,n){var r,a={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)$c.call(t,r)&&!_c.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:$r,type:e,key:i,ref:l,props:a,_owner:qi.current}}function Cf(e,t){return{$$typeof:$r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yi(e){return typeof e=="object"&&e!==null&&e.$$typeof===$r}function Tf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zl=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tf(""+e.key):t.toString(36)}function rs(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case $r:case gf:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+pa(l,0):r,Yl(a)?(n="",e!=null&&(n=e.replace(Zl,"$&/")+"/"),rs(a,t,n,"",function(u){return u})):a!=null&&(Yi(a)&&(a=Cf(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Zl,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",Yl(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+pa(i,o);l+=rs(i,t,n,c,a)}else if(c=If(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+pa(i,o++),l+=rs(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Br(e,t,n){if(e==null)return e;var r=[],a=0;return rs(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Ef(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},ss={transition:null},Pf={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ss,ReactCurrentOwner:qi};function Dc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Br,forEach:function(e,t,n){Br(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Br(e,function(){t++}),t},toArray:function(e){return Br(e,function(t){return t})||[]},only:function(e){if(!Yi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Bn;H.Fragment=xf;H.Profiler=vf;H.PureComponent=Qi;H.StrictMode=yf;H.Suspense=Nf;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;H.act=Dc;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pc({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=qi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)$c.call(t,c)&&!_c.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:$r,type:e.type,key:a,ref:i,props:r,_owner:l}};H.createContext=function(e){return e={$$typeof:bf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wf,_context:e},e.Consumer=e};H.createElement=Mc;H.createFactory=function(e){var t=Mc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:jf,render:e}};H.isValidElement=Yi;H.lazy=function(e){return{$$typeof:Sf,_payload:{_status:-1,_result:e},_init:Ef}};H.memo=function(e,t){return{$$typeof:kf,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ss.transition;ss.transition={};try{e()}finally{ss.transition=t}};H.unstable_act=Dc;H.useCallback=function(e,t){return Ie.current.useCallback(e,t)};H.useContext=function(e){return Ie.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ie.current.useEffect(e,t)};H.useId=function(){return Ie.current.useId()};H.useImperativeHandle=function(e,t,n){return Ie.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ie.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Ie.current.useReducer(e,t,n)};H.useRef=function(e){return Ie.current.useRef(e)};H.useState=function(e){return Ie.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Ie.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Ie.current.useTransition()};H.version="18.3.1";Tc.exports=H;var w=Tc.exports;const ur=hf(w),Af=mf({__proto__:null,default:ur},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=w,$f=Symbol.for("react.element"),_f=Symbol.for("react.fragment"),Mf=Object.prototype.hasOwnProperty,Df=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rf={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var r,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Mf.call(t,r)&&!Rf.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:$f,type:e,key:i,ref:l,props:a,_owner:Df.current}}Ws.Fragment=_f;Ws.jsx=Rc;Ws.jsxs=Rc;Cc.exports=Ws;var s=Cc.exports,Va={},Fc={exports:{}},Oe={},Oc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,R){var O=$.length;$.push(R);e:for(;0<O;){var V=O-1>>>1,X=$[V];if(0<a(X,R))$[V]=R,$[O]=X,O=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var R=$[0],O=$.pop();if(O!==R){$[0]=O;e:for(var V=0,X=$.length,_e=X>>>1;V<_e;){var k=2*(V+1)-1,N=$[k],P=k+1,A=$[P];if(0>a(N,O))P<X&&0>a(A,N)?($[V]=A,$[P]=O,V=P):($[V]=N,$[k]=O,V=k);else if(P<X&&0>a(A,O))$[V]=A,$[P]=O,V=P;else break e}}return R}function a($,R){var O=$.sortIndex-R.sortIndex;return O!==0?O:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,m=3,y=!1,x=!1,h=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=$)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function j($){if(h=!1,v($),!x)if(n(c)!==null)x=!0,je(S);else{var R=n(u);R!==null&&ce(j,R.startTime-$)}}function S($,R){x=!1,h&&(h=!1,p(C),C=-1),y=!0;var O=m;try{for(v(R),f=n(c);f!==null&&(!(f.expirationTime>R)||$&&!G());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var X=V(f.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),v(R)}else r(c);f=n(c)}if(f!==null)var _e=!0;else{var k=n(u);k!==null&&ce(j,k.startTime-R),_e=!1}return _e}finally{f=null,m=O,y=!1}}var T=!1,E=null,C=-1,B=5,D=-1;function G(){return!(e.unstable_now()-D<B)}function I(){if(E!==null){var $=e.unstable_now();D=$;var R=!0;try{R=E(!0,$)}finally{R?_():(T=!1,E=null)}}else T=!1}var _;if(typeof g=="function")_=function(){g(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=I,_=function(){W.postMessage(null)}}else _=function(){b(I,0)};function je($){E=$,T||(T=!0,_())}function ce($,R){C=b(function(){$(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,je(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var O=m;m=R;try{return $()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var O=m;m=$;try{return R()}finally{m=O}},e.unstable_scheduleCallback=function($,R,O){var V=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,$={id:d++,callback:R,priorityLevel:$,startTime:O,expirationTime:X,sortIndex:-1},O>V?($.sortIndex=O,t(u,$),n(c)===null&&$===n(u)&&(h?(p(C),C=-1):h=!0,ce(j,O-V))):($.sortIndex=X,t(c,$),x||y||(x=!0,je(S))),$},e.unstable_shouldYield=G,e.unstable_wrapCallback=function($){var R=m;return function(){var O=m;m=R;try{return $.apply(this,arguments)}finally{m=O}}}})(Bc);Oc.exports=Bc;var Ff=Oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=w,Fe=Ff;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uc=new Set,fr={};function dn(e,t){$n(e,t),$n(e+"Capture",t)}function $n(e,t){for(fr[e]=t,e=0;e<t.length;e++)Uc.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,Bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eo={},to={};function Uf(e){return Ka.call(to,e)?!0:Ka.call(eo,e)?!1:Bf.test(e)?to[e]=!0:(eo[e]=!0,!1)}function zf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wf(e,t,n,r){if(t===null||typeof t>"u"||zf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zi=/[\-:]([a-z])/g;function el(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zi,el);ge[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zi,el);ge[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zi,el);ge[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function tl(e,t,n,r){var a=ge.hasOwnProperty(t)?ge[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wf(t,n,a,r)&&(n=null),r||a===null?Uf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=Of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ur=Symbol.for("react.element"),hn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),Xa=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Hc=Symbol.for("react.offscreen"),no=Symbol.iterator;function Hn(e){return e===null||typeof e!="object"?null:(e=no&&e[no]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,ma;function Yn(e){if(ma===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ma=t&&t[1]||""}return`
`+ma+e}var ha=!1;function ga(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yn(e):""}function Hf(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=ga(e.type,!1),e;case 11:return e=ga(e.type.render,!1),e;case 1:return e=ga(e.type,!0),e;default:return""}}function qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case hn:return"Portal";case Xa:return"Profiler";case nl:return"StrictMode";case Qa:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wc:return(e.displayName||"Context")+".Consumer";case zc:return(e._context.displayName||"Context")+".Provider";case rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sl:return t=e.displayName||null,t!==null?t:qa(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return qa(e(t))}catch{}}return null}function Gf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(t);case 8:return t===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vf(e){var t=Gc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zr(e){e._valueTracker||(e._valueTracker=Vf(e))}function Vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ro(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kc(e,t){t=t.checked,t!=null&&tl(e,"checked",t,!1)}function Za(e,t){Kc(e,t);var n=Bt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ei(e,t.type,n):t.hasOwnProperty("defaultValue")&&ei(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function so(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ei(e,t,n){(t!=="number"||xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zn=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ti(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ao(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Zn(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function Xc(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function io(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ni(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function Yc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=qc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Xf=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(e,t){if(t){if(Xf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function si(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,Tn=null,En=null;function lo(e){if(e=Dr(e)){if(typeof ii!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Xs(t),ii(e.stateNode,e.type,t))}}function Zc(e){Tn?En?En.push(e):En=[e]:Tn=e}function ed(){if(Tn){var e=Tn,t=En;if(En=Tn=null,lo(e),t)for(e=0;e<t.length;e++)lo(t[e])}}function td(e,t){return e(t)}function nd(){}var xa=!1;function rd(e,t,n){if(xa)return e(t,n);xa=!0;try{return td(e,t,n)}finally{xa=!1,(Tn!==null||En!==null)&&(nd(),ed())}}function mr(e,t){var n=e.stateNode;if(n===null)return null;var r=Xs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var li=!1;if(yt)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){li=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{li=!1}function Qf(e,t,n,r,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var rr=!1,ys=null,vs=!1,oi=null,Jf={onError:function(e){rr=!0,ys=e}};function qf(e,t,n,r,a,i,l,o,c){rr=!1,ys=null,Qf.apply(Jf,arguments)}function Yf(e,t,n,r,a,i,l,o,c){if(qf.apply(this,arguments),rr){if(rr){var u=ys;rr=!1,ys=null}else throw Error(L(198));vs||(vs=!0,oi=u)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oo(e){if(un(e)!==e)throw Error(L(188))}function Zf(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return oo(a),e;if(i===r)return oo(a),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function ad(e){return e=Zf(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var ld=Fe.unstable_scheduleCallback,co=Fe.unstable_cancelCallback,ep=Fe.unstable_shouldYield,tp=Fe.unstable_requestPaint,ae=Fe.unstable_now,np=Fe.unstable_getCurrentPriorityLevel,il=Fe.unstable_ImmediatePriority,od=Fe.unstable_UserBlockingPriority,ws=Fe.unstable_NormalPriority,rp=Fe.unstable_LowPriority,cd=Fe.unstable_IdlePriority,Hs=null,ot=null;function sp(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Hs,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:lp,ap=Math.log,ip=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(ap(e)/ip|0)|0}var Hr=64,Gr=4194304;function er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?r=er(o):(i&=l,i!==0&&(r=er(i)))}else l=n&~a,l!==0?r=er(l):i!==0&&(r=er(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),a=1<<n,r|=e[n],t&=~a;return r}function op(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-tt(i),o=1<<l,c=a[l];c===-1?(!(o&n)||o&r)&&(a[l]=op(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function ci(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),e}function ya(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function dp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-tt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var J=0;function ud(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,ol,pd,md,hd,di=!1,Vr=[],At=null,Lt=null,$t=null,hr=new Map,gr=new Map,It=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uo(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(t.pointerId)}}function Vn(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Dr(t),t!==null&&ol(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fp(e,t,n,r,a){switch(t){case"focusin":return At=Vn(At,e,t,n,r,a),!0;case"dragenter":return Lt=Vn(Lt,e,t,n,r,a),!0;case"mouseover":return $t=Vn($t,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return hr.set(i,Vn(hr.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,gr.set(i,Vn(gr.get(i)||null,e,t,n,r,a)),!0}return!1}function gd(e){var t=Jt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=sd(n),t!==null){e.blockedOn=t,hd(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function as(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ui(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ai=r,n.target.dispatchEvent(r),ai=null}else return t=Dr(n),t!==null&&ol(t),e.blockedOn=n,!1;t.shift()}return!0}function fo(e,t,n){as(e)&&n.delete(t)}function pp(){di=!1,At!==null&&as(At)&&(At=null),Lt!==null&&as(Lt)&&(Lt=null),$t!==null&&as($t)&&($t=null),hr.forEach(fo),gr.forEach(fo)}function Kn(e,t){e.blockedOn===t&&(e.blockedOn=null,di||(di=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,pp)))}function xr(e){function t(a){return Kn(a,e)}if(0<Vr.length){Kn(Vr[0],e);for(var n=1;n<Vr.length;n++){var r=Vr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(At!==null&&Kn(At,e),Lt!==null&&Kn(Lt,e),$t!==null&&Kn($t,e),hr.forEach(t),gr.forEach(t),n=0;n<It.length;n++)r=It[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)gd(n),n.blockedOn===null&&It.shift()}var Pn=jt.ReactCurrentBatchConfig,js=!0;function mp(e,t,n,r){var a=J,i=Pn.transition;Pn.transition=null;try{J=1,cl(e,t,n,r)}finally{J=a,Pn.transition=i}}function hp(e,t,n,r){var a=J,i=Pn.transition;Pn.transition=null;try{J=4,cl(e,t,n,r)}finally{J=a,Pn.transition=i}}function cl(e,t,n,r){if(js){var a=ui(e,t,n,r);if(a===null)Ta(e,t,r,Ns,n),uo(e,r);else if(fp(a,e,t,n,r))r.stopPropagation();else if(uo(e,r),t&4&&-1<up.indexOf(e)){for(;a!==null;){var i=Dr(a);if(i!==null&&fd(i),i=ui(e,t,n,r),i===null&&Ta(e,t,r,Ns,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Ta(e,t,r,null,n)}}var Ns=null;function ui(e,t,n,r){if(Ns=null,e=al(r),e=Jt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(np()){case il:return 1;case od:return 4;case ws:case rp:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Tt=null,dl=null,is=null;function yd(){if(is)return is;var e,t=dl,n=t.length,r,a="value"in Tt?Tt.value:Tt.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===a[i-r];r++);return is=a.slice(e,1<r?1-r:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function po(){return!1}function Be(e){function t(n,r,a,i,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:po,this.isPropagationStopped=po,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Be(Un),Mr=re({},Un,{view:0,detail:0}),gp=Be(Mr),va,wa,Xn,Gs=re({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(va=e.screenX-Xn.screenX,wa=e.screenY-Xn.screenY):wa=va=0,Xn=e),va)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),mo=Be(Gs),xp=re({},Gs,{dataTransfer:0}),yp=Be(xp),vp=re({},Mr,{relatedTarget:0}),ba=Be(vp),wp=re({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Be(wp),jp=re({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Np=Be(jp),kp=re({},Un,{data:0}),ho=Be(kp),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function fl(){return Tp}var Ep=re({},Mr,{key:function(e){if(e.key){var t=Sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pp=Be(Ep),Ap=re({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=Be(Ap),Lp=re({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),$p=Be(Lp),_p=re({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mp=Be(_p),Dp=re({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rp=Be(Dp),Fp=[9,13,27,32],pl=yt&&"CompositionEvent"in window,sr=null;yt&&"documentMode"in document&&(sr=document.documentMode);var Op=yt&&"TextEvent"in window&&!sr,vd=yt&&(!pl||sr&&8<sr&&11>=sr),xo=" ",yo=!1;function wd(e,t){switch(e){case"keyup":return Fp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function Bp(e,t){switch(e){case"compositionend":return bd(t);case"keypress":return t.which!==32?null:(yo=!0,xo);case"textInput":return e=t.data,e===xo&&yo?null:e;default:return null}}function Up(e,t){if(xn)return e==="compositionend"||!pl&&wd(e,t)?(e=yd(),is=dl=Tt=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function jd(e,t,n,r){Zc(r),t=ks(t,"onChange"),0<t.length&&(n=new ul("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,yr=null;function Wp(e){$d(e,0)}function Vs(e){var t=wn(e);if(Vc(t))return e}function Hp(e,t){if(e==="change")return t}var Nd=!1;if(yt){var ja;if(yt){var Na="oninput"in document;if(!Na){var wo=document.createElement("div");wo.setAttribute("oninput","return;"),Na=typeof wo.oninput=="function"}ja=Na}else ja=!1;Nd=ja&&(!document.documentMode||9<document.documentMode)}function bo(){ar&&(ar.detachEvent("onpropertychange",kd),yr=ar=null)}function kd(e){if(e.propertyName==="value"&&Vs(yr)){var t=[];jd(t,yr,e,al(e)),rd(Wp,t)}}function Gp(e,t,n){e==="focusin"?(bo(),ar=t,yr=n,ar.attachEvent("onpropertychange",kd)):e==="focusout"&&bo()}function Vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(yr)}function Kp(e,t){if(e==="click")return Vs(t)}function Xp(e,t){if(e==="input"||e==="change")return Vs(t)}function Qp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Qp;function vr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Ka.call(t,a)||!rt(e[a],t[a]))return!1}return!0}function jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,t){var n=jo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jo(n)}}function Sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xs(e.document)}return t}function ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jp(e){var t=Id(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sd(n.ownerDocument.documentElement,n)){if(r!==null&&ml(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=No(n,i);var l=No(n,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qp=yt&&"documentMode"in document&&11>=document.documentMode,yn=null,fi=null,ir=null,pi=!1;function ko(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pi||yn==null||yn!==xs(r)||(r=yn,"selectionStart"in r&&ml(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&vr(ir,r)||(ir=r,r=ks(fi,"onSelect"),0<r.length&&(t=new ul("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yn)))}function Xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vn={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},ka={},Cd={};yt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Ks(e){if(ka[e])return ka[e];if(!vn[e])return e;var t=vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return ka[e]=t[n];return e}var Td=Ks("animationend"),Ed=Ks("animationiteration"),Pd=Ks("animationstart"),Ad=Ks("transitionend"),Ld=new Map,So="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){Ld.set(e,t),dn(t,[e])}for(var Sa=0;Sa<So.length;Sa++){var Ia=So[Sa],Yp=Ia.toLowerCase(),Zp=Ia[0].toUpperCase()+Ia.slice(1);Wt(Yp,"on"+Zp)}Wt(Td,"onAnimationEnd");Wt(Ed,"onAnimationIteration");Wt(Pd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Ad,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(tr));function Io(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yf(r,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Io(a,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Io(a,o,u),i=c}}}if(vs)throw e=oi,vs=!1,oi=null,e}function Y(e,t){var n=t[yi];n===void 0&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(_d(t,e,2,!1),n.add(r))}function Ca(e,t,n){var r=0;t&&(r|=4),_d(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function wr(e){if(!e[Qr]){e[Qr]=!0,Uc.forEach(function(n){n!=="selectionchange"&&(em.has(n)||Ca(n,!1,e),Ca(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,Ca("selectionchange",!1,t))}}function _d(e,t,n,r){switch(xd(t)){case 1:var a=mp;break;case 4:a=hp;break;default:a=cl}n=a.bind(null,t,n,e),a=void 0,!li||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ta(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Jt(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}rd(function(){var u=i,d=al(n),f=[];e:{var m=Ld.get(e);if(m!==void 0){var y=ul,x=e;switch(e){case"keypress":if(ls(n)===0)break e;case"keydown":case"keyup":y=Pp;break;case"focusin":x="focus",y=ba;break;case"focusout":x="blur",y=ba;break;case"beforeblur":case"afterblur":y=ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$p;break;case Td:case Ed:case Pd:y=bp;break;case Ad:y=Mp;break;case"scroll":y=gp;break;case"wheel":y=Rp;break;case"copy":case"cut":case"paste":y=Np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=go}var h=(t&4)!==0,b=!h&&e==="scroll",p=h?m!==null?m+"Capture":null:m;h=[];for(var g=u,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,p!==null&&(j=mr(g,p),j!=null&&h.push(br(g,j,v)))),b)break;g=g.return}0<h.length&&(m=new y(m,x,null,n,d),f.push({event:m,listeners:h}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==ai&&(x=n.relatedTarget||n.fromElement)&&(Jt(x)||x[vt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?Jt(x):null,x!==null&&(b=un(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(h=mo,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(h=go,j="onPointerLeave",p="onPointerEnter",g="pointer"),b=y==null?m:wn(y),v=x==null?m:wn(x),m=new h(j,g+"leave",y,n,d),m.target=b,m.relatedTarget=v,j=null,Jt(d)===u&&(h=new h(p,g+"enter",x,n,d),h.target=v,h.relatedTarget=b,j=h),b=j,y&&x)t:{for(h=y,p=x,g=0,v=h;v;v=pn(v))g++;for(v=0,j=p;j;j=pn(j))v++;for(;0<g-v;)h=pn(h),g--;for(;0<v-g;)p=pn(p),v--;for(;g--;){if(h===p||p!==null&&h===p.alternate)break t;h=pn(h),p=pn(p)}h=null}else h=null;y!==null&&Co(f,m,y,h,!1),x!==null&&b!==null&&Co(f,b,x,h,!0)}}e:{if(m=u?wn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var S=Hp;else if(vo(m))if(Nd)S=Xp;else{S=Vp;var T=Gp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Kp);if(S&&(S=S(e,u))){jd(f,S,n,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&ei(m,"number",m.value)}switch(T=u?wn(u):window,e){case"focusin":(vo(T)||T.contentEditable==="true")&&(yn=T,fi=u,ir=null);break;case"focusout":ir=fi=yn=null;break;case"mousedown":pi=!0;break;case"contextmenu":case"mouseup":case"dragend":pi=!1,ko(f,n,d);break;case"selectionchange":if(qp)break;case"keydown":case"keyup":ko(f,n,d)}var E;if(pl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xn?wd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(vd&&n.locale!=="ko"&&(xn||C!=="onCompositionStart"?C==="onCompositionEnd"&&xn&&(E=yd()):(Tt=d,dl="value"in Tt?Tt.value:Tt.textContent,xn=!0)),T=ks(u,C),0<T.length&&(C=new ho(C,e,null,n,d),f.push({event:C,listeners:T}),E?C.data=E:(E=bd(n),E!==null&&(C.data=E)))),(E=Op?Bp(e,n):Up(e,n))&&(u=ks(u,"onBeforeInput"),0<u.length&&(d=new ho("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}$d(f,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ks(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=mr(e,n),i!=null&&r.unshift(br(e,i,a)),i=mr(e,t),i!=null&&r.push(br(e,i,a))),e=e.return}return r}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Co(e,t,n,r,a){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,a?(c=mr(n,i),c!=null&&l.unshift(br(n,c,o))):a||(c=mr(n,i),c!=null&&l.push(br(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var tm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function To(e){return(typeof e=="string"?e:""+e).replace(tm,`
`).replace(nm,"")}function Jr(e,t,n){if(t=To(t),To(e)!==t&&n)throw Error(L(425))}function Ss(){}var mi=null,hi=null;function gi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xi=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,Eo=typeof Promise=="function"?Promise:void 0,sm=typeof queueMicrotask=="function"?queueMicrotask:typeof Eo<"u"?function(e){return Eo.resolve(null).then(e).catch(am)}:xi;function am(e){setTimeout(function(){throw e})}function Ea(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),xr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);xr(t)}function _t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),lt="__reactFiber$"+zn,jr="__reactProps$"+zn,vt="__reactContainer$"+zn,yi="__reactEvents$"+zn,im="__reactListeners$"+zn,lm="__reactHandles$"+zn;function Jt(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Po(e);e!==null;){if(n=e[lt])return n;e=Po(e)}return t}e=n,n=e.parentNode}return null}function Dr(e){return e=e[lt]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Xs(e){return e[jr]||null}var vi=[],bn=-1;function Ht(e){return{current:e}}function Z(e){0>bn||(e.current=vi[bn],vi[bn]=null,bn--)}function q(e,t){bn++,vi[bn]=e.current,e.current=t}var Ut={},be=Ht(Ut),Ae=Ht(!1),rn=Ut;function _n(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Le(e){return e=e.childContextTypes,e!=null}function Is(){Z(Ae),Z(be)}function Ao(e,t,n){if(be.current!==Ut)throw Error(L(168));q(be,t),q(Ae,n)}function Md(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(L(108,Gf(e)||"Unknown",a));return re({},n,r)}function Cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,rn=be.current,q(be,e),q(Ae,Ae.current),!0}function Lo(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Md(e,t,rn),r.__reactInternalMemoizedMergedChildContext=e,Z(Ae),Z(be),q(be,e)):Z(Ae),q(Ae,n)}var pt=null,Qs=!1,Pa=!1;function Dd(e){pt===null?pt=[e]:pt.push(e)}function om(e){Qs=!0,Dd(e)}function Gt(){if(!Pa&&pt!==null){Pa=!0;var e=0,t=J;try{var n=pt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,Qs=!1}catch(a){throw pt!==null&&(pt=pt.slice(e+1)),ld(il,Gt),a}finally{J=t,Pa=!1}}return null}var jn=[],Nn=0,Ts=null,Es=0,ze=[],We=0,sn=null,ht=1,gt="";function Xt(e,t){jn[Nn++]=Es,jn[Nn++]=Ts,Ts=e,Es=t}function Rd(e,t,n){ze[We++]=ht,ze[We++]=gt,ze[We++]=sn,sn=e;var r=ht;e=gt;var a=32-tt(r)-1;r&=~(1<<a),n+=1;var i=32-tt(t)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,ht=1<<32-tt(t)+a|n<<a|r,gt=i+e}else ht=1<<i|n<<a|r,gt=e}function hl(e){e.return!==null&&(Xt(e,1),Rd(e,1,0))}function gl(e){for(;e===Ts;)Ts=jn[--Nn],jn[Nn]=null,Es=jn[--Nn],jn[Nn]=null;for(;e===sn;)sn=ze[--We],ze[We]=null,gt=ze[--We],ze[We]=null,ht=ze[--We],ze[We]=null}var Re=null,De=null,ee=!1,Ze=null;function Fd(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $o(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,De=_t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:ht,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,De=null,!0):!1;default:return!1}}function wi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bi(e){if(ee){var t=De;if(t){var n=t;if(!$o(e,t)){if(wi(e))throw Error(L(418));t=_t(n.nextSibling);var r=Re;t&&$o(e,t)?Fd(r,n):(e.flags=e.flags&-4097|2,ee=!1,Re=e)}}else{if(wi(e))throw Error(L(418));e.flags=e.flags&-4097|2,ee=!1,Re=e}}}function _o(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function qr(e){if(e!==Re)return!1;if(!ee)return _o(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gi(e.type,e.memoizedProps)),t&&(t=De)){if(wi(e))throw Od(),Error(L(418));for(;t;)Fd(e,t),t=_t(t.nextSibling)}if(_o(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=_t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Re?_t(e.stateNode.nextSibling):null;return!0}function Od(){for(var e=De;e;)e=_t(e.nextSibling)}function Mn(){De=Re=null,ee=!1}function xl(e){Ze===null?Ze=[e]:Ze.push(e)}var cm=jt.ReactCurrentBatchConfig;function Qn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Yr(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mo(e){var t=e._init;return t(e._payload)}function Bd(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(p,g){return p=Ft(p,g),p.index=0,p.sibling=null,p}function i(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,v,j){return g===null||g.tag!==6?(g=Ra(v,p.mode,j),g.return=p,g):(g=a(g,v),g.return=p,g)}function c(p,g,v,j){var S=v.type;return S===gn?d(p,g,v.props.children,j,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kt&&Mo(S)===g.type)?(j=a(g,v.props),j.ref=Qn(p,g,v),j.return=p,j):(j=ms(v.type,v.key,v.props,null,p.mode,j),j.ref=Qn(p,g,v),j.return=p,j)}function u(p,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Fa(v,p.mode,j),g.return=p,g):(g=a(g,v.children||[]),g.return=p,g)}function d(p,g,v,j,S){return g===null||g.tag!==7?(g=tn(v,p.mode,j,S),g.return=p,g):(g=a(g,v),g.return=p,g)}function f(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ra(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ur:return v=ms(g.type,g.key,g.props,null,p.mode,v),v.ref=Qn(p,null,g),v.return=p,v;case hn:return g=Fa(g,p.mode,v),g.return=p,g;case kt:var j=g._init;return f(p,j(g._payload),v)}if(Zn(g)||Hn(g))return g=tn(g,p.mode,v,null),g.return=p,g;Yr(p,g)}return null}function m(p,g,v,j){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:o(p,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ur:return v.key===S?c(p,g,v,j):null;case hn:return v.key===S?u(p,g,v,j):null;case kt:return S=v._init,m(p,g,S(v._payload),j)}if(Zn(v)||Hn(v))return S!==null?null:d(p,g,v,j,null);Yr(p,v)}return null}function y(p,g,v,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(v)||null,o(g,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ur:return p=p.get(j.key===null?v:j.key)||null,c(g,p,j,S);case hn:return p=p.get(j.key===null?v:j.key)||null,u(g,p,j,S);case kt:var T=j._init;return y(p,g,v,T(j._payload),S)}if(Zn(j)||Hn(j))return p=p.get(v)||null,d(g,p,j,S,null);Yr(g,j)}return null}function x(p,g,v,j){for(var S=null,T=null,E=g,C=g=0,B=null;E!==null&&C<v.length;C++){E.index>C?(B=E,E=null):B=E.sibling;var D=m(p,E,v[C],j);if(D===null){E===null&&(E=B);break}e&&E&&D.alternate===null&&t(p,E),g=i(D,g,C),T===null?S=D:T.sibling=D,T=D,E=B}if(C===v.length)return n(p,E),ee&&Xt(p,C),S;if(E===null){for(;C<v.length;C++)E=f(p,v[C],j),E!==null&&(g=i(E,g,C),T===null?S=E:T.sibling=E,T=E);return ee&&Xt(p,C),S}for(E=r(p,E);C<v.length;C++)B=y(E,p,C,v[C],j),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?C:B.key),g=i(B,g,C),T===null?S=B:T.sibling=B,T=B);return e&&E.forEach(function(G){return t(p,G)}),ee&&Xt(p,C),S}function h(p,g,v,j){var S=Hn(v);if(typeof S!="function")throw Error(L(150));if(v=S.call(v),v==null)throw Error(L(151));for(var T=S=null,E=g,C=g=0,B=null,D=v.next();E!==null&&!D.done;C++,D=v.next()){E.index>C?(B=E,E=null):B=E.sibling;var G=m(p,E,D.value,j);if(G===null){E===null&&(E=B);break}e&&E&&G.alternate===null&&t(p,E),g=i(G,g,C),T===null?S=G:T.sibling=G,T=G,E=B}if(D.done)return n(p,E),ee&&Xt(p,C),S;if(E===null){for(;!D.done;C++,D=v.next())D=f(p,D.value,j),D!==null&&(g=i(D,g,C),T===null?S=D:T.sibling=D,T=D);return ee&&Xt(p,C),S}for(E=r(p,E);!D.done;C++,D=v.next())D=y(E,p,C,D.value,j),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?C:D.key),g=i(D,g,C),T===null?S=D:T.sibling=D,T=D);return e&&E.forEach(function(I){return t(p,I)}),ee&&Xt(p,C),S}function b(p,g,v,j){if(typeof v=="object"&&v!==null&&v.type===gn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ur:e:{for(var S=v.key,T=g;T!==null;){if(T.key===S){if(S=v.type,S===gn){if(T.tag===7){n(p,T.sibling),g=a(T,v.props.children),g.return=p,p=g;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kt&&Mo(S)===T.type){n(p,T.sibling),g=a(T,v.props),g.ref=Qn(p,T,v),g.return=p,p=g;break e}n(p,T);break}else t(p,T);T=T.sibling}v.type===gn?(g=tn(v.props.children,p.mode,j,v.key),g.return=p,p=g):(j=ms(v.type,v.key,v.props,null,p.mode,j),j.ref=Qn(p,g,v),j.return=p,p=j)}return l(p);case hn:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=a(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Fa(v,p.mode,j),g.return=p,p=g}return l(p);case kt:return T=v._init,b(p,g,T(v._payload),j)}if(Zn(v))return x(p,g,v,j);if(Hn(v))return h(p,g,v,j);Yr(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=a(g,v),g.return=p,p=g):(n(p,g),g=Ra(v,p.mode,j),g.return=p,p=g),l(p)):n(p,g)}return b}var Dn=Bd(!0),Ud=Bd(!1),Ps=Ht(null),As=null,kn=null,yl=null;function vl(){yl=kn=As=null}function wl(e){var t=Ps.current;Z(Ps),e._currentValue=t}function ji(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function An(e,t){As=e,yl=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(yl!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(As===null)throw Error(L(308));kn=e,As.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var qt=null;function bl(e){qt===null?qt=[e]:qt.push(e)}function zd(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,bl(t)):(n.next=a.next,a.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var St=!1;function jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,wt(e,n)}return a=r.interleaved,a===null?(t.next=t,bl(r)):(t.next=a.next,a.next=t),r.interleaved=t,wt(e,n)}function os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,r){var a=e.updateQueue;St=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,y=o.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,h=o;switch(m=t,y=n,h.tag){case 1:if(x=h.payload,typeof x=="function"){f=x.call(y,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,m=typeof x=="function"?x.call(y,f,m):x,m==null)break e;f=re({},f,m);break e;case 2:St=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ln|=l,e.lanes=l,e.memoizedState=f}}function Ro(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(L(191,a));a.call(r)}}}var Rr={},ct=Ht(Rr),Nr=Ht(Rr),kr=Ht(Rr);function Yt(e){if(e===Rr)throw Error(L(174));return e}function Nl(e,t){switch(q(kr,t),q(Nr,e),q(ct,Rr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ni(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ni(t,e)}Z(ct),q(ct,t)}function Rn(){Z(ct),Z(Nr),Z(kr)}function Hd(e){Yt(kr.current);var t=Yt(ct.current),n=ni(t,e.type);t!==n&&(q(Nr,e),q(ct,n))}function kl(e){Nr.current===e&&(Z(ct),Z(Nr))}var te=Ht(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Sl(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var cs=jt.ReactCurrentDispatcher,La=jt.ReactCurrentBatchConfig,an=0,ne=null,de=null,fe=null,_s=!1,lr=!1,Sr=0,dm=0;function ye(){throw Error(L(321))}function Il(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Cl(e,t,n,r,a,i){if(an=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?mm:hm,e=n(r,a),lr){i=0;do{if(lr=!1,Sr=0,25<=i)throw Error(L(301));i+=1,fe=de=null,t.updateQueue=null,cs.current=gm,e=n(r,a)}while(lr)}if(cs.current=Ms,t=de!==null&&de.next!==null,an=0,fe=de=ne=null,_s=!1,t)throw Error(L(300));return e}function Tl(){var e=Sr!==0;return Sr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=e:fe=fe.next=e,fe}function Ke(){if(de===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=fe===null?ne.memoizedState:fe.next;if(t!==null)fe=t,de=e;else{if(e===null)throw Error(L(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?ne.memoizedState=fe=e:fe=fe.next=e}return fe}function Ir(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=Ke(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=de,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((an&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,ne.lanes|=d,ln|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,rt(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,ne.lanes|=i,ln|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=Ke(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);rt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gd(){}function Vd(e,t){var n=ne,r=Ke(),a=t(),i=!rt(r.memoizedState,a);if(i&&(r.memoizedState=a,Pe=!0),r=r.queue,El(Qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Cr(9,Xd.bind(null,n,r,a,t),void 0,null),pe===null)throw Error(L(349));an&30||Kd(n,t,a)}return a}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,Jd(t)&&qd(e)}function Qd(e,t,n){return n(function(){Jd(t)&&qd(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function qd(e){var t=wt(e,1);t!==null&&nt(t,e,1,-1)}function Fo(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=pm.bind(null,ne,e),[t.memoizedState,e]}function Cr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yd(){return Ke().memoizedState}function ds(e,t,n,r){var a=it();ne.flags|=e,a.memoizedState=Cr(1|t,n,void 0,r===void 0?null:r)}function Js(e,t,n,r){var a=Ke();r=r===void 0?null:r;var i=void 0;if(de!==null){var l=de.memoizedState;if(i=l.destroy,r!==null&&Il(r,l.deps)){a.memoizedState=Cr(t,n,i,r);return}}ne.flags|=e,a.memoizedState=Cr(1|t,n,i,r)}function Oo(e,t){return ds(8390656,8,e,t)}function El(e,t){return Js(2048,8,e,t)}function Zd(e,t){return Js(4,2,e,t)}function eu(e,t){return Js(4,4,e,t)}function tu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nu(e,t,n){return n=n!=null?n.concat([e]):null,Js(4,4,tu.bind(null,t,e),n)}function Pl(){}function ru(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Il(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function su(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Il(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function au(e,t,n){return an&21?(rt(n,t)||(n=dd(),ne.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function um(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=La.transition;La.transition={};try{e(!1),t()}finally{J=n,La.transition=r}}function iu(){return Ke().memoizedState}function fm(e,t,n){var r=Rt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lu(e))ou(t,n);else if(n=zd(e,t,n,r),n!==null){var a=Se();nt(n,e,r,a),cu(n,t,r)}}function pm(e,t,n){var r=Rt(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lu(e))ou(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,rt(o,l)){var c=t.interleaved;c===null?(a.next=a,bl(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=zd(e,t,a,r),n!==null&&(a=Se(),nt(n,e,r,a),cu(n,t,r))}}function lu(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function ou(e,t){lr=_s=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}var Ms={readContext:Ve,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},mm={readContext:Ve,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ds(4194308,4,tu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fm.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Fo,useDebugValue:Pl,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=um.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,a=it();if(ee){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),pe===null)throw Error(L(349));an&30||Kd(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oo(Qd.bind(null,r,i,e),[e]),r.flags|=2048,Cr(9,Xd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=it(),t=pe.identifierPrefix;if(ee){var n=gt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hm={readContext:Ve,useCallback:ru,useContext:Ve,useEffect:El,useImperativeHandle:nu,useInsertionEffect:Zd,useLayoutEffect:eu,useMemo:su,useReducer:$a,useRef:Yd,useState:function(){return $a(Ir)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ke();return au(t,de.memoizedState,e)},useTransition:function(){var e=$a(Ir)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Vd,useId:iu,unstable_isNewReconciler:!1},gm={readContext:Ve,useCallback:ru,useContext:Ve,useEffect:El,useImperativeHandle:nu,useInsertionEffect:Zd,useLayoutEffect:eu,useMemo:su,useReducer:_a,useRef:Yd,useState:function(){return _a(Ir)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ke();return de===null?t.memoizedState=e:au(t,de.memoizedState,e)},useTransition:function(){var e=_a(Ir)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Vd,useId:iu,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ni(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),a=Rt(e),i=xt(r,a);i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,a),t!==null&&(nt(t,e,a,r),os(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),a=Rt(e),i=xt(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,a),t!==null&&(nt(t,e,a,r),os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Rt(e),a=xt(n,r);a.tag=2,t!=null&&(a.callback=t),t=Mt(e,a,r),t!==null&&(nt(t,e,r,n),os(t,e,r))}};function Bo(e,t,n,r,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!vr(n,r)||!vr(a,i):!0}function du(e,t,n){var r=!1,a=Ut,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(a=Le(t)?rn:be.current,r=t.contextTypes,i=(r=r!=null)?_n(e,a):Ut),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function ki(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},jl(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ve(i):(i=Le(t)?rn:be.current,a.context=_n(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ni(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qs.enqueueReplaceState(a,a.state,null),Ls(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fn(e,t){try{var n="",r=t;do n+=Hf(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Si(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function uu(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,Mi=r),Si(e,t)},n}function fu(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Si(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Si(e,t),typeof r!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function zo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xm;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Am.bind(null,e,t,n),t.then(e,e))}function Wo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ho(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,Mt(n,t,1))),n.lanes|=1),e)}var ym=jt.ReactCurrentOwner,Pe=!1;function Ne(e,t,n,r){t.child=e===null?Ud(t,null,n,r):Dn(t,e.child,n,r)}function Go(e,t,n,r,a){n=n.render;var i=t.ref;return An(t,a),r=Cl(e,t,n,r,i,a),n=Tl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(ee&&n&&hl(t),t.flags|=1,Ne(e,t,r,a),t.child)}function Vo(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Fl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pu(e,t,i,r,a)):(e=ms(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(l,r)&&e.ref===t.ref)return bt(e,t,a)}return t.flags|=1,e=Ft(i,r),e.ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(vr(i,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,bt(e,t,a)}return Ii(e,t,n,r,a)}function mu(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(In,Me),Me|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(In,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(In,Me),Me|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,q(In,Me),Me|=r;return Ne(e,t,a,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ii(e,t,n,r,a){var i=Le(n)?rn:be.current;return i=_n(t,i),An(t,a),n=Cl(e,t,n,r,i,a),r=Tl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(ee&&r&&hl(t),t.flags|=1,Ne(e,t,n,a),t.child)}function Ko(e,t,n,r,a){if(Le(n)){var i=!0;Cs(t)}else i=!1;if(An(t,a),t.stateNode===null)us(e,t),du(t,n,r),ki(t,n,r,a),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Le(n)?rn:be.current,u=_n(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Uo(t,l,r,u),St=!1;var m=t.memoizedState;l.state=m,Ls(t,r,l,a),c=t.memoizedState,o!==r||m!==c||Ae.current||St?(typeof d=="function"&&(Ni(t,n,d,r),c=t.memoizedState),(o=St||Bo(t,n,o,r,m,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Wd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Je(t.type,o),l.props=u,f=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ve(c):(c=Le(n)?rn:be.current,c=_n(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||m!==c)&&Uo(t,l,r,c),St=!1,m=t.memoizedState,l.state=m,Ls(t,r,l,a);var x=t.memoizedState;o!==f||m!==x||Ae.current||St?(typeof y=="function"&&(Ni(t,n,y,r),x=t.memoizedState),(u=St||Bo(t,n,u,r,m,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,i,a)}function Ci(e,t,n,r,a,i){hu(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Lo(t,n,!1),bt(e,t,i);r=t.stateNode,ym.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,o,i)):Ne(e,t,o,i),t.memoizedState=r.state,a&&Lo(t,n,!0),t.child}function gu(e){var t=e.stateNode;t.pendingContext?Ao(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(e,t.context,!1),Nl(e,t.containerInfo)}function Xo(e,t,n,r,a){return Mn(),xl(a),t.flags|=256,Ne(e,t,n,r),t.child}var Ti={dehydrated:null,treeContext:null,retryLane:0};function Ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,n){var r=t.pendingProps,a=te.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),q(te,a&1),e===null)return bi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ea(l,r,0,null),e=tn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ei(n),t.memoizedState=Ti,e):Al(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return vm(e,t,l,r,o,a,n);if(i){i=r.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ft(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ft(o,i):(i=tn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Ei(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ti,r}return i=e.child,e=i.sibling,r=Ft(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Al(e,t){return t=ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zr(e,t,n,r){return r!==null&&xl(r),Dn(t,e.child,null,n),e=Al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vm(e,t,n,r,a,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Ma(Error(L(422))),Zr(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ea({mode:"visible",children:r.children},a,0,null),i=tn(i,a,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dn(t,e.child,null,l),t.child.memoizedState=Ei(l),t.memoizedState=Ti,i);if(!(t.mode&1))return Zr(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(L(419)),r=Ma(i,r,void 0),Zr(e,t,l,r)}if(o=(l&e.childLanes)!==0,Pe||o){if(r=pe,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,wt(e,a),nt(r,e,a,-1))}return Rl(),r=Ma(Error(L(421))),Zr(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Lm.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,De=_t(a.nextSibling),Re=t,ee=!0,Ze=null,e!==null&&(ze[We++]=ht,ze[We++]=gt,ze[We++]=sn,ht=e.id,gt=e.overflow,sn=t),t=Al(t,r.children),t.flags|=4096,t)}function Qo(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ji(e.return,t,n)}function Da(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function yu(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ne(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,n,t);else if(e.tag===19)Qo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(te,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&$s(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Da(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$s(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Da(t,!0,n,null,i);break;case"together":Da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function us(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wm(e,t,n){switch(t.tag){case 3:gu(t),Mn();break;case 5:Hd(t);break;case 1:Le(t.type)&&Cs(t);break;case 4:Nl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;q(Ps,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?xu(e,t,n):(q(te,te.current&1),e=bt(e,t,n),e!==null?e.sibling:null);q(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yu(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,mu(e,t,n)}return bt(e,t,n)}var vu,Pi,wu,bu;vu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pi=function(){};wu=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yt(ct.current);var i=null;switch(n){case"input":a=Ya(e,a),r=Ya(e,r),i=[];break;case"select":a=re({},a,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":a=ti(e,a),r=ti(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}ri(n,r);var l;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bm(e,t,n){var r=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Le(t.type)&&Is(),ve(t),null;case 3:return r=t.stateNode,Rn(),Z(Ae),Z(be),Sl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(Fi(Ze),Ze=null))),Pi(e,t),ve(t),null;case 5:kl(t);var a=Yt(kr.current);if(n=t.type,e!==null&&t.stateNode!=null)wu(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return ve(t),null}if(e=Yt(ct.current),qr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lt]=t,r[jr]=i,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(a=0;a<tr.length;a++)Y(tr[a],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":ro(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":ao(r,i),Y("invalid",r)}ri(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jr(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jr(r.textContent,o,e),a=["children",""+o]):fr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Y("scroll",r)}switch(n){case"input":zr(r),so(r,i,!0);break;case"textarea":zr(r),io(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[lt]=t,e[jr]=r,vu(e,t,!1,!1),t.stateNode=e;e:{switch(l=si(n,r),n){case"dialog":Y("cancel",e),Y("close",e),a=r;break;case"iframe":case"object":case"embed":Y("load",e),a=r;break;case"video":case"audio":for(a=0;a<tr.length;a++)Y(tr[a],e);a=r;break;case"source":Y("error",e),a=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),a=r;break;case"details":Y("toggle",e),a=r;break;case"input":ro(e,r),a=Ya(e,r),Y("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=re({},r,{value:void 0}),Y("invalid",e);break;case"textarea":ao(e,r),a=ti(e,r),Y("invalid",e);break;default:a=r}ri(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Yc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jc(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pr(e,c):typeof c=="number"&&pr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Y("scroll",e):c!=null&&tl(e,i,c,l))}switch(n){case"input":zr(e),so(e,r,!1);break;case"textarea":zr(e),io(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)bu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Yt(kr.current),Yt(ct.current),qr(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(i=r.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:Jr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return ve(t),null;case 13:if(Z(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&De!==null&&t.mode&1&&!(t.flags&128))Od(),Mn(),t.flags|=98560,i=!1;else if(i=qr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[lt]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else Ze!==null&&(Fi(Ze),Ze=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?ue===0&&(ue=3):Rl())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Rn(),Pi(e,t),e===null&&wr(t.stateNode.containerInfo),ve(t),null;case 10:return wl(t.type._context),ve(t),null;case 17:return Le(t.type)&&Is(),ve(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return ve(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Jn(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$s(e),l!==null){for(t.flags|=128,Jn(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>On&&(t.flags|=128,r=!0,Jn(i,!1),t.lanes=4194304)}else{if(!r)if(e=$s(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ee)return ve(t),null}else 2*ae()-i.renderingStartTime>On&&n!==1073741824&&(t.flags|=128,r=!0,Jn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,n=te.current,q(te,r?n&1|2:n&1),t):(ve(t),null);case 22:case 23:return Dl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function jm(e,t){switch(gl(t),t.tag){case 1:return Le(t.type)&&Is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(),Z(Ae),Z(be),Sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kl(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return Rn(),null;case 10:return wl(t.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var es=!1,we=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,M=null;function Sn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Ai(e,t,n){try{n()}catch(r){se(e,t,r)}}var Jo=!1;function km(e,t){if(mi=js,e=Id(),ml(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var y;f!==n||a!==0&&f.nodeType!==3||(o=l+a),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++u===a&&(o=l),m===i&&++d===r&&(c=l),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hi={focusedElem:e,selectionRange:n},js=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,b=x.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?h:Je(t.type,h),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return x=Jo,Jo=!1,x}function or(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ai(t,n,i)}a=a.next}while(a!==r)}}function Ys(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Li(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ju(e){var t=e.alternate;t!==null&&(e.alternate=null,ju(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[jr],delete t[yi],delete t[im],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nu(e){return e.tag===5||e.tag===3||e.tag===4}function qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $i(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for($i(e,t,n),e=e.sibling;e!==null;)$i(e,t,n),e=e.sibling}function _i(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_i(e,t,n),e=e.sibling;e!==null;)_i(e,t,n),e=e.sibling}var me=null,qe=!1;function Nt(e,t,n){for(n=n.child;n!==null;)ku(e,t,n),n=n.sibling}function ku(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Hs,n)}catch{}switch(n.tag){case 5:we||Sn(n,t);case 6:var r=me,a=qe;me=null,Nt(e,t,n),me=r,qe=a,me!==null&&(qe?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(qe?(e=me,n=n.stateNode,e.nodeType===8?Ea(e.parentNode,n):e.nodeType===1&&Ea(e,n),xr(e)):Ea(me,n.stateNode));break;case 4:r=me,a=qe,me=n.stateNode.containerInfo,qe=!0,Nt(e,t,n),me=r,qe=a;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ai(n,t,l),a=a.next}while(a!==r)}Nt(e,t,n);break;case 1:if(!we&&(Sn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){se(n,t,o)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,Nt(e,t,n),we=r):Nt(e,t,n);break;default:Nt(e,t,n)}}function Yo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nm),t.forEach(function(r){var a=$m.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:me=o.stateNode,qe=!1;break e;case 3:me=o.stateNode.containerInfo,qe=!0;break e;case 4:me=o.stateNode.containerInfo,qe=!0;break e}o=o.return}if(me===null)throw Error(L(160));ku(i,l,a),me=null,qe=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){se(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Su(t,e),t=t.sibling}function Su(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),at(e),r&4){try{or(3,e,e.return),Ys(3,e)}catch(h){se(e,e.return,h)}try{or(5,e,e.return)}catch(h){se(e,e.return,h)}}break;case 1:Qe(t,e),at(e),r&512&&n!==null&&Sn(n,n.return);break;case 5:if(Qe(t,e),at(e),r&512&&n!==null&&Sn(n,n.return),e.flags&32){var a=e.stateNode;try{pr(a,"")}catch(h){se(e,e.return,h)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Kc(a,i),si(o,l);var u=si(o,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?Yc(a,f):d==="dangerouslySetInnerHTML"?Jc(a,f):d==="children"?pr(a,f):tl(a,d,f,u)}switch(o){case"input":Za(a,i);break;case"textarea":Xc(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Cn(a,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Cn(a,!!i.multiple,i.defaultValue,!0):Cn(a,!!i.multiple,i.multiple?[]:"",!1))}a[jr]=i}catch(h){se(e,e.return,h)}}break;case 6:if(Qe(t,e),at(e),r&4){if(e.stateNode===null)throw Error(L(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(h){se(e,e.return,h)}}break;case 3:if(Qe(t,e),at(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xr(t.containerInfo)}catch(h){se(e,e.return,h)}break;case 4:Qe(t,e),at(e);break;case 13:Qe(t,e),at(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(_l=ae())),r&4&&Yo(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(we=(u=we)||d,Qe(t,e),we=u):Qe(t,e),at(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(f=M=d;M!==null;){switch(m=M,y=m.child,m.tag){case 0:case 11:case 14:case 15:or(4,m,m.return);break;case 1:Sn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(h){se(r,n,h)}}break;case 5:Sn(m,m.return);break;case 22:if(m.memoizedState!==null){ec(f);continue}}y!==null?(y.return=m,M=y):ec(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=qc("display",l))}catch(h){se(e,e.return,h)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){se(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qe(t,e),at(e),r&4&&Yo(e);break;case 21:break;default:Qe(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nu(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(pr(a,""),r.flags&=-33);var i=qo(e);_i(e,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=qo(e);$i(e,o,l);break;default:throw Error(L(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sm(e,t,n){M=e,Iu(e)}function Iu(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var a=M,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||es;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||we;o=es;var u=we;if(es=l,(we=c)&&!u)for(M=a;M!==null;)l=M,c=l.child,l.tag===22&&l.memoizedState!==null?tc(a):c!==null?(c.return=l,M=c):tc(a);for(;i!==null;)M=i,Iu(i),i=i.sibling;M=a,es=o,we=u}Zo(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,M=i):Zo(e)}}function Zo(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Ys(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!we)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ro(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ro(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}we||t.flags&512&&Li(t)}catch(m){se(t,t.return,m)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function ec(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function tc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ys(4,t)}catch(c){se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){se(t,a,c)}}var i=t.return;try{Li(t)}catch(c){se(t,i,c)}break;case 5:var l=t.return;try{Li(t)}catch(c){se(t,l,c)}}}catch(c){se(t,t.return,c)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var Im=Math.ceil,Ds=jt.ReactCurrentDispatcher,Ll=jt.ReactCurrentOwner,Ge=jt.ReactCurrentBatchConfig,K=0,pe=null,le=null,he=0,Me=0,In=Ht(0),ue=0,Tr=null,ln=0,Zs=0,$l=0,cr=null,Te=null,_l=0,On=1/0,ft=null,Rs=!1,Mi=null,Dt=null,ts=!1,Et=null,Fs=0,dr=0,Di=null,fs=-1,ps=0;function Se(){return K&6?ae():fs!==-1?fs:fs=ae()}function Rt(e){return e.mode&1?K&2&&he!==0?he&-he:cm.transition!==null?(ps===0&&(ps=dd()),ps):(e=J,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function nt(e,t,n,r){if(50<dr)throw dr=0,Di=null,Error(L(185));_r(e,n,r),(!(K&2)||e!==pe)&&(e===pe&&(!(K&2)&&(Zs|=n),ue===4&&Ct(e,he)),$e(e,r),n===1&&K===0&&!(t.mode&1)&&(On=ae()+500,Qs&&Gt()))}function $e(e,t){var n=e.callbackNode;cp(e,t);var r=bs(e,e===pe?he:0);if(r===0)n!==null&&co(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&co(n),t===1)e.tag===0?om(nc.bind(null,e)):Dd(nc.bind(null,e)),sm(function(){!(K&6)&&Gt()}),n=null;else{switch(ud(r)){case 1:n=il;break;case 4:n=od;break;case 16:n=ws;break;case 536870912:n=cd;break;default:n=ws}n=_u(n,Cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cu(e,t){if(fs=-1,ps=0,K&6)throw Error(L(327));var n=e.callbackNode;if(Ln()&&e.callbackNode!==n)return null;var r=bs(e,e===pe?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Os(e,r);else{t=r;var a=K;K|=2;var i=Eu();(pe!==e||he!==t)&&(ft=null,On=ae()+500,en(e,t));do try{Em();break}catch(o){Tu(e,o)}while(!0);vl(),Ds.current=i,K=a,le!==null?t=0:(pe=null,he=0,t=ue)}if(t!==0){if(t===2&&(a=ci(e),a!==0&&(r=a,t=Ri(e,a))),t===1)throw n=Tr,en(e,0),Ct(e,r),$e(e,ae()),n;if(t===6)Ct(e,r);else{if(a=e.current.alternate,!(r&30)&&!Cm(a)&&(t=Os(e,r),t===2&&(i=ci(e),i!==0&&(r=i,t=Ri(e,i))),t===1))throw n=Tr,en(e,0),Ct(e,r),$e(e,ae()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Qt(e,Te,ft);break;case 3:if(Ct(e,r),(r&130023424)===r&&(t=_l+500-ae(),10<t)){if(bs(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xi(Qt.bind(null,e,Te,ft),t);break}Qt(e,Te,ft);break;case 4:if(Ct(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-tt(r);i=1<<l,l=t[l],l>a&&(a=l),r&=~i}if(r=a,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Im(r/1960))-r,10<r){e.timeoutHandle=xi(Qt.bind(null,e,Te,ft),r);break}Qt(e,Te,ft);break;case 5:Qt(e,Te,ft);break;default:throw Error(L(329))}}}return $e(e,ae()),e.callbackNode===n?Cu.bind(null,e):null}function Ri(e,t){var n=cr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=Os(e,t),e!==2&&(t=Te,Te=n,t!==null&&Fi(t)),e}function Fi(e){Te===null?Te=e:Te.push.apply(Te,e)}function Cm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!rt(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~$l,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function nc(e){if(K&6)throw Error(L(327));Ln();var t=bs(e,0);if(!(t&1))return $e(e,ae()),null;var n=Os(e,t);if(e.tag!==0&&n===2){var r=ci(e);r!==0&&(t=r,n=Ri(e,r))}if(n===1)throw n=Tr,en(e,0),Ct(e,t),$e(e,ae()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Te,ft),$e(e,ae()),null}function Ml(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(On=ae()+500,Qs&&Gt())}}function on(e){Et!==null&&Et.tag===0&&!(K&6)&&Ln();var t=K;K|=1;var n=Ge.transition,r=J;try{if(Ge.transition=null,J=1,e)return e()}finally{J=r,Ge.transition=n,K=t,!(K&6)&&Gt()}}function Dl(){Me=In.current,Z(In)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rm(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Is();break;case 3:Rn(),Z(Ae),Z(be),Sl();break;case 5:kl(r);break;case 4:Rn();break;case 13:Z(te);break;case 19:Z(te);break;case 10:wl(r.type._context);break;case 22:case 23:Dl()}n=n.return}if(pe=e,le=e=Ft(e.current,null),he=Me=t,ue=0,Tr=null,$l=Zs=ln=0,Te=cr=null,qt!==null){for(t=0;t<qt.length;t++)if(n=qt[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}n.pending=r}qt=null}return e}function Tu(e,t){do{var n=le;try{if(vl(),cs.current=Ms,_s){for(var r=ne.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_s=!1}if(an=0,fe=de=ne=null,lr=!1,Sr=0,Ll.current=null,n===null||n.return===null){ue=1,Tr=t,le=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=he,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wo(l);if(y!==null){y.flags&=-257,Ho(y,l,o,i,t),y.mode&1&&zo(i,u,t),t=y,c=u;var x=t.updateQueue;if(x===null){var h=new Set;h.add(c),t.updateQueue=h}else x.add(c);break e}else{if(!(t&1)){zo(i,u,t),Rl();break e}c=Error(L(426))}}else if(ee&&o.mode&1){var b=Wo(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ho(b,l,o,i,t),xl(Fn(c,o));break e}}i=c=Fn(c,o),ue!==4&&(ue=2),cr===null?cr=[i]:cr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=uu(i,c,t);Do(i,p);break e;case 1:o=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Dt===null||!Dt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fu(i,o,t);Do(i,j);break e}}i=i.return}while(i!==null)}Au(n)}catch(S){t=S,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Eu(){var e=Ds.current;return Ds.current=Ms,e===null?Ms:e}function Rl(){(ue===0||ue===3||ue===2)&&(ue=4),pe===null||!(ln&268435455)&&!(Zs&268435455)||Ct(pe,he)}function Os(e,t){var n=K;K|=2;var r=Eu();(pe!==e||he!==t)&&(ft=null,en(e,t));do try{Tm();break}catch(a){Tu(e,a)}while(!0);if(vl(),K=n,Ds.current=r,le!==null)throw Error(L(261));return pe=null,he=0,ue}function Tm(){for(;le!==null;)Pu(le)}function Em(){for(;le!==null&&!ep();)Pu(le)}function Pu(e){var t=$u(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Au(e):le=t,Ll.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jm(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,le=null;return}}else if(n=bm(n,t,Me),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ue===0&&(ue=5)}function Qt(e,t,n){var r=J,a=Ge.transition;try{Ge.transition=null,J=1,Pm(e,t,n,r)}finally{Ge.transition=a,J=r}return null}function Pm(e,t,n,r){do Ln();while(Et!==null);if(K&6)throw Error(L(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dp(e,i),e===pe&&(le=pe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,_u(ws,function(){return Ln(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var l=J;J=1;var o=K;K|=4,Ll.current=null,km(e,n),Su(n,e),Jp(hi),js=!!mi,hi=mi=null,e.current=n,Sm(n),tp(),K=o,J=l,Ge.transition=i}else e.current=n;if(ts&&(ts=!1,Et=e,Fs=a),i=e.pendingLanes,i===0&&(Dt=null),sp(n.stateNode),$e(e,ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Rs)throw Rs=!1,e=Mi,Mi=null,e;return Fs&1&&e.tag!==0&&Ln(),i=e.pendingLanes,i&1?e===Di?dr++:(dr=0,Di=e):dr=0,Gt(),null}function Ln(){if(Et!==null){var e=ud(Fs),t=Ge.transition,n=J;try{if(Ge.transition=null,J=16>e?16:e,Et===null)var r=!1;else{if(e=Et,Et=null,Fs=0,K&6)throw Error(L(331));var a=K;for(K|=4,M=e.current;M!==null;){var i=M,l=i.child;if(M.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:or(8,d,i)}var f=d.child;if(f!==null)f.return=d,M=f;else for(;M!==null;){d=M;var m=d.sibling,y=d.return;if(ju(d),d===u){M=null;break}if(m!==null){m.return=y,M=m;break}M=y}}}var x=i.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var b=h.sibling;h.sibling=null,h=b}while(h!==null)}}M=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,M=l;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:or(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,M=p;break e}M=i.return}}var g=e.current;for(M=g;M!==null;){l=M;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,M=v;else e:for(l=g;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ys(9,o)}}catch(S){se(o,o.return,S)}if(o===l){M=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,M=j;break e}M=o.return}}if(K=a,Gt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Hs,e)}catch{}r=!0}return r}finally{J=n,Ge.transition=t}}return!1}function rc(e,t,n){t=Fn(n,t),t=uu(e,t,1),e=Mt(e,t,1),t=Se(),e!==null&&(_r(e,1,t),$e(e,t))}function se(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dt===null||!Dt.has(r))){e=Fn(n,e),e=fu(t,e,1),t=Mt(t,e,1),e=Se(),t!==null&&(_r(t,1,e),$e(t,e));break}}t=t.return}}function Am(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(he&n)===n&&(ue===4||ue===3&&(he&130023424)===he&&500>ae()-_l?en(e,0):$l|=n),$e(e,t)}function Lu(e,t){t===0&&(e.mode&1?(t=Gr,Gr<<=1,!(Gr&130023424)&&(Gr=4194304)):t=1);var n=Se();e=wt(e,t),e!==null&&(_r(e,t,n),$e(e,n))}function Lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lu(e,n)}function $m(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Lu(e,n)}var $u;$u=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,wm(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,ee&&t.flags&1048576&&Rd(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;us(e,t),e=t.pendingProps;var a=_n(t,be.current);An(t,n),a=Cl(null,t,r,e,a,n);var i=Tl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,Cs(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jl(t),a.updater=qs,t.stateNode=a,a._reactInternals=t,ki(t,r,e,n),t=Ci(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&hl(t),Ne(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(us(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Mm(r),e=Je(r,e),a){case 0:t=Ii(null,t,r,e,n);break e;case 1:t=Ko(null,t,r,e,n);break e;case 11:t=Go(null,t,r,e,n);break e;case 14:t=Vo(null,t,r,Je(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Je(r,a),Ii(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Je(r,a),Ko(e,t,r,a,n);case 3:e:{if(gu(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Wd(e,t),Ls(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fn(Error(L(423)),t),t=Xo(e,t,r,n,a);break e}else if(r!==a){a=Fn(Error(L(424)),t),t=Xo(e,t,r,n,a);break e}else for(De=_t(t.stateNode.containerInfo.firstChild),Re=t,ee=!0,Ze=null,n=Ud(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===a){t=bt(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return Hd(t),e===null&&bi(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,gi(r,a)?l=null:i!==null&&gi(r,i)&&(t.flags|=32),hu(e,t),Ne(e,t,l,n),t.child;case 6:return e===null&&bi(t),null;case 13:return xu(e,t,n);case 4:return Nl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Je(r,a),Go(e,t,r,a,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,q(Ps,r._currentValue),r._currentValue=l,i!==null)if(rt(i.value,l)){if(i.children===a.children&&!Ae.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ji(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(L(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),ji(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ne(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,An(t,n),a=Ve(a),r=r(a),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,a=Je(r,t.pendingProps),a=Je(r.type,a),Vo(e,t,r,a,n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Je(r,a),us(e,t),t.tag=1,Le(r)?(e=!0,Cs(t)):e=!1,An(t,n),du(t,r,a),ki(t,r,a,n),Ci(null,t,r,!0,e,n);case 19:return yu(e,t,n);case 22:return mu(e,t,n)}throw Error(L(156,t.tag))};function _u(e,t){return ld(e,t)}function _m(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new _m(e,t,n,r)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mm(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rl)return 11;if(e===sl)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,r,a,i){var l=2;if(r=e,typeof e=="function")Fl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gn:return tn(n.children,a,i,t);case nl:l=8,a|=8;break;case Xa:return e=He(12,n,t,a|2),e.elementType=Xa,e.lanes=i,e;case Qa:return e=He(13,n,t,a),e.elementType=Qa,e.lanes=i,e;case Ja:return e=He(19,n,t,a),e.elementType=Ja,e.lanes=i,e;case Hc:return ea(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zc:l=10;break e;case Wc:l=9;break e;case rl:l=11;break e;case sl:l=14;break e;case kt:l=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=He(l,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function tn(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function ea(e,t,n,r){return e=He(22,e,r,t),e.elementType=Hc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ra(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function Fa(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dm(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ol(e,t,n,r,a,i,l,o,c){return e=new Dm(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(i),e}function Rm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mu(e){if(!e)return Ut;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Le(n))return Md(e,n,t)}return t}function Du(e,t,n,r,a,i,l,o,c){return e=Ol(n,r,!0,e,a,i,l,o,c),e.context=Mu(null),n=e.current,r=Se(),a=Rt(n),i=xt(r,a),i.callback=t??null,Mt(n,i,a),e.current.lanes=a,_r(e,a,r),$e(e,r),e}function ta(e,t,n,r){var a=t.current,i=Se(),l=Rt(a);return n=Mu(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mt(a,t,l),e!==null&&(nt(e,a,l,i),os(e,a,l)),l}function Bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bl(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function Fm(){return null}var Ru=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ul(e){this._internalRoot=e}na.prototype.render=Ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ta(e,t,null,null)};na.prototype.unmount=Ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){ta(null,e,null,null)}),t[vt]=null}};function na(e){this._internalRoot=e}na.prototype.unstable_scheduleHydration=function(e){if(e){var t=md();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&t!==0&&t<It[n].priority;n++);It.splice(n,0,e),n===0&&gd(e)}};function zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ac(){}function Om(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Bs(l);i.call(u)}}var l=Du(t,r,e,0,null,!1,!1,"",ac);return e._reactRootContainer=l,e[vt]=l.current,wr(e.nodeType===8?e.parentNode:e),on(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var u=Bs(c);o.call(u)}}var c=Ol(e,0,!1,null,null,!1,!1,"",ac);return e._reactRootContainer=c,e[vt]=c.current,wr(e.nodeType===8?e.parentNode:e),on(function(){ta(t,c,n,r)}),c}function sa(e,t,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Bs(l);o.call(c)}}ta(t,l,e,a)}else l=Om(n,t,e,a,r);return Bs(l)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=er(t.pendingLanes);n!==0&&(ll(t,n|1),$e(t,ae()),!(K&6)&&(On=ae()+500,Gt()))}break;case 13:on(function(){var r=wt(e,1);if(r!==null){var a=Se();nt(r,e,1,a)}}),Bl(e,1)}};ol=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Se();nt(t,e,134217728,n)}Bl(e,134217728)}};pd=function(e){if(e.tag===13){var t=Rt(e),n=wt(e,t);if(n!==null){var r=Se();nt(n,e,t,r)}Bl(e,t)}};md=function(){return J};hd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};ii=function(e,t,n){switch(t){case"input":if(Za(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Xs(r);if(!a)throw Error(L(90));Vc(r),Za(r,a)}}}break;case"textarea":Xc(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};td=Ml;nd=on;var Bm={usingClientEntryPoint:!1,Events:[Dr,wn,Xs,Zc,ed,Ml]},qn={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Um={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||Fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Hs=ns.inject(Um),ot=ns}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bm;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zl(t))throw Error(L(200));return Rm(e,t,null,n)};Oe.createRoot=function(e,t){if(!zl(e))throw Error(L(299));var n=!1,r="",a=Ru;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ol(e,1,!1,null,null,n,!1,r,a),e[vt]=t.current,wr(e.nodeType===8?e.parentNode:e),new Ul(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return on(e)};Oe.hydrate=function(e,t,n){if(!ra(t))throw Error(L(200));return sa(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!zl(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",l=Ru;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Du(t,null,e,1,n??null,a,!1,i,l),e[vt]=t.current,wr(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new na(t)};Oe.render=function(e,t,n){if(!ra(t))throw Error(L(200));return sa(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!ra(e))throw Error(L(40));return e._reactRootContainer?(on(function(){sa(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Oe.unstable_batchedUpdates=Ml;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ra(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return sa(e,t,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function Fu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fu)}catch(e){console.error(e)}}Fu(),Fc.exports=Oe;var zm=Fc.exports,ic=zm;Va.createRoot=ic.createRoot,Va.hydrateRoot=ic.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}var Pt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pt||(Pt={}));const lc="popstate";function Wm(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:l,hash:o}=r.location;return Oi("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ou(a)}return Gm(t,n,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hm(){return Math.random().toString(36).substr(2,8)}function oc(e,t){return{usr:e.state,key:e.key,idx:t}}function Oi(e,t,n,r){return n===void 0&&(n=null),Er({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wn(t):t,{state:n,key:t&&t.key||r||Hm()})}function Ou(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gm(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=Pt.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Er({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=Pt.Pop;let b=d(),p=b==null?null:b-u;u=b,c&&c({action:o,location:h.location,delta:p})}function m(b,p){o=Pt.Push;let g=Oi(h.location,b,p);u=d()+1;let v=oc(g,u),j=h.createHref(g);try{l.pushState(v,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:o,location:h.location,delta:1})}function y(b,p){o=Pt.Replace;let g=Oi(h.location,b,p);u=d();let v=oc(g,u),j=h.createHref(g);l.replaceState(v,"",j),i&&c&&c({action:o,location:h.location,delta:0})}function x(b){let p=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:Ou(b);return g=g.replace(/ $/,"%20"),oe(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let h={get action(){return o},get location(){return e(a,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lc,f),c=b,()=>{a.removeEventListener(lc,f),c=null}},createHref(b){return t(a,b)},createURL:x,encodeLocation(b){let p=x(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(b){return l.go(b)}};return h}var cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cc||(cc={}));function Vm(e,t,n){return n===void 0&&(n="/"),Km(e,t,n)}function Km(e,t,n,r){let a=typeof t=="string"?Wn(t):t,i=zu(a.pathname||"/",n);if(i==null)return null;let l=Bu(e);Xm(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=ih(i);o=rh(l[c],u)}return o}function Bu(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=nn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bu(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:th(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Uu(i.path))a(i,l,c)}),t}function Uu(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=Uu(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qm=/^:[\w-]+$/,Jm=3,qm=2,Ym=1,Zm=10,eh=-2,dc=e=>e==="*";function th(e,t){let n=e.split("/"),r=n.length;return n.some(dc)&&(r+=eh),t&&(r+=qm),n.filter(a=>!dc(a)).reduce((a,i)=>a+(Qm.test(i)?Jm:i===""?Ym:Zm),r)}function nh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function rh(e,t,n){let{routesMeta:r}=e,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=sh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:nn([i,f.pathname]),pathnameBase:uh(nn([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=nn([i,f.pathnameBase]))}return l}function sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ah(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let h=o[f]||"";l=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const x=o[f];return y&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function ah(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Wl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ih(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const lh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oh=e=>lh.test(e);function ch(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Wn(e):e,i;if(n)if(oh(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Wl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=uc(n.substring(1),"/"):i=uc(n,t)}else i=t;return{pathname:i,search:fh(r),hash:ph(a)}}function uc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Oa(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wu(e,t){let n=dh(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hu(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Wn(e):(a=Er({},e),oe(!a.pathname||!a.pathname.includes("?"),Oa("?","pathname","search",a)),oe(!a.pathname||!a.pathname.includes("#"),Oa("#","pathname","hash",a)),oe(!a.search||!a.search.includes("#"),Oa("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}o=f>=0?t[f]:"/"}let c=ch(a,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const nn=e=>e.join("/").replace(/\/\/+/g,"/"),uh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ph=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gu=["post","put","patch","delete"];new Set(Gu);const hh=["get",...Gu];new Set(hh);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}const Hl=w.createContext(null),gh=w.createContext(null),Fr=w.createContext(null),aa=w.createContext(null),Vt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Vu=w.createContext(null);function Or(){return w.useContext(aa)!=null}function ia(){return Or()||oe(!1),w.useContext(aa).location}function Ku(e){w.useContext(Fr).static||w.useLayoutEffect(e)}function Xe(){let{isDataRoute:e}=w.useContext(Vt);return e?Ph():xh()}function xh(){Or()||oe(!1);let e=w.useContext(Hl),{basename:t,future:n,navigator:r}=w.useContext(Fr),{matches:a}=w.useContext(Vt),{pathname:i}=ia(),l=JSON.stringify(Wu(a,n.v7_relativeSplatPath)),o=w.useRef(!1);return Ku(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Hu(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,l,i,e])}function yh(){let{matches:e}=w.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function vh(e,t){return wh(e,t)}function wh(e,t,n,r){Or()||oe(!1);let{navigator:a}=w.useContext(Fr),{matches:i}=w.useContext(Vt),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=ia(),d;if(t){var f;let b=typeof t=="string"?Wn(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||oe(!1),d=b}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Vm(e,{pathname:y}),h=Sh(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:nn([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:nn([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&h?w.createElement(aa.Provider,{value:{location:Pr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pt.Pop}},h):h}function bh(){let e=Eh(),t=mh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:a},n):null,null)}const jh=w.createElement(bh,null);class Nh extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Vt.Provider,{value:this.props.routeContext},w.createElement(Vu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kh(e){let{routeContext:t,match:n,children:r}=e,a=w.useContext(Hl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Vt.Provider,{value:t},r)}function Sh(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||oe(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:y}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,m)=>{let y,x=!1,h=null,b=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,h=f.route.errorElement||jh,c&&(u<0&&m===0?(Ah("route-fallback"),x=!0,b=null):u===m&&(x=!0,b=f.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,m+1)),g=()=>{let v;return y?v=h:x?v=b:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(kh,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Nh,{location:n.location,revalidation:n.revalidation,component:h,error:y,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Xu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xu||{}),Qu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qu||{});function Ih(e){let t=w.useContext(Hl);return t||oe(!1),t}function Ch(e){let t=w.useContext(gh);return t||oe(!1),t}function Th(e){let t=w.useContext(Vt);return t||oe(!1),t}function Ju(e){let t=Th(),n=t.matches[t.matches.length-1];return n.route.id||oe(!1),n.route.id}function Eh(){var e;let t=w.useContext(Vu),n=Ch(),r=Ju();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ph(){let{router:e}=Ih(Xu.UseNavigateStable),t=Ju(Qu.UseNavigateStable),n=w.useRef(!1);return Ku(()=>{n.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Pr({fromRouteId:t},i)))},[e,t])}const fc={};function Ah(e,t,n){fc[e]||(fc[e]=!0)}function Lh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $h(e){let{to:t,replace:n,state:r,relative:a}=e;Or()||oe(!1);let{future:i,static:l}=w.useContext(Fr),{matches:o}=w.useContext(Vt),{pathname:c}=ia(),u=Xe(),d=Hu(t,Wu(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function Ue(e){oe(!1)}function _h(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Pt.Pop,navigator:i,static:l=!1,future:o}=e;Or()&&oe(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:Pr({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=Wn(r));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:x="default"}=r,h=w.useMemo(()=>{let b=zu(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:y,key:x},navigationType:a}},[c,d,f,m,y,x,a]);return h==null?null:w.createElement(Fr.Provider,{value:u},w.createElement(aa.Provider,{children:n,value:h}))}function Mh(e){let{children:t,location:n}=e;return vh(Bi(t),n)}new Promise(()=>{});function Bi(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,a)=>{if(!w.isValidElement(r))return;let i=[...t,a];if(r.type===w.Fragment){n.push.apply(n,Bi(r.props.children,i));return}r.type!==Ue&&oe(!1),!r.props.index||!r.props.children||oe(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bi(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Dh="6";try{window.__reactRouterVersion=Dh}catch{}const Rh="startTransition",pc=Af[Rh];function Fh(e){let{basename:t,children:n,future:r,window:a}=e,i=w.useRef();i.current==null&&(i.current=Wm({window:a,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&pc?pc(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>Lh(r),[r]),w.createElement(_h,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}var mc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mc||(mc={}));var hc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hc||(hc={}));const Oh="modulepreload",Bh=function(e){return"/"+e},gc={},cn=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Bh(c),c in gc)return;gc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Oh,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},dt=()=>typeof window>"u"?!1:typeof window.unisat<"u",zt=()=>typeof window>"u"?!1:typeof window.BitcoinProvider<"u",Ba=(e=3e3)=>new Promise(t=>{if(dt()){t(!0);return}const n=Date.now(),r=setInterval(()=>{dt()?(clearInterval(r),t(!0)):Date.now()-n>e&&(clearInterval(r),t(!1))},100)}),Ua=(e=3e3)=>new Promise(t=>{if(zt()){t(!0);return}const n=Date.now(),r=setInterval(()=>{zt()?(clearInterval(r),t(!0)):Date.now()-n>e&&(clearInterval(r),t(!1))},100)}),Uh=async()=>{if(!dt())throw new Error("UniSat Wallet is not installed. Please install the UniSat browser extension.");try{if(!window.unisat||typeof window.unisat.requestAccounts!="function")throw new Error("UniSat Wallet is detected but the connection API is not available. This may be due to multiple wallet extensions interfering with each other. Try disabling other Bitcoin wallet extensions and reload the page.");const e=await window.unisat.requestAccounts();if(!e||e.length===0)throw new Error("No accounts returned. Please unlock your UniSat Wallet and try again.");if(await window.unisat.getNetwork()!=="livenet")throw new Error("Please switch to Bitcoin Mainnet in your UniSat Wallet.");return e.map(n=>({address:n}))}catch(e){throw e.message&&e.message.includes("User rejected")?new Error("Connection rejected. Please approve the connection request in your wallet."):e.message&&e.message.includes("intercept")?new Error("Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (except UniSat) and reload the page."):new Error(e.message||"Error connecting to UniSat Wallet. Make sure the extension is unlocked and try again.")}},zh=async()=>{var e,t,n;if(!zt())throw new Error("Xverse Wallet is not installed. Please install the Xverse browser extension.");try{console.log("Attempting Xverse connection using sats-connect...");let r;try{r=await cn(()=>import("./index-F86_tZud.js"),[])}catch(i){const l=i.message||String(i);throw new Error(`Failed to load sats-connect: ${l}. Please ensure sats-connect is installed: npm install sats-connect`)}if(!r||!r.request)throw new Error("sats-connect konnte nicht geladen werden. Bitte stellen Sie sicher, dass sats-connect installiert ist (npm install sats-connect).");const a=await r.request("wallet_connect",null);if(console.log("Xverse wallet_connect response:",a),a.status==="success"){const i=((e=a.result)==null?void 0:e.addresses)||[];if(!i||i.length===0)throw new Error("No addresses returned from Xverse Wallet");const l=[],o=i.find(d=>d.purpose==="ordinals"),c=i.find(d=>d.purpose==="payment");if(o&&o.address&&l.push({address:o.address,publicKey:o.publicKey}),c&&c.address&&c.address!==(o==null?void 0:o.address)&&l.push({address:c.address,publicKey:c.publicKey}),l.length===0)throw new Error("No valid addresses found. Please ensure your Xverse Wallet has Ordinals addresses set up.");const u=l.filter(d=>d.address&&d.address.startsWith("bc1p"));if(u.length===0&&l.length>0)throw new Error("No Taproot addresses found. Please set up a Taproot address (bc1p...) in your Xverse Wallet.");return u.length>0?u:l}else throw((t=a.error)==null?void 0:t.code)==="USER_REJECTION"?new Error("Connection cancelled by user. Please approve the connection request in your wallet popup."):new Error(((n=a.error)==null?void 0:n.message)||"Failed to connect to Xverse Wallet")}catch(r){throw console.error("Xverse connection error:",r),r.message&&(r.message.includes("User rejected")||r.message.includes("rejected")||r.message.includes("USER_REJECTION"))?new Error("Connection rejected. Please approve the connection request in your wallet popup."):r.message&&r.message.includes("intercept")?new Error("Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (except Xverse) and reload the page."):new Error(r.message||"Error connecting to Xverse Wallet. Make sure the extension is unlocked and try again.")}},Wh=async()=>{if(!dt())return[];try{return(await window.unisat.getAccounts()).map(t=>({address:t}))}catch{return[]}},Ui=async(e,t)=>{if(!dt())throw new Error("UniSat Wallet nicht gefunden");try{return await window.unisat.sendBitcoin(e,t)}catch(n){throw new Error(n.message||"Fehler beim Senden von Bitcoin")}},qu=async(e,t)=>{var n,r,a,i;if(e.length===0)throw new Error("Keine Empfnger angegeben");if(e.length===1)return t==="unisat"?await Ui(e[0].address,e[0].amount):await Yu(e[0].address,e[0].amount);if(t==="xverse"){if(!zt())throw new Error("Xverse Wallet nicht gefunden");try{const l=await cn(()=>import("./index-F86_tZud.js"),[]);if(l&&l.request){const m=e.map(h=>{const b=Math.round(h.amount*1e8);return console.log(`[Xverse sats-connect] Zahlung: ${h.address} = ${h.amount} BTC = ${b} sats`),{address:h.address,amount:b}}),y=m.reduce((h,b)=>h+b.amount,0);console.log(`[Xverse sats-connect] Gesamt: ${y} sats (${(y/1e8).toFixed(8)} BTC)`);const x=await l.request("sendTransfer",{recipients:m,network:{type:"Mainnet"}});if(x.status==="success"){const h=((n=x.result)==null?void 0:n.txid)||((r=x.result)==null?void 0:r.txId)||x.txid;if(h)return h}}const o=window.BitcoinProvider||window.xverse;if(!o||!o.request)throw new Error("Xverse Provider API nicht verfgbar");const c=e.map(m=>{const y=Math.round(m.amount*1e8);return console.log(`[Xverse] Zahlung: ${m.address} = ${m.amount} BTC = ${y} sats`),{address:m.address,amount:y}}),u=c.reduce((m,y)=>m+y.amount,0);console.log(`[Xverse] Gesamt: ${u} sats (${(u/1e8).toFixed(8)} BTC)`),console.log(`[Xverse] Anzahl Empfnger: ${c.length}`);const d=await o.request("sendTransfer",{recipients:c});if(d!=null&&d.error){const m=d.error.message||"",y=d.error.code;throw console.error("[Xverse] Fehler-Details:",{error:d.error,recipients:c,totalSats:u}),m.includes("Insufficient balance")||y===-32603?new Error(`Insufficient balance. Your Xverse wallet does not have enough Bitcoin to complete this transaction. Required: ${(u/1e8).toFixed(8)} BTC + transaction fees. Please add more Bitcoin to your wallet and try again.`):new Error(`Xverse wallet error: ${m||"Unknown error"}`)}const f=(d==null?void 0:d.txid)||((a=d==null?void 0:d.result)==null?void 0:a.txid)||(d==null?void 0:d.txId)||((i=d==null?void 0:d.result)==null?void 0:i.txId);if(!f)throw new Error("Keine Transaction-ID in der Response erhalten");return f}catch(l){throw console.error("[Xverse] Catch-Block Fehler:",l),console.error("[Xverse] Error message:",l.message),console.error("[Xverse] Error object:",JSON.stringify(l,null,2)),l.message&&(l.message.includes("User rejected")||l.message.includes("USER_REJECTION"))?new Error("Payment was cancelled. Please approve the transaction in your Xverse wallet."):(l.message&&l.message.includes("Amount should not be less than")&&(console.error("[Xverse]  Fehler: Mindestbetrag-Anforderung erkannt"),console.error("[Xverse] Recipients:",JSON.stringify(recipientsInSats,null,2))),l)}}else{if(!dt())throw new Error("UniSat Wallet nicht gefunden");try{console.log("[UniSat] Mehrere Zahlungen - UniSat untersttzt nur eine Zahlung pro Transaktion"),console.log("[UniSat] Fhre Zahlungen sequenziell aus...");let l="";for(const o of e)l=await Ui(o.address,o.amount),console.log(`[UniSat] Zahlung an ${o.address}: ${l}`),await new Promise(c=>setTimeout(c,500));return l}catch(l){throw l}}},Yu=async(e,t)=>{var n,r,a,i;if(!zt())throw new Error("Xverse Wallet nicht gefunden");try{console.log("Sending Bitcoin via Xverse..."),console.log("To:",e,"Amount:",t,"BTC");let l;try{const d=await cn(()=>import("./index-F86_tZud.js"),[]);if(d&&d.request){const f=Math.round(t*1e8);if(l=await d.request("sendTransfer",{recipients:[{address:e,amount:f}],network:{type:"Mainnet"}}),console.log("Xverse sendTransfer (sats-connect) response:",l),l.status==="success"){const m=((n=l.result)==null?void 0:n.txid)||((r=l.result)==null?void 0:r.txId)||l.txid;if(m)return m}}}catch(d){console.warn("sats-connect sendTransfer failed, trying direct API:",d)}const o=window.BitcoinProvider||window.xverse;if(!o||!o.request)throw new Error("Xverse Provider API nicht verfgbar");const c=Math.round(t*1e8);if(l=await o.request("sendTransfer",{recipients:[{address:e,amount:c}]}),console.log("Xverse sendTransfer (direct API) response:",l),l!=null&&l.error){const d=l.error.code,f=l.error.message||"";throw d===-32603&&f.includes("Insufficient balance")?new Error("Insufficient balance. Your Xverse wallet does not have enough Bitcoin to complete this transaction. Please add more Bitcoin to your wallet and try again."):new Error(`Xverse wallet error: ${f||"Unknown error"}`)}const u=(l==null?void 0:l.txid)||((a=l==null?void 0:l.result)==null?void 0:a.txid)||(l==null?void 0:l.txId)||((i=l==null?void 0:l.result)==null?void 0:i.txId);if(!u)throw new Error("Keine Transaction-ID in der Response erhalten. Response: "+JSON.stringify(l));return u}catch(l){throw console.error("Xverse sendBitcoin error:",l),l.message&&(l.message.includes("User rejected")||l.message.includes("USER_REJECTION")||l.message.includes("cancel"))?new Error("Payment was cancelled. Please approve the transaction in your Xverse wallet."):l.message&&l.message.includes("Insufficient balance")?l:new Error(l.message||"Fehler beim Senden von Bitcoin via Xverse. Bitte berprfen Sie Ihr Wallet.")}},Hh=async(e,t=!1)=>{var n;if(!dt())throw new Error("UniSat Wallet nicht gefunden");try{if(!window.unisat||typeof window.unisat.signPsbt!="function")throw new Error("UniSat Wallet untersttzt keine PSBT-Signatur. Bitte aktualisieren Sie Ihre Wallet-Extension.");const r=atob(e),a=new Uint8Array(r.length);for(let o=0;o<r.length;o++)a[o]=r.charCodeAt(o);const i=Array.from(a).map(o=>o.toString(16).padStart(2,"0")).join("");return await window.unisat.signPsbt(i,{autoFinalized:t})}catch(r){throw r.message&&(r.message.includes("User rejected")||(n=r.message)!=null&&n.includes("rejected"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktion in Ihrem Wallet."):new Error(r.message||"Fehler beim Signieren der PSBT")}},Gh=async e=>{var t,n,r;if(!zt())throw new Error("Xverse Wallet nicht gefunden");try{console.log("[signPSBTViaXverse] Starting PSBT signing..."),console.log("[signPSBTViaXverse] PSBT Base64 length:",e.length),console.log("[signPSBTViaXverse] PSBT Base64 preview:",e.substring(0,50)+"...");const a=await cn(()=>import("./index-F86_tZud.js"),[]);if(!a||!a.request)throw new Error("Sats Connect nicht verfgbar");console.log("[signPSBTViaXverse] Calling sats-connect request signPsbt...");const i=await a.request("signPsbt",{psbt:e,network:{type:"Mainnet"}});if(console.log("[signPSBTViaXverse] Response received:",{status:i.status,hasResult:!!i.result,hasError:!!i.error,errorMessage:(t=i.error)==null?void 0:t.message}),i.status==="success"){const l=((n=i.result)==null?void 0:n.psbt)||i.psbt;if(!l)throw new Error("Keine signierte PSBT erhalten");const o=atob(l),c=new Uint8Array(o.length);for(let d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return Array.from(c).map(d=>d.toString(16).padStart(2,"0")).join("")}else throw new Error(((r=i.error)==null?void 0:r.message)||"Fehler beim Signieren der PSBT")}catch(a){throw a.message&&(a.message.includes("User rejected")||a.message.includes("rejected")||a.message.includes("USER_REJECTION"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktion in Ihrem Wallet."):new Error(a.message||"Fehler beim Signieren der PSBT")}},Vh=async(e,t,n=!1)=>t==="unisat"?await Hh(e,n):await Gh(e),Kh=async(e,t=!1)=>{var n;if(!dt())throw new Error("UniSat Wallet nicht gefunden");try{if(!window.unisat||typeof window.unisat.signPsbts!="function")throw new Error("UniSat Wallet untersttzt keine Batch-PSBT-Signatur. Bitte aktualisieren Sie Ihre Wallet-Extension.");const r=e.map(i=>{if(i.length>100&&!/^[0-9a-fA-F]+$/.test(i)){const l=atob(i),o=new Uint8Array(l.length);for(let c=0;c<l.length;c++)o[c]=l.charCodeAt(c);return Array.from(o).map(c=>c.toString(16).padStart(2,"0")).join("")}return i});return await window.unisat.signPsbts(r,{autoFinalized:t})}catch(r){throw r.message&&(r.message.includes("User rejected")||(n=r.message)!=null&&n.includes("rejected"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktionen in Ihrem Wallet."):new Error(r.message||"Fehler beim Signieren der PSBTs")}},Xh=async e=>{var t,n;if(!zt())throw new Error("Xverse Wallet nicht gefunden");try{const r=await cn(()=>import("./index-F86_tZud.js"),[]);if(!r||!r.request)throw new Error("Sats Connect nicht verfgbar");console.warn("[Xverse] Batch-PSBT-Signatur nicht direkt untersttzt, signiere sequenziell...");const a=[];for(const i of e){const l=await r.request("signPsbt",{psbt:i,network:{type:"Mainnet"}});if(l.status==="success"){const o=((t=l.result)==null?void 0:t.psbt)||l.psbt;if(!o)throw new Error("Keine signierte PSBT erhalten");const c=atob(o),u=new Uint8Array(c.length);for(let f=0;f<c.length;f++)u[f]=c.charCodeAt(f);const d=Array.from(u).map(f=>f.toString(16).padStart(2,"0")).join("");a.push(d)}else throw new Error(((n=l.error)==null?void 0:n.message)||"Fehler beim Signieren der PSBT")}return a}catch(r){throw r.message&&(r.message.includes("User rejected")||r.message.includes("rejected")||r.message.includes("USER_REJECTION"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktionen in Ihrem Wallet."):new Error(r.message||"Fehler beim Signieren der PSBTs")}},Qh=async(e,t,n=!1)=>{if(t==="unisat"){const r=e.map(a=>{const i=atob(a),l=new Uint8Array(i.length);for(let o=0;o<i.length;o++)l[o]=i.charCodeAt(o);return Array.from(l).map(o=>o.toString(16).padStart(2,"0")).join("")});return await Kh(r,n)}else return await Xh(e)},Zu=w.createContext(void 0),ef=({children:e})=>{const[t,n]=w.useState({walletType:null,accounts:[],connected:!1,network:"mainnet"}),r=w.useCallback(async()=>{try{const o=await Wh();if(o.length>0){n({walletType:"unisat",accounts:o,connected:!0,network:"mainnet"});return}}catch{}},[]);w.useEffect(()=>{var o,c;if(r(),dt()){const u=f=>{f.length>0?n(m=>({...m,accounts:f.map(y=>({address:y})),connected:!0,walletType:"unisat"})):n({walletType:null,accounts:[],connected:!1,network:"mainnet"})},d=()=>{r()};return(o=window.unisat)==null||o.on("accountsChanged",u),(c=window.unisat)==null||c.on("networkChanged",d),()=>{var f,m;(f=window.unisat)==null||f.removeListener("accountsChanged",u),(m=window.unisat)==null||m.removeListener("networkChanged",d)}}},[r]);const a=w.useCallback(async o=>{try{let c=[];if(o==="unisat")c=await Uh();else if(o==="xverse")c=await zh();else throw new Error("Ungltiger Wallet-Typ");const u={walletType:o,accounts:c,connected:!0,network:"mainnet"};return console.log("WalletContext: Setting wallet state to connected:",u),n(u),c}catch(c){throw c}},[]),i=w.useCallback(()=>{n({walletType:null,accounts:[],connected:!1,network:"mainnet"})},[]),l=w.useCallback(o=>(n({walletType:"unisat",accounts:[o],connected:!0,network:"mainnet"}),[o]),[]);return s.jsx(Zu.Provider,{value:{walletState:t,connect:a,connectManually:l,disconnect:i,checkWalletConnection:r,isUnisatInstalled:dt(),isXverseInstalled:zt()},children:e})},xe=()=>{const e=w.useContext(Zu);if(e===void 0)throw new Error("useWallet must be used within a WalletProvider");return e},Jh=({onConnect:e})=>{const[t,n]=w.useState(""),[r,a]=w.useState(null),i=()=>{if(!t.trim()){a("Please enter a wallet address");return}if(!t.startsWith("bc1")){a("Please use a valid Bitcoin address (bc1...)");return}if(!t.startsWith("bc1p")){a(" Please use a Taproot address (bc1p...) for Ordinals");return}a(null),e({address:t.trim()})};return s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 border-b-2 border-red-600 pb-2",children:" Connect Wallet Manually"}),s.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"If browser extensions don't work on localhost, you can enter your wallet address manually here."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-white mb-2 uppercase tracking-wide",children:"Bitcoin Taproot Address (bc1p...)"}),s.jsx("input",{type:"text",value:t,onChange:l=>{n(l.target.value),a(null)},placeholder:"bc1p...",className:"w-full px-4 py-2 bg-gray-900 border-2 border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-red-600 focus:border-red-600"})]}),r&&s.jsx("div",{className:"p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded text-sm font-semibold",children:r}),s.jsx("button",{onClick:i,className:"w-full px-6 py-3 bg-white text-black border-2 border-red-600 rounded-lg font-bold hover:bg-red-600 hover:text-white transition",children:"Connect"}),s.jsxs("div",{className:"p-3 bg-gray-900 border-2 border-red-600 rounded-lg text-xs text-gray-300",children:[s.jsx("strong",{className:"text-white",children:"Note:"})," This is only intended for testing on localhost. In production, browser extensions should be used, which work on HTTPS domains."]})]})]})},la=({onConnected:e})=>{var j,S;const{walletState:t,connect:n,connectManually:r,disconnect:a}=xe();ur.useEffect(()=>{t.connected&&t.accounts&&t.accounts.length>0&&e&&(console.log("WalletConnect: Wallet connected, calling onConnected callback"),e())},[t.connected,t.accounts,e]);const[i,l]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[y,x]=w.useState(!0),[h,b]=w.useState(!1);w.useEffect(()=>{(async()=>{var G;x(!0);const[C,B]=await Promise.all([Ba(3e3),Ua(3e3)]);d(C),m(B),x(!1);const D={unisat:C,xverse:B,windowUnisat:typeof window<"u"?typeof window.unisat:"N/A",windowBitcoinProvider:typeof window<"u"?typeof window.BitcoinProvider:"N/A",windowXverse:typeof window<"u"?typeof window.xverse:"N/A",location:typeof window<"u"?(G=window.location)==null?void 0:G.href:"N/A",allWindowKeys:typeof window<"u"?Object.keys(window).filter(I=>I.toLowerCase().includes("bitcoin")||I.toLowerCase().includes("unisat")||I.toLowerCase().includes("xverse")):[]};if(console.log(" Wallet Check - Detailliert:",D),typeof window<"u"){console.log(" Direkte Prfung:"),console.log("  window.unisat:",window.unisat),console.log("  window.BitcoinProvider:",window.BitcoinProvider),console.log("  window.xverse:",window.xverse),console.log("  window.bitcoin:",window.bitcoin);const I=Object.keys(window).filter(_=>_.toLowerCase().includes("bitcoin")||_.toLowerCase().includes("unisat")||_.toLowerCase().includes("xverse")||_.toLowerCase().includes("wallet"));I.length>0&&console.log("  Gefundene Wallet-Keys:",I)}})();const E=setInterval(async()=>{if(!u||!f){const[C,B]=await Promise.all([Ba(2e3),Ua(2e3)]);d(D=>D||C),m(D=>D||B)}},2e3);return()=>clearInterval(E)},[]);const p=async T=>{if(T){l(!0),c(null);try{await n(T),c(null)}catch(E){let C=E.message||"Unknown error occurred";C.includes("intercept")||C.includes("multiple wallet")?C="Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (keep only the one you want to use) and reload the page.":C.includes("User rejected")?C="Connection rejected. Please approve the connection request in your wallet popup.":(C.includes("not available")||C.includes("API is not available"))&&(C=`Wallet extension detected but connection failed. Try:
1. Unlock your wallet
2. Disable other Bitcoin wallet extensions
3. Reload the page`),c(C),console.error("Wallet connection error:",E)}finally{l(!1)}}},g=()=>{a(),c(null)},v=T=>{try{r(T),c(null),b(!1)}catch(E){c(E.message||"Error with manual connection")}};return y?s.jsx("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-white font-semibold",children:"Checking wallets..."}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"If wallets are not detected, try reloading the page."})]})}):t.connected?s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 border-b-2 border-red-600 pb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Wallet Connected"}),s.jsxs("p",{className:"text-sm text-gray-400 capitalize",children:[t.walletType," Wallet"]})]}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-600 text-white border-2 border-white rounded-lg hover:bg-white hover:text-black font-bold transition",children:"Disconnect"})]}),s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1 uppercase tracking-wide",children:"Address"}),s.jsx("p",{className:"text-sm font-mono text-white break-all",children:(j=t.accounts[0])==null?void 0:j.address}),!((S=t.accounts[0])!=null&&S.address.startsWith("bc1p"))&&s.jsx("p",{className:"text-xs text-red-600 mt-2 font-semibold",children:" Please use a Taproot address (bc1p...)"})]}),o&&s.jsx("div",{className:"mt-4 p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded",children:s.jsx("p",{className:"font-semibold",children:o})})]}):s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b-2 border-red-600 pb-2",children:"Connect Wallet"}),s.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Please connect your wallet to start minting."}),s.jsxs("div",{className:"space-y-3",children:[u&&f&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-900/50 border border-gray-700 rounded-lg",children:[s.jsx("p",{className:"text-sm font-bold text-gray-300 mb-1",children:" Multiple Wallet Extensions Detected"}),s.jsx("p",{className:"text-xs text-gray-400",children:'Both UniSat and Xverse are installed. The console warning "Failed to inject unisat" is harmless and can be ignored. Choose your preferred wallet below.'})]}),!u&&!f&&!h&&s.jsxs("div",{className:"mb-4 p-4 bg-gray-900 border-2 border-red-600 rounded-lg",children:[s.jsx("p",{className:"text-sm font-bold text-red-600 mb-2",children:" Wallet Extensions Not Detected"}),s.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Browser extensions were not found. This is normal on localhost."}),s.jsx("div",{className:"flex gap-2 mb-3",children:s.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded text-sm hover:bg-red-600 hover:text-white font-bold transition",children:" Manual Connection (for Testing)"})}),s.jsxs("details",{className:"text-xs",children:[s.jsx("summary",{className:"cursor-pointer text-red-600 font-bold",children:" Why don't extensions work on localhost?"}),s.jsxs("div",{className:"mt-2 p-2 bg-black border border-gray-700 rounded text-xs text-gray-300",children:[s.jsxs("p",{className:"mb-2",children:["Many browser extensions (including UniSat & Xverse) don't work on ",s.jsx("code",{className:"text-red-600",children:"localhost"})," or ",s.jsx("code",{className:"text-red-600",children:"127.0.0.1"})," for security reasons."]}),s.jsx("p",{className:"mb-2",children:s.jsx("strong",{className:"text-white",children:"Solutions:"})}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"In production on an HTTPS domain it will work"}),s.jsx("li",{children:"For testing: Use the manual connection above"}),s.jsx("li",{children:"Alternative: Use ngrok or similar tools for HTTPS tunnels"})]})]})]})]}),h&&s.jsxs("div",{className:"mb-4",children:[s.jsx(Jh,{onConnect:v}),s.jsx("button",{onClick:()=>b(!1),className:"mt-2 text-sm text-gray-400 hover:text-white font-semibold",children:" Back to Extension Buttons"})]}),u?s.jsx("button",{onClick:()=>p("unisat"),disabled:i,className:"w-full flex items-center justify-center px-6 py-4 bg-white text-black border-2 border-red-600 rounded-lg font-bold hover:bg-red-600 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connecting...":s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"Connect UniSat Wallet"]})}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:async()=>{console.log(" Manuelle Prfung UniSat..."),await Ba(1e3)?(d(!0),alert(' UniSat Wallet gefunden! Klicke auf "Connect UniSat Wallet"')):alert(` UniSat Wallet nicht gefunden

Lsung:
1. ffne: chrome://extensions/ (Chrome) oder about:addons (Firefox)
2. Suche nach "UniSat Wallet"
3. Stelle sicher, dass die Extension aktiviert ist
4. Lade die Seite neu (F5)
5. Versuche: http://127.0.0.1:3008 statt localhost

Falls installiert: Extension neu laden in chrome://extensions/`)},className:"w-full flex items-center justify-center px-6 py-4 bg-gray-900 text-white border-2 border-gray-700 rounded-lg font-bold hover:border-red-600 transition",children:" Prfe UniSat erneut"}),s.jsx("a",{href:"https://unisat.io/download",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center px-6 py-4 bg-gray-800 text-white border-2 border-gray-600 rounded-lg font-semibold hover:border-gray-500 transition text-sm",children:"Install UniSat Wallet"})]}),f?s.jsx("button",{onClick:()=>p("xverse"),disabled:i,className:"w-full flex items-center justify-center px-6 py-4 bg-white text-black border-2 border-red-600 rounded-lg font-bold hover:bg-red-600 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connecting...":s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"Connect Xverse Wallet"]})}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("a",{href:"https://www.xverse.app/download",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center px-6 py-4 bg-gray-900 text-white border-2 border-gray-700 rounded-lg font-bold hover:border-red-600 transition",children:"Install Xverse Wallet"}),s.jsx("button",{onClick:async()=>{console.log(" Manuelle Prfung Xverse..."),await Ua(1e3)?(m(!0),alert(' Xverse Wallet gefunden! Klicke auf "Connect Xverse Wallet"')):alert(` Xverse Wallet nicht gefunden

Lsung:
1. ffne: chrome://extensions/ (Chrome) oder about:addons (Firefox)
2. Suche nach "Xverse Wallet"
3. Stelle sicher, dass die Extension aktiviert ist
4. Lade die Seite neu (F5)
5. Versuche: http://127.0.0.1:3008 statt localhost

Falls installiert: Extension neu laden in chrome://extensions/`)},className:"w-full flex items-center justify-center px-6 py-4 bg-gray-900 text-white border-2 border-gray-700 rounded-lg font-bold hover:border-red-600 transition",children:" Prfe Xverse erneut"})]})]}),o&&s.jsx("div",{className:"mt-4 p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded",children:s.jsx("p",{className:"font-semibold",children:o})}),s.jsx("div",{className:"mt-6 p-4 bg-gray-900 border-2 border-red-600 rounded-lg",children:s.jsxs("p",{className:"text-xs text-gray-300",children:[s.jsx("strong",{className:"text-white",children:"Note:"})," Please make sure you use a Taproot address (bc1p...) in your wallet. Ordinals are only supported on Taproot addresses."]})})]})};function oa(){let e="http://localhost:3003";return e&&!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`https://${e}`),e.startsWith("http://")&&!e.includes("localhost")&&(e=e.replace("http://","https://"),console.warn("[apiUrl] Converted http:// to https:// for production:",e)),e}const tf=oa(),Gl=async e=>{if(!e)return console.error("Admin address required to fetch hashlist"),null;try{const t=new AbortController,n=setTimeout(()=>t.abort(),1e4),r=await fetch(`${tf}/api/collection/hashlist?address=${encodeURIComponent(e)}`,{signal:t.signal,headers:{"X-Admin-Address":e}});return clearTimeout(n),r.ok?await r.json():(console.error("Failed to fetch hashlist:",r.status),null)}catch(t){return t.name==="AbortError"?console.error("Hashlist request timeout"):console.error("Error fetching hashlist:",t),null}},qh=async e=>{if(!e)return console.error("Admin address required to fetch stats"),null;try{const t=new AbortController,n=setTimeout(()=>t.abort(),1e4),r=await fetch(`${tf}/api/collection/stats?address=${encodeURIComponent(e)}`,{signal:t.signal,headers:{"X-Admin-Address":e}});return clearTimeout(n),r.ok?await r.json():(console.error("Failed to fetch stats:",r.status),null)}catch(t){return t.name==="AbortError"?console.error("Stats request timeout"):console.error("Error fetching stats:",t),null}},Yh=async e=>{if(!e){alert("Admin address required to export hashlist.");return}const t=await Gl(e);if(!t){alert("Failed to fetch hashlist. Please make sure the backend server is running.");return}const n={collection:t.collection,version:"1.0.0",generatedAt:t.generatedAt,totalMinted:t.totalMinted,inscriptions:t.inscriptions.map(l=>({inscriptionId:l.inscriptionId,txid:l.txid,mintTimestamp:l.mintTimestamp,cardId:l.cardId,cardName:l.cardName,rarity:l.rarity,cardType:l.cardType,originalInscriptionId:l.originalInscriptionId})),stats:t.stats},r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=`collection-hashlist-${t.collection}-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(a)},Zh=async e=>{if(!e){alert("Admin address required to export hashlist.");return}const t=await Gl(e);if(!t){alert("Failed to fetch hashlist. Please make sure the backend server is running.");return}const n=t.inscriptions.map(l=>l.inscriptionId),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=`collection-inscription-ids-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(a)},ca=oa(),eg=async e=>{const t=await fetch(`${ca}/api/admin/stats`,{headers:{"X-Admin-Address":e}});if(!t.ok){const r=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(r.error||`Failed to fetch admin stats: ${t.status}`)}return await t.json()},tg=async e=>{const t=await fetch(`${ca}/api/admin/trades`,{headers:{"X-Admin-Address":e}});if(!t.ok){const r=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(r.error||`Failed to fetch trade offers: ${t.status}`)}return(await t.json()).trades||[]},ng=async e=>{const t=await fetch(`${ca}/api/admin/open-card-images`,{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Address":e},body:JSON.stringify({})});if(!t.ok){const n=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(n.error||"Failed to open folder")}},rg=async e=>{const t=await fetch(`${ca}/api/admin/export-cards`,{headers:{"X-Admin-Address":e}});if(!t.ok)throw new Error("Failed to export cards");const n=await t.blob(),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`black-wild-cards-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)},sg=["bc1pk04c62dkcev08jvmhlecufxtp4xw4af0s9n3vtm8w3dsn9985dhsvpralc","34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft","bc1p9j4g6r27yqhmp4c403vn33mz7uug439sthqngkkrylu7d7uq7d6qvz39jj"].filter(Boolean),Vl=e=>e?sg.some(t=>t.toLowerCase()===e.toLowerCase()):!1,ie=e=>e.replace(/stroke="black"/g,'stroke="white"').replace(/fill="black"/g,'fill="white"').replace(/stroke='black'/g,"stroke='white'").replace(/fill='black'/g,"fill='white'"),nf=[{id:"action-1",name:"SLAP",rarity:"common",inscriptionId:"ef41bd80183a3d557cfba127b55bee1330ceb6d05e8b4746921b23b55ce133c9i0",cardType:"action",effect:"Deal 2 damage to any target.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <line x1="6" y1="18" x2="18" y2="6" stroke="white" stroke-width="2"/>
      <line x1="18" y1="6" x2="21" y2="6" stroke="white" stroke-width="2"/>
      <line x1="18" y1="6" x2="18" y2="3" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-2",name:"WRONG MOVE",rarity:"common",inscriptionId:"d7e6610d2dcaed7bf6fb0923e5a8dbe0776dbe07a966b19d9bbbab4eaf298d50i0",cardType:"action",effect:"Destroy an animal with ATK 2 or less.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <polyline points="4,8 12,8 12,14 20,14" fill="none" stroke="white" stroke-width="2"/>
      <line x1="11" y1="13" x2="13" y2="15" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-3",name:"PANIC",rarity:"uncommon",inscriptionId:"7d6ffeb90550adb8994e52eb6ca56ec42d19b20401a22af9ed959684b9c83ec4i0",cardType:"action",effect:"Both players discard their hands, then draw 3 cards.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <path d="M12 3 L17 8 L12 13 L7 8 Z" fill="none" stroke="white" stroke-width="2"/>
      <line x1="3" y1="12" x2="7" y2="12" stroke="white" stroke-width="2"/>
      <line x1="17" y1="12" x2="21" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-4",name:"NOPE",rarity:"uncommon",inscriptionId:"d1abdfb5c6318bdc45948cd88b03ae8057cf20bf955a6ed7fe7e011a6f895df9i0",cardType:"action",effect:"Cancel an action card.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8" fill="none" stroke="white" stroke-width="2"/>
      <line x1="6" y1="18" x2="18" y2="6" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-5",name:"OVERDOSE",rarity:"rare",inscriptionId:"37b9fb329a6cf26de3e701da20c0217de97bcd839f18bceac3f43fea563f6b71i0",cardType:"action",effect:"Target animal gets +3 ATK until end of turn. Destroy it at the end of the turn.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <line x1="12" y1="20" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="8" y1="8" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="16" y1="8" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="9" y1="18" x2="15" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-6",name:"SWITCH",rarity:"rare",inscriptionId:"fe1490d29120f1277596650462f33341a06a165bc037bb13e93af050935e4d75i0",cardType:"action",effect:"Swap control of two animals in play.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <polyline points="5,8 19,8 15,4" fill="none" stroke="white" stroke-width="2"/>
      <polyline points="19,16 5,16 9,20" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-7",name:"COLLAPSE",rarity:"rare",inscriptionId:"9c1637a13a9f9c18bc232daefebab50033d14550afc51ea80dce4a6ae8b9d03ai0",cardType:"action",effect:"Deal 1 damage to all animals.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <line x1="4" y1="10" x2="20" y2="10" stroke="white" stroke-width="2"/>
      <polyline points="10,10 14,14 18,14" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-8",name:"INSTINCT",rarity:"epic",inscriptionId:"39367bda5c67a2a628261c2b0a3432c23929e864c7c12c5264b77d53341ecce0i0",cardType:"action",effect:"Trigger one animal's ability again.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <ellipse cx="12" cy="12" rx="8" ry="5" fill="none" stroke="white" stroke-width="2"/>
      <circle cx="12" cy="12" r="2" fill="white"/>
    </svg>`)},{id:"action-9",name:"STARE",rarity:"epic",inscriptionId:"bb48c48089f36680ac736fbb675dc29b9965a2e41a1ecd60dc70b70f9729df51i0",cardType:"action",effect:"Look at your opponent's hand. Choose one card  they discard it.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <ellipse cx="10" cy="12" rx="5" ry="4" fill="none" stroke="white" stroke-width="2"/>
      <line x1="15" y1="12" x2="21" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-10",name:"PUSH",rarity:"epic",inscriptionId:"8da26d78071401ea4e69f16751612ae879543b438064a05ea89b17d0e7a92d99i0",cardType:"action",effect:"Target animal attacks immediately.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <line x1="4" y1="12" x2="18" y2="12" stroke="white" stroke-width="3"/>
      <polyline points="14,8 18,12 14,16" fill="none" stroke="white" stroke-width="3"/>
    </svg>`)},{id:"action-11",name:"ACCIDENT",rarity:"legendary",inscriptionId:"5687d374883dddcc97913fd286e180351443f9fd8f98af0f9e0f6bf199f5cde5i0",cardType:"action",effect:"Destroy a random animal.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="2" fill="white"/>
      <circle cx="6" cy="8" r="1.5" fill="white"/>
      <circle cx="18" cy="7" r="1.5" fill="white"/>
      <circle cx="7" cy="18" r="1.5" fill="white"/>
    </svg>`)},{id:"action-12",name:"LAST WORDS",rarity:"legendary",inscriptionId:"e6ac9fab61f8e30fb58c5d9224681ad2c1a9f064eb523c4a264a562648a486f9i0",cardType:"action",effect:"When an animal dies this turn, draw 2 cards.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <line x1="12" y1="6" x2="12" y2="18" stroke="white" stroke-width="2"/>
      <line x1="8" y1="12" x2="16" y2="12" stroke="white" stroke-width="2"/>
      <line x1="16" y1="8" x2="21" y2="6" stroke="white" stroke-width="2"/>
    </svg>`)}],rf=[{id:"status-1",name:"BLEEDING",rarity:"common",inscriptionId:"70b7048c1567f00c77aa05aa95db48d6838c4592a7d5c6d37e127667f9275050i0",cardType:"status",effect:"Attached animal loses 1 HP at the start of each turn.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <path d="M12 4 C9 9,9 13,12 16 C15 13,15 9,12 4 Z" fill="white"/>
    </svg>`)},{id:"status-2",name:"STUCK",rarity:"common",inscriptionId:"f11b5ddc8a0a25a7cec94bc15c3fa32311808fe2cb87c2cea763f0d50c8b8e83i0",cardType:"status",effect:"Attached animal cannot attack.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="7" fill="none" stroke="white" stroke-width="2"/>
      <line x1="7" y1="7" x2="17" y2="17" stroke="white" stroke-width="2"/>
      <line x1="17" y1="7" x2="7" y2="17" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-3",name:"TINT",rarity:"uncommon",inscriptionId:"1656be81e09e210983360e549155c9115ff9411019ca24692ea77f4991a2afa5i0",cardType:"status",effect:"1 ATK. When this animal dies, draw 1 card.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <path d="M12 4 C6 6,6 14,12 16 C18 14,18 6,12 4 Z" fill="white"/>
    </svg>`)},{id:"status-4",name:"TARGET",rarity:"uncommon",inscriptionId:"27442fdd682add2aa8d10846e506ed29891b76cb09e4923d640bf83f392241a0i0",cardType:"status",effect:"Damage dealt to this animal is doubled.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8" fill="none" stroke="white" stroke-width="2"/>
      <circle cx="12" cy="12" r="4" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-5",name:"SWARM",rarity:"rare",inscriptionId:"cf331de8d1d45a3759c80d6ca20409ac80bf4602c855396a101d1eb08cb36fc5i0",cardType:"status",effect:"Whenever an animal dies, both players take 1 damage.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="8" cy="10" r="1.5" fill="white"/>
      <circle cx="12" cy="12" r="1.5" fill="white"/>
      <circle cx="16" cy="10" r="1.5" fill="white"/>
      <circle cx="10" cy="16" r="1.5" fill="white"/>
      <circle cx="14" cy="16" r="1.5" fill="white"/>
    </svg>`)},{id:"status-6",name:"SHIELD",rarity:"epic",inscriptionId:"d226c067ad6f7e083a7612d8b357051b824bdd63ca7bee7080611634abd28a1ai0",cardType:"status",effect:"Prevent the next damage dealt to attached animal.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <path d="M6 5 L18 5 L16 18 L12 21 L8 18 Z" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-7",name:"RAGE",rarity:"epic",inscriptionId:"0c7d863936f3c02134c472de45c7f5a2a0bce437a9914f2bd3a177c5c7a7efd4i0",cardType:"status",effect:"+2 ATK. This animal must attack if able.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <polyline points="4,14 8,8 12,14 16,8 20,14" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-8",name:"PARANOIA",rarity:"legendary",inscriptionId:"c68924eb89713ae2b169f3cf65c94c7f01d67130eb59987f861a5ace93733c11i0",cardType:"status",effect:"The controller of this card cannot draw cards.",svgIcon:ie(`<svg viewBox="0 0 24 24">
      <circle cx="8" cy="12" r="2" fill="white"/>
      <circle cx="16" cy="12" r="2" fill="white"/>
      <circle cx="12" cy="6" r="2" fill="white"/>
    </svg>`)}],ag=[...nf,...rf],ig=e=>e.map(t=>({...t,cardType:"animal"})),sf=ig([{id:"card-1",name:"Grasshopper",rarity:"common",inscriptionId:"62de7de2fba34ce0b5718e94970c19f5965b131316b9615c3c2c61421cb51e76i0"},{id:"card-2",name:"Ant",rarity:"common",inscriptionId:"446045d1613fb57610840eb1c6ba1491d5b0ea9624f7bda585e5f52e256f91e1i0"},{id:"card-3",name:"Bee",rarity:"common",inscriptionId:"3aef296ead63f20a39c06ca04fc696dd98c532d6b595088fc58176cb46d1beaai0"},{id:"card-4",name:"Chicken",rarity:"common",inscriptionId:"c907865db233272d06a262c19da7379d4d36f1088dd825375b29a73686a3a184i0"},{id:"card-5",name:"Worm",rarity:"common",inscriptionId:"7d91a2bb93f5ddfba2b16a6f0f463412e0faf12c46ca59cb2d76ec3b0bd3cf49i0"},{id:"card-6",name:"Spider",rarity:"common",inscriptionId:"8564dd1ffef7bb5e2501819e562d4f98d123959899a3348a8def8dc4e3c7409di0"},{id:"card-7",name:"Butterfly",rarity:"common",inscriptionId:"433c855aa38cc7b142dacaff65cfe9d58f2a79c40c87ddff56c3a283972a6a52i0"},{id:"card-8",name:"Worm",rarity:"uncommon",inscriptionId:"f56c0801566cb9e46e1465f1d760f8976ba0bad328e39e84fa2e2209a4d6c540i0"},{id:"card-9",name:"Bird",rarity:"uncommon",inscriptionId:"d021efd186eb10c45fbdf043bf974e211772fce336d8287f02f85b6a06b2d8d9i0"},{id:"card-10",name:"Bird",rarity:"uncommon",inscriptionId:"9ffd078c797dfdcbb6f72482f5499c124dd67c47044ccda1a1c42bf89926f2f0i0"},{id:"card-11",name:"Cow",rarity:"uncommon",inscriptionId:"7f2a4963ed0c4e341db74d82dcc8c8fc0cdf4c84d7c1558f13b33b9ca6ef7251i0"},{id:"card-12",name:"Cow",rarity:"uncommon",inscriptionId:"171f1741831bb019ee18e2a92dae9c711abf07e153641a4c1ceaa5892133032ci0"},{id:"card-14",name:"Tiger",rarity:"rare",inscriptionId:"195209f7e21b768fd7ca18a905ddac9ec4986412f4f8aa716290fbb743db6feai0"},{id:"card-15",name:"Rabbit",rarity:"rare",inscriptionId:"a0b9f4f33913f512ba4de73b1e4982cf5be76874062287fcd05efdd76a220a7fi0"},{id:"card-17",name:"Duck",rarity:"rare",inscriptionId:"a831e75a67d49d6e98594991cde68da3bf5f328ff49cc94a4a6bc05887ff8523i0"},{id:"card-18",name:"Crow",rarity:"rare",inscriptionId:"d67b09d7ac06aa9c217f95c69bf5c76f7f1634cad92fff5829546a22a279072ci0"},{id:"card-19",name:"Cat",rarity:"rare",inscriptionId:"e07446928e95b81b406592bf95007fb44948c252947304a7b31d34f84e96188ei0"},{id:"card-20",name:"Gecko",rarity:"rare",inscriptionId:"9ad47ae89b8155ea8e4b02f53d4ced920d6dd4aeeaa744b99c44d33265827c44i0"},{id:"card-21",name:"Zebra",rarity:"epic",inscriptionId:"3099b73fd35e81a8bf53a02af99f436d88b73b54945aaa97dfde155a08e174bdi0"},{id:"card-22",name:"Sheep",rarity:"epic",inscriptionId:"4d2d4a2b258b18b95bfc55dc3c31cbcd4b204a4f001c9861793b993487af4560i0"},{id:"card-23",name:"Turtle",rarity:"epic",inscriptionId:"3135eb862f9c56bf1884c05dd80bb28107ba9af82bed83fd39a1ff28e303a8a7i0"},{id:"card-24",name:"Penguin",rarity:"epic",inscriptionId:"2cd0572f35441d5b443ad9c78ec62f84f9b6c77528903c86b8b23b9213f0e7c4i0"},{id:"card-25",name:"Koala",rarity:"epic",inscriptionId:"4f6cce4ab7433ef48222e0a974c3a546f102cf38a455368757f5d5e00bfc1dddi0"},{id:"card-26",name:"Fox",rarity:"legendary",inscriptionId:"e1a16dd9dea8b6ade622d24214c21ec29029127d40aa8ad44aa07c39f4620866i0"},{id:"card-27",name:"Octopus",rarity:"legendary",inscriptionId:"d52730b2f4b8c0095ad82853e3e27d72adaa65796dbb666d929d7ca36f570ad2i0"},{id:"card-28",name:"Ape",rarity:"mystic-legendary",inscriptionId:"3898219212c8a1c66564e60734ab01872315c3900ef782b466caf4ae58c2afdbi0"}]),Ye=[...sf,...ag];Ye.map(e=>({id:e.id,name:e.name,rarity:e.rarity,inscriptionId:e.inscriptionId}));const Zt="http://localhost:3003",af=async()=>{const e=await fetch(`${Zt}/api/point-shop/items`);if(!e.ok)throw new Error("Failed to fetch point shop items");return(await e.json()).items||[]},lg=async(e,t,n,r=1)=>{const a=await fetch(`${Zt}/api/point-shop/mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,walletType:n,feeRate:r})});if(!a.ok){const l=await a.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||"Failed to deduct points")}const i=await a.json();if(i.itemType==="series"){const l=await fetch(`${Zt}/api/point-shop/mint-series`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,walletType:n,feeRate:r})});if(!l.ok){const c=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(c.error||"Failed to mint series item")}const o=await l.json();if(o.inscriptionItemType==="delegate"){const{mintPointShopItem:c}=await cn(async()=>{const{mintPointShopItem:d}=await import("./pointShopMinting-DrHqOW3X.js");return{mintPointShopItem:d}},[]),u=await c(o.inscriptionId,e,r,n);return{inscriptionId:u.inscriptionId,txid:u.txid,paymentTxid:u.paymentTxid,seriesInfo:{currentNumber:o.currentNumber,totalCount:o.totalCount,remaining:o.remaining}}}else{const c=await fetch(`${Zt}/api/point-shop/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:o.item.id,recipientAddress:e,feeRate:r,inscriptionId:o.inscriptionId})});if(!c.ok){const d=await c.json().catch(()=>({error:"Unknown error"}));throw new Error(d.error||"Failed to transfer ordinal")}const u=await c.json();return{inscriptionId:u.inscriptionId,txid:u.txid||"",seriesInfo:{currentNumber:o.currentNumber,totalCount:o.totalCount,remaining:o.remaining}}}}else if(i.itemType==="delegate"){const{mintPointShopItem:l}=await cn(async()=>{const{mintPointShopItem:c}=await import("./pointShopMinting-DrHqOW3X.js");return{mintPointShopItem:c}},[]),o=await l(i.delegateInscriptionId,e,r,n);return{inscriptionId:o.inscriptionId,txid:o.txid,paymentTxid:o.paymentTxid}}else{const l=await fetch(`${Zt}/api/point-shop/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,recipientAddress:e,feeRate:r})});if(!l.ok){const c=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(c.error||"Failed to transfer ordinal")}const o=await l.json();return{inscriptionId:o.inscriptionId,txid:o.txid||""}}},og=async(e,t,n,r,a)=>{var o;const i=await fetch(`${Zt}/api/point-shop/admin/create-transfer`,{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Address":r},body:JSON.stringify({inscriptionId:e,recipientAddress:t,feeRate:n,itemId:a})}),l=await i.json();if(!i.ok)throw new Error(l.msg||((o=l.data)==null?void 0:o.toString())||"Failed to create transfer");if(l.code!==0)throw new Error(l.msg||"Failed to create transfer");return l},xc=async(e,t,n,r=!0,a)=>{const i=await fetch(`${Zt}/api/point-shop/admin/confirm-transfer`,{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Address":n},body:JSON.stringify({transferId:e,psbt:t,fromBase64:r,itemId:a})});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.msg||o.error||"Failed to confirm transfer")}const l=await i.json();if(l.code!==0)throw new Error(l.msg||"Failed to confirm transfer");return l},fn=oa(),cg=async()=>{const e=await fetch(`${fn}/api/collections`);if(!e.ok)throw new Error("Failed to fetch collections");return(await e.json()).collections||[]},dg=async e=>{const t=await fetch(`${fn}/api/collections/${e}`);if(!t.ok)throw new Error("Failed to fetch collection");return(await t.json()).collection},ug=async e=>{const t=await fetch(`${fn}/api/collections/admin/all?adminAddress=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch collections");return(await t.json()).collections||[]},lf=async e=>{const t=`${fn}/api/collections/admin/wallet-inscriptions?address=${encodeURIComponent(e)}`;console.log("[CollectionService] Fetching wallet inscriptions from:",t);const n=await fetch(t);if(console.log("[CollectionService] Response status:",n.status,n.statusText),!n.ok){const i=await n.json().catch(()=>({error:"Unknown error"})),l=i.error||i.message||"";if(n.status===429||l&&(l.toLowerCase().includes("rate limit")||l.toLowerCase().includes("exceeds rate limit")||i.code===-2006)){const u=i.retryAfter||300,d=l||"Rate limit erreicht";throw new Error(`Rate limit erreicht! ${d}. Bitte warten Sie ${u} Sekunden (ca. ${Math.ceil(u/60)} Minuten) bevor Sie es erneut versuchen.`)}const c=i.error||i.message||i.details||`HTTP ${n.status}: ${n.statusText}`;throw new Error(c)}const r=await n.json();console.log("[CollectionService] Response data:",r),console.log("[CollectionService] Response data type:",typeof r),console.log("[CollectionService] Is array?",Array.isArray(r));const a=Array.isArray(r)?r:r.inscriptions||[];return console.log("[CollectionService] Returning inscriptions:",a.length),a},fg=async(e,t)=>{const n=await fetch(`${fn}/api/collections/admin/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,adminAddress:e})});if(!n.ok){const a=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(a.error||"Failed to create collection")}return(await n.json()).collection},pg=async(e,t,n)=>{const r=await fetch(`${fn}/api/collections/admin/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,adminAddress:t})});if(!r.ok){const i=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(i.error||"Failed to update collection")}return(await r.json()).collection},mg=async(e,t)=>{const n=await fetch(`${fn}/api/collections/admin/${e}?adminAddress=${encodeURIComponent(t)}`,{method:"DELETE"});if(!n.ok){const r=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(r.error||"Failed to delete collection")}},zi=({inscription:e})=>{var u;const[t,n]=w.useState(!1),[r,a]=w.useState(null);let i=((u=e.contentType)==null?void 0:u.toLowerCase())||"unknown";i==="unknown"&&(e.isDelegate===!0||e.isDelegate==="true")&&(i="text/html");const l=`https://ordinals.com/content/${e.inscriptionId}`,o=i==="text/html"||i.includes("html"),c=e.isDelegate!==!0&&e.isDelegate!=="true"&&!e.originalInscriptionId;if(w.useEffect(()=>{o&&c&&!t&&r===null&&(n(!0),fetch(`https://ordinals.com/content/${e.inscriptionId}`,{method:"GET",headers:{Accept:"text/html,application/json,*/*"}}).then(d=>{if(!d.ok)throw new Error("Failed to fetch content");return d.text()}).then(d=>{if(d&&d.includes("delegate-metadata")){const f=d.match(/<script[^>]*id=["']delegate-metadata["'][^>]*>([\s\S]*?)<\/script>/i);if(f)try{const m=JSON.parse(f[1]);if(m.originalInscriptionId){a({isDelegate:!0,originalInscriptionId:m.originalInscriptionId}),n(!1),console.log(`[InscriptionPreview]  Detected delegate (direct): ${e.inscriptionId} -> Original: ${m.originalInscriptionId}`);return}}catch{}}if(d&&(d.includes("<img")||d.includes("/content/"))){const f=d.match(/\/(content)\/([a-f0-9]{64}i\d+)/i);if(f&&f[2]&&f[2]!==e.inscriptionId){a({isDelegate:!0,originalInscriptionId:f[2]}),n(!1),console.log(`[InscriptionPreview]  Detected delegate via <img> (direct): ${e.inscriptionId} -> Original: ${f[2]}`);return}}a({isDelegate:!1,originalInscriptionId:null}),n(!1)}).catch(d=>{console.error("[InscriptionPreview]  Error checking delegate (direct):",d),n(!1),a({isDelegate:!1,originalInscriptionId:null})}))},[e.inscriptionId,o,c,t,r]),(e.isDelegate===!0||e.isDelegate==="true"||e.originalInscriptionId)&&e.originalInscriptionId){const d=`https://ordinals.com/content/${e.originalInscriptionId}`;return s.jsx("img",{src:d,alt:e.name,className:"w-full h-full object-contain rounded",onError:f=>{const m=f.currentTarget;m.style.display="none";const y=m.parentElement;y&&(y.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Delegate (Original not found)</div></div>')}})}if(r&&r.isDelegate&&r.originalInscriptionId){const d=`https://ordinals.com/content/${r.originalInscriptionId}`;return s.jsx("img",{src:d,alt:e.name,className:"w-full h-full object-contain rounded",onError:f=>{const m=f.currentTarget;m.style.display="none";const y=m.parentElement;y&&(y.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Delegate (Original not found)</div></div>')}})}return o&&c?s.jsx("iframe",{src:l,className:"w-full h-full rounded",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock",title:e.name,style:{border:"none",pointerEvents:"auto"},onError:d=>{const f=d.currentTarget;f.style.display="none";const m=f.parentElement;m&&(m.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">HTML</div></div>')}}):i.includes("image/")||i==="image/svg+xml"||i.includes("svg")?s.jsx("img",{src:l,alt:e.name,className:"w-full h-full object-contain rounded",onError:d=>{const f=d.currentTarget;f.style.display="none";const m=f.parentElement;m&&(m.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Image</div></div>')}}):(i.includes("text/html")||i.includes("html"))&&e.isDelegate!==!0&&e.isDelegate!=="true"?s.jsx("iframe",{src:l,className:"w-full h-full rounded",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock",title:e.name,style:{border:"none",pointerEvents:"auto"},onError:d=>{const f=d.currentTarget;f.style.display="none";const m=f.parentElement;m&&(m.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">HTML</div></div>')}}):i.includes("audio/")?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("audio",{src:l,controls:!0,className:"w-full max-w-full",preload:"metadata",children:"Ihr Browser untersttzt das Audio-Element nicht."}),s.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"Audio"})]}):i.includes("video/")?s.jsx("video",{src:l,className:"w-full h-full object-contain rounded",controls:!0,preload:"metadata",children:"Ihr Browser untersttzt das Video-Element nicht."}):i.includes("application/json")||i.includes("json")?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"JSON"})]}):i.includes("text/plain")?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"Text"})]}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsxs("div",{className:"text-xs text-gray-400 text-center mt-1",children:["Unknown (",i,")"]})]})},hg=({adminAddress:e})=>{const[t,n]=w.useState([]),[r,a]=w.useState(!0),[i,l]=w.useState([]),[o,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[y,x]=w.useState(""),[h,b]=w.useState({name:"",description:"",thumbnail:"",price:"",items:[]});w.useEffect(()=>{g()},[e]);const p=async()=>{if(!e){console.warn("[CollectionManager] No admin address provided, cannot load wallet inscriptions");return}console.log("[CollectionManager] Loading wallet inscriptions for:",e),c(!0);try{const I=await lf(e);console.log("[CollectionManager]  Loaded wallet inscriptions:",I.length),console.log("[CollectionManager] First few inscriptions:",I.slice(0,3));const _=I.filter(z=>z.isDelegate===!0||z.originalInscriptionId);if(console.log(`[CollectionManager]  Found ${_.length} potential delegate inscriptions (isDelegate=true OR has originalInscriptionId)`),_.length>0)console.log("[CollectionManager]  First 3 delegate inscriptions:",_.slice(0,3).map(z=>({inscriptionId:z.inscriptionId,isDelegate:z.isDelegate,originalInscriptionId:z.originalInscriptionId,contentType:z.contentType,name:z.name})));else{console.warn("[CollectionManager]  No delegate inscriptions found! Checking all inscriptions for HTML content...");const z=I.filter(W=>W.contentType&&(W.contentType.includes("html")||W.contentType.includes("text/html")));console.log(`[CollectionManager]  Found ${z.length} HTML inscriptions (but not marked as delegates):`,z.slice(0,3).map(W=>({inscriptionId:W.inscriptionId,contentType:W.contentType,isDelegate:W.isDelegate,originalInscriptionId:W.originalInscriptionId})))}l(I),I.length===0&&(console.warn("[CollectionManager]  No inscriptions found. This might be because:"),console.warn("[CollectionManager]   1. The wallet has no inscriptions"),console.warn("[CollectionManager]   2. The API endpoint returned an error"),console.warn("[CollectionManager]   3. The API key is invalid or missing"),console.warn("[CollectionManager]   4. The address format is incorrect"))}catch(I){console.error("[CollectionManager]  Error loading wallet inscriptions:",I),console.error("[CollectionManager] Error message:",I==null?void 0:I.message),console.error("[CollectionManager] Error stack:",I==null?void 0:I.stack),l([]),alert(`Error loading wallet inscriptions: ${(I==null?void 0:I.message)||"Unknown error"}. Check console for details.`)}finally{c(!1)}};w.useEffect(()=>{f&&e?(console.log("[CollectionManager] Form opened, loading wallet inscriptions..."),p()):f||(l([]),x(""))},[f,e]);const g=async()=>{a(!0);try{const I=await ug(e);n(I)}catch(I){console.error("Error loading collections:",I)}finally{a(!1)}},v=I=>{var z;const _=(z=I.target.files)==null?void 0:z[0];if(_){const W=new FileReader;W.onloadend=()=>{b({...h,thumbnail:W.result})},W.readAsDataURL(_)}},j=(I,_)=>{const z=h.items.findIndex(W=>W.inscriptionId===I.inscriptionId);if(z>=0)b({...h,items:h.items.filter((W,je)=>je!==z)});else{const W=`https://ordinals.com/content/${I.inscriptionId}`;b({...h,items:[...h.items,{inscriptionId:I.inscriptionId,name:I.name,type:_,imageUrl:W}]})}},S=I=>h.items.some(_=>_.inscriptionId===I),T=I=>{const _=h.items.find(z=>z.inscriptionId===I);return(_==null?void 0:_.type)||"delegate"},E=async()=>{if(!h.name||!h.price||h.items.length===0){alert("Please fill in all required fields (Name, Price, and select at least one item)");return}try{u?(await pg(u.id,e,h),alert("Collection updated successfully!")):(await fg(e,h),alert("Collection created successfully!")),D(),g()}catch(I){alert(`Error: ${I.message}`)}},C=I=>{d(I),b({name:I.name,description:I.description,thumbnail:I.thumbnail,price:I.price.toString(),items:I.items}),m(!0)},B=async I=>{if(confirm("Are you sure you want to deactivate this collection?"))try{await mg(I,e),alert("Collection deactivated successfully!"),g()}catch(_){alert(`Error: ${_.message}`)}},D=()=>{b({name:"",description:"",thumbnail:"",price:"",items:[]}),d(null),m(!1)},G=i.filter(I=>I.name.toLowerCase().includes(y.toLowerCase())||I.inscriptionId.toLowerCase().includes(y.toLowerCase()));return r?s.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white border-b border-red-600 pb-2",children:"Collection Management"}),s.jsx("button",{onClick:()=>{D(),m(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:"+ New Collection"})]}),f&&s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-6 mb-6",children:[s.jsx("h4",{className:"font-bold text-white mb-4",children:u?"Edit Collection":"Create New Collection"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Name *"}),s.jsx("input",{type:"text",value:h.name,onChange:I=>b({...h,name:I.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"Collection name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Description"}),s.jsx("textarea",{value:h.description,onChange:I=>b({...h,description:I.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",rows:3,placeholder:"Collection description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Thumbnail"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"text-white text-sm"}),h.thumbnail&&s.jsx("img",{src:h.thumbnail,alt:"Thumbnail preview",className:"w-20 h-20 object-cover rounded"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Or enter URL:"}),s.jsx("input",{type:"text",value:h.thumbnail,onChange:I=>b({...h,thumbnail:I.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm mt-1",placeholder:"https://example.com/image.png"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Price (BTC) *"}),s.jsx("input",{type:"number",step:"0.00000001",value:h.price,onChange:I=>b({...h,price:I.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"0.0001"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Select Items from Wallet (",h.items.length," selected) *"]}),s.jsx("div",{className:"mb-2",children:s.jsx("input",{type:"text",value:y,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"Search inscriptions..."})}),e?o?s.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Loading wallet inscriptions..."}):s.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:G.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i.length===0?"No inscriptions found in wallet":"No inscriptions match your search"}),i.length>0&&s.jsxs("p",{className:"text-gray-500 text-xs",children:["Showing ",G.length," of ",i.length," inscriptions"]})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:G.map(I=>{var je;const _=S(I.inscriptionId),z=T(I.inscriptionId);let W=((je=I.contentType)==null?void 0:je.toLowerCase())||"unknown";return W==="unknown"&&(I.isDelegate===!0||I.isDelegate==="true")&&(W="text/html"),s.jsxs("div",{className:`border rounded p-2 cursor-pointer transition ${_?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>j(I,z),children:[s.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:s.jsx(zi,{inscription:I})}),s.jsx("div",{className:"text-xs text-white truncate mb-1",children:I.name}),s.jsx("div",{className:"text-xs text-gray-500 truncate mb-1",children:W}),_&&s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs("select",{value:z,onChange:ce=>{const $=h.items.map(R=>R.inscriptionId===I.inscriptionId?{...R,type:ce.target.value}:R);b({...h,items:$})},onClick:ce=>ce.stopPropagation(),className:"text-xs bg-gray-700 text-white rounded px-1 py-0.5",children:[s.jsx("option",{value:"delegate",children:"Delegate"}),s.jsx("option",{value:"original",children:"Original"})]})})]},I.inscriptionId)})})}):s.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Please connect admin wallet to view inscriptions"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:u?"Update Collection":"Create Collection"}),s.jsx("button",{onClick:D,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded font-semibold text-sm",children:"Cancel"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-white mb-3",children:["Collections (",t.length,")"]}),t.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"No collections yet"}):s.jsx("div",{className:"space-y-4",children:t.map(I=>s.jsx("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[I.thumbnail&&s.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded flex items-center justify-center flex-shrink-0",children:s.jsx("img",{src:I.thumbnail,alt:I.name,className:"w-full h-full object-cover rounded",onError:_=>{_.currentTarget.style.display="none"}})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h5",{className:"font-bold text-white text-lg",children:I.name}),!I.active&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-700 text-white rounded",children:"Inactive"})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:I.description}),s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsxs("span",{className:"text-red-600 font-bold",children:[I.price," BTC"]}),s.jsxs("span",{className:"text-gray-500 text-xs",children:[I.items.length," items"]})]})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>C(I),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm font-semibold text-white",children:"Edit"}),s.jsx("button",{onClick:()=>B(I.id),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white",children:"Deactivate"})]})]})},I.id))})]})]})},gg=({onClose:e})=>{var T,E;const{walletState:t}=xe(),[n,r]=w.useState("overview"),[a,i]=w.useState(null),[l,o]=w.useState(null),[c,u]=w.useState(null),[d,f]=w.useState([]),[m,y]=w.useState(!0),[x,h]=w.useState(null),b=t.connected&&((T=t.accounts[0])==null?void 0:T.address)&&Vl(t.accounts[0].address),p=(E=t.accounts[0])==null?void 0:E.address;w.useEffect(()=>{b||(console.warn("Unauthorized access attempt to Admin Panel"),e())},[b,e]),w.useEffect(()=>{b&&p&&(async()=>{if(!p){h("No admin address available"),y(!1);return}y(!0),h(null);try{const[B,D,G,I]=await Promise.all([qh(p).catch(_=>(console.warn("[AdminPanel] Failed to load collection stats:",_),null)),Gl(p).catch(_=>(console.warn("[AdminPanel] Failed to load hashlist:",_),null)),eg(p).catch(_=>(console.warn("[AdminPanel] Failed to load admin stats:",_),null)),tg(p).catch(_=>(console.warn("[AdminPanel] Failed to load trade offers:",_),[]))]);i(B),u(D),o(G),f(I||[])}catch(B){console.error("[AdminPanel]  Failed to load admin data:",B),h(B.message||"Failed to load admin data. Please check backend connection.")}finally{y(!1)}})()},[b,p]);const g=async()=>{if(!p){alert("Admin address required");return}await Yh(p)},v=async()=>{if(!p){alert("Admin address required");return}await Zh(p)},j=async()=>{if(!p){alert("Admin address required");return}try{await ng(p),alert("Ordner wird geffnet...")}catch(C){alert(`Fehler: ${C.message}`)}},S=async()=>{if(!p){alert("Admin address required");return}try{await rg(p)}catch(C){alert(`Fehler: ${C.message}`)}};return b?s.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex gap-2 px-4 pt-4 border-b-2 border-gray-800",children:[s.jsx("button",{onClick:()=>r("overview"),className:`px-4 py-2 font-semibold transition ${n==="overview"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Overview"}),s.jsxs("button",{onClick:()=>r("trades"),className:`px-4 py-2 font-semibold transition ${n==="trades"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:["Trade Offers (",d.length,")"]}),s.jsxs("button",{onClick:()=>r("cards"),className:`px-4 py-2 font-semibold transition ${n==="cards"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:["Cards (",Ye.length,")"]}),s.jsx("button",{onClick:()=>r("pointShop"),className:`px-4 py-2 font-semibold transition ${n==="pointShop"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Point Shop"}),s.jsx("button",{onClick:()=>r("collections"),className:`px-4 py-2 font-semibold transition ${n==="collections"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Collections"}),s.jsx("button",{onClick:()=>r("settings"),className:`px-4 py-2 font-semibold transition ${n==="settings"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Settings"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:m?s.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):x?s.jsxs("div",{className:"text-red-600 text-center py-8",children:[s.jsx("p",{className:"font-bold mb-2",children:"Error loading admin data"}),s.jsx("p",{className:"text-sm",children:x})]}):s.jsxs(s.Fragment,{children:[n==="overview"&&s.jsxs("div",{className:"space-y-6",children:[a&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Collection Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Packs"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:a.totalPacks})]}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Starter Packs"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:a.starterPacks})]}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Premium Packs"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:a.premiumPacks})]}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Inscriptions"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:a.totalInscriptions})]})]}),a.byRarity&&Object.keys(a.byRarity).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"By Rarity"}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:Object.entries(a.byRarity).map(([C,B])=>s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-2",children:[s.jsx("p",{className:"text-gray-400 text-xs capitalize",children:C}),s.jsx("p",{className:"text-white text-lg font-bold",children:B})]},C))})]})]}),l&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"System Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Delegates"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:l.totalDelegates||0})]}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Trade Offers"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:l.totalTradeOffers||0})]}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Active Offers"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:l.activeTradeOffers||0})]})]})]}),s.jsxs("div",{className:"border-t border-red-600 pt-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Export Functions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{onClick:g,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded border border-white transition",children:"Export Full Hashlist (JSON)"}),s.jsx("button",{onClick:v,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:"Export Simple (Inscription IDs only)"}),s.jsx("button",{onClick:S,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:"Export All Cards Info (JSON)"}),s.jsx("button",{onClick:j,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:" Open Card Images Folder"})]})]})]}),n==="trades"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Trade Offers Management"}),d.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:s.jsx("p",{children:"No trade offers found"})}):s.jsx("div",{className:"space-y-3",children:d.map(C=>s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-mono text-gray-400",children:C.offerId}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Maker: ",C.maker.slice(0,12),"..."]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${C.status==="active"?"bg-green-900 text-green-200":"bg-gray-700 text-gray-300"}`,children:C.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:["Offers (",C.offerCards.length,"):"]}),s.jsxs("div",{className:"space-y-1",children:[C.offerCards.slice(0,3).map(B=>s.jsxs("p",{className:"text-xs font-mono text-white",children:[B.slice(0,16),"..."]},B)),C.offerCards.length>3&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.offerCards.length-3," more"]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:["Wants (",C.requestCards.length,"):"]}),s.jsxs("div",{className:"space-y-1",children:[C.requestCards.slice(0,3).map(B=>s.jsxs("p",{className:"text-xs font-mono text-white",children:[B.slice(0,16),"..."]},B)),C.requestCards.length>3&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.requestCards.length-3," more"]})]})]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Created: ",new Date(C.createdAt).toLocaleString()]})]},C.offerId))})]}),n==="cards"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:["All Cards (",Ye.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto",children:Ye.map(C=>s.jsx(xg,{card:C},C.id))})]}),n==="pointShop"&&s.jsx(yg,{adminAddress:p}),n==="collections"&&p&&s.jsx(hg,{adminAddress:p}),n==="settings"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Admin Settings"}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[s.jsx("h4",{className:"font-bold text-white mb-3",children:"System Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Total Cards:"})," ",Ye.length]}),s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Animal Cards:"})," ",Ye.filter(C=>C.cardType==="animal").length]}),s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Action Cards:"})," ",Ye.filter(C=>C.cardType==="action").length]}),s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Status Cards:"})," ",Ye.filter(C=>C.cardType==="status").length]})]})]}),c&&s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[s.jsx("h4",{className:"font-bold text-white mb-3",children:"Collection Info"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Collection ID:"})," ",c.collection]}),s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Total Minted:"})," ",c.totalMinted," inscriptions"]}),s.jsxs("p",{className:"text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Generated:"})," ",new Date(c.generatedAt).toLocaleString()]})]})]})]})]})})]})}):null},xg=({card:e})=>{const[t,n]=w.useState(!1),[r,a]=w.useState(()=>e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")?`https://ordinals.com/content/${e.inscriptionId}`:""),i=o=>{const u=o.target.src;if(console.error(`[AdminPanel] Image load error for ${e.name} from ${u}`),u.includes("ordinals.com/content")){const d=`https://ordinals.com/preview/${e.inscriptionId}`;console.log(`[AdminPanel] Trying preview URL: ${d}`),a(d)}else if(u.includes("ordinals.com/preview")){const d=`https://ordiscan.com/content/${e.inscriptionId}`;console.log(`[AdminPanel] Trying ordiscan URL: ${d}`),a(d)}else console.error(`[AdminPanel] All image sources failed for ${e.name}`),n(!0)},l=e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-");return s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3 hover:border-red-500 transition",children:[s.jsx("div",{className:"mb-3 aspect-square bg-black rounded overflow-hidden flex items-center justify-center border border-gray-700",children:l?t?s.jsxs("div",{className:"text-red-500 text-xs text-center p-2",children:[s.jsx("p",{children:"Error loading image"}),s.jsx("p",{className:"text-gray-500 mt-1 text-[10px] break-all",children:e.inscriptionId}),e.svgIcon&&s.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 mt-2",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):s.jsx("img",{src:r,alt:e.name,className:"w-full h-full object-contain",onError:i,onLoad:()=>{console.log(`[AdminPanel]  Image loaded successfully for ${e.name} (${e.cardType}) from ${r}`)}},r):e.svgIcon?s.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",dangerouslySetInnerHTML:{__html:e.svgIcon}}):s.jsx("div",{className:"text-gray-500 text-xs",children:"No preview"})}),s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:e.name}),s.jsx("p",{className:"text-xs text-gray-400 capitalize",children:e.rarity}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.cardType||"animal"})]}),s.jsx("span",{className:"text-xs px-2 py-1 bg-red-600 text-white rounded ml-2",children:e.id})]}),s.jsx("p",{className:"text-xs font-mono text-gray-400 break-all mt-2 truncate",title:e.inscriptionId,children:e.inscriptionId}),e.effect&&s.jsx("p",{className:"text-xs text-gray-300 mt-2 italic line-clamp-2",children:e.effect})]})},yg=({adminAddress:e})=>{const t="http://localhost:3003",{walletState:n}=xe(),[r,a]=w.useState([]),[i,l]=w.useState(!0),[o,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(""),[y,x]=w.useState(new Set),[h,b]=w.useState("single"),[p,g]=w.useState({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),[v,j]=w.useState(!1),[S,T]=w.useState(null),[E,C]=w.useState([]),[B,D]=w.useState(15),[G,I]=w.useState(e||"");w.useEffect(()=>{_()},[]),w.useEffect(()=>{(p.itemType==="original"||h==="series"||h==="bulk")&&e?z():h==="single"&&p.itemType==="delegate"&&(c([]),m(""),x(new Set))},[p.itemType,e,h]);const _=async()=>{l(!0);try{const k=await af();a(k)}catch(k){console.error("Error loading point shop items:",k)}finally{l(!1)}},z=async()=>{if(e){d(!0);try{const k=await lf(e);c(k)}catch(k){console.error("Error loading wallet inscriptions:",k),c([])}finally{d(!1)}}},W=k=>{g({...p,inscriptionId:k})},je=k=>{const N=new Set(y);N.has(k)?N.delete(k):N.add(k),x(N)},ce=o.filter(k=>k.name.toLowerCase().includes(f.toLowerCase())||k.inscriptionId.toLowerCase().includes(f.toLowerCase())),$=async()=>{try{if(h==="single"){if(!p.inscriptionId||!p.title||!p.pointsCost){alert("Please fill in all required fields (Inscription ID, Title, Points)");return}const k=await fetch(`${t}/api/point-shop/admin/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemType:p.itemType,inscriptionId:p.inscriptionId,title:p.title,description:p.description,pointsCost:parseInt(p.pointsCost,10)})});if(!k.ok){const P=await k.json().catch(()=>({error:"Unknown error"}));throw new Error(P.error||"Failed to add item")}const N=await k.json();await _(),p.itemType==="original"&&N.item?(T(N.item),C([{inscriptionId:p.inscriptionId,status:"pending"}]),j(!0)):(g({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert("Item added successfully!"))}else if(h==="series"){if(y.size===0||!p.title||!p.pointsCost){alert("Please select at least one inscription and fill in title and points");return}const k=Array.from(y),N=await fetch(`${t}/api/point-shop/admin/add-series`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionIds:k,title:p.title,description:p.description,pointsCost:parseInt(p.pointsCost,10),totalCount:k.length,inscriptionItemType:p.itemType})});if(!N.ok){const A=await N.json().catch(()=>({error:"Unknown error"}));throw new Error(A.error||"Failed to add series")}const P=await N.json();await _(),p.itemType==="original"&&P.item?(T(P.item),C(k.map(A=>({inscriptionId:A,status:"pending"}))),j(!0)):(x(new Set),g({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert(`Series with ${k.length} items created successfully!`))}else if(h==="bulk"){if(y.size===0||!p.title||!p.pointsCost){alert("Please select at least one inscription and fill in title and points");return}const k=Array.from(y),N=await fetch(`${t}/api/point-shop/admin/add-bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemType:p.itemType,inscriptionIds:k,title:p.title,description:p.description,pointsCost:parseInt(p.pointsCost,10)})});if(!N.ok){const A=await N.json().catch(()=>({error:"Unknown error"}));throw new Error(A.error||"Failed to add bulk items")}const P=await N.json();await _(),p.itemType==="original"&&P.items&&P.items.length>0?(T(P.items[0]),C(k.map(A=>({inscriptionId:A,status:"pending"}))),j(!0)):(x(new Set),g({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert(`${P.itemsCreated||k.length} items created successfully!`))}}catch(k){alert(`Error: ${k.message}`)}},R=async(k,N)=>{var A;if(!S||!e)return;const P=[...E];P[N]={...P[N],status:"preparing"},C(P);try{console.log("[AdminPanel] Calling createTransfer for inscription:",k);const F=await og(k,G||e,B,e,S.id);console.log("[AdminPanel] createTransfer successful:",{transferId:F.data.transferId,hasPsbt:!!F.data.psbt,psbtLength:(A=F.data.psbt)==null?void 0:A.length}),C(U=>{const Q=[...U];return Q[N]={...Q[N],status:"ready",transferId:F.data.transferId,psbtBase64:F.data.psbt},console.log("[AdminPanel] Status updated to ready for index:",N,"new status:",Q[N].status),Q})}catch(F){console.error("[AdminPanel] createTransfer error:",F),C(U=>{const Q=[...U];return Q[N]={...Q[N],status:"error",error:F.message||"Failed to create transfer"},Q})}},O=async(k,N)=>{var A;if(!S||!n.connected||!n.walletType)return;const P=E[N];if(!P.psbtBase64||!P.transferId){alert("PSBT not prepared yet or transferId missing");return}C(F=>{const U=[...F];return U[N]={...U[N],status:"signing"},U});try{console.log("[AdminPanel] Signing PSBT for inscription:",k,"index:",N),console.log("[AdminPanel] PSBT Base64 length:",(A=P.psbtBase64)==null?void 0:A.length),console.log("[AdminPanel] Wallet type:",n.walletType),console.log("[AdminPanel] Transfer ID:",P.transferId),console.log("[AdminPanel] Calling signPSBT...");const F=await Vh(P.psbtBase64,n.walletType,!1);console.log("[AdminPanel] PSBT signed successfully, signed PSBT length:",F==null?void 0:F.length),console.log("[AdminPanel] PSBT signed, confirming transfer:",P.transferId);const U=await xc(P.transferId,F,e,!0,S.id);console.log("[AdminPanel] Transfer confirmed for index:",N),C(Q=>{const st=[...Q];return st[N]={...st[N],status:"signed"},st}),await _()}catch(F){console.error("[AdminPanel] Error signing PSBT for index:",N,F),C(U=>{const Q=[...U];return Q[N]={...Q[N],status:"error",error:F.message||"Failed to sign or confirm transfer"},Q})}},V=async()=>{if(S)for(let k=0;k<E.length;k++)E[k].status==="pending"&&(await R(E[k].inscriptionId,k),await new Promise(N=>setTimeout(N,500)))},X=async()=>{if(!S||!n.connected||!n.walletType){alert("Please connect your wallet first");return}try{const k=E.map((P,A)=>({...P,index:A})).filter(P=>P.status==="ready"&&P.psbtBase64&&P.transferId);if(k.length===0){alert("Keine bereiten PSBTs zum Signieren gefunden");return}const N=[...E];if(k.forEach(P=>{N[P.index]={...N[P.index],status:"signing"}}),C(N),n.walletType==="unisat"&&k.length>1){const P=k.map(A=>A.psbtBase64);try{const A=await Qh(P,n.walletType,!1);for(let F=0;F<k.length;F++){const U=k[F],Q=A[F];try{const st=await xc(U.transferId,Q,e,!1,S.id);N[U.index]={...N[U.index],status:"signed"}}catch(st){N[U.index]={...N[U.index],status:"error",error:st.message||"Failed to confirm transfer"}}}}catch(A){console.warn("[AdminPanel] Batch-Signatur fehlgeschlagen, verwende sequenzielle Signatur:",A);for(const F of k)try{await O(F.inscriptionId,F.index),await new Promise(U=>setTimeout(U,500))}catch(U){N[F.index]={...N[F.index],status:"error",error:U.message||"Failed to sign"}}}}else for(const P of k)try{await O(P.inscriptionId,P.index),await new Promise(A=>setTimeout(A,500))}catch(A){N[P.index]={...N[P.index],status:"error",error:A.message||"Failed to sign"}}C(N),await _(),alert(`${k.length} PSBT(s) erfolgreich signiert!`)}catch(k){console.error("[AdminPanel] Error in handleSignAll:",k),alert(`Fehler beim Signieren: ${k.message}`)}},_e=async k=>{if(confirm("Mchtest du dieses Item wirklich deaktivieren?"))try{if(!(await fetch(`${t}/api/point-shop/admin/item/${k}`,{method:"DELETE"})).ok)throw new Error("Failed to delete item");await _(),alert("Item erfolgreich deaktiviert!")}catch(N){alert(`Fehler: ${N.message}`)}};return i?s.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Point Shop Management"}),s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4 mb-6",children:[s.jsx("h4",{className:"font-bold text-white mb-3",children:"Add New Item"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Create Mode *"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"createMode",value:"single",checked:h==="single",onChange:k=>{b(k.target.value),x(new Set),g({...p,inscriptionId:""})},className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Single Item"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"createMode",value:"series",checked:h==="series",onChange:k=>{b(k.target.value),x(new Set),g({...p,inscriptionId:""})},className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Series (1/N - N/N)"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"createMode",value:"bulk",checked:h==="bulk",onChange:k=>{b(k.target.value),x(new Set),g({...p,inscriptionId:""})},className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Bulk (Multiple Items)"})]})]})]}),h==="single"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Item Type *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"itemType",value:"delegate",checked:p.itemType==="delegate",onChange:k=>g({...p,itemType:k.target.value}),className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Delegate (creates new delegate inscription)"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"itemType",value:"original",checked:p.itemType==="original",onChange:k=>g({...p,itemType:k.target.value}),className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Original (transfers existing ordinal)"})]})]})]}),(h==="series"||h==="bulk")&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Item Type * (fr die Inskriptionen in Serie/Bulk)"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"itemType",value:"delegate",checked:p.itemType==="delegate",onChange:k=>g({...p,itemType:k.target.value}),className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Delegate"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"itemType",value:"original",checked:p.itemType==="original",onChange:k=>g({...p,itemType:k.target.value}),className:"text-red-600"}),s.jsx("span",{className:"text-white text-sm",children:"Original"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:h==="single"?p.itemType==="delegate"?"Delegate Inscription ID *":"Original Inscription ID *":h==="series"?"Select Inscriptions for Series *":"Select Inscriptions for Bulk *"}),h==="single"&&p.itemType==="original"?s.jsxs("div",{children:[s.jsx("input",{type:"text",value:p.inscriptionId,onChange:k=>g({...p,inscriptionId:k.target.value}),placeholder:"Select from wallet below or enter manually",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm mb-2"}),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-2",children:s.jsx("input",{type:"text",value:f,onChange:k=>m(k.target.value),placeholder:"Search inscriptions...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})}),u?s.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Loading wallet inscriptions..."}):s.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:ce.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"No inscriptions found"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ce.map(k=>{const N=p.inscriptionId===k.inscriptionId;return s.jsxs("div",{onClick:()=>W(k.inscriptionId),className:`border rounded p-2 cursor-pointer transition ${N?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:s.jsx(zi,{inscription:k})}),s.jsx("div",{className:"text-xs text-white truncate mb-1",children:k.name}),s.jsxs("div",{className:"text-xs text-gray-400 font-mono truncate",children:[k.inscriptionId.slice(0,10),"..."]})]},k.inscriptionId)})})})]}):s.jsx("p",{className:"text-gray-400 text-sm",children:"Please connect admin wallet to view inscriptions"})]}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:p.inscriptionId,onChange:k=>g({...p,inscriptionId:k.target.value}),placeholder:"e.g. f477036da334ea19d3d2a9dcd1c101641fe196fd67f4ca5f07aae686703930e7i0",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The delegate inscription ID that will be referenced"})]}),h==="series"||h==="bulk"?s.jsx(s.Fragment,{children:e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-2",children:s.jsx("input",{type:"text",value:f,onChange:k=>m(k.target.value),placeholder:"Search inscriptions...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})}),u?s.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Loading wallet inscriptions..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:ce.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"No inscriptions found"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ce.map(k=>{const N=y.has(k.inscriptionId);return s.jsxs("div",{onClick:()=>je(k.inscriptionId),className:`border rounded p-2 cursor-pointer transition relative ${N?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx("input",{type:"checkbox",checked:N,onChange:()=>je(k.inscriptionId),className:"w-4 h-4 text-red-600 rounded bg-black border-2 border-gray-600",onClick:P=>P.stopPropagation()})}),s.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:s.jsx(zi,{inscription:k})}),s.jsx("div",{className:"text-xs text-white truncate mb-1",children:k.name}),s.jsxs("div",{className:"text-xs text-gray-400 font-mono truncate",children:[k.inscriptionId.slice(0,10),"..."]})]},k.inscriptionId)})})}),h==="series"&&y.size>0&&s.jsxs("div",{className:"mt-2 p-2 bg-blue-900/20 border border-blue-600 rounded text-sm text-blue-300",children:[y.size,' Inskriptionen ausgewhlt fr Serie: "',p.title||"Titel eingeben",'" (1/',y.size," - ",y.size,"/",y.size,")"]}),h==="bulk"&&y.size>0&&s.jsxs("div",{className:"mt-2 p-2 bg-green-900/20 border border-green-600 rounded text-sm text-green-300",children:[y.size," Inskriptionen ausgewhlt. Es werden ",y.size,' separate Items erstellt (jedes mit "',p.title||"Titel",' #1", "#2", etc.).']})]})]}):s.jsx("p",{className:"text-gray-400 text-sm",children:"Please connect admin wallet to view inscriptions"})}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Title *"}),s.jsx("input",{type:"text",placeholder:"e.g. Exclusive Art #1",value:p.title,onChange:k=>g({...p,title:k.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Description"}),s.jsx("textarea",{placeholder:"Item description...",value:p.description,onChange:k=>g({...p,description:k.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Points Cost *"}),s.jsx("input",{type:"number",placeholder:"e.g. 100",value:p.pointsCost,onChange:k=>g({...p,pointsCost:k.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",min:"1"})]}),s.jsx("button",{onClick:$,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:"Add Item"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-white mb-3",children:["Active Items (",r.length,")"]}),r.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"No items yet"}):s.jsx("div",{className:"space-y-4",children:r.map(k=>{let N;k.itemType==="series"?N=k.inscriptionIds&&k.inscriptionIds.length>0?k.inscriptionIds[k.currentIndex||0]||k.inscriptionIds[0]:void 0:N=k.itemType==="delegate"?k.delegateInscriptionId:k.originalInscriptionId;const P=k.itemType==="series"&&k.totalCount&&k.currentIndex!==void 0?k.totalCount-k.currentIndex:null;return s.jsx("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded flex items-center justify-center flex-shrink-0 overflow-hidden",children:N&&s.jsx("img",{src:`https://ordinals.com/content/${N}`,alt:k.title,className:"w-full h-full object-contain rounded",onError:A=>{const F=A.currentTarget;F.style.display="none";const U=F.parentElement;U&&(U.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-1"><div class="text-2xl mb-1"></div></div>')}})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h5",{className:"font-bold text-white text-lg",children:k.title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${k.itemType==="series"?"bg-purple-600 text-white":k.itemType==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:k.itemType==="series"?"Series":k.itemType==="delegate"?"Delegate":"Original"}),k.itemType==="series"&&P!==null&&s.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-800 text-white",children:[P,"/",k.totalCount," left"]})]}),k.itemType==="series"&&k.seriesTitle&&s.jsx("p",{className:"text-xs text-purple-400 mb-1 font-semibold",children:k.seriesTitle}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:k.description}),s.jsxs("div",{className:"mt-2 flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"text-red-600 font-bold",children:[k.pointsCost," Points"]}),k.itemType==="series"&&k.inscriptionIds&&s.jsxs("span",{className:"text-gray-500 text-xs",children:[k.inscriptionIds.length," Inskriptionen"]}),N&&k.itemType!=="series"&&s.jsxs("span",{className:"text-gray-500 text-xs",children:["ID: ",N.slice(0,20),"..."]})]})]})]})}),s.jsx("button",{onClick:()=>_e(k.id),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white",children:"Deactivate"})]})},k.id)})})]}),v&&S&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Pre-Signing: ",S.title]}),s.jsx("button",{onClick:()=>{j(!1),T(null),C([])},className:"text-gray-400 hover:text-white",children:""})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Fr Original-Items mssen Sie die Transaktionen VORHER freigeben. Beim Kauf wird dann nur noch die bereits signierte Transaktion gebroadcastet."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Fee Rate (sat/vB)"}),s.jsx("input",{type:"number",value:B,onChange:k=>D(parseInt(k.target.value,10)),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Recipient (wird beim Kauf berschrieben)"}),s.jsx("input",{type:"text",value:G,onChange:k=>I(k.target.value),placeholder:"bc1p...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:V,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-semibold",disabled:E.some(k=>k.status==="preparing"),children:"Prepare All PSBTs"}),n.connected&&s.jsx("button",{onClick:X,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-semibold",disabled:E.some(k=>k.status==="signing"||k.status==="preparing")||!E.some(k=>k.status==="ready"&&k.psbtBase64&&k.transferId),children:"Sign All"})]})]}),s.jsx("div",{className:"space-y-2",children:E.map((k,N)=>s.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-xs text-gray-400 font-mono mb-1",children:[k.inscriptionId.slice(0,20),"..."]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${k.status==="pending"?"bg-gray-600 text-white":k.status==="preparing"?"bg-yellow-600 text-white":k.status==="ready"?"bg-blue-600 text-white":k.status==="signing"?"bg-orange-600 text-white":k.status==="signed"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.status==="pending"?"Pending":k.status==="preparing"?"Preparing...":k.status==="ready"?"Ready to Sign":k.status==="signing"?"Signing...":k.status==="signed"?" Signed":"Error"}),k.error&&s.jsx("span",{className:"text-xs text-red-400",children:k.error})]})]}),s.jsxs("div",{className:"flex gap-2",children:[k.status==="pending"&&s.jsx("button",{onClick:()=>R(k.inscriptionId,N),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs",children:"Prepare"}),k.status==="ready"&&n.connected&&s.jsx("button",{onClick:()=>O(k.inscriptionId,N),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-xs",children:"Sign"})]})]})},k.inscriptionId))}),E.every(k=>k.status==="signed")&&s.jsxs("div",{className:"mt-4 p-4 bg-green-900/20 border border-green-600 rounded",children:[s.jsx("p",{className:"text-green-400 text-sm font-semibold",children:" Alle Transaktionen wurden erfolgreich freigegeben!"}),s.jsx("button",{onClick:()=>{j(!1),T(null),C([]),g({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""})},className:"mt-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-semibold",children:"Fertig"})]})]})})]})},vg=({onGalleryClick:e,showFullMenu:t=!0,showMintingMenu:n=!1})=>{var b,p,g,v,j,S;const r=Xe(),{walletState:a,disconnect:i,isUnisatInstalled:l,isXverseInstalled:o}=xe(),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,y]=w.useState(!1),x=a.connected&&((b=a.accounts[0])==null?void 0:b.address)&&Vl(a.accounts[0].address);ur.useEffect(()=>{console.log("HeaderMenu: walletState updated:",a)},[a]),ur.useEffect(()=>{c&&a.connected&&a.accounts&&a.accounts.length>0&&(console.log("HeaderMenu: Closing wallet modal - wallet connected:",a.accounts[0].address,"State:",a),setTimeout(()=>{u(!1)},500))},[c,a.connected,a.accounts,a]);const h=()=>{i(),f(!1)};return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed top-4 left-4 z-50",children:s.jsxs("button",{onClick:()=>r("/"),className:"bg-black border border-red-600 rounded shadow-lg px-3 py-2 flex items-center gap-2 hover:bg-red-600 transition text-sm",title:"To Home Page",children:[s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsx("span",{className:"text-sm font-bold text-white",children:"Home"})]})}),s.jsx("div",{className:"fixed top-4 right-4 z-50",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>f(!d),className:"bg-black border border-red-600 rounded shadow-lg px-3 py-2 flex items-center gap-2 hover:bg-red-600 transition text-sm",children:a.connected&&a.accounts&&a.accounts.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-bold text-white",children:"Connected"}),s.jsxs("span",{className:"text-xs font-mono text-gray-300",children:[(g=(p=a.accounts[0])==null?void 0:p.address)==null?void 0:g.slice(0,6),"...",(j=(v=a.accounts[0])==null?void 0:v.address)==null?void 0:j.slice(-4)]}),s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-white",children:"Connect Wallet"}),s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-black border-2 border-red-600 rounded-lg shadow-xl z-50 py-2",children:a.connected?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-2 border-b-2 border-red-600",children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Wallet"}),s.jsx("p",{className:"text-sm font-bold text-white capitalize",children:a.walletType}),s.jsx("p",{className:"text-xs font-mono text-gray-400 truncate mt-1",children:(S=a.accounts[0])==null?void 0:S.address})]}),n&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{e(),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("span",{className:"font-semibold",children:"Gallery"})]}),s.jsxs("button",{onClick:()=>{r("/history"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"font-semibold",children:"History"})]}),s.jsxs("button",{onClick:()=>{r("/play"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsxs("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),s.jsx("span",{className:"font-semibold",children:"Play"})]}),s.jsxs("button",{onClick:()=>{r("/trade"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),s.jsx("span",{className:"font-semibold",children:"Trade"})]})]}),t&&!n&&s.jsxs("button",{onClick:()=>{r("/black-wild"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.jsx("span",{className:"font-semibold",children:"Mint"})]}),x&&s.jsxs("button",{onClick:()=>{y(!0),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{className:"font-semibold",children:"Admin Panel"})]}),s.jsxs("button",{onClick:h,className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-red-600 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{className:"font-semibold",children:"Disconnect"})]})]}):s.jsxs("button",{onClick:()=>{u(!0),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"font-semibold",children:"Connect Wallet"})]})})]})]})}),c&&!a.connected&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4",children:s.jsx(la,{onConnected:()=>{console.log("WalletConnect callback called, closing modal"),u(!1)}})})]})}),m&&s.jsx(gg,{onClose:()=>y(!1)})]})},Kl="http://localhost:3003",Xl=async e=>{const t=await fetch(`${Kl}/api/points/${e}`);if(!t.ok)throw new Error("Failed to fetch points");return await t.json()},wg=async(e,t,n,r)=>{const a=await fetch(`${Kl}/api/points/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,packId:t,packName:n,cardCount:r})});if(!a.ok){const l=await a.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||"Failed to add points")}return await a.json()},bg=async(e,t,n,r)=>{const a=await fetch(`${Kl}/api/points/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,points:t,reason:n,details:r})});if(!a.ok){const l=await a.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||"Failed to add points")}return await a.json()},jg=({collection:e})=>{const t=Xe();return s.jsxs("div",{onClick:()=>t(`/collection/${e.id}`),className:"w-full cursor-pointer hover:opacity-90 transition-opacity duration-300 flex flex-col items-center h-full",children:[s.jsx("div",{className:"w-full max-w-md mx-auto flex-1 flex flex-col justify-start min-h-0",children:e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-auto object-contain",onError:n=>{console.warn(`[CollectionCard] Could not load thumbnail: ${e.thumbnail}`),n.currentTarget.style.display="none"}}):s.jsx("div",{className:"w-full aspect-[2/3] bg-gray-900 border border-red-600 rounded flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-white text-lg font-bold",children:e.name})]})})}),s.jsxs("div",{className:"mt-auto pt-6 text-center w-full",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:e.name}),s.jsx("p",{className:"text-sm text-gray-400",children:e.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.items.length," items"]})]})]})},Kt=[{id:"santas-revenge",title:"Santas Revenge",description:"Mint on Trio",image:"/images/SantasRevenge.png",link:"https://www.trio.xyz/collections/santas-revenge"},{id:"simulator",title:"Inside the Consciousness Simulator",description:"Mint your Card Packs on ORDX",image:"/images/Simulator.png",link:"https://www.ord-x.com/#Inside-the-Consciousness-Simulator"},{id:"sosevo",title:"Sons of Satoshi Evolution",description:"Check out on Magic Eden",image:"/images/SOSEvo.jpg",link:"https://magiceden.io/ordinals/marketplace/sosevo"},{id:"tactical",title:"Tactical",description:"Live on Lunalauncher",image:"/images/Tactical.jpg",link:"https://lunalauncher.io/#mint/richart-tactical-game"},{id:"thebox",title:"Check out THE BOX space. Every Day on X",description:"Check out on Magic Eden",image:"/images/Box.png",link:"https://magiceden.io/ordinals/marketplace/thebox"}],Ng=()=>{const[e,t]=w.useState(0),[n,r]=w.useState(!1);w.useEffect(()=>{if(n)return;const d=setInterval(()=>{t(f=>{const m=f+2;return m>=Kt.length?0:m})},5e3);return()=>clearInterval(d)},[n]);const a=()=>{const d=Kt[e],f=Kt[(e+1)%Kt.length];return[d,f]},[i,l]=a(),o=d=>{window.open(d,"_blank","noopener,noreferrer")},c=d=>{t(d)},u=Math.ceil(Kt.length/2);return s.jsxs("div",{className:"w-full max-w-6xl mx-auto mb-8 relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[s.jsx("div",{className:"bg-gray-900 border-2 border-white rounded-lg overflow-hidden",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white",children:[s.jsxs("div",{onClick:()=>o(i.link),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-gray-800 transition-all group",children:[s.jsx("div",{className:"flex-shrink-0 w-24 h-24 md:w-32 md:h-32 overflow-hidden rounded bg-gray-800",children:s.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-110",onError:d=>{console.warn(`[NewsBanner] Could not load image: ${i.image}`),d.currentTarget.style.display="none"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 line-clamp-1",children:i.title}),s.jsx("p",{className:"text-xs md:text-sm text-gray-300 mb-2 line-clamp-1",children:i.description}),s.jsxs("div",{className:"flex items-center text-white text-xs font-semibold",children:[s.jsx("span",{children:"LFG!"}),s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),s.jsxs("div",{onClick:()=>o(l.link),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-gray-800 transition-all group",children:[s.jsx("div",{className:"flex-shrink-0 w-24 h-24 md:w-32 md:h-32 overflow-hidden rounded bg-gray-800",children:s.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-110",onError:d=>{console.warn(`[NewsBanner] Could not load image: ${l.image}`),d.currentTarget.style.display="none"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 line-clamp-1",children:l.title}),s.jsx("p",{className:"text-xs md:text-sm text-gray-300 mb-2 line-clamp-1",children:l.description}),s.jsxs("div",{className:"flex items-center text-white text-xs font-semibold",children:[s.jsx("span",{children:"LFG!"}),s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),s.jsx("div",{className:"flex justify-center gap-2 mt-3",children:Array.from({length:u}).map((d,f)=>{const m=f*2,y=e===m||(e+1)%Kt.length===m||e===Kt.length-1&&f===u-1;return s.jsx("button",{onClick:x=>{x.stopPropagation(),c(m)},className:`h-2 rounded-full transition-all ${y?"w-8 bg-red-600":"w-2 bg-gray-600 hover:bg-gray-500"}`,"aria-label":`Go to slide ${f+1}`},f)})})]})},kg=()=>{const e=Xe(),{walletState:t}=xe(),[n,r]=w.useState(null),[a,i]=w.useState(!1),[l,o]=w.useState([]),[c,u]=w.useState(!0),d=[{id:"black-wild",name:"Black & Wild",thumbnail:"/thumbnail_Unbenanntes_Projekt-2026-01-01T222604.577-ezgif.com-apng-to-avif-converter - Kopie.avif",description:"Bitcoin Ordinals Card Game"},{id:"point-shop",name:"Point Shop",thumbnail:"/pointshop.png",description:"Mint exclusive Ordinals with your points",order:3},{id:"tech-games",name:"TECH & GAMES",thumbnail:"/techgame.png",description:"Interactive games and tech tools",order:2},{id:"smile-a-bit",name:"SMILE A BIT",thumbnail:"/images/RichArt.png",description:"Coming soon",order:4}];w.useEffect(()=>{m()},[]),w.useEffect(()=>{t.connected&&t.accounts[0]?f():r(null)},[t.connected,t.accounts]);const f=async()=>{if(t.accounts[0]){i(!0);try{const y=await Xl(t.accounts[0].address);r(y)}catch(y){console.error("Error loading points:",y),r(null)}finally{i(!1)}}},m=async()=>{u(!0);try{const y=await cg();o(y)}catch(y){console.error("Error loading collections:",y),o([])}finally{u(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center p-8 pt-16 relative",children:[s.jsxs("div",{className:"fixed top-4 left-4 z-40 flex items-center gap-4",children:[s.jsx("a",{href:"/link-gallery",onClick:y=>{y.preventDefault(),e("/link-gallery")},className:"inline-block hover:opacity-80 transition-opacity",title:"Link Gallery",children:s.jsx("img",{src:"/images/RichArt.png",alt:"RichArt - Link Gallery",className:"h-10 cursor-pointer",onError:y=>{console.warn("[HomePage] Could not load RichArt logo"),y.currentTarget.style.display="none"}})}),t.connected&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Your Points"}),a?s.jsx("p",{className:"text-2xl font-bold text-white",children:"Loading..."}):s.jsx("p",{className:"text-2xl font-bold text-white",children:(n==null?void 0:n.points)||0})]})]}),s.jsx("div",{className:"mb-6 text-center",children:s.jsx("img",{src:"/richartlogo.png",alt:"Atelier RichART",className:"max-w-md mx-auto h-auto",onError:y=>{console.warn("[HomePage] Could not load logo, falling back to text"),y.currentTarget.style.display="none"}})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-5xl w-full items-stretch",children:[d.map((y,x)=>s.jsxs("div",{onClick:()=>e(`/${y.id}`),className:`w-full cursor-pointer hover:opacity-90 transition-opacity duration-300 flex flex-col items-center h-full ${y.id==="point-shop"?"md:order-3":y.id==="tech-games"?"md:order-2":y.id==="smile-a-bit"?"md:order-4":"md:order-1"}`,children:[s.jsxs("div",{className:`w-full mx-auto flex-1 flex flex-col justify-start min-h-0 ${y.id==="black-wild"?"md:mt-16":y.id==="point-shop"||y.id==="tech-games"||y.id==="smile-a-bit"?"md:mt-8":""} ${y.id==="black-wild"?"max-w-32":"max-w-48"}`,children:[s.jsx("img",{src:y.thumbnail,alt:y.name,className:"w-full h-auto object-contain",onError:h=>{console.warn(`[HomePage] Could not load thumbnail: ${y.thumbnail}`),h.currentTarget.style.display="none";const b=h.currentTarget.nextElementSibling;b&&(b.style.display="flex")}}),s.jsx("div",{className:"w-full aspect-[2/3] bg-gray-900 border border-red-600 rounded flex items-center justify-center",style:{display:y.thumbnail?"none":"flex"},children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-white text-lg font-bold",children:y.name})]})})]}),s.jsxs("div",{className:"mt-auto pt-3 text-center w-full",children:[y.id==="black-wild"?s.jsxs("h2",{className:"text-xl font-bold mb-1",children:[s.jsx("span",{className:"text-black",style:{textShadow:"-1px -1px 1px rgba(255, 255, 255, 0.5), 1px -1px 1px rgba(255, 255, 255, 0.5), -1px 1px 1px rgba(255, 255, 255, 0.5), 1px 1px 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(255, 255, 255, 0.3)"},children:"BLACK"}),s.jsx("span",{className:"text-red-600 mx-1",children:"&"}),s.jsx("span",{className:"text-white",children:"WILD"})]}):s.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:y.name}),s.jsx("p",{className:"text-xs text-gray-400",children:y.description})]})]},y.id)),c?s.jsx("div",{className:"col-span-full text-center py-8",children:s.jsx("p",{className:"text-gray-400",children:"Loading collections..."})}):l.map(y=>s.jsx(jg,{collection:y},y.id))]}),s.jsx("div",{className:"mt-12 w-full",children:s.jsx(Ng,{})})]})},yc=async()=>{try{const e=await fetch("https://mempool.space/api/v1/fees/recommended",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return console.warn("Failed to fetch fee rates from mempool.space:",e.status),null;const t=await e.json();return{fastestFee:t.fastestFee||20,halfHourFee:t.halfHourFee||10,hourFee:t.hourFee||5,economyFee:t.economyFee||2,minimumFee:t.minimumFee||1}}catch(e){return console.warn("Error fetching fee rates:",e),{fastestFee:20,halfHourFee:10,hourFee:5,economyFee:2,minimumFee:1}}},Sg=(e,t,n=500)=>(130*t+330+40)*e/1e8,vc=e=>e<1e-5?`${(e*1e8).toFixed(0)} sats`:`${e.toFixed(8)} BTC`,da=({selectedFeeRate:e,onFeeRateChange:t})=>{const[n,r]=w.useState(null),[a,i]=w.useState(!0),[l,o]=w.useState(""),[c,u]=w.useState(!1);w.useEffect(()=>{(async()=>{i(!0);try{const x=await yc();x&&(r(x),!c&&(!e||e===1)&&(t(x.halfHourFee),u(!0)))}catch(x){console.warn("Failed to load fee rates:",x)}finally{i(!1)}})();const y=setInterval(()=>{yc().then(x=>{x&&r(x)})},6e4);return()=>clearInterval(y)},[]),w.useEffect(()=>{e&&!c&&u(!0)},[e,c]);const d=m=>{if(!(!n&&m!=="custom"))switch(m){case"economy":t(n.economyFee),o("");break;case"medium":t(n.halfHourFee),o("");break;case"fast":t(n.fastestFee),o("");break}};if(a||!n)return s.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded p-3",children:s.jsx("p",{className:"text-xs text-gray-400",children:"Loading fee rates..."})});const f=l!==""||e!==n.economyFee&&e!==n.halfHourFee&&e!==n.fastestFee;return s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-white uppercase block",children:"Inscription Fee Rate"}),s.jsx("p",{className:"text-[9px] text-gray-400 mt-0.5",children:"Current Mempool rates  Auto-updates every 60s"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-xs text-white font-mono font-bold",children:[e," sat/vB"]}),s.jsx("p",{className:"text-[8px] text-gray-500 mt-0.5",children:"Selected"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>d("economy"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===n.economyFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Economy",s.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[n.economyFee," sat/vB"]}),s.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~1h+"})]}),s.jsxs("button",{onClick:()=>d("medium"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===n.halfHourFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Medium",s.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[n.halfHourFee," sat/vB"]}),s.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~30min"}),e===n.halfHourFee&&!f&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-white text-black text-[7px] px-1 rounded font-bold",children:""})]}),s.jsxs("button",{onClick:()=>d("fast"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===n.fastestFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Fast",s.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[n.fastestFee," sat/vB"]}),s.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~10min"})]})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs("p",{className:"text-[9px] text-gray-400",children:[" ",s.jsx("span",{className:"font-semibold",children:"Recommended:"})," Medium (",n.halfHourFee," sat/vB) - Best balance"]})}),s.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[s.jsx("label",{className:"text-[10px] text-gray-400 block mb-1",children:"Custom (sat/vB):"}),s.jsx("input",{type:"number",min:"1",step:"1",value:l||(f?String(e):""),onChange:m=>{const y=m.target.value;o(y);const x=parseInt(y,10);!isNaN(x)&&x>=1&&t(x)},onBlur:m=>{m.target.value===""&&o("")},placeholder:"Min: 1, z.B. 1 oder 2",className:"w-full px-2 py-1 bg-black border border-gray-700 rounded text-xs text-white font-mono focus:border-red-600 focus:outline-none"}),s.jsx("p",{className:"text-[8px] text-gray-500 mt-1",children:"Lower fees = slower confirmation. You can enter any value  1 sat/vB"})]})]})},Ig=({pack:e,onMint:t,isMinting:n,availability:r,isSoldOut:a=!1,inscriptionFeeRate:i,onFeeRateChange:l})=>{const o=(r==null?void 0:r.remaining)??(e.totalSupply?e.totalSupply-(e.soldCount||0):null),c=Sg(e.cardCount,i),u=e.price+c;return s.jsxs("div",{className:"relative bg-black border border-red-600 rounded overflow-hidden hover:border-red-500 transition-all shadow-lg w-full flex flex-col h-full",children:[a&&s.jsx("div",{className:"absolute inset-0 bg-black/90 rounded flex items-center justify-center z-20 border border-red-600",children:s.jsx("span",{className:"text-white text-xl font-bold tracking-wider",children:"SOLD OUT"})}),e.isPremium&&s.jsx("div",{className:"absolute top-1.5 left-1.5 bg-red-600 text-white px-1.5 py-0.5 rounded border border-white text-[10px] font-bold z-10",children:" PREMIUM"}),o!==null&&!a&&s.jsxs("div",{className:"absolute top-1.5 right-1.5 bg-white text-black px-1.5 py-0.5 rounded border border-red-600 text-[10px] font-bold z-10",children:[o,"/",e.totalSupply]}),s.jsx("div",{className:"aspect-[2/3] bg-black flex items-center justify-center p-2 border-b border-red-600 relative min-h-[200px]",children:s.jsx("img",{src:e.imageUrl||"/images/pack-thumbnail.png",alt:e.name,className:"max-w-full max-h-full object-contain",style:{width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%"},loading:"eager",onError:d=>{console.error(" Bild-Fehler - URL:",d.currentTarget.src),console.error("Vollstndige URL:",new URL(d.currentTarget.src,window.location.origin).href),d.currentTarget.src.includes("data:image")||(console.log(" Verwende Fallback-Bild (SVG)"),d.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 300"%3E%3Crect fill="%23000" width="200" height="300"/%3E%3Ctext fill="%23fff" font-family="sans-serif" font-size="14" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3EKartenpack%3C/text%3E%3C/svg%3E')},onLoad:d=>{console.log(" Bild erfolgreich geladen:",d.currentTarget.src),console.log("Bild-Gre:",d.currentTarget.naturalWidth,"x",d.currentTarget.naturalHeight)}})}),s.jsxs("div",{className:"p-2.5 bg-black text-white flex-1 flex flex-col",children:[s.jsx("h3",{className:"text-sm font-bold mb-1 text-white border-b border-red-600 pb-1 line-clamp-1",children:e.name}),s.jsx("p",{className:"text-gray-300 mb-2 text-[10px] leading-tight line-clamp-2 flex-1",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-700",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[9px] text-gray-400 uppercase",children:"Cards"}),s.jsx("p",{className:"text-xs font-bold text-white",children:e.cardCount})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[9px] text-gray-400 uppercase",children:"Price"}),s.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:[e.price.toFixed(8)," BTC"]}),s.jsx("p",{className:"text-[8px] text-gray-500 uppercase mt-0.5",children:"+ Inscription Fees"}),s.jsxs("p",{className:"text-[10px] text-gray-400 font-mono",children:["~",vc(c)]}),s.jsxs("p",{className:"text-[7px] text-gray-500 mt-0.5 leading-tight",children:["(Estimated: ~",Math.round(c*1e8/e.cardCount)," sats per inscription)"]}),s.jsx("p",{className:"text-[6px] text-gray-600 mt-0.5 leading-tight italic",children:"UniSat calculates the actual fees"}),s.jsx("p",{className:"text-[8px] text-red-500 uppercase mt-1 border-t border-gray-700 pt-0.5",children:"Total"}),s.jsx("p",{className:"text-xs font-bold text-red-600 font-mono",children:vc(u)})]})]}),e.isPremium&&e.guaranteedRarities&&s.jsxs("div",{className:"mb-2 p-1.5 bg-gray-900 border border-red-600 rounded",children:[s.jsx("p",{className:"text-[9px] font-semibold text-red-600 mb-1 uppercase",children:"Guaranteed:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.guaranteedRarities.map(d=>s.jsx("span",{className:"px-1 py-0.5 bg-black text-white border border-red-600 rounded text-[9px] font-semibold",children:d==="mystic-legendary"?"Mystic":d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),s.jsx("div",{className:"mb-2",children:s.jsx(da,{selectedFeeRate:i,onFeeRateChange:l})}),s.jsx("button",{onClick:()=>t(e.id),disabled:n||a,className:"w-full py-1.5 text-xs bg-white text-black border border-red-600 rounded font-bold hover:bg-red-600 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Minting...":a?"Sold Out":"Mint Pack"})]})]})},wc="/images/pack-thumbnail.png",Wi=[{id:"starter-pack",name:"Starter Pack",description:"5 random cards - Chance for Mystic Legendary!",price:25e-6,cardCount:5,totalSupply:600,soldCount:0,imageUrl:wc,isPremium:!1},{id:"premium-pack",name:"Premium Pack - Complete Deck",description:"The complete deck with all 46 cards (26 Animal + 12 Action + 8 Status)! Guaranteed to contain all Epic, Legendary & Mystic Legendary!",price:25e-5,cardCount:46,totalSupply:25,soldCount:0,imageUrl:wc,isPremium:!0,guaranteedRarities:["epic","legendary","mystic-legendary"]}],Ql="http://localhost:3003",Cg=async e=>{try{const t=new AbortController,n=setTimeout(()=>t.abort(),2e3),r=await fetch(`${Ql}/api/packs/${e}/availability`,{signal:t.signal});if(clearTimeout(n),!r.ok)throw new Error("Backend response not ok");return await r.json()}catch{console.warn("Backend nicht verfgbar, verwende lokale Konfiguration fr",e);const n=Wi.find(a=>a.id===e);if(!n)return null;const r=n.totalSupply-n.soldCount;return{packId:n.id,sold:n.soldCount,total:n.totalSupply,remaining:r,soldOut:r<=0}}},Tg=async()=>{try{const e=await fetch(`${Ql}/api/packs/availability`);return e.ok?await e.json():{}}catch{return{}}},Eg=async e=>{try{return(await fetch(`${Ql}/api/packs/${e}/increment`,{method:"POST"})).ok}catch(t){return console.warn("Fehler beim Aktualisieren der Pack-Verfgbarkeit:",t),!1}},Pg=({packs:e,onMint:t,mintingPackId:n,inscriptionFeeRate:r,onFeeRateChange:a})=>{const[i,l]=w.useState({});return w.useEffect(()=>{const o=async()=>{const u=await Tg();l(u)};o();const c=setInterval(o,3e4);return()=>clearInterval(c)},[]),s.jsxs("div",{className:"bg-black border border-red-600 rounded shadow-lg p-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-1",children:"Available Card Packs"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:e.length===0?s.jsx("div",{className:"text-center py-6",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No packs available"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 justify-items-stretch",children:e.map(o=>{const c=i[o.id],u=(c==null?void 0:c.remaining)??(o.totalSupply?o.totalSupply-(o.soldCount||0):null),d=(c==null?void 0:c.soldOut)||u!==null&&u<=0;return s.jsx(Ig,{pack:o,onMint:t,isMinting:n===o.id,availability:c,isSoldOut:d,inscriptionFeeRate:r,onFeeRateChange:a},o.id)})})}),s.jsx("div",{className:"lg:col-span-1 border-l border-red-600 pl-6",children:s.jsxs("div",{className:"space-y-4 text-white text-center pt-12",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-lg font-bold mb-2",children:[s.jsx("span",{className:"text-black",style:{textShadow:"0 0 8px rgba(255,255,255,0.6)"},children:"BLACK"})," ",s.jsx("span",{className:"text-red-600",children:"&"})," ",s.jsx("span",{className:"text-white",children:"WILD"})," ",s.jsx("span",{className:"text-white text-sm",children:" Card Pack"})]})}),s.jsxs("div",{className:"space-y-3 text-sm leading-relaxed",children:[s.jsx("p",{className:"text-white font-bold",children:"No heroes."}),s.jsx("p",{className:"text-white font-bold",children:"No magic."}),s.jsx("p",{className:"text-white font-bold",children:"Just animals with problems."}),s.jsxs("p",{className:"text-gray-300 mt-4",children:[s.jsx("span",{className:"text-white font-bold",children:"BLACK & WILD"})," is a minimalist animal card game built on instinct, chaos, and bad decisions. Each pack contains a mix of unique animal cards, actions, and status effects  designed to be played, collected, and misused."]}),s.jsxs("p",{className:"text-gray-300",children:["No lore to memorize.",s.jsx("br",{}),"No hand-holding.",s.jsx("br",{}),"Just sharp design, direct interaction, and fast, uncomfortable games."]}),s.jsxs("p",{className:"text-white font-bold mt-4",children:["Black ink.",s.jsx("br",{}),"White space.",s.jsx("br",{}),"Everything else is your problem."]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 space-y-2 text-sm",children:[s.jsx("p",{className:"text-white",children:"Black & white vector artwork"}),s.jsx("p",{className:"text-white",children:"Animal-based characters"}),s.jsx("p",{className:"text-white",children:"Fast, aggressive gameplay"}),s.jsx("p",{className:"text-white",children:"Chaos > balance"}),s.jsx("p",{className:"text-white font-bold mt-3",children:"Playable. Collectible. Uncomfortable."})]})]})})]})]})},Ag={common:30,uncommon:25,rare:25,epic:15,legendary:4,"mystic-legendary":1},mt={common:"#9CA3AF",uncommon:"#10B981",rare:"#3B82F6",epic:"#8B5CF6",legendary:"#F59E0B","mystic-legendary":"#EF4444"},Ar={common:"Common",uncommon:"Uncommon",rare:"Rare",epic:"Epic",legendary:"Legendary","mystic-legendary":"Mystic Legendary"},Lg=({card:e,showRarity:t=!0})=>{const n=e.cardType==="action",r=e.cardType==="status",a=n?"ACTION":r?"STATUS":"ANIMAL";return s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg overflow-hidden border-2",style:{borderColor:t&&mt[e.rarity]||"#9CA3AF"},children:[s.jsxs("div",{className:"p-3 border-b border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-white text-center mb-1",children:e.name}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-gray-700 text-gray-200",children:a}),t&&s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded",style:{backgroundColor:mt[e.rarity]||"#9CA3AF",color:"white"},children:Ar[e.rarity]})]})]}),(n||r)&&e.svgIcon&&s.jsx("div",{className:"p-6 flex items-center justify-center bg-white min-h-[200px]",children:s.jsx("div",{className:"w-full max-w-xs flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon},style:{filter:"none",WebkitFilter:"none",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.cardType==="animal"&&s.jsx("div",{className:"p-6 flex items-center justify-center bg-gray-800",children:s.jsx("div",{className:"w-24 h-24 flex items-center justify-center text-6xl",children:""})}),e.effect&&s.jsx("div",{className:"p-3 bg-gray-900 border-t border-gray-700",children:s.jsx("p",{className:"text-xs text-gray-300 text-center leading-relaxed",children:e.effect})})]})},Lr=({card:e,showRarity:t=!0,autoReveal:n=!1,onReveal:r})=>{var m;const[a,i]=w.useState(e.revealed||!1),[l,o]=w.useState(!1),[c,u]=w.useState(()=>{if(e.originalInscriptionId&&!e.originalInscriptionId.startsWith("mock-")&&!e.originalInscriptionId.startsWith("pending-"))return console.log(`[CardReveal]  Using originalInscriptionId: ${e.originalInscriptionId}`),`https://ordinals.com/content/${e.originalInscriptionId}`;if(e.inscriptionId&&e.inscriptionId.startsWith("pending-")){const y="http://localhost:3003";return console.log(`[CardReveal]  Using pending ID with backend: ${e.inscriptionId}`),`${y}/api/inscription/image/${e.inscriptionId}`}if(e.inscriptionId&&!e.inscriptionId.startsWith("mock-")){const y="http://localhost:3003";return console.log(`[CardReveal]  Using delegate ID with backend: ${e.inscriptionId}`),`${y}/api/inscription/image/${e.inscriptionId}`}return console.warn(`[CardReveal]  No valid inscription ID found for card: ${e.name}`),""});w.useEffect(()=>{if(n&&!a){const y=setTimeout(()=>{f()},1e3);return()=>clearTimeout(y)}},[n,a]);const d=y=>{const h=y.target.src;if(console.error(`[CardReveal] Image load error for ${e.name} from ${h}`),h.includes("/api/inscription/image/")){const b=`https://ordinals.com/content/${e.inscriptionId}`;console.log(`[CardReveal] Backend failed, trying direct URL: ${b}`),u(b)}else if(h.includes("ordinals.com/content")){const b=`https://ordinals.com/preview/${e.inscriptionId}`;console.log(`[CardReveal] Trying preview URL: ${b}`),u(b)}else if(h.includes("ordinals.com/preview")){const b=`https://ordiscan.com/content/${e.inscriptionId}`;console.log(`[CardReveal] Trying ordiscan URL: ${b}`),u(b)}else console.error(`[CardReveal] All image sources failed for ${e.name}`),o(!0)},f=()=>{a||(i(!0),r&&r())};return a?a?s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg overflow-hidden border-2",style:{borderColor:t&&mt[e.rarity]||"#9CA3AF"},children:[s.jsxs("div",{className:"p-3 border-b border-gray-700 bg-gradient-to-r from-gray-800 to-gray-900",children:[s.jsx("h3",{className:"text-lg font-bold text-white text-center mb-1",children:e.name}),t&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-gray-700 text-gray-200",children:((m=e.cardType)==null?void 0:m.toUpperCase())||"CARD"}),s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded",style:{backgroundColor:mt[e.rarity]||"#9CA3AF",color:"white"},children:Ar[e.rarity]})]}),e.effect&&s.jsx("p",{className:"text-xs text-gray-300 mt-2 text-center italic",children:e.effect})]}),s.jsx("div",{className:"p-6 flex items-center justify-center bg-white min-h-[200px]",children:e.inscriptionId&&!e.inscriptionId.startsWith("mock-")?l?s.jsxs("div",{className:"text-red-500 text-xs text-center p-2",children:[s.jsx("p",{children:"Error loading image"}),s.jsx("p",{className:"text-gray-500 mt-1 text-[10px] break-all",children:e.inscriptionId}),e.svgIcon&&s.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 mt-2",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):s.jsx("img",{src:c,alt:e.name,className:"w-full h-full object-contain",onError:d,onLoad:()=>{console.log(`[CardReveal]  Image loaded successfully for ${e.name} (${e.cardType}) from ${c}`)}},c):e.svgIcon?s.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",dangerouslySetInnerHTML:{__html:e.svgIcon}}):s.jsx("div",{className:"text-gray-500 text-xs",children:"No preview"})}),e.inscriptionId&&!e.inscriptionId.startsWith("mock-")&&s.jsx("div",{className:"p-2 bg-gray-900 border-t border-gray-700",children:s.jsx("p",{className:"text-[10px] font-mono text-gray-400 text-center truncate",title:e.inscriptionId,children:e.inscriptionId})})]}):s.jsx(Lg,{card:e,showRarity:t}):s.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-lg overflow-hidden border-2 cursor-pointer hover:scale-105 transition-transform duration-200",style:{borderColor:t&&mt[e.rarity]||"#9CA3AF",minHeight:"200px"},onClick:f,children:s.jsx("div",{className:"h-full flex flex-col items-center justify-center p-6 bg-gray-950",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 rounded-lg opacity-20 blur-sm",style:{boxShadow:`0 0 20px ${mt[e.rarity]||"#9CA3AF"}`}}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("div",{className:"text-8xl mb-4 opacity-50",children:"?"}),s.jsx("p",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Click to Reveal"})]}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:s.jsx("div",{className:"text-xs font-bold px-2 py-1 rounded text-center opacity-50",style:{backgroundColor:mt[e.rarity]||"#9CA3AF",color:"white"},children:Ar[e.rarity]})})]})})})},Jl=({status:e})=>{const[t,n]=w.useState(new Set),r=()=>{switch(e.status){case"completed":return"bg-white text-black";case"failed":return"bg-red-600 text-white";case"processing":return"bg-white text-black border-2 border-red-600";default:return"bg-gray-800 text-white border-2 border-red-600"}},a=()=>{switch(e.status){case"pending":return"Waiting...";case"processing":return"Minting...";case"completed":return"Completed!";case"failed":return"Failed";default:return"Unknown"}};return s.jsxs("div",{className:"bg-black border border-red-600 rounded shadow-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-red-600 pb-2",children:[s.jsx("h3",{className:"text-sm font-bold text-white",children:"Minting-Status"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${r()}`,children:a()})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{className:"font-bold text-white",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-900 rounded-full h-2 border border-gray-700",children:s.jsx("div",{className:"h-2 rounded-full transition-all bg-red-600",style:{width:`${e.progress}%`}})})]}),e.status==="completed"&&e.inscriptionIds&&s.jsxs("div",{className:"mt-2 p-2 bg-gray-900 border border-white rounded",children:[s.jsx("p",{className:"text-xs font-bold text-white mb-1",children:" Minting successful!"}),e.cards&&e.cards.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-[10px] font-semibold text-gray-300 mb-2 uppercase",children:"Your Cards:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.cards.map((i,l)=>{const o=t.has(l);return s.jsx("div",{children:s.jsx(Lr,{card:{...i,revealed:o},showRarity:!0,autoReveal:!1,onReveal:()=>{n(c=>new Set(c).add(l))}})},l)})}),t.size<e.cards.length&&s.jsx("p",{className:"text-[10px] text-gray-400 mt-2 text-center",children:"Click on cards to reveal them"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mb-1 uppercase",children:"Inscription IDs:"}),s.jsx("div",{className:"space-y-0.5 max-h-24 overflow-y-auto",children:e.inscriptionIds.map((i,l)=>s.jsx("p",{className:"text-[10px] font-mono text-white break-all bg-black p-0.5 rounded",children:i},l))})]}),e.status==="failed"&&e.error&&s.jsxs("div",{className:"mt-2 p-2 bg-gray-900 border border-red-600 rounded",children:[s.jsx("p",{className:"text-xs font-bold text-red-600 mb-1",children:" Minting Error"}),s.jsx("p",{className:"text-[10px] text-gray-300",children:e.error})]}),e.status==="processing"&&s.jsxs("div",{className:"mt-2 text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Please wait..."})]})]})},of="http://localhost:3003",cf="minting_logs",$g=async e=>{const t={...e,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};try{await fetch(`${of}/api/minting/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(n){console.warn("Backend-Logging fehlgeschlagen, verwende LocalStorage:",n)}try{const n=df(),a=[t,...n].slice(0,1e3);localStorage.setItem(cf,JSON.stringify(a))}catch(n){console.error("LocalStorage-Logging fehlgeschlagen:",n)}},df=()=>{try{const e=localStorage.getItem(cf);return e?JSON.parse(e):[]}catch{return[]}},_g=async e=>{try{const n=await fetch(`${of}/api/minting/logs/${e}`);if(n.ok)return(await n.json()).logs||[]}catch(n){console.warn("Backend-Abfrage fehlgeschlagen, verwende LocalStorage:",n)}return df().filter(n=>n.walletAddress.toLowerCase()===e.toLowerCase())},Mg="http://localhost:3003",Dg=async(e,t=!1)=>{const n=`${Mg}/api/delegates/${e}`,r=await fetch(n);if(!r.ok)throw new Error("Failed to fetch delegates");return(await r.json()).delegates||[]},ua=async e=>{var f;const t="http://localhost:3003";let n=[],r=!1;try{const m=`${t}/api/delegates/${e}?hybrid=true`;console.log(`[Gallery]  Fetching inscriptions from blockchain for ${e}...`),console.log(`[Gallery]  API URL: ${m}`);const y=await fetch(m);if(console.log(`[Gallery]  Response status: ${y.status} ${y.statusText}`),y.ok){const x=await y.json();console.log("[Gallery]  Response data:",{delegatesCount:((f=x.delegates)==null?void 0:f.length)||0,source:x.source,count:x.count}),n=x.delegates||[],r=!0,console.log(`[Gallery]  Fetched ${n.length} inscriptions from blockchain`),n.length>0?console.log("[Gallery] First inscription:",{id:n[0].delegateInscriptionId,name:n[0].name,originalId:n[0].originalInscriptionId,rarity:n[0].rarity}):console.log("[Gallery]  No inscriptions found on blockchain for this wallet")}else{const x=await y.text().catch(()=>"Unknown error");console.warn(`[Gallery]  Blockchain fetch failed: ${y.status}`,x)}}catch(m){console.error("[Gallery]  Could not fetch from blockchain:",m),console.error("[Gallery]  Error details:",m.message,m.stack)}if(n.length===0&&!r)try{console.log("[Gallery]  Blockchain fetch failed, trying registry as fallback..."),n=await Dg(e,!1),console.log(`[Gallery]  Fetched ${n.length} delegates from registry (fallback)`)}catch(m){console.error("[Gallery]  Could not fetch delegates from registry:",m)}else n.length===0&&r&&console.log("[Gallery]  Blockchain query successful but no inscriptions found. Showing 0 cards (not using old registry entries).");const a=new Map;n.forEach(m=>{a.set(m.delegateInscriptionId,m)});const i=await _g(e),l=new Map;i.forEach(m=>{m.cards.forEach(y=>{l.set(y.inscriptionId,y)})}),console.log(`[Gallery]  Processing ${n.length} delegates...`);const o=n.filter(m=>{const y=!m.delegateInscriptionId.startsWith("mock-");return y||console.log(`[Gallery]  Skipping mock inscription: ${m.delegateInscriptionId} (${m.name})`),y}).map(m=>{const y=l.get(m.delegateInscriptionId),x={name:m.name,rarity:m.rarity,inscriptionId:m.delegateInscriptionId,originalInscriptionId:m.originalInscriptionId,mintedAt:new Date(m.timestamp).getTime(),packName:(y==null?void 0:y.packName)||"Unknown",cardType:m.cardType,effect:m.effect,svgIcon:m.svgIcon};return console.log("[Gallery]  Created WalletCard:",{name:x.name,delegateId:x.inscriptionId,originalId:x.originalInscriptionId}),x}),c=o.filter(m=>m.inscriptionId.startsWith("pending-")).length,u=o.filter(m=>!m.inscriptionId.startsWith("pending-")).length;console.log(`[Gallery]  Total cards to display: ${o.length} (${u} final, ${c} pending)`);const d={"mystic-legendary":0,legendary:1,epic:2,rare:3,uncommon:4,common:5};return o.sort((m,y)=>{const x=d[m.rarity]-d[y.rarity];return x!==0?x:y.mintedAt-m.mintedAt})},Rg=async e=>{try{if(e.startsWith("mock-")||e.startsWith("txid-"))return console.warn(`Skipping mock inscription: ${e}`),null;const t=e.replace(/i\d+$/,""),n=[`https://ordinals.com/content/${e}`,`https://ordinals.com/preview/${e}`,`https://api.hiro.so/ordinals/v1/inscriptions/${e}/content`,`https://ordinalsbot.com/api/files/${e}`,`https://api.unisat.io/v1/indexer/inscription/${e}/content`];for(const r of n)try{console.log(`[InscriptionImage] Trying: ${r}`);const a=await fetch(r,{method:"GET",headers:{Accept:"image/svg+xml,image/*,*/*,text/html,application/xhtml+xml"},mode:"cors",cache:"default"});if(console.log(`[InscriptionImage] Response status for ${r}: ${a.status} ${a.statusText}`),console.log(`[InscriptionImage] Content-Type: ${a.headers.get("content-type")}`),a.ok){const i=a.headers.get("content-type")||"",l=a.clone();if(r.includes("unisat.io"))try{const o=await a.json();if(o.data&&typeof o.data=="string"){if(o.data.startsWith("data:"))return console.log("[InscriptionImage] UniSat returned data URL"),o.data;if(o.data.trim().startsWith("<svg"))return console.log("[InscriptionImage] UniSat returned SVG string"),o.data;try{const c=atob(o.data);if(c.trim().startsWith("<svg"))return console.log("[InscriptionImage] UniSat returned Base64 SVG"),c}catch{}}}catch{}if(r.includes("ordinals.com/preview"))try{const c=(await a.text()).match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage] Extracted SVG from preview page"),c[0]}catch{}if(i.includes("svg")||i.includes("text")||i.includes("xml")||i.includes("html")){const o=await a.text();if(console.log(`[InscriptionImage] Response text length: ${o.length}, starts with: ${o.substring(0,50)}`),o.trim().startsWith("<svg")||o.trim().startsWith("<?xml")){let c=o.trim();if(c.includes("<svg")&&!c.includes("viewBox")&&c.includes("width")&&c.includes("height")){const u=c.match(/width=["'](\d+)["']/),d=c.match(/height=["'](\d+)["']/);if(u&&d){const f=u[1],m=d[1];c=c.replace(/<svg/,`<svg viewBox="0 0 ${f} ${m}"`)}}return console.log(`[InscriptionImage]  Successfully loaded SVG from ${r}`),c}if(o.includes("<svg")){const c=o.match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage]  Extracted SVG from HTML"),c[0]}}if(i.startsWith("image/")){const o=await a.blob();return new Promise(c=>{const u=new FileReader;u.onloadend=()=>c(u.result),u.readAsDataURL(o)})}try{const o=await l.text();if(o.trim().startsWith("<svg")||o.trim().startsWith("<?xml"))return console.log("[InscriptionImage]  Found SVG in fallback text parsing"),o.trim();if(o.includes("<svg")){const c=o.match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage]  Extracted SVG in fallback"),c[0]}}catch{}}else console.warn(`[InscriptionImage]  Response not OK for ${r}: ${a.status} ${a.statusText}`)}catch(a){console.warn(`[InscriptionImage]  Failed to fetch from ${r}:`,a.message||a);continue}return console.error(`[InscriptionImage]  All APIs failed for inscription ${e}`),null}catch(t){return console.error("Error fetching inscription image:",t),null}},za={},Fg=async e=>{if(za[e])return za[e];const t=await Rg(e);return za[e]=t,t},Og=({card:e,onClose:t})=>{var x;const[n,r]=w.useState(null),[a,i]=w.useState(!1),[l,o]=w.useState(null),[c,u]=w.useState(()=>e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")?`https://ordinals.com/content/${e.inscriptionId}`:"");w.useEffect(()=>{e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")&&!e.inscriptionId.startsWith("txid-")&&!n&&!a&&d()},[e.inscriptionId]);const d=async()=>{i(!0),o(null);try{const h=await Fg(e.inscriptionId);h?r(h):o("Image not found")}catch(h){console.error("Error loading card image:",h),o("Failed to load image")}finally{i(!1)}},f=h=>{const p=h.target.src;p.includes("ordinals.com/content")?u(`https://ordinals.com/preview/${e.inscriptionId}`):p.includes("ordinals.com/preview")?u(`https://ordiscan.com/content/${e.inscriptionId}`):o("All image sources failed")},m=n&&(n.trim().startsWith("<svg")||n.trim().startsWith("<?xml")),y=e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-");return s.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-black border-b-2 border-red-600 p-4 flex justify-between items-center z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-gray-700 text-gray-200",children:((x=e.cardType)==null?void 0:x.toUpperCase())||"CARD"}),s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded",style:{backgroundColor:mt[e.rarity]||"#9CA3AF",color:"white"},children:Ar[e.rarity]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6 flex items-center justify-center bg-white rounded-lg p-6 min-h-[300px]",children:y?a?s.jsx("div",{className:"w-32 h-32 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})}):l?s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"Image not available"}),e.svgIcon&&s.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):n&&m?s.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:n},style:{filter:"none",WebkitFilter:"none",display:"flex",alignItems:"center",justifyContent:"center"}}):n?s.jsx("img",{src:n,alt:e.name,className:"w-full max-w-md h-auto",style:{filter:"none",WebkitFilter:"none",imageRendering:"auto"}}):s.jsx("img",{src:c,alt:e.name,className:"w-full max-w-md h-auto",onError:f,onLoad:()=>{console.log(`[CardDetailModal]  Image loaded successfully for ${e.name}`)}},c):e.svgIcon?s.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon}}):s.jsx("div",{className:"text-gray-400",children:"No preview available"})}),s.jsxs("div",{className:"space-y-4",children:[e.effect&&s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[s.jsx("h3",{className:"text-sm font-bold text-red-600 mb-2 uppercase",children:"Effect"}),s.jsx("p",{className:"text-white text-sm leading-relaxed",children:e.effect})]}),e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")&&s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-2 uppercase",children:"Inscription ID"}),s.jsx("p",{className:"text-xs font-mono text-gray-300 break-all",children:e.inscriptionId}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("a",{href:`https://ordinals.com/inscription/${e.inscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-red-600 hover:text-red-400 underline",children:"View on Ordinals.com"}),s.jsx("a",{href:`https://ordiscan.com/inscription/${e.inscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-red-600 hover:text-red-400 underline",children:"View on Ordiscan.com"})]})]}),e.id&&s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-2 uppercase",children:"Card ID"}),s.jsx("p",{className:"text-xs font-mono text-gray-300",children:e.id})]})]})]})]})})},uf=({onClose:e})=>{const t=Xe(),{walletState:n}=xe(),[r,a]=w.useState([]),[i,l]=w.useState(!0),[o,c]=w.useState(null),[u,d]=w.useState(null);w.useEffect(()=>{if(!n.connected||!n.accounts[0]){l(!1);return}f()},[n.connected,n.accounts]);const f=async()=>{var h;if(!((h=n.accounts[0])!=null&&h.address)){console.log("[Gallery]  No wallet address available");return}const x=n.accounts[0].address;console.log("[Gallery]  Loading cards for wallet:",x),l(!0),c(null);try{console.log("[Gallery]  Calling fetchWalletCards...");const b=await ua(x);console.log("[Gallery]  Received cards:",b.length),console.log("[Gallery]  Cards details:",b.map(p=>({name:p.name,inscriptionId:p.inscriptionId,originalId:p.originalInscriptionId}))),a(b)}catch(b){console.error("[Gallery]  Error loading cards:",b),c(b.message||"Error loading cards")}finally{l(!1)}};if(!n.connected)return s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-2xl w-full p-8 text-center",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Please connect your wallet first"}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded-lg hover:bg-red-600 hover:text-white font-bold",children:"Close"})]})});const m=r.reduce((x,h)=>(x[h.rarity]||(x[h.rarity]=[]),x[h.rarity].push(h),x),{}),y=["mystic-legendary","legendary","epic","rare","uncommon","common"];return s.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-black border-b-2 border-red-600 p-4 flex justify-between items-center z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>{e(),t("/black-wild")},className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white border-b-2 border-red-600 pb-2 inline-block",children:"My Gallery"}),s.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:[r.length," card",r.length!==1?"s":""," found"]})]})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6",children:i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),s.jsx("p",{className:"mt-4 text-gray-300",children:"Loading cards..."})]}):o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-600 mb-4 font-semibold",children:o}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded-lg hover:bg-red-600 hover:text-white font-bold",children:"Try Again"})]}):r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"No cards found in this wallet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Mint packs to get cards!"})]}):s.jsx("div",{className:"space-y-8",children:y.map(x=>{const h=m[x];return!h||h.length===0?null:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",style:{color:mt[x]||"#9CA3AF"},children:Ar[x]}),s.jsxs("span",{className:"text-sm text-gray-400",children:["(",h.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:h.map((b,p)=>{const g={id:b.inscriptionId,name:b.name,rarity:b.rarity,inscriptionId:b.inscriptionId,originalInscriptionId:b.originalInscriptionId,cardType:b.cardType,effect:b.effect,svgIcon:b.svgIcon,revealed:!0};return s.jsxs("div",{className:"flex flex-col cursor-pointer hover:scale-105 transition-transform duration-200",onClick:()=>d(g),children:[s.jsx("div",{className:"transform scale-75 origin-top-left w-[133%] h-[133%]",children:s.jsx(Lr,{card:g,showRarity:!0,autoReveal:!0})}),s.jsx("div",{className:"mt-1 p-1 bg-gray-900 border border-gray-700 rounded text-xs",children:s.jsx("p",{className:"font-bold text-white text-center text-[10px] truncate",title:b.name,children:b.name})})]},p)})})]},x)})})})]}),u&&s.jsx(Og,{card:u,onClose:()=>d(null)})]})},Us="http://localhost:3003",Bg=async e=>{var o,c,u;const{file:t,address:n,feeRate:r,postage:a=330,delegateMetadata:i}=e,l=new FormData;l.append("file",t),l.append("address",n),l.append("feeRate",r.toString()),l.append("postage",a.toString()),i&&l.append("delegateMetadata",i);try{const d=new AbortController,f=setTimeout(()=>d.abort(),6e4),m=await fetch(`${Us}/api/unisat/inscribe`,{method:"POST",body:l,signal:d.signal});if(clearTimeout(f),!m.ok){const x=await m.json().catch(()=>({error:"Unknown error"}));throw new Error(x.error||x.message||"Fehler beim Erstellen der Inskription ber UniSat API")}const y=await m.json();if(console.log("[UnisatService]  Raw response:",JSON.stringify(y,null,2)),y.status==="ok"){const x=y.result||((o=y.data)!=null&&o.data?y.data.data:null);if(!x)throw console.error("[UnisatService]  Keine result/data gefunden in Response:",y),new Error("UniSat API returned no result data");return console.log("[UnisatService]  Response parsed:"),console.log(`  - orderId: ${x.orderId}`),console.log(`  - payAddress: ${x.payAddress||"FEHLT"} (Type: ${typeof x.payAddress}, Value: ${JSON.stringify(x.payAddress)})`),console.log(`  - amount: ${x.amount||"FEHLT"} (Type: ${typeof x.amount}, Value: ${JSON.stringify(x.amount)})`),console.log(`  - inscriptionId: ${x.inscriptionId||"FEHLT"}`),console.log(`  - txid: ${x.txid||"FEHLT"}`),console.log(`  - status: ${x.status||"FEHLT"}`),!x.payAddress&&x.payAddress!==null&&console.warn("[UnisatService]  payAddress ist undefined (nicht null)!"),x.payAddress===null&&console.warn("[UnisatService]  payAddress ist explizit null!"),{orderId:x.orderId,payAddress:x.payAddress!==void 0?x.payAddress:null,amount:x.amount!==void 0?x.amount:null,txid:x.txid,inscriptionId:x.inscriptionId||`pending-${x.orderId}`,status:x.status||"pending"}}throw new Error(y.error||"UniSat API returned unexpected format")}catch(d){throw d.name==="AbortError"?new Error("UniSat API request timeout after 60 seconds"):(c=d.message)!=null&&c.includes("Failed to fetch")||(u=d.message)!=null&&u.includes("ERR_CONNECTION_REFUSED")?new Error(`Backend-Server ist nicht erreichbar (${Us}). Bitte starten Sie den Backend-Server auf Port 3003.`):d}},Ug=async(e,t,n,r=330,a)=>{var l,o;const i=new FormData;e.forEach(c=>{i.append("files",c)}),i.append("address",t),i.append("feeRate",n.toString()),i.append("postage",r.toString()),a&&a.forEach((c,u)=>{i.append("delegateMetadata",c)});try{const c=new AbortController,u=setTimeout(()=>c.abort(),12e4),d=await fetch(`${Us}/api/unisat/inscribe/batch`,{method:"POST",body:i,signal:c.signal});if(clearTimeout(u),!d.ok){const m=await d.json().catch(()=>({error:"Unknown error"}));throw new Error(m.error||m.message||"Fehler beim Erstellen der Batch-Inskriptionen")}const f=await d.json();if(f.status==="ok"&&Array.isArray(f.results))return console.log(`[UnisatService]  Batch-Inskriptionen erstellt: ${f.results.length} Inskriptionen`),f.results;throw new Error(f.error||"UniSat API returned unexpected format")}catch(c){throw c.name==="AbortError"?new Error("UniSat API request timeout after 120 seconds"):(l=c.message)!=null&&l.includes("Failed to fetch")||(o=c.message)!=null&&o.includes("ERR_CONNECTION_REFUSED")?new Error(`Backend-Server ist nicht erreichbar (${Us}). Bitte starten Sie den Backend-Server auf Port 3003.`):c}},bc="http://localhost:3003",jc="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",zg=async(e,t,n,r=1,a=null,i=0)=>{var p,g,v;console.log(`[Delegate] Creating batch delegates for ${e.length} cards...`);const l=[],o=[];for(let j=0;j<e.length;j++){const S=e[j];console.log(`[Delegate] [${j+1}/${e.length}] Processing: ${S.name} (${S.id})`);try{const T={p:"ord-20",op:"delegate",cardId:S.id,originalInscriptionId:S.inscriptionId,name:S.name,rarity:S.rarity,collection:n,timestamp:Date.now()},E=`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(T)}
<\/script>
<style>
body {
  margin: 0;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}
img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}
</style>
</head>
<body>
<img src="/content/${S.inscriptionId}" alt="${S.name}" />
</body>
</html>`,C=new File([E],`${S.id}.html`,{type:"text/html"});l.push(C),o.push({card:S,metadata:T}),console.log(`[Delegate]  HTML-Datei erstellt: ${C.name} (${C.size} bytes)`)}catch(T){throw console.error(`[Delegate]  Failed to create delegate metadata for ${S.name}:`,T),new Error(`Konnte Metadaten fr ${S.name} nicht erstellen: ${T.message}`)}}console.log(`[Delegate]  All ${l.length} delegate HTML files created`),console.log("[Delegate] Schritt 2: Erstelle Inskriptionen ber UniSat API (Batch mit Metadaten)...");const c=o.map(j=>JSON.stringify(j.metadata)),u=await Ug(l,t,r,330,c);console.log(`[Delegate]  All ${u.length} inscriptions created`);const d=[];console.log("[Delegate] Zahlungs-Prfung:"),console.log(`  - packPrice: ${i} BTC`),console.log(`  - walletType: ${a}`),console.log(`  - unisatResults mit payAddress: ${u.filter(j=>j.payAddress).length}`),i>0?(d.push({address:jc,amount:i}),console.log(`[Delegate]  Pack-Preis hinzugefgt: ${i} BTC (${(i*1e8).toFixed(0)} sats) an ${jc}`)):console.warn("[Delegate]  Pack-Preis ist 0 oder nicht gesetzt!"),console.log(`[Delegate] Sammle Inskriptions-Fees von ${u.length} Ergebnissen...`),console.log("[Delegate]  WICHTIG: Bei Batch-Requests kann UniSat nur EINE payAddress zurckgeben");const f=new Map,m=new Set;for(const j of u)j.payAddress&&typeof j.payAddress=="string"&&m.add(j.payAddress);if(m.size===1&&u.length>1){console.log(`[Delegate]  Batch-Request erkannt (${u.length} Dateien, 1 payAddress)`);const j=Array.from(m)[0];let S=((p=u[0])==null?void 0:p.amount)||null;if(!S||S===0){console.log("[Delegate]  Kein amount im ersten Ergebnis, prfe alle...");for(const T of u)if(T.amount&&T.amount>0){S=T.amount,console.log(`[Delegate]  Amount gefunden in Ergebnis: ${S.toFixed(8)} BTC`);break}}if(!S||S===0){const E=1e3*u.length*r;S=E/1e8,console.log(`[Delegate]  KEIN amount von UniSat API! Verwende Fallback: ${S.toFixed(8)} BTC (${E} sats)`),console.log("[Delegate]  WICHTIG: Dies ist eine Schtzung fr JSON-Metadaten! UniSat sollte den korrekten Betrag zurckgeben!")}else console.log(`[Delegate]  Verwende tatschlichen Betrag von UniSat API: ${S.toFixed(8)} BTC`);f.set(j,S),console.log(`[Delegate]  Inskriptions-Fees: ${S.toFixed(8)} BTC an ${j}`)}else{console.log(`[Delegate] Einzel-Requests erkannt (${m.size} verschiedene Adressen)`);for(let j=0;j<u.length;j++){const S=u[j];console.log(`[Delegate] ========== Ergebnis ${j+1} ==========`),console.log(`[Delegate]   - orderId: ${S.orderId}`),console.log(`[Delegate]   - payAddress: ${S.payAddress||"FEHLT"} (Type: ${typeof S.payAddress})`),console.log(`[Delegate]   - amount (von API): ${S.amount||"FEHLT"} BTC`),console.log(`[Delegate]   - inscriptionId: ${S.inscriptionId}`);const T=S.payAddress;if(T!=null&&T!==""&&T!=="null"&&typeof T=="string"){let C=S.amount;if(!C||C===0){const G=1e3*r;C=G/1e8,console.log(`[Delegate]  Kein amount von API, verwende Fallback: ${C.toFixed(8)} BTC (${G} sats)`)}else console.log(`[Delegate]  Verwende tatschlichen Betrag von UniSat API: ${C.toFixed(8)} BTC`);const B=f.get(S.payAddress)||0;f.set(S.payAddress,B+C),console.log(`[Delegate]  Inskriptions-Fee hinzugefgt: ${C.toFixed(8)} BTC an ${S.payAddress} (Gesamt: ${(B+C).toFixed(8)} BTC)`)}else console.warn(`[Delegate]  Ergebnis ${j+1} hat keine payAddress!`),console.warn(`[Delegate]   - orderId: ${S.orderId}`),console.warn(`[Delegate]   - inscriptionId: ${S.inscriptionId}`)}}console.log(`[Delegate] Gesammelte Inskriptions-Fees: ${f.size} verschiedene Adressen`),f.size===0&&u.length>0&&(console.warn("[Delegate]  KEINE payAddress gefunden! Verwende Fallback-Logik..."),console.warn(`[Delegate]   - Anzahl Ergebnisse: ${u.length}`),console.warn(`[Delegate]   - Erste Order-ID: ${(g=u[0])==null?void 0:g.orderId}`),u.forEach((j,S)=>{console.log(`[Delegate]   - Ergebnis ${S+1} vollstndig:`,JSON.stringify(j,null,2))}),console.warn("[Delegate]  WICHTIG: Keine payAddress gefunden - Inskriptions-Fees werden bersprungen!"),console.warn("[Delegate]  Mgliche Ursachen:"),console.warn("[Delegate]   1. UniSat API gibt keine payAddress zurck (bereits bezahlt?)"),console.warn("[Delegate]   2. Backend gibt payAddress nicht korrekt weiter"),console.warn("[Delegate]   3. Response-Struktur ist anders als erwartet"));const x=1500;if(a==="xverse"){const j=[],S=[];for(const[T,E]of f.entries())E*1e8<x?j.push({address:T,amount:E}):S.push({address:T,amount:E});for(const T of S)d.push(T),console.log(`[Delegate]  Inskriptions-Fee hinzugefgt: ${T.amount} BTC (${(T.amount*1e8).toFixed(0)} sats) an ${T.address}`);if(j.length>0){const T=j[0].address,E=j.reduce((B,D)=>B+D.amount,0),C=E*1e8;console.log(`[Delegate]  ${j.length} kleine Zahlungen (< ${x} sats) werden konsolidiert`),console.log(`[Delegate]   Konsolidierter Betrag: ${E.toFixed(8)} BTC (${C.toFixed(0)} sats)`),d.push({address:T,amount:E}),console.log(`[Delegate]  Konsolidierte Inskriptions-Fees hinzugefgt: ${E.toFixed(8)} BTC (${C.toFixed(0)} sats) an ${T}`)}}else for(const[j,S]of f.entries())d.push({address:j,amount:S}),console.log(`[Delegate]  Inskriptions-Fees hinzugefgt: ${S} BTC (${(S*1e8).toFixed(0)} sats) an ${j}`);console.log("[Delegate] ========== ZAHLUNGS-PRFUNG =========="),console.log("[Delegate] Zahlungs-Bedingung prfen:"),console.log(`  - allPayments.length: ${d.length}`),console.log(`  - walletType: ${a}`),console.log(`  - Bedingung erfllt: ${d.length>0&&a?"JA":"NEIN"}`),console.log("[Delegate] Vollstndige allPayments Liste:",JSON.stringify(d,null,2));let h=null;if(d.length>0&&a){console.log(`[Delegate] Schritt 3: Zahle alle Betrge in einer Transaktion (${d.length} Empfnger)...`),console.log("[Delegate] ========== ZAHLUNGS-DETAILS =========="),d.forEach((j,S)=>{console.log(`[Delegate]   ${S+1}. ${j.address}: ${j.amount} BTC (${(j.amount*1e8).toFixed(0)} sats)`)});try{const j=d.reduce((T,E)=>T+E.amount,0),S=j*1e8;console.log(`[Delegate] Gesamtbetrag: ${j} BTC (${S.toFixed(0)} sats)`),console.log("[Delegate] Hinweis: Transaktions-Fees werden automatisch vom Wallet berechnet"),h=await qu(d,a),console.log("[Delegate]  Alle Zahlungen erfolgreich abgeschlossen"),console.log(`[Delegate]  Zahlungs-Transaktions-ID: ${h}`),console.log("[Delegate]  Prfe Status der Inskriptionen nach Zahlung...");try{const T=await fetch(`${bc}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:t})});if(T.ok){const E=await T.json();if(console.log(`[Delegate]  Status-Prfung: ${E.updated||0} Inskriptionen aktualisiert`),E.updated>0)try{const C=await fetch(`${bc}/api/delegates/${t}?checkPending=false`);if(C.ok){const B=await C.json(),D=new Map,G=Array.isArray(B)?B:B.delegates||[];for(const I of G)if(!I.delegateInscriptionId.startsWith("pending-")){const _=o.findIndex(z=>z.card.inscriptionId===I.originalInscriptionId&&z.card.id===I.cardId);if(_>=0&&_<u.length){const z=u[_].inscriptionId;z.startsWith("pending-")&&(D.set(z,I.delegateInscriptionId),console.log(`[Delegate]  Finale ID gefunden (Index ${_}): ${z} -> ${I.delegateInscriptionId} (${I.name})`))}}for(let I=0;I<u.length;I++){const _=u[I];if(_.inscriptionId.startsWith("pending-")){const z=D.get(_.inscriptionId);z&&(u[I].inscriptionId=z,console.log(`[Delegate]  Aktualisiert: ${_.inscriptionId} -> ${z}`))}}}}catch(C){console.warn("[Delegate]  Konnte aktualisierte Delegates nicht abrufen:",C)}}}catch(T){console.warn("[Delegate]  Status-Prfung fehlgeschlagen (nicht kritisch):",T)}}catch(j){if(console.error("[Delegate] Fehler bei kombinierter Zahlung:",j),console.error("[Delegate] Zahlungs-Details:",JSON.stringify(d,null,2)),(v=j.message)!=null&&v.includes("Insufficient balance")){const S=d.reduce((T,E)=>T+E.amount,0);throw new Error(`Insufficient balance. Bentigt: ${S} BTC + Transaktions-Fees. Bitte stellen Sie sicher, dass Ihr Wallet genug Bitcoin hat (inkl. Fees fr ${d.length} Empfnger).`)}throw new Error(`Zahlung fehlgeschlagen: ${j.message}`)}}else d.length===0&&console.warn(`[Delegate]  Keine Zahlungen zu verarbeiten! (packPrice: ${i}, Inskriptions-Fees: ${u.filter(j=>j.payAddress).length})`),a||console.warn("[Delegate]  Kein walletType gesetzt! Zahlung wird bersprungen.");const b=[];for(let j=0;j<u.length&&j<o.length;j++){const S=u[j],{card:T}=o[j];b.push({inscriptionId:S.inscriptionId,txid:S.txid||S.orderId,card:T,payAddress:S.payAddress,amount:S.amount,paymentTxid:h||void 0})}if(b.length!==e.length)throw new Error(`Nicht alle Inskriptionen erfolgreich: ${b.length}/${e.length}`);return b},hs=e=>{const t=[];for(const r of e){const a=Ag[r.rarity];for(let i=0;i<a;i++)t.push(r)}const n=Math.floor(Math.random()*t.length);return t[n]},Wa=(e,t,n)=>{const r=Math.random()*100;let a;return r<70?a=e:r<95?a=t:a=n,a.length===0&&(a=e),hs(a)},Wg=e=>[...e],Hg=(e,t,n,r)=>{const a=[],i=new Set;let l=0;const o=1,c=100;for(let u=0;u<e;u++){let d=null,f=0;for(;!d&&f<c;){if(f++,l>=o){const m=t.filter(y=>!i.has(y.id));m.length===0?d=hs(t):d=hs(m)}else{const m=t.filter(h=>!i.has(h.id)),y=n.filter(h=>!i.has(h.id)),x=r.filter(h=>!i.has(h.id));m.length===0&&y.length===0&&x.length===0?d=Wa(t,n,r):d=Wa(m,y,x),d&&(d.cardType==="action"||d.cardType==="status")&&l++}d&&i.has(d.id)&&(d=null)}d||(l>=o?d=hs(t):(d=Wa(t,n,r),(d.cardType==="action"||d.cardType==="status")&&l++)),d&&(a.push(d),i.add(d.id))}return a},Gg=()=>{const{walletState:e}=xe(),[t,n]=w.useState(null),[r,a]=w.useState(!1);w.useEffect(()=>{e.connected&&e.accounts[0]?i():n(null)},[e.connected,e.accounts]);const i=async()=>{if(e.accounts[0]){a(!0);try{const l=await Xl(e.accounts[0].address);n(l)}catch(l){console.error("Error loading points:",l)}finally{a(!1)}}};return e.connected?s.jsx("div",{className:"bg-black border border-red-600 rounded p-3 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase mb-1",children:"Your Points"}),r?s.jsx("p",{className:"text-lg font-bold text-white",children:"Loading..."}):s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[(t==null?void 0:t.points)||0," ",s.jsx("span",{className:"text-sm text-gray-400",children:"Points"})]})]}),(t==null?void 0:t.firstMint)&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400",children:" First Mint"}),s.jsx("p",{className:"text-xs text-white",children:new Date(t.firstMint).toLocaleDateString("en-US")})]})]})}):null},Vg=()=>{console.log(" MINTING PAGE GELADEN - VERSION 3.0 - UNISAT API! "),console.log("[MintingPage]  Diese Version verwendet UniSat API mit Zahlungen!");const{walletState:e,connect:t}=xe(),[n,r]=w.useState(null),[a,i]=w.useState(null),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(1),[m,y]=w.useState(!1);w.useEffect(()=>{console.log("[MintingPage]  Minting-Seite wurde geladen")},[]);const x=w.useCallback(async b=>{var v;console.log(" VERSION 3.0 - UNISAT API! "),console.log("[MintingPage] ========== HANDLE MINT START ==========");const p=Wi.find(j=>j.id===b);if(!p){alert("Pack not found");return}if(console.log("[MintingPage] Pack ID:",b),console.log("[MintingPage] Wallet State:",{connected:e.connected,walletType:e.walletType,accounts:e.accounts.length}),!e.connected||!e.accounts[0]){console.log("[MintingPage] Wallet nicht verbunden - zeige Connect-Modal"),u(b),o(!0);return}const g=e.accounts[0].address;console.log("[MintingPage] User Address:",g),i(b),r({packId:b,status:"pending",progress:0});try{if(console.log("[MintingPage] ========== TRY BLOCK START =========="),!await Cg(b))throw new Error("Pack ist nicht mehr verfgbar");r(I=>I?{...I,progress:10,status:"processing"}:null);let S;b==="premium-pack"?S=Wg(Ye):S=Hg(5,sf,nf,rf),console.log("[MintingPage] ",S.length,"Cards generiert"),r(I=>I?{...I,progress:30}:null),console.log("[MintingPage]  Erstelle Inskriptionen ber UniSat API..."),r(I=>I?{...I,progress:40}:null);const T=await zg(S,g,"Black & Wild",d,e.walletType||"unisat",p.price);console.log("[MintingPage]  Starte automatische Status-Prfung fr finale IDs...");let E=[...T],C=0;const B=10;let D=null;const G=async()=>{try{const I="http://localhost:3003",_=await fetch(`${I}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:g})});if(_.ok&&(await _.json()).updated>0){const W=await fetch(`${I}/api/delegates/${g}?checkPending=false`);if(W.ok){const je=await W.json(),ce=T.map((R,O)=>{const V=R.inscriptionId;if(V.startsWith("pending-")){const X=S[O],_e=je.find(k=>{const N=k.originalInscriptionId===(X==null?void 0:X.inscriptionId)&&k.cardId===(X==null?void 0:X.id);return k.delegateInscriptionId.startsWith("pending-")?N&&k.delegateInscriptionId===V:N});if(_e&&!_e.delegateInscriptionId.startsWith("pending-"))return console.log(`[MintingPage]  Finale ID gefunden: ${V} -> ${_e.delegateInscriptionId}`),{...R,inscriptionId:_e.delegateInscriptionId}}return R});ce.some((R,O)=>{var V;return R.inscriptionId!==((V=E[O])==null?void 0:V.inscriptionId)})&&(E=ce,r(R=>R?{...R,inscriptionIds:E.map(O=>O.inscriptionId),cards:S.map((O,V)=>{var X;return{...O,inscriptionId:((X=E[V])==null?void 0:X.inscriptionId)||O.inscriptionId}})}:null))}}}catch(I){console.warn("[MintingPage] Status-Prfung fehlgeschlagen:",I)}};D=setInterval(async()=>{C++,C>=B?(D&&clearInterval(D),console.log("[MintingPage]  Polling beendet nach",B,"Versuchen")):await G()},3e4),await G(),r(I=>I?{...I,progress:70}:null);try{await wg(g,b,p.name,S.length)}catch(I){console.warn("Error adding points:",I)}try{await $g({walletAddress:g,packId:p.id,packName:p.name,cards:S.map((I,_)=>{var z;return{...I,inscriptionId:((z=E[_])==null?void 0:z.inscriptionId)||I.inscriptionId}}),inscriptionIds:E.map(I=>I.inscriptionId),txids:E.map(I=>I.txid),paymentTxid:((v=E[0])==null?void 0:v.paymentTxid)||"unisat-api"})}catch(I){console.warn("Error saving minting log:",I)}try{await Eg(b)}catch(I){console.warn("Error updating pack availability:",I)}r(I=>I?{...I,progress:90,inscriptionIds:E.map(_=>_.inscriptionId),cards:S.map((_,z)=>{var W;return{..._,inscriptionId:((W=E[z])==null?void 0:W.inscriptionId)||_.inscriptionId}})}:null),await new Promise(I=>setTimeout(I,2e3)),D&&clearInterval(D),r(I=>I?{...I,status:"completed",progress:100,inscriptionIds:E.map(_=>_.inscriptionId),cards:S.map((_,z)=>{var W;return{..._,inscriptionId:((W=E[z])==null?void 0:W.inscriptionId)||_.inscriptionId}})}:null)}catch(j){console.error("[MintingPage] Minting-Fehler:",j),r(S=>S?{...S,status:"failed",error:j.message||"Unknown error"}:null)}finally{i(null),pollingInterval&&clearInterval(pollingInterval)}},[e,d]),h=w.useCallback(b=>{x(b)},[x]);return w.useEffect(()=>{l&&e.connected&&c&&(o(!1),x(c),u(null))},[l,e.connected,c,x]),s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("h1",{className:"text-4xl font-bold text-center mb-2 border-b-2 border-red-600 pb-4",children:[s.jsx("span",{className:"text-black",style:{textShadow:"-1px -1px 1px rgba(255, 255, 255, 0.5), 1px -1px 1px rgba(255, 255, 255, 0.5), -1px 1px 1px rgba(255, 255, 255, 0.5), 1px 1px 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(255, 255, 255, 0.3)"},children:"BLACK"}),s.jsx("span",{className:"text-red-600 mx-1",children:"&"}),s.jsx("span",{className:"text-white",children:"WILD"})]}),s.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Mint your card packs"}),e.connected&&s.jsx(Gg,{}),n&&s.jsx("div",{className:"mb-6",children:s.jsx(Jl,{status:n})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),s.jsx("button",{onClick:()=>{o(!1),u(null)},className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4",children:s.jsx(la,{onConnected:()=>o(!1)})})]})}),s.jsx(Pg,{packs:Wi,onMint:h,mintingPackId:a,inscriptionFeeRate:d,onFeeRateChange:f}),s.jsx("div",{className:"mt-6 text-center text-gray-300 text-xs border-t border-red-600 pt-3",children:s.jsx("p",{className:"mt-1",children:"Ordinals are only supported on Taproot addresses (bc1p...)."})})]}),m&&s.jsx(uf,{onClose:()=>y(!1)})]})},fa="http://localhost:3003",Kg=async e=>{const t=await fetch(`${fa}/api/trades/offers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(r.error||r.msg||"Failed to create trade offer")}return await t.json()},Xg=async()=>{const e=await fetch(`${fa}/api/trades/offers`);if(!e.ok)throw new Error("Failed to fetch trade offers");return(await e.json()).offers||[]},Qg=async(e,t,n)=>{const r=await fetch(`${fa}/api/trades/offers/${e}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taker:t,walletType:n})});if(!r.ok){const i=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(i.error||i.msg||"Failed to accept trade offer")}return(await r.json()).offer},Jg=async e=>{const t=await fetch(`${fa}/api/trades/offers/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(n.error||n.msg||"Failed to cancel trade offer")}},Ot=e=>[`https://ordinals.com/content/${e}`,`https://ordinals.com/preview/${e}`,`https://ordiscan.com/content/${e}`][0],qg=({offer:e,myCards:t,onOfferAccepted:n})=>{var x;const{walletState:r}=xe(),[a,i]=w.useState(!1),[l,o]=w.useState(null),c=((x=r.accounts[0])==null?void 0:x.address)===e.maker,u=!c&&e.status==="active",d=e.requestCards.every(h=>t.some(b=>b.originalInscriptionId===h)),f=async()=>{var h;if(!(!u||!d||!((h=r.accounts[0])!=null&&h.address))){i(!0),o(null);try{await Qg(e.offerId,r.accounts[0].address,r.walletType||"unisat"),n(),alert("Trade offer accepted! Transaction pending...")}catch(b){o(b.message||"Failed to accept offer")}finally{i(!1)}}},m=new Date(e.expiresAt*1e3),y=Date.now()>m.getTime();return s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:c?"My Offer":"Trade Offer"}),s.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:[e.maker.slice(0,8),"...",e.maker.slice(-6)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.status==="active"&&!y?"bg-green-900 text-green-200":"bg-gray-700 text-gray-300"}`,children:y?"Expired":e.status})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:["Offers (",e.offerCards.length,"):"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.offerCards.map(h=>{const b=t.find(g=>g.inscriptionId===h),p=(b==null?void 0:b.originalInscriptionId)||h;return s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Ot(p),alt:(b==null?void 0:b.name)||h.slice(0,8),className:"w-full aspect-square object-contain bg-gray-800 rounded border border-gray-700",onError:g=>{g.currentTarget.style.display="none";const v=g.currentTarget.nextElementSibling;v&&(v.style.display="flex")}}),s.jsxs("div",{className:"hidden w-full aspect-square items-center justify-center bg-gray-800 rounded border border-gray-700 text-xs text-gray-500",children:[h.slice(0,8),"..."]}),(b==null?void 0:b.name)&&s.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",title:b.name,children:b.name})]},h)})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:["Wants (",e.requestCards.length,"):"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.requestCards.map(h=>{const b=t.some(v=>v.originalInscriptionId===h),p=Ye.find(v=>v.inscriptionId===h),g=h;return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`relative ${b?"ring-2 ring-green-500":"ring-2 ring-red-500"}`,children:[s.jsx("img",{src:Ot(g),alt:(p==null?void 0:p.name)||h.slice(0,8),className:"w-full aspect-square object-contain bg-gray-800 rounded border border-gray-700",onError:v=>{v.currentTarget.style.display="none";const j=v.currentTarget.nextElementSibling;j&&(j.style.display="flex")}}),s.jsxs("div",{className:"hidden w-full aspect-square items-center justify-center bg-gray-800 rounded border border-gray-700 text-xs text-gray-500",children:[h.slice(0,8),"..."]}),b&&s.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:""})]}),(p==null?void 0:p.name)&&s.jsx("p",{className:`text-xs mt-1 truncate ${b?"text-green-400":"text-red-400"}`,title:p.name,children:p.name})]},h)})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Expires: ",m.toLocaleDateString()]}),l&&s.jsx("div",{className:"mb-4 bg-red-900 border border-red-600 rounded p-2",children:s.jsx("p",{className:"text-xs text-red-200",children:l})}),u&&s.jsx("button",{onClick:f,disabled:a||!d,className:`w-full py-2 px-4 rounded font-semibold transition ${d?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:a?"Processing...":d?"Accept Offer":"Missing Cards"}),c&&e.status==="active"&&s.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to cancel this trade offer?")){i(!0);try{await Jg(e.offerId),n(),alert("Trade offer cancelled")}catch(h){o(h.message||"Failed to cancel offer")}finally{i(!1)}}},disabled:a,className:"w-full py-2 px-4 rounded bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white font-semibold transition",children:a?"Cancelling...":"Cancel Offer"})]})},Yg=({myCards:e})=>{const{walletState:t}=xe(),[n,r]=w.useState([]),[a,i]=w.useState(!0),[l,o]=w.useState("all");w.useEffect(()=>{c();const d=setInterval(c,3e4);return()=>clearInterval(d)},[]);const c=async()=>{i(!0);try{const d=await Xg();r(d)}catch(d){console.error("Error loading offers:",d)}finally{i(!1)}},u=n.filter(d=>{var f;return l==="my"?(f=t.accounts[0])!=null&&f.address?d.maker.toLowerCase()===t.accounts[0].address.toLowerCase():!1:l==="available"?d.status==="active":!0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded ${l==="all"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All Offers"}),s.jsx("button",{onClick:()=>o("available"),className:`px-4 py-2 rounded ${l==="available"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Available"}),s.jsx("button",{onClick:()=>o("my"),className:`px-4 py-2 rounded ${l==="my"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"My Offers"})]}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),s.jsx("p",{className:"mt-4 text-gray-300",children:"Loading offers..."})]}):u.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("p",{children:"No trade offers found"}),s.jsx("p",{className:"text-sm mt-2",children:"Be the first to create an offer!"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>s.jsx(qg,{offer:d,myCards:e,onOfferAccepted:c},d.offerId))})]})},Nc=({cards:e,selectedCards:t,onCardToggle:n,title:r,maxCards:a})=>{const i=o=>t.includes(o),l=a?t.length<a:!0;return s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 border-b-2 border-red-600 pb-2",children:[r,a&&s.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",t.length,"/",a,")"]})]}),e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"No cards available"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-[600px] overflow-y-auto",children:e.map(o=>{const c={id:o.inscriptionId,name:o.name,rarity:o.rarity,inscriptionId:o.inscriptionId,originalInscriptionId:o.originalInscriptionId,cardType:o.cardType,effect:o.effect,svgIcon:o.svgIcon,revealed:!0},u=i(o.inscriptionId),d=!u&&!l;return s.jsxs("div",{onClick:()=>{d||n(o.inscriptionId)},className:`relative cursor-pointer transition-all ${u?"ring-4 ring-red-600 scale-105":d?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[s.jsx(Lr,{card:c,showRarity:!0,autoReveal:!0}),u&&s.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:""})]},o.inscriptionId)})})]})},Zg=({myCards:e,onOfferCreated:t})=>{const{walletState:n}=xe(),[r,a]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(7),[u,d]=w.useState(!1),[f,m]=w.useState(null),y=(p,g)=>{g?a(v=>v.includes(p)?v.filter(j=>j!==p):[...v,p]):l(v=>v.includes(p)?v.filter(j=>j!==p):[...v,p])},x=async()=>{var p;if(!((p=n.accounts[0])!=null&&p.address)){m("Wallet not connected");return}if(r.length===0){m("Please select at least one card to offer");return}if(i.length===0){m("Please select at least one card you want");return}d(!0),m(null);try{const g=Math.floor(Date.now()/1e3)+o*24*60*60;await Kg({maker:n.accounts[0].address,offerCards:r,requestCards:i,expiresAt:g,walletType:n.walletType||"unisat"}),a([]),l([]),c(7),t(),alert("Trade offer created successfully!")}catch(g){m(g.message||"Failed to create offer")}finally{d(!1)}},h=e.filter(p=>!i.includes(p.inscriptionId)),b=w.useMemo(()=>{const p=Ye.map(v=>({name:v.name,rarity:v.rarity,inscriptionId:v.inscriptionId,originalInscriptionId:v.inscriptionId,mintedAt:0,packName:"Collection",cardType:v.cardType,effect:v.effect,svgIcon:v.svgIcon})),g=new Map;return p.forEach(v=>{const j=`${v.name}-${v.rarity}`;g.has(j)||g.set(j,v)}),Array.from(g.values())},[]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Nc,{cards:h,selectedCards:r,onCardToggle:p=>y(p,!0),title:"You Give",maxCards:10}),s.jsx(Nc,{cards:b,selectedCards:i,onCardToggle:p=>y(p,!1),title:"You Want",maxCards:10})]}),(r.length>0||i.length>0)&&s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"Offer Summary"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"You Give:"}),s.jsx("div",{className:"space-y-1",children:r.map(p=>{const g=e.find(v=>v.inscriptionId===p);return s.jsxs("p",{className:"text-sm text-white",children:[" ",(g==null?void 0:g.name)||p.slice(0,8),"..."]},p)})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"You Want:"}),s.jsx("div",{className:"space-y-1",children:i.map(p=>{const g=b.find(v=>v.inscriptionId===p);return s.jsxs("p",{className:"text-sm text-white",children:[" ",(g==null?void 0:g.name)||p.slice(0,8),"..."]},p)})})]})]})]}),s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4",children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Offer expires in (days):"}),s.jsx("input",{type:"number",min:"1",max:"30",value:o,onChange:p=>c(parseInt(p.target.value)||7),className:"bg-black border border-gray-600 rounded px-3 py-2 text-white w-32"})]}),f&&s.jsx("div",{className:"bg-red-900 border-2 border-red-600 rounded-lg p-4",children:s.jsx("p",{className:"text-red-200",children:f})}),s.jsx("button",{onClick:x,disabled:u||r.length===0||i.length===0,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition",children:u?"Creating Offer...":"Create Trade Offer"})]})},e0=()=>{const e=Xe(),{walletState:t}=xe(),[n,r]=w.useState("browse"),[a,i]=w.useState([]),[l,o]=w.useState(!1);w.useEffect(()=>{t.connected&&t.accounts[0]?c():i([])},[t.connected,t.accounts]);const c=async()=>{var u;if((u=t.accounts[0])!=null&&u.address){o(!0);try{const d=await ua(t.accounts[0].address);i(d)}catch(d){console.error("Error loading cards:",d)}finally{o(!1)}}};return t.connected?s.jsx("div",{className:"min-h-screen bg-black text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[s.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),s.jsx("h1",{className:"text-4xl font-bold text-center mb-2 border-b-2 border-red-600 pb-4 flex-1",children:"BLACK & WILD Trading"}),s.jsx("div",{className:"w-20"})," "]}),s.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Trade your cards with other players"}),s.jsxs("div",{className:"flex gap-4 mb-6 border-b-2 border-gray-800",children:[s.jsx("button",{onClick:()=>r("browse"),className:`px-6 py-3 font-semibold transition ${n==="browse"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Browse Offers"}),s.jsx("button",{onClick:()=>r("create"),className:`px-6 py-3 font-semibold transition ${n==="create"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Create Offer"})]}),n==="browse"?s.jsx(Yg,{myCards:a}):s.jsx(Zg,{myCards:a,onOfferCreated:c})]})}):s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"BLACK & WILD Trading"}),s.jsx("p",{className:"text-gray-300 mb-8",children:"Please connect your wallet to start trading"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Use the menu in the top right to connect"})]})})},t0=()=>{var x;const e=Xe(),{walletState:t}=xe(),[n,r]=w.useState([]),[a,i]=w.useState(!0),[l,o]=w.useState(!1),[c,u]=w.useState(null),d=async()=>{if(!t.connected||!t.accounts[0]){i(!1);return}i(!0);try{const h=t.accounts[0].address,b=await ua(h);r(b),u(new Date)}catch(h){console.error("Failed to load cards:",h)}finally{i(!1)}},f=async()=>{if(!(!t.connected||!t.accounts[0])){o(!0);try{const h="http://localhost:3003",b=t.accounts[0].address;console.log("[History]  Checking pending inscriptions...");const p=await fetch(`${h}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:b})});if(p.ok){const g=await p.json();console.log("[History]  Status check result:",g),g.updated>0?(console.log(`[History]  ${g.updated} inscriptions updated, reloading cards...`),await d()):console.log("[History]  No updates found yet")}else console.error("[History]  Status check failed:",p.status)}catch(h){console.error("[History]  Failed to check pending status:",h)}finally{o(!1)}}};if(w.useEffect(()=>{if(t.connected&&t.accounts[0]){d();const h=setInterval(()=>{d()},3e4);return()=>clearInterval(h)}else r([]),i(!1)},[t.connected,(x=t.accounts[0])==null?void 0:x.address]),!t.connected)return s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Minting History"}),s.jsx("p",{className:"text-gray-400",children:"Please connect your wallet to see your history."})]})});const m=n.filter(h=>h.inscriptionId.startsWith("pending-")),y=n.filter(h=>!h.inscriptionId.startsWith("pending-"));return s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Minting History"})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[c&&s.jsxs("span",{className:"text-sm text-gray-400",children:["Last update: ",c.toLocaleTimeString()]}),s.jsx("button",{onClick:f,disabled:l,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm font-semibold",children:l?"Checking...":"Check Status"}),s.jsx("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition-colors text-sm font-semibold",children:a?"Loading...":"Refresh"})]})]}),a&&n.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400",children:"Loading history..."})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-400",children:"No inscriptions yet."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Mint your first pack on the main page!"})]}):s.jsxs(s.Fragment,{children:[m.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold mb-4 text-yellow-500 flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Pending (",m.length,")"]})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"These inscriptions are waiting for confirmation. The final IDs will be automatically updated once the transactions are confirmed (approx. 10-20 minutes)."}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:m.map((h,b)=>{const p={id:h.name.toLowerCase().replace(/\s+/g,"-"),name:h.name,rarity:h.rarity,inscriptionId:h.inscriptionId,originalInscriptionId:h.originalInscriptionId,cardType:h.cardType,effect:h.effect,svgIcon:h.svgIcon};return s.jsxs("div",{className:"relative",children:[s.jsx(Lr,{card:{...p,revealed:!0},showRarity:!0}),s.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-black text-xs px-2 py-1 rounded font-bold",children:"Pending"})]},`pending-${b}`)})})]}),y.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold mb-4 text-green-500 flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Confirmed (",y.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:y.map((h,b)=>{const p={id:h.name.toLowerCase().replace(/\s+/g,"-"),name:h.name,rarity:h.rarity,inscriptionId:h.inscriptionId,originalInscriptionId:h.originalInscriptionId,cardType:h.cardType,effect:h.effect,svgIcon:h.svgIcon};return s.jsx(Lr,{card:{...p,revealed:!0},showRarity:!0},`confirmed-${b}`)})})]}),m.length===0&&y.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400",children:"No cards found."})})]})]})})},ut={negative:["BLEEDING","STUCK","TINT","TARGET","PARANOIA"],positive:["SHIELD","RAGE"],neutral:["SWARM"]},Hi=[{id:"card-1",name:"Grasshopper",type:"animal",rarity:"common",atk:1,hp:1,inscriptionId:"62de7de2fba34ce0b5718e94970c19f5965b131316b9615c3c2c61421cb51e76i0",effectText:"When this animal attacks, draw 1 card.",effects:[{trigger:"onAttack",action:"draw_card",value:1,target:"self"}]},{id:"card-2",name:"Ant",type:"animal",rarity:"common",atk:1,hp:2,inscriptionId:"446045d1613fb57610840eb1c6ba1491d5b0ea9624f7bda585e5f52e256f91e1i0",effectText:"If you control another Ant, this animal gets +1 ATK.",effects:[{trigger:"static",action:"modify_attack",value:1,target:"self",condition:"has_another_ant"}]},{id:"card-3",name:"Bee",type:"animal",rarity:"common",atk:2,hp:1,inscriptionId:"3aef296ead63f20a39c06ca04fc696dd98c532d6b595088fc58176cb46d1beaai0",effectText:"When this animal dies, deal 1 damage to any target.",effects:[{trigger:"onDeath",action:"deal_damage",value:1,target:"any"}]},{id:"card-4",name:"Chicken",type:"animal",rarity:"common",atk:1,hp:3,inscriptionId:"c907865db233272d06a262c19da7379d4d36f1088dd825375b29a73686a3a184i0",effectText:"This animal cannot attack.",effects:[{trigger:"static",action:"prevent_attack",target:"self"}]},{id:"card-5",name:"Worm",type:"animal",rarity:"common",atk:0,hp:2,inscriptionId:"7d91a2bb93f5ddfba2b16a6f0f463412e0faf12c46ca59cb2d76ec3b0bd3cf49i0",effectText:"When this animal dies, draw 1 card.",effects:[{trigger:"onDeath",action:"draw_card",value:1,target:"self"}]},{id:"card-6",name:"Spider",type:"animal",rarity:"common",atk:1,hp:2,inscriptionId:"8564dd1ffef7bb5e2501819e562d4f98d123959899a3348a8def8dc4e3c7409di0",effectText:"When this animal is played, attach STUCK to an enemy animal.",effects:[{trigger:"onPlay",action:"attach_status",target:"enemy_animal",filter:{statusName:"STUCK"}}]},{id:"card-7",name:"Butterfly",type:"animal",rarity:"common",atk:0,hp:1,inscriptionId:"433c855aa38cc7b142dacaff65cfe9d58f2a79c40c87ddff56c3a283972a6a52i0",effectText:"When played, draw 2 cards. Destroy this animal at end of turn.",effects:[{trigger:"onPlay",action:"draw_card",value:2,target:"self"},{trigger:"onTurnEnd",action:"destroy_self",target:"self"}]},{id:"card-8",name:"Worm",type:"animal",rarity:"uncommon",atk:1,hp:3,inscriptionId:"f56c0801566cb9e46e1465f1d760f8976ba0bad328e39e84fa2e2209a4d6c540i0",effectText:"When this animal dies, draw 2 cards.",effects:[{trigger:"onDeath",action:"draw_card",value:2,target:"self"}]},{id:"card-9",name:"Bird",type:"animal",rarity:"uncommon",atk:2,hp:2,inscriptionId:"d021efd186eb10c45fbdf043bf974e211772fce336d8287f02f85b6a06b2d8d9i0",effectText:"This animal is unaffected by STUCK.",effects:[{trigger:"static",action:"status_immunity",filter:{statusName:"STUCK"}}]},{id:"card-10",name:"Bird",type:"animal",rarity:"uncommon",atk:3,hp:1,inscriptionId:"9ffd078c797dfdcbb6f72482f5499c124dd67c47044ccda1a1c42bf89926f2f0i0",effectText:"When this animal attacks, deal 1 damage to itself.",effects:[{trigger:"onAttack",action:"deal_damage",value:1,target:"self"}]},{id:"card-11",name:"Cow",type:"animal",rarity:"uncommon",atk:2,hp:4,inscriptionId:"7f2a4963ed0c4e341db74d82dcc8c8fc0cdf4c84d7c1558f13b33b9ca6ef7251i0",effectText:"Other animals you control cannot attack.",effects:[{trigger:"static",action:"prevent_attack",target:"friendly_animals_except_self"}]},{id:"card-12",name:"Cow",type:"animal",rarity:"uncommon",atk:1,hp:5,inscriptionId:"171f1741831bb019ee18e2a92dae9c711abf07e153641a4c1ceaa5892133032ci0",effectText:"At the start of your turn, gain 1 life.",effects:[{trigger:"onTurnStart",action:"gain_life",value:1,target:"self"}]},{id:"card-13",name:"Pig",type:"animal",rarity:"uncommon",atk:2,hp:3,inscriptionId:"pig-inscription-id-placeholder",effectText:"When this animal is damaged, draw 1 card.",effects:[{trigger:"onDamage",action:"draw_card",value:1,target:"self"}]},{id:"card-14",name:"Tiger",type:"animal",rarity:"rare",atk:4,hp:3,inscriptionId:"195209f7e21b768fd7ca18a905ddac9ec4986412f4f8aa716290fbb743db6feai0",effectText:"When this animal attacks, destroy a random enemy animal.",effects:[{trigger:"onAttack",action:"destroy_target",target:"random_enemy_animal"}]},{id:"card-15",name:"Rabbit",type:"animal",rarity:"rare",atk:1,hp:2,inscriptionId:"a0b9f4f33913f512ba4de73b1e4982cf5be76874062287fcd05efdd76a220a7fi0",effectText:"When played, play an additional animal this turn.",effects:[{trigger:"onPlay",action:"play_additional_animal",target:"self"}]},{id:"card-17",name:"Duck",type:"animal",rarity:"rare",atk:2,hp:3,inscriptionId:"a831e75a67d49d6e98594991cde68da3bf5f328ff49cc94a4a6bc05887ff8523i0",effectText:"When this animal attacks, return a random Status card to its owner's discard.",effects:[{trigger:"onAttack",action:"return_status",target:"random_animal"}]},{id:"card-18",name:"Crow",type:"animal",rarity:"rare",atk:2,hp:2,inscriptionId:"d67b09d7ac06aa9c217f95c69bf5c76f7f1634cad92fff5829546a22a279072ci0",effectText:"When played, look at opponent's hand. Choose one card to discard.",effects:[{trigger:"onPlay",action:"look_hand",target:"opponent_hand"}]},{id:"card-19",name:"Cat",type:"animal",rarity:"rare",atk:3,hp:2,inscriptionId:"e07446928e95b81b406592bf95007fb44948c252947304a7b31d34f84e96188ei0",effectText:"This animal can attack twice each Attack Phase.",effects:[{trigger:"static",action:"modify_attack",value:0,target:"self",condition:"can_attack_twice"}]},{id:"card-20",name:"Gecko",type:"animal",rarity:"rare",atk:2,hp:2,inscriptionId:"9ad47ae89b8155ea8e4b02f53d4ced920d6dd4aeeaa744b99c44d33265827c44i0",effectText:"This animal ignores all negative Status effects.",effects:[{trigger:"static",action:"status_immunity",filter:{statusTag:"negative"}}]},{id:"card-21",name:"Zebra",type:"animal",rarity:"epic",atk:3,hp:4,inscriptionId:"3099b73fd35e81a8bf53a02af99f436d88b73b54945aaa97dfde155a08e174bdi0",effectText:"Whenever another animal dies, this animal gets +1 ATK.",effects:[{trigger:"onAnimalDeath",action:"modify_attack",value:1,target:"self"}]},{id:"card-22",name:"Sheep",type:"animal",rarity:"epic",atk:1,hp:4,inscriptionId:"4d2d4a2b258b18b95bfc55dc3c31cbcd4b204a4f001c9861793b993487af4560i0",effectText:"Damage dealt to your other animals is reduced by 1.",effects:[{trigger:"static",action:"damage_modifier",value:-1,target:"friendly_animals_except_self"}]},{id:"card-23",name:"Turtle",type:"animal",rarity:"epic",atk:1,hp:6,inscriptionId:"3135eb862f9c56bf1884c05dd80bb28107ba9af82bed83fd39a1ff28e303a8a7i0",effectText:"This animal takes 1 less damage from all sources.",effects:[{trigger:"static",action:"damage_modifier",value:-1,target:"self"}]},{id:"card-24",name:"Penguin",type:"animal",rarity:"epic",atk:2,hp:3,inscriptionId:"2cd0572f35441d5b443ad9c78ec62f84f9b6c77528903c86b8b23b9213f0e7c4i0",effectText:"When this animal attacks, freeze an enemy animal (it cannot attack next turn).",effects:[{trigger:"onAttack",action:"freeze_animal",target:"enemy_animal"}]},{id:"card-25",name:"Koala",type:"animal",rarity:"epic",atk:2,hp:5,inscriptionId:"4f6cce4ab7433ef48222e0a974c3a546f102cf38a455368757f5d5e00bfc1dddi0",effectText:"This animal cannot be targeted by Action cards.",effects:[{trigger:"static",action:"target_immunity",filter:{cardType:"action"}}]},{id:"card-26",name:"Fox",type:"animal",rarity:"legendary",atk:3,hp:3,inscriptionId:"e1a16dd9dea8b6ade622d24214c21ec29029127d40aa8ad44aa07c39f4620866i0",effectText:"When played, copy the effect of any Action card in a discard pile.",effects:[{trigger:"onPlay",action:"copy_effect",target:"discard_pile"}]},{id:"card-27",name:"Octopus",type:"animal",rarity:"legendary",atk:4,hp:4,inscriptionId:"d52730b2f4b8c0095ad82853e3e27d72adaa65796dbb666d929d7ca36f570ad2i0",effectText:"At the start of your turn, choose one enemy animal. It does not attack this turn.",effects:[{trigger:"onTurnStart",action:"prevent_attack",target:"enemy_animal"}]},{id:"card-28",name:"Ape",type:"animal",rarity:"mystic-legendary",atk:5,hp:5,inscriptionId:"3898219212c8a1c66564e60734ab01872315c3900ef782b466caf4ae58c2afdbi0",effectText:"When this animal dies, both players lose 5 life.",effects:[{trigger:"onDeath",action:"lose_life",value:5,target:"player"}]}],Gi=[{id:"action-1",name:"SLAP",type:"action",rarity:"common",inscriptionId:"ef41bd80183a3d557cfba127b55bee1330ceb6d05e8b4746921b23b55ce133c9i0",effectText:"Deal 2 damage to any target.",effects:[{trigger:"onPlay",action:"deal_damage",value:2,target:"any"}]},{id:"action-2",name:"WRONG MOVE",type:"action",rarity:"common",inscriptionId:"d7e6610d2dcaed7bf6fb0923e5a8dbe0776dbe07a966b19d9bbbab4eaf298d50i0",effectText:"Destroy an animal with ATK 2 or less.",effects:[{trigger:"onPlay",action:"destroy_target",target:"any",filter:{atkMax:2}}]},{id:"action-3",name:"PANIC",type:"action",rarity:"uncommon",inscriptionId:"7d6ffeb90550adb8994e52eb6ca56ec42d19b20401a22af9ed959684b9c83ec4i0",effectText:"Both players discard their hands, then draw 3 cards.",effects:[{trigger:"onPlay",action:"discard_hand",target:"player"},{trigger:"onPlay",action:"draw_card",value:3,target:"player"}]},{id:"action-4",name:"NOPE",type:"action",rarity:"uncommon",inscriptionId:"d1abdfb5c6318bdc45948cd88b03ae8057cf20bf955a6ed7fe7e011a6f895df9i0",effectText:"Cancel an Action card.",effects:[{trigger:"onPlay",action:"cancel_action",target:"any"}]},{id:"action-5",name:"OVERDOSE",type:"action",rarity:"rare",inscriptionId:"37b9fb329a6cf26de3e701da20c0217de97bcd839f18bceac3f43fea563f6b71i0",effectText:"Target animal gets +3 ATK until end of turn. Destroy it at the end of the turn.",effects:[{trigger:"onPlay",action:"modify_attack",value:3,target:"any",duration:"until_end_of_turn"},{trigger:"onTurnEnd",action:"destroy_target",target:"self"}]},{id:"action-6",name:"SWITCH",type:"action",rarity:"rare",inscriptionId:"fe1490d29120f1277596650462f33341a06a165bc037bb13e93af050935e4d75i0",effectText:"Swap control of two animals in play.",effects:[{trigger:"onPlay",action:"swap_control",target:"any"}]},{id:"action-7",name:"COLLAPSE",type:"action",rarity:"rare",inscriptionId:"9c1637a13a9f9c18bc232daefebab50033d14550afc51ea80dce4a6ae8b9d03ai0",effectText:"Deal 1 damage to all animals.",effects:[{trigger:"onPlay",action:"deal_damage",value:1,target:"all_animals"}]},{id:"action-8",name:"INSTINCT",type:"action",rarity:"epic",inscriptionId:"39367bda5c67a2a628261c2b0a3432c23929e864c7c12c5264b77d53341ecce0i0",effectText:"Trigger one animal's ability again.",effects:[{trigger:"onPlay",action:"trigger_ability",target:"any"}]},{id:"action-9",name:"STARE",type:"action",rarity:"epic",inscriptionId:"bb48c48089f36680ac736fbb675dc29b9965a2e41a1ecd60dc70b70f9729df51i0",effectText:"Look at your opponent's hand. Choose one card  they discard it.",effects:[{trigger:"onPlay",action:"look_hand",target:"opponent_hand"}]},{id:"action-10",name:"PUSH",type:"action",rarity:"epic",inscriptionId:"8da26d78071401ea4e69f16751612ae879543b438064a05ea89b17d0e7a92d99i0",effectText:"Target animal attacks immediately.",effects:[{trigger:"onPlay",action:"force_attack",target:"any"}]},{id:"action-11",name:"ACCIDENT",type:"action",rarity:"legendary",inscriptionId:"5687d374883dddcc97913fd286e180351443f9fd8f98af0f9e0f6bf199f5cde5i0",effectText:"Destroy a random animal.",effects:[{trigger:"onPlay",action:"destroy_target",target:"random_animal"}]},{id:"action-12",name:"LAST WORDS",type:"action",rarity:"legendary",inscriptionId:"e6ac9fab61f8e30fb58c5d9224681ad2c1a9f064eb523c4a264a562648a486f9i0",effectText:"When an animal dies this turn, draw 2 cards.",effects:[{trigger:"onAnimalDeath",action:"draw_card",value:2,target:"self",duration:"until_end_of_turn"}]}],Vi=[{id:"status-1",name:"BLEEDING",type:"status",rarity:"common",inscriptionId:"70b7048c1567f00c77aa05aa95db48d6838c4592a7d5c6d37e127667f9275050i0",effectText:"Attached animal loses 1 HP at the start of each turn.",tags:["negative"],effects:[{trigger:"onTurnStart",action:"deal_damage",value:1,target:"self"}]},{id:"status-2",name:"STUCK",type:"status",rarity:"common",inscriptionId:"f11b5ddc8a0a25a7cec94bc15c3fa32311808fe2cb87c2cea763f0d50c8b8e83i0",effectText:"Attached animal cannot attack.",tags:["negative"],effects:[{trigger:"static",action:"prevent_attack",target:"self"}]},{id:"status-3",name:"TINT",type:"status",rarity:"uncommon",inscriptionId:"1656be81e09e210983360e549155c9115ff9411019ca24692ea77f4991a2afa5i0",effectText:"1 ATK. When this animal dies, draw 1 card.",tags:["negative"],effects:[{trigger:"static",action:"modify_attack",value:-1,target:"self"},{trigger:"onDeath",action:"draw_card",value:1,target:"self"}]},{id:"status-4",name:"TARGET",type:"status",rarity:"uncommon",inscriptionId:"27442fdd682add2aa8d10846e506ed29891b76cb09e4923d640bf83f392241a0i0",effectText:"Damage dealt to this animal is doubled.",tags:["negative"],effects:[{trigger:"static",action:"double_damage",target:"self"}]},{id:"status-5",name:"SWARM",type:"status",rarity:"rare",inscriptionId:"cf331de8d1d45a3759c80d6ca20409ac80bf4602c855396a101d1eb08cb36fc5i0",effectText:"Whenever an animal dies, both players take 1 damage.",tags:["neutral"],effects:[{trigger:"onAnimalDeath",action:"deal_damage",value:1,target:"player"}]},{id:"status-6",name:"SHIELD",type:"status",rarity:"epic",inscriptionId:"d226c067ad6f7e083a7612d8b357051b824bdd63ca7bee7080611634abd28a1ai0",effectText:"Prevent the next damage dealt to attached animal, then discard SHIELD.",tags:["positive"],effects:[{trigger:"static",action:"prevent_attack",target:"self",condition:"prevent_next_damage_then_discard"}]},{id:"status-7",name:"RAGE",type:"status",rarity:"epic",inscriptionId:"0c7d863936f3c02134c472de45c7f5a2a0bce437a9914f2bd3a177c5c7a7efd4i0",effectText:"+2 ATK. This animal must attack if able.",tags:["positive"],effects:[{trigger:"static",action:"modify_attack",value:2,target:"self"},{trigger:"static",action:"force_attack",target:"self"}]},{id:"status-8",name:"PARANOIA",type:"status",rarity:"legendary",inscriptionId:"c68924eb89713ae2b169f3cf65c94c7f01d67130eb59987f861a5ace93733c11i0",effectText:"The controller of this card cannot draw cards.",tags:["negative"],effects:[{trigger:"static",action:"prevent_draw",target:"player"}]}],et=[...Hi,...Gi,...Vi],Ee=e=>et.find(t=>t.id===e),n0=e=>et.find(t=>t.name===e),r0=(e,t,n,r,a=0)=>{var c,u;const i={...e},l=i.players[a],o=i.players[1-a];switch(t.action){case"deal_damage":if(t.value&&t.target)if(t.target==="any"&&r){const d=l.board.find(f=>f.id===r)||o.board.find(f=>f.id===r);if(d){let f=t.value||0;d.statuses.some(y=>{const x=Ee(y);return(x==null?void 0:x.name)==="TARGET"})&&(f*=2);const m=d.statuses.findIndex(y=>{const x=Ee(y);return(x==null?void 0:x.name)==="SHIELD"});if(m!==-1){const y=d.statuses[m];d.statuses.splice(m,1);const x=Ee(y);x&&(d.owner===a?l:o).discard.push(x),f=0}d.card.name==="Turtle"&&(f=Math.max(0,f-1)),d.currentHp-=f}else r===`player-${a}`?l.life-=t.value||0:r===`player-${1-a}`&&(o.life-=t.value||0)}else t.target==="opponent"?o.life-=t.value||0:t.target==="self"?l.life-=t.value||0:t.target==="player"?(l.life-=t.value||0,o.life-=t.value||0):t.target==="all_animals"&&[...l.board,...o.board].forEach(d=>{let f=t.value||0;d.statuses.some(y=>{const x=Ee(y);return(x==null?void 0:x.name)==="TARGET"})&&(f*=2);const m=d.statuses.findIndex(y=>{const x=Ee(y);return(x==null?void 0:x.name)==="SHIELD"});if(m!==-1){const y=d.statuses[m];d.statuses.splice(m,1);const x=Ee(y);x&&(d.owner===a?l:o).discard.push(x),f=0}d.card.name==="Turtle"&&(f=Math.max(0,f-1)),d.currentHp-=f});break;case"draw_card":if(t.value&&l.canDraw)for(let d=0;d<t.value;d++)if(l.deck.length>0){const f=l.deck.shift();l.hand.push(f)}else l.life-=1;break;case"destroy_target":if(t.target==="random_animal"||t.target==="random_enemy_animal"){const d=t.target==="random_enemy_animal"?o.board:[...l.board,...o.board];if(d.length>0){const f=d[Math.floor(Math.random()*d.length)];Ha(i,f,f.owner)}}else if(r){const d=l.board.find(f=>f.id===r)||o.board.find(f=>f.id===r);d&&(((c=t.filter)==null?void 0:c.atkMax)!==void 0?d.currentAtk<=t.filter.atkMax&&Ha(i,d,d.owner):Ha(i,d,d.owner))}break;case"modify_attack":if(r&&t.value){const d=l.board.find(f=>f.id===r)||o.board.find(f=>f.id===r);d&&(d.currentAtk+=t.value,d.currentAtk<0&&(d.currentAtk=0))}else t.target==="self"&&t.value&&l.board.forEach(d=>{d.currentAtk+=t.value||0,d.currentAtk<0&&(d.currentAtk=0)});break;case"gain_life":t.value&&(l.life+=t.value);break;case"lose_life":t.value&&(t.target==="player"?(l.life-=t.value,o.life-=t.value):l.life-=t.value);break;case"attach_status":if(r&&((u=t.filter)!=null&&u.statusName)){const d=l.board.find(f=>f.id===r)||o.board.find(f=>f.id===r);d&&(d.card.effects.some(m=>{var y,x,h;return m.action==="status_immunity"&&(((y=m.filter)==null?void 0:y.statusName)===t.filter.statusName||((x=m.filter)==null?void 0:x.statusTag)&&((h=ut[m.filter.statusTag])==null?void 0:h.includes(t.filter.statusName)))})||d.statuses.push(t.filter.statusName))}break;case"prevent_attack":break;case"prevent_draw":l.canDraw=!1;break;case"play_additional_animal":l.animalsPlayedThisTurn=Math.max(0,l.animalsPlayedThisTurn-1);break;case"discard_hand":l.discard.push(...l.hand),l.hand=[],o.discard.push(...o.hand),o.hand=[];break;case"look_hand":i.pendingAction={type:"look_hand",playerIndex:1-a};break;case"discard_card":if(r){const d=t.target==="opponent_hand"?o:l,f=d.hand.findIndex(m=>m.id===r);if(f!==-1){const m=d.hand.splice(f,1)[0];d.discard.push(m)}}break}return l.life<=0?(i.gameOver=!0,i.winner=1-a):o.life<=0&&(i.gameOver=!0,i.winner=a),i},Ha=(e,t,n)=>{const r=e.players[n],a=t.card.effects.filter(l=>l.trigger==="onDeath");for(const l of a)e.pendingEffects.push({effect:l,source:t.card.id,target:t.id,player:n});t.statuses.forEach(l=>{const o=Ee(l);o&&r.discard.push(o)});const i=r.board.indexOf(t);i!==-1&&(r.board.splice(i,1),r.discard.push(t.card)),[...e.players[0].board,...e.players[1].board].forEach(l=>{const o=l.card.effects.filter(c=>c.trigger==="onAnimalDeath");for(const c of o)e.pendingEffects.push({effect:c,source:l.card.id,target:l.id,player:l.owner})})},zs=e=>{let t={...e};for(;t.pendingEffects.length>0;){const n=t.pendingEffects.shift();if(t=r0(t,n.effect,n.source,n.target,n.player),t.gameOver)break}return t},s0=(e,t,n="pvp")=>{const r=u=>{const d=[...u];for(let f=d.length-1;f>0;f--){const m=Math.floor(Math.random()*(f+1));[d[f],d[m]]=[d[m],d[f]]}return d},a=r(e),i=r(t),l=a.splice(0,5),o=i.splice(0,5);return{currentPlayer:Math.random()<.5?0:1,phase:"draw",mode:n,players:[{index:0,life:20,deck:a,hand:l,board:[],discard:[],statuses:[],canDraw:!0,animalsPlayedThisTurn:0},{index:1,life:20,deck:i,hand:o,board:[],discard:[],statuses:[],canDraw:!0,animalsPlayedThisTurn:0}],turnNumber:1,pendingEffects:[],effectLog:[],gameOver:!1,winner:null}},ke=(e,t,n)=>({...e,effectLog:[...e.effectLog,{id:`log-${Date.now()}-${Math.random()}`,message:t,timestamp:Date.now(),type:n}]}),a0=(e,t,n=1)=>{const r=e.players[t];let a={...e};if(!r.canDraw)return a=ke(a,`Spieler ${t+1} kann keine Karte ziehen (PARANOIA)`,"effect"),a;for(let i=0;i<n;i++)if(r.deck.length>0){const l=r.deck.shift();r.hand.push(l),a=ke(a,`Spieler ${t+1} zieht ${l.name}`,"draw")}else if(r.life-=1,a=ke(a,`Spieler ${t+1} kann keine Karte ziehen  verliert 1 Life`,"damage"),r.life<=0)return{...a,gameOver:!0,winner:1-t};return a},Ki=(e,t,n,r)=>{const a=e.players[t];return t!==e.currentPlayer||e.phase!=="main"||n.type==="animal"&&(a.animalsPlayedThisTurn>=1||a.board.length>=5)?!1:(n.effects.some(i=>i.target&&i.target!=="self"),!0)},Ga=(e,t,n,r)=>{const a=e.players[t],i=Ee(n);if(!i||!Ki(e,t,i))return e;const l=a.hand.findIndex(c=>c.id===n);if(l===-1)return e;const o=a.hand.splice(l,1)[0];if(i.type==="animal"){let c=i.atk||0;const u={id:`animal-${Date.now()}-${Math.random()}`,cardId:i.id,card:i,currentAtk:c,currentHp:i.hp||0,maxHp:i.hp||0,statuses:[],canAttack:!0,attacksThisTurn:0,maxAttacks:1,owner:t,playedThisTurn:!0};i.id==="card-19"&&(u.maxAttacks=2),a.board.push(u),a.animalsPlayedThisTurn++,Xi(u),e=ke(e,`Spieler ${t+1} spielt ${i.name}`,"play");const d=i.effects.filter(f=>f.trigger==="onPlay");for(const f of d)e.pendingEffects.push({effect:f,source:i.id,target:u.id,player:t});e=zs(e)}else if(i.type==="action"){e=ke(e,`Spieler ${t+1} spielt ${i.name}`,"play");const c=i.effects.filter(u=>u.trigger==="onPlay");for(const u of c)e.pendingEffects.push({effect:u,source:i.id,target:r,player:t});e=zs(e),a.discard.push(o)}else if(i.type==="status"){if(e=ke(e,`Spieler ${t+1} spielt ${i.name}`,"status"),r){const c=a.board.find(u=>u.id===r)||e.players[1-t].board.find(u=>u.id===r);if(c)c.statuses.push(i.id),e=ke(e,`${i.name} wird an ${c.card.name} angehngt`,"status");else{const u=e.players.find(d=>d.index.toString()===r);u&&(u.statuses.push(i.id),e=ke(e,`${i.name} wird an Spieler ${u.index+1} angehngt`,"status"))}}a.discard.push(o)}return{...e}},mn=e=>{let t={...e};switch(e.phase){case"draw":t=ke(t,`Phase: DRAW (Spieler ${e.currentPlayer+1})`,"phase"),a0(t,e.currentPlayer),t.phase="main",t=ke(t,`Phase: MAIN (Spieler ${e.currentPlayer+1})`,"phase");break;case"main":t.phase="attack",t=ke(t,`Phase: ATTACK (Spieler ${e.currentPlayer+1})`,"phase");break;case"attack":const n=t.players[e.currentPlayer],r=t.players[1-e.currentPlayer];for(const i of n.board)if(i0(t,i)){const l=i.currentAtk;r.life-=l,i.attacksThisTurn++,t=ke(t,`${i.card.name} greift an  ${l} Schaden`,"attack"),l>0&&(t=ke(t,`Spieler ${1-e.currentPlayer+1} verliert ${l} Life (${r.life+l}  ${r.life})`,"damage"));const o=i.card.effects.filter(c=>c.trigger==="onAttack");for(const c of o)t.pendingEffects.push({effect:c,source:i.card.id,target:i.id,player:e.currentPlayer});if(t=zs(t),r.life<=0)return t.gameOver=!0,t.winner=e.currentPlayer,t}t.phase="end",t=ke(t,`Phase: END (Spieler ${e.currentPlayer+1})`,"phase");break;case"end":l0(t);const a=t.players[e.currentPlayer];a.animalsPlayedThisTurn=0,a.board.forEach(i=>{i.attacksThisTurn=0,i.playedThisTurn=!1}),t.currentPlayer=1-e.currentPlayer,t.turnNumber++,t.phase="draw",t=ke(t,`Turn ${t.turnNumber} beginnt`,"phase");break}return t},Xi=e=>{let t=0;e.statuses.forEach(r=>{const a=Ee(r);a&&(a.name==="RAGE"?t+=2:a.name==="TINT"&&(t-=1))});const n=e.card.atk||0;e.currentAtk=Math.max(0,n+t)},i0=(e,t)=>{if(t.attacksThisTurn>=t.maxAttacks)return!1;for(const n of t.statuses){const r=Ee(n);if(r){if(r.name==="STUCK"&&!t.card.effects.some(i=>{var l;return i.action==="status_immunity"&&((l=i.filter)==null?void 0:l.statusName)==="STUCK"}))return!1;if(r.name==="RAGE")return!0}}return!t.card.effects.some(n=>n.action==="prevent_attack"&&n.target==="self")},l0=e=>{const t=e.players[e.currentPlayer];t.board.forEach(i=>{i.statuses.forEach(l=>{const o=Ee(l);(o==null?void 0:o.name)==="BLEEDING"&&(i.currentHp-=1,e.effectLog.push({id:`log-${Date.now()}-${Math.random()}`,message:`${i.card.name} verliert 1 HP durch BLEEDING`,timestamp:Date.now(),type:"status"}))})});const n=t.board.flatMap(i=>i.card.effects.filter(l=>l.trigger==="onTurnEnd")).concat(t.statuses.map(i=>{const l=Ee(i);return(l==null?void 0:l.effects.filter(o=>o.trigger==="onTurnEnd"))||[]}).flat());for(const i of n)if(i.action==="destroy_self"){const l=t.board.find(o=>o.card.effects.some(c=>c.trigger==="onTurnEnd"&&c.action==="destroy_self"));if(l){const o=l.card.effects.filter(u=>u.trigger==="onDeath");for(const u of o)e.pendingEffects.push({effect:u,source:l.card.id,target:l.id,player:e.currentPlayer});l.statuses.forEach(u=>{t.discard.push(Ee(u))});const c=t.board.indexOf(l);t.board.splice(c,1),t.discard.push(l.card)}}t.board.forEach(i=>{Xi(i)}),t.board.forEach(i=>{Xi(i)});const r=t.board.filter(i=>i.currentHp<=0);for(const i of r){const l=i.card.effects.filter(c=>c.trigger==="onDeath");for(const c of l)e.pendingEffects.push({effect:c,source:i.card.id,target:i.id,player:e.currentPlayer});i.statuses.forEach(c=>{const u=Ee(c);u&&t.discard.push(u)});const o=t.board.indexOf(i);o!==-1&&(t.board.splice(o,1),t.discard.push(i.card))}const a=zs(e);Object.assign(e,a)},gs=()=>{const e=et.filter(r=>r.type==="animal").slice(0,10),t=et.filter(r=>r.type==="action").slice(0,7),n=et.filter(r=>r.type==="status").slice(0,7);return[...e,...t,...n]},o0=e=>{if(e.originalInscriptionId){const n=et.find(r=>r.inscriptionId===e.originalInscriptionId);if(n)return{...n,inscriptionId:e.inscriptionId}}const t=n0(e.name);return t?{...t,inscriptionId:e.inscriptionId}:(console.warn(`[GameEngine]  Konnte keine GameCard fr WalletCard finden: ${e.name} (${e.inscriptionId})`),null)},c0=e=>{console.log(`[GameEngine]  Erstelle Deck aus ${e.length} Wallet-Karten...`);const t=[];for(const d of e){const f=o0(d);f&&t.push(f)}console.log(`[GameEngine]  ${t.length} Karten erfolgreich konvertiert`);const n=t.filter(d=>d.type==="animal"),r=t.filter(d=>d.type==="action"),a=t.filter(d=>d.type==="status");console.log(`[GameEngine]  Karten-Verteilung: ${n.length} Animals, ${r.length} Actions, ${a.length} Status`);const i=[],l=Math.min(n.length,15);i.push(...n.slice(0,l));const o=Math.min(r.length,7);i.push(...r.slice(0,o));const c=Math.min(a.length,7);if(i.push(...a.slice(0,c)),i.filter(d=>d.type==="animal").length<10){console.log(`[GameEngine]  Zu wenige Animals (${i.filter(y=>y.type==="animal").length}), flle mit Standard-Deck auf...`);const f=gs().filter(y=>y.type==="animal"),m=10-i.filter(y=>y.type==="animal").length;i.push(...f.slice(0,m))}const u=i.slice(0,24);return console.log(`[GameEngine]  Finales Deck: ${u.length} Karten (${u.filter(d=>d.type==="animal").length} Animals, ${u.filter(d=>d.type==="action").length} Actions, ${u.filter(d=>d.type==="status").length} Status)`),u},d0=e=>{if(e.mode!=="pve"||e.currentPlayer!==1||e.phase!=="main")return null;const t=e.players[1],n=e.players[0];if(t.animalsPlayedThisTurn<1&&t.board.length<5){const l=t.hand.filter(o=>o.type==="animal");if(l.length>0){const o=l.reduce((c,u)=>{const d=(c.atk||0)+(c.hp||0);return(u.atk||0)+(u.hp||0)>d?u:c});return{...e,players:e.players.map((c,u)=>{if(u===1){const d=c.hand.findIndex(f=>f.id===o.id);if(d!==-1){const f=c.hand.splice(d,1)[0];if(f.type==="animal"){const m={id:`animal-${Date.now()}-${Math.random()}`,cardId:f.id,card:f,currentAtk:f.atk||0,currentHp:f.hp||0,maxHp:f.hp||0,statuses:[],canAttack:!0,attacksThisTurn:0,maxAttacks:f.id==="card-19"?2:1,owner:1,playedThisTurn:!0};c.board.push(m),c.animalsPlayedThisTurn++}}return c}return c})}}}const a=t.hand.filter(l=>l.type==="action").filter(l=>l.effects.some(o=>o.action==="deal_damage"));if(a.length>0){const l=a[0];return{...e,players:e.players.map((o,c)=>{if(c===1){const u=o.hand.findIndex(d=>d.id===l.id);if(u!==-1){const d=o.hand.splice(u,1)[0];o.discard.push(d)}return o}return o})}}const i=t.hand.filter(l=>l.type==="status");if(i.length>0){const l=i[0],o=n.board.length>0?n.board.reduce((c,u)=>u.currentAtk>c.currentAtk?u:c):null;if(o)return{...e,players:e.players.map((c,u)=>{if(u===1){const d=c.hand.findIndex(f=>f.id===l.id);if(d!==-1){const f=c.hand.splice(d,1)[0];c.discard.push(f);const m=e.players[0].board.find(y=>y.id===o.id);m&&m.statuses.push(l.id)}return c}return c})}}return null},u0=({onClose:e,onDeckCreated:t,currentDeck:n})=>{const[r,a]=w.useState(n),[i,l]=w.useState("all"),[o,c]=w.useState("all"),u=w.useMemo(()=>{let v=[];return i==="all"?v=[...Hi,...Gi,...Vi]:i==="animal"?v=[...Hi]:i==="action"?v=[...Gi]:i==="status"&&(v=[...Vi]),o!=="all"&&(v=v.filter(j=>j.rarity===o)),v},[i,o]),d=v=>r.filter(j=>j.name===v).length,f=v=>d(v.name)<2,m=v=>{if(f(v)){if(r.length>=24){alert("Deck ist voll! (Max. 24 Karten)");return}a([...r,v])}},y=v=>{const j=[...r];j.splice(v,1),a(j)},x=r.filter(v=>v.type==="animal").length,h=r.filter(v=>v.type==="action").length,b=r.filter(v=>v.type==="status").length,p=r.length===24&&x>=10,g=()=>{if(!p){r.length!==24?alert(`Genau 24 Karten erforderlich! Aktuell: ${r.length}`):x<10&&alert(`Mindestens 10 Tier-Karten erforderlich! Aktuell: ${x}`);return}t(r)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2 border-yellow-600",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:" Admin Deck Builder"}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Schlieen"})]}),s.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[r.length,"/24"]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Karten"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:x}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Tiere ",x>=10?"":""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:h}),s.jsx("div",{className:"text-sm text-gray-400",children:"Actions"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:b}),s.jsx("div",{className:"text-sm text-gray-400",children:"Status"})]})]})}),s.jsxs("div",{className:"mb-4 flex gap-4",children:[s.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"px-4 py-2 bg-gray-800 rounded-lg border border-gray-600",children:[s.jsx("option",{value:"all",children:"Alle Typen"}),s.jsx("option",{value:"animal",children:"Tiere"}),s.jsx("option",{value:"action",children:"Actions"}),s.jsx("option",{value:"status",children:"Status"})]}),s.jsxs("select",{value:o,onChange:v=>c(v.target.value),className:"px-4 py-2 bg-gray-800 rounded-lg border border-gray-600",children:[s.jsx("option",{value:"all",children:"Alle Raritten"}),s.jsx("option",{value:"common",children:"Common"}),s.jsx("option",{value:"uncommon",children:"Uncommon"}),s.jsx("option",{value:"rare",children:"Rare"}),s.jsx("option",{value:"epic",children:"Epic"}),s.jsx("option",{value:"legendary",children:"Legendary"}),s.jsx("option",{value:"mystic-legendary",children:"Mystic Legendary"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Verfgbare Karten (",u.length,")"]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:u.map(v=>{const j=d(v.name),S=f(v),T=r.length>=24;return s.jsx("div",{className:`
                      bg-gray-800 rounded p-2 border-2 cursor-pointer transition-all
                      ${S&&!T?"border-blue-500 hover:border-blue-300 hover:scale-105":"border-gray-600 opacity-50 cursor-not-allowed"}
                    `,onClick:()=>S&&!T&&m(v),children:s.jsxs("div",{className:"flex items-center gap-2",children:[v.inscriptionId&&!v.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(v.inscriptionId),alt:v.name,className:"w-12 h-12 object-contain",onError:E=>{E.target.style.display="none"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-bold",children:v.name}),v.type==="animal"&&s.jsxs("div",{className:"text-xs text-gray-400",children:[v.atk,"/",v.hp]}),s.jsx("div",{className:"text-xs text-gray-500",children:v.rarity})]}),s.jsxs("div",{className:"text-xs",children:[j>0&&s.jsxs("span",{className:"text-yellow-400",children:[j,"/2"]}),!S&&s.jsx("span",{className:"text-red-400",children:"MAX"})]})]})},`${v.id}-${v.name}`)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Deck (",r.length,"/24)"]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:r.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"Keine Karten ausgewhlt"}):r.map((v,j)=>s.jsxs("div",{className:"bg-gray-800 rounded p-2 border-2 border-green-500 flex items-center gap-2",children:[v.inscriptionId&&!v.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(v.inscriptionId),alt:v.name,className:"w-12 h-12 object-contain",onError:S=>{S.target.style.display="none"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-bold",children:v.name}),v.type==="animal"&&s.jsxs("div",{className:"text-xs text-gray-400",children:[v.atk,"/",v.hp]})]}),s.jsx("button",{onClick:()=>y(j),className:"px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-xs",children:""})]},`selected-${j}`))})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[s.jsx("button",{onClick:()=>a([]),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Deck leeren"}),s.jsx("button",{onClick:g,disabled:!p,className:`
              px-6 py-2 rounded-lg font-semibold
              ${p?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}
            `,children:"Deck erstellen"})]})]})})},f0=({card:e,gameState:t,onSelectTarget:n,onCancel:r})=>{const a=t.players[0],i=t.players[1],o=(()=>{const d=[];for(const f of e.effects)if(!(!f.target||f.target==="self"))switch(f.target){case"any":case"enemy_animal":i.board.forEach(m=>{d.find(y=>y.id===m.id)||d.push({id:m.id,label:`${m.card.name} (${m.currentAtk}/${m.currentHp})`,type:"animal"})});break;case"friendly_animal":case"friendly_animals_except_self":a.board.forEach(m=>{d.find(y=>y.id===m.id)||d.push({id:m.id,label:`${m.card.name} (${m.currentAtk}/${m.currentHp})`,type:"animal"})});break;case"all_animals":[...a.board,...i.board].forEach(m=>{d.find(y=>y.id===m.id)||d.push({id:m.id,label:`${m.card.name} (${m.currentAtk}/${m.currentHp})`,type:"animal"})});break;case"opponent":case"player":d.find(m=>m.id==="opponent")||d.push({id:"opponent",label:`Opponent (Life: ${i.life})`,type:"player"});break}return e.name==="SWITCH"&&[...a.board,...i.board].forEach(f=>{d.find(m=>m.id===f.id)||d.push({id:f.id,label:`${f.card.name} (${f.currentAtk}/${f.currentHp})`,type:"animal"})}),d})(),u=e.effects.some(d=>d.target&&d.target!=="self")&&o.length===0;return s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Select Target"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"bg-gray-800 rounded p-3 mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:e.name}),s.jsx("div",{className:"text-xs text-gray-300",children:e.effectText})]})}),u?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-yellow-400 mb-4",children:" No valid targets available"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This card can still be played, but will have no effect."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Play Anyway"}),s.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Cancel"})]})]}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"This card does not require a target."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold",children:"Play Card"}),s.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Select a target:"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(d=>s.jsx("button",{onClick:()=>n(d.id),className:"w-full text-left bg-gray-800 hover:bg-gray-700 border-2 border-gray-700 hover:border-red-500 rounded-lg p-3 transition-all",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white font-semibold",children:d.label}),s.jsx("span",{className:"text-xs text-gray-400",children:d.type==="animal"?"":""})]})},d.id))})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})})]})]})})},p0=({entries:e,maxEntries:t=10})=>{const n=e.slice(-t).reverse(),r=i=>{switch(i){case"play":return"text-blue-400";case"attack":return"text-red-400";case"damage":return"text-orange-400";case"draw":return"text-green-400";case"destroy":return"text-gray-400";case"status":return"text-yellow-400";case"effect":return"text-purple-400";case"phase":return"text-cyan-400";default:return"text-gray-300"}},a=i=>{switch(i){case"play":return"";case"attack":return"";case"damage":return"";case"draw":return"";case"destroy":return"";case"status":return"";case"effect":return"";case"phase":return"";default:return""}};return s.jsxs("div",{className:"bg-gray-900 border-2 border-gray-700 rounded-lg p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-sm font-bold text-white",children:"Effekt-Log"}),s.jsxs("span",{className:"text-xs text-gray-400",children:[e.length," Eintrge"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-1",children:n.length===0?s.jsx("div",{className:"text-xs text-gray-500 text-center py-4",children:"Noch keine Effekte"}):n.map(i=>s.jsx("div",{className:"text-xs p-2 bg-gray-800 rounded border-l-2 border-gray-700 hover:border-red-600 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm",children:a(i.type)}),s.jsx("span",{className:`flex-1 ${r(i.type)}`,children:i.message})]})},i.id))})]})},m0=({cards:e,onSelectCard:t,onCancel:n,title:r="Opponent Hand"})=>s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-4xl w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:r}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-gray-300",children:"Select a card to discard:"})}),s.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 max-h-96 overflow-y-auto",children:e.map(a=>s.jsxs("button",{onClick:()=>t(a.id),className:"bg-gray-800 rounded p-2 border-2 border-gray-700 hover:border-red-500 transition-all cursor-pointer",children:[a.inscriptionId&&!a.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(a.inscriptionId),alt:a.name,className:"w-full h-24 object-contain mb-1",onError:i=>{i.target.style.display="none"}}),s.jsx("div",{className:"text-[10px] font-bold text-white truncate",children:a.name}),a.type==="animal"&&s.jsxs("div",{className:"text-[8px] text-gray-400",children:[a.atk,"/",a.hp]})]},a.id))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})})]})}),h0=({onClose:e})=>s.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b-2 border-red-600 p-4 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:" BLACK & WILD - Tutorial"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Basics"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("p",{children:[" Each player starts with ",s.jsx("span",{className:"text-red-400 font-semibold",children:"20 Life"})]}),s.jsx("p",{children:" Goal: Reduce your opponent's Life to 0"}),s.jsxs("p",{children:[" Each player has a deck with ",s.jsx("span",{className:"text-red-400 font-semibold",children:"24 cards"})]}),s.jsxs("p",{children:[" At the start, you draw ",s.jsx("span",{className:"text-red-400 font-semibold",children:"5 cards"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Turn Phases"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-1",children:"1. DRAW Phase"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Automatically draw 1 card. If your deck is empty, you lose 1 Life."})]}),s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-green-400 mb-1",children:"2. MAIN Phase"}),s.jsx("p",{className:"text-sm text-gray-300",children:"You can play cards:"}),s.jsxs("ul",{className:"text-sm text-gray-300 ml-4 mt-1 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"1 Animal"})," per turn (max. 5 animals on the board)"]}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"Unlimited"})," Action cards"]}),s.jsxs("li",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"Unlimited"})," Status cards"]})]}),s.jsx("p",{className:"text-sm text-gray-300 mt-2",children:`Click "End Main Phase" when you're done.`})]}),s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-red-400 mb-1",children:"3. ATTACK Phase"}),s.jsx("p",{className:"text-sm text-gray-300",children:"All your animals attack automatically. Damage goes directly to the opponent."})]}),s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-1",children:"4. END Phase"}),s.jsx("p",{className:"text-sm text-gray-300",children:"End-of-turn effects are triggered. Animals with HP  0 are destroyed."})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Card Types"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-yellow-400 mb-1",children:" Animal"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Stays on the board and attacks automatically in the ATTACK phase."}),s.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Shows ATK (Attack) and HP (Health Points)."})]}),s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-1",children:" Action"}),s.jsx("p",{className:"text-sm text-gray-300",children:"One-time effect, executed immediately and then discarded."}),s.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Some require a target (animal or player)."})]}),s.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-1",children:" Status"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Attached to an animal or player and remains active."}),s.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Color coding: ",s.jsx("span",{className:"text-red-400",children:"Red"})," = Negative, ",s.jsx("span",{className:"text-green-400",children:"Green"})," = Positive, ",s.jsx("span",{className:"text-yellow-400",children:"Yellow"})," = Neutral"]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Important Status Effects"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-400",children:"BLEEDING:"})," -1 HP per turn"]}),s.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-400",children:"STUCK:"})," Cannot attack"]}),s.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-400",children:"TINT:"})," -1 ATK, draw on death"]}),s.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-400",children:"TARGET:"})," Double damage"]}),s.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-400",children:"PARANOIA:"})," Cannot draw cards"]}),s.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-green-400",children:"SHIELD:"})," Prevents next damage"]}),s.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-green-400",children:"RAGE:"})," +2 ATK, must attack"]}),s.jsxs("div",{className:"bg-yellow-900/30 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-yellow-400",children:"SWARM:"})," 1 damage per animal death"]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Tips"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"Hover"})," over cards to see detailed effects"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-green-400",children:"Green border"})," = Card can be played"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-gray-500",children:"Gray border"})," = Card cannot be played"]}),s.jsxs("p",{children:["The ",s.jsx("span",{className:"text-cyan-400",children:"Effect Log"})," shows all actions"]}),s.jsx("p",{children:" Status icons on animals show active effects"})]})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx("button",{onClick:e,className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg",children:"Start Game!"})})]})]})}),g0=()=>{const{walletState:e}=xe(),[t,n]=w.useState(null),[r,a]=w.useState(null),[i,l]=w.useState("pvp"),[o,c]=w.useState(!1),[u,d]=w.useState([]),[f,m]=w.useState([]),[y,x]=w.useState(!1),[h,b]=w.useState(null),[p,g]=w.useState(null),[v,j]=w.useState(!1),[S,T]=w.useState(null),[E,C]=w.useState(!1),[B,D]=w.useState(null),[G,I]=w.useState([]),[_,z]=w.useState(new Set),W=e.connected&&e.accounts.length>0&&Vl(e.accounts[0].address);w.useEffect(()=>{var N;e.connected&&((N=e.accounts[0])!=null&&N.address)?je():m([])},[e.connected,e.accounts]);const je=async()=>{var N;if((N=e.accounts[0])!=null&&N.address){x(!0);try{console.log("[GamePage]  Lade Wallet-Karten...");const P=await ua(e.accounts[0].address);console.log(`[GamePage]  ${P.length} Wallet-Karten geladen`),m(P)}catch(P){console.error("[GamePage]  Fehler beim Laden der Wallet-Karten:",P),m([])}finally{x(!1)}}},ce=(N,P)=>{let A;N?A=N:W&&u.length===24?A=u:f.length>0?(console.log("[GamePage]  Erstelle Deck aus Wallet-Karten..."),A=c0(f),A.length<10&&(console.log("[GamePage]  Zu wenige Wallet-Karten, verwende Standard-Deck"),A=gs())):A=gs();const F=P||gs(),U=s0(A,F,i);n(U)};if(w.useEffect(()=>{!t||!t.pendingAction||t.pendingAction.type==="look_hand"&&(j(!0),T(N=>{const P={...t},A=P.players[t.pendingAction.playerIndex],F=A.hand.findIndex(U=>U.id===N);if(F!==-1){const U=A.hand.splice(F,1)[0];A.discard.push(U),P.effectLog.push({id:`log-${Date.now()}-${Math.random()}`,message:`Karte ${U.name} wird verworfen`,timestamp:Date.now(),type:"effect"})}P.pendingAction=void 0,n(P)}))},[t==null?void 0:t.pendingAction]),w.useEffect(()=>{if(!(!t||t.gameOver)){if(t.mode==="pve"&&t.currentPlayer===1&&t.phase==="main"){const N=setTimeout(()=>{const P=d0(t);n(P||(A=>A?mn(A):null))},1500);return()=>clearTimeout(N)}if(t.phase==="draw"){const N=setTimeout(()=>{n(P=>P?mn(P):null)},500);return()=>clearTimeout(N)}if(t.phase==="attack"){const P=t.players[t.currentPlayer].board.filter(A=>A.attacksThisTurn<A.maxAttacks&&!t.players[t.currentPlayer].statuses.some(F=>{const U=et.find(Q=>Q.id===F);return U==null?void 0:U.effects.some(Q=>Q.action==="prevent_attack"&&Q.target==="self")}));if(P.length>0){const A=P[0];D(A.id),setTimeout(()=>{const U=A.currentAtk;U>0&&I(Q=>[...Q,{id:`damage-${Date.now()}`,target:"opponent-life",amount:U,type:"life"}])},500);const F=setTimeout(()=>{D(null),n(U=>U?mn(U):null)},2e3);return()=>clearTimeout(F)}else{const A=setTimeout(()=>{n(F=>F?mn(F):null)},500);return()=>clearTimeout(A)}}if(t.phase==="end"){const N=setTimeout(()=>{n(P=>P?mn(P):null)},1e3);return()=>clearTimeout(N)}}},[t==null?void 0:t.phase,t==null?void 0:t.currentPlayer,t==null?void 0:t.mode]),!t)return s.jsxs("div",{className:"min-h-screen bg-black text-white p-8 flex items-center justify-center",children:[E&&s.jsx(h0,{onClose:()=>C(!1)}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:" BLACK & WILD"}),s.jsx("button",{onClick:()=>C(!0),className:"mb-6 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-sm",children:" Tutorial anzeigen"}),W&&s.jsxs("div",{className:"mb-6",children:[s.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold text-lg transition-colors mb-4",children:" Admin: Deck Builder (Test Mode)"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"As admin, you can create a test deck from all available cards"})]}),s.jsxs("div",{className:"space-y-4",children:[y&&s.jsx("div",{className:"text-sm text-gray-400 mb-4",children:" Loading wallet cards..."}),f.length>0&&s.jsxs("div",{className:"text-sm text-green-400 mb-4",children:[" ",f.length," cards found in wallet - these will be used for your deck!"]}),e.connected&&f.length===0&&!y&&s.jsx("div",{className:"text-sm text-yellow-400 mb-4",children:" No cards found in wallet - standard deck will be used"}),!e.connected&&s.jsx("div",{className:"text-sm text-gray-400 mb-4",children:" Connect your wallet to use your own cards"}),s.jsx("button",{onClick:()=>{l("pvp"),ce()},className:"w-64 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors",children:"Player vs Player"}),s.jsx("button",{onClick:()=>{l("pve"),ce()},className:"w-64 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold text-lg transition-colors",children:"Player vs AI"})]})]}),W&&o&&s.jsx(u0,{onClose:()=>c(!1),onDeckCreated:N=>{d(N),c(!1)},currentDeck:u})]});const $=t.players[t.currentPlayer],R=t.players[1-t.currentPlayer],O=t.currentPlayer===0,V=N=>{!O||t.phase!=="main"||(a(N.id),z(P=>new Set(P).add(N.id)),setTimeout(()=>{z(P=>{const A=new Set(P);return A.delete(N.id),A})},1e3),N.type==="action"||N.type==="status"?N.effects.some(A=>A.target&&A.target!=="self")?b(N):(n(A=>A?Ga(A,0,N.id):null),a(null)):N.type==="animal"&&(n(P=>P?Ga(P,0,N.id):null),a(null)))},X=N=>{h&&(n(P=>P?Ga(P,0,h.id,N):null),b(null),a(null))},_e=()=>{b(null),a(null)},k=()=>{O&&t.phase==="main"&&n(N=>N?mn(N):null)};return t.gameOver?s.jsx("div",{className:"min-h-screen bg-black text-white p-8 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.winner===0?" You won!":" You lost!"}),s.jsx("button",{onClick:ce,className:"mt-8 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Play Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-black text-white p-4",children:[s.jsx("div",{className:"max-w-[1600px] mx-auto mb-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:" BLACK & WILD"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Turn ",t.turnNumber," | Phase: ",t.phase.toUpperCase()," |",O?" Your Turn":" Opponent Turn"]})]}),s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"End Game"})]})}),s.jsx("div",{className:"max-w-[1600px] mx-auto mb-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border-2 border-red-600",children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"font-bold",children:"Opponent"}),s.jsxs("span",{className:"ml-4",children:["Life: ",s.jsx("span",{className:"font-bold",children:R.life})]}),s.jsxs("span",{className:"ml-4",children:["Deck: ",R.deck.length]}),s.jsxs("span",{className:"ml-4",children:["Hand: ",R.hand.length]}),G.filter(N=>N.target==="opponent-life").map(N=>s.jsxs("div",{className:"absolute top-0 left-32 text-red-500 font-bold text-xl animate-bounce pointer-events-none",style:{animation:"damageFloat 1s ease-out forwards"},onAnimationEnd:()=>{I(P=>P.filter(A=>A.id!==N.id))},children:["-",N.amount]},N.id)),R.statuses.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:R.statuses.map((N,P)=>{const A=et.find(Q=>Q.id===N);if(!A)return null;const F=ut.negative.includes(A.name),U=ut.positive.includes(A.name);return s.jsx("span",{className:`text-[10px] px-2 py-1 rounded ${F?"bg-red-600 text-white":U?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:A.effectText,children:A.name},P)})})]})}),s.jsx("div",{className:"flex gap-2 mt-4",children:R.board.map(N=>s.jsxs("div",{className:"bg-gray-800 rounded p-2 border border-gray-600 min-w-[100px] relative overflow-hidden",children:[N.card.inscriptionId&&!N.card.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(N.card.inscriptionId),alt:N.card.name,className:"w-full h-20 object-contain mb-1",onError:P=>{P.target.style.display="none"}}),s.jsx("div",{className:"text-xs font-bold",children:N.card.name}),s.jsxs("div",{className:"text-xs",children:[N.currentAtk,"/",N.currentHp]}),N.statuses.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:N.statuses.map((P,A)=>{const F=et.find(st=>st.id===P);if(!F)return null;const U=ut.negative.includes(F.name),Q=ut.positive.includes(F.name);return s.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${U?"bg-red-600 text-white":Q?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:F.effectText,children:F.name},A)})})]},N.id))})]})}),s.jsx("div",{className:"max-w-[1600px] mx-auto mb-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border-2 border-blue-600",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"font-bold",children:"You"}),s.jsxs("span",{className:"ml-4",children:["Life: ",s.jsx("span",{className:"font-bold",children:$.life})]}),G.filter(N=>N.target==="player-life").map(N=>s.jsxs("div",{className:"absolute top-0 left-20 text-red-500 font-bold text-xl animate-bounce pointer-events-none",style:{animation:"damageFloat 1s ease-out forwards"},onAnimationEnd:()=>{I(P=>P.filter(A=>A.id!==N.id))},children:["-",N.amount]},N.id)),s.jsxs("span",{className:"ml-4",children:["Deck: ",$.deck.length]}),s.jsxs("span",{className:"ml-4",children:["Hand: ",$.hand.length]}),$.statuses.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:$.statuses.map((N,P)=>{const A=et.find(Q=>Q.id===N);if(!A)return null;const F=ut.negative.includes(A.name),U=ut.positive.includes(A.name);return s.jsx("span",{className:`text-[10px] px-2 py-1 rounded ${F?"bg-red-600 text-white":U?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:A.effectText,children:A.name},P)})})]}),O&&t.phase==="main"&&s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"text-xs text-green-400 bg-green-900/30 px-3 py-1 rounded border border-green-600",children:[" Playable: ",$.hand.filter(N=>Ki(t,0,N)).length," / ",$.hand.length," cards"]}),s.jsxs("div",{className:"text-xs text-blue-400 bg-blue-900/30 px-3 py-1 rounded border border-blue-600",children:[" Animals: ",$.animalsPlayedThisTurn,"/1 this turn | Board: ",$.board.length,"/5"]}),s.jsx("div",{className:"text-xs text-purple-400 bg-purple-900/30 px-3 py-1 rounded border border-purple-600",children:" Action/Status: Unlimited"}),s.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold ml-auto",children:"End Main Phase"})]}),O&&t.phase!=="main"&&s.jsxs("div",{className:"text-xs text-yellow-400 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600 inline-block",children:[" Wait for ",t.phase.toUpperCase()," phase to finish..."]})]}),s.jsx("div",{className:"flex gap-2 mt-4 mb-4",children:$.board.map(N=>{const P=B===N.id;return s.jsxs("div",{className:`bg-gray-800 rounded p-2 border border-blue-400 min-w-[100px] cursor-pointer hover:border-blue-300 relative overflow-hidden transition-all duration-300 ${P?"scale-110 border-yellow-400 shadow-lg shadow-yellow-400/50 z-50 animate-pulse":""}`,style:P?{transform:"translateY(-10px) scale(1.1)",zIndex:50}:{},children:[N.card.inscriptionId&&!N.card.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(N.card.inscriptionId),alt:N.card.name,className:"w-full h-20 object-contain mb-1",onError:A=>{A.target.style.display="none"}}),s.jsx("div",{className:"text-xs font-bold",children:N.card.name}),s.jsxs("div",{className:"text-xs",children:[N.currentAtk,"/",N.currentHp]}),N.statuses.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:N.statuses.map((A,F)=>{const U=et.find(pf=>pf.id===A);if(!U)return null;const Q=ut.negative.includes(U.name),st=ut.positive.includes(U.name);return s.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${Q?"bg-red-600 text-white":st?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:U.effectText,children:U.name},F)})})]},N.id)})}),O&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Hand:"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:$.hand.map(N=>{const P=Ki(t,0,N);let A=null;return P||(t.phase!=="main"?A=` Only in MAIN phase (now: ${t.phase.toUpperCase()})`:O?N.type==="animal"?$.animalsPlayedThisTurn>=1?A=" Already played 1 animal this turn":$.board.length>=5&&(A=" Board full (max. 5 animals)"):(N.type==="action"||N.type==="status")&&(A=` Only in MAIN phase (now: ${t.phase.toUpperCase()})`):A=" Not your turn"),s.jsxs("div",{onClick:()=>P&&V(N),onMouseEnter:()=>g(N.id),onMouseLeave:()=>g(null),className:`
                        bg-gray-800 rounded p-3 border-2 min-w-[120px] transition-all relative overflow-hidden
                        ${P?"border-green-500 hover:border-green-300 hover:scale-105 cursor-pointer shadow-lg shadow-green-500/50":"border-gray-600 opacity-50 cursor-not-allowed"}
                        ${r===N.id?"ring-2 ring-yellow-400":""}
                        ${_.has(N.id)?"animate-pulse scale-110 border-yellow-400 shadow-xl shadow-yellow-400/70":""}
                      `,children:[_.has(N.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:s.jsx("div",{className:"text-4xl animate-spin",children:""})}),N.inscriptionId&&!N.inscriptionId.includes("placeholder")&&s.jsx("img",{src:Ot(N.inscriptionId),alt:N.name,className:"w-full h-32 object-contain mb-2",onError:F=>{F.target.style.display="none"}}),s.jsx("div",{className:"text-xs font-bold",children:N.name}),N.type==="animal"&&s.jsxs("div",{className:"text-xs mt-1",children:[N.atk,"/",N.hp]}),s.jsx("div",{className:"text-[10px] text-gray-400 mt-1 line-clamp-2",children:N.effectText}),!P&&A&&s.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center rounded z-10",children:s.jsxs("div",{className:"text-[10px] text-red-400 text-center px-2 font-semibold",children:[" ",A]})}),P&&O&&t.phase==="main"&&s.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold z-10",children:""}),p===N.id&&s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 bg-gray-900 border-2 border-red-600 rounded-lg p-3 z-50 shadow-xl",children:[s.jsx("div",{className:"text-sm font-bold text-white mb-2",children:N.name}),s.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:[s.jsx("span",{className:"font-semibold",children:"Type:"})," ",N.type==="animal"?"Animal":N.type==="action"?"Action":"Status"]}),N.type==="animal"&&s.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:[s.jsx("span",{className:"font-semibold",children:"ATK/HP:"})," ",N.atk,"/",N.hp]}),s.jsxs("div",{className:"text-xs text-gray-300",children:[s.jsx("span",{className:"font-semibold",children:"Effect:"})," ",N.effectText]}),N.effects.length>0&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-700",children:s.jsx("div",{className:"text-[10px] text-gray-400",children:N.effects.map((F,U)=>s.jsxs("div",{className:"mb-1",children:[s.jsxs("span",{className:"font-semibold",children:[F.trigger,":"]})," ",F.action,F.target&&`  ${F.target}`]},U))})})]})]},N.id)})})]})]})}),s.jsx("div",{className:"max-w-[1600px] mx-auto text-center mb-4",children:s.jsx("div",{className:"inline-flex gap-2 bg-gray-900 rounded-lg p-2",children:["draw","main","attack","end"].map(N=>s.jsx("div",{className:`px-4 py-2 rounded ${t.phase===N?"bg-red-600 font-bold":"bg-gray-700"}`,children:N.toUpperCase()},N))})}),s.jsx("div",{className:"max-w-[1600px] mx-auto",children:s.jsx(p0,{entries:t.effectLog,maxEntries:15})}),h&&t&&s.jsx(f0,{card:h,gameState:t,onSelectTarget:X,onCancel:_e}),v&&t&&S&&s.jsx(m0,{cards:t.players[1].hand,onSelectCard:N=>{S(N),j(!1),T(null)},onCancel:()=>{j(!1),T(null)}})]})},x0=()=>{const e=Xe(),{walletState:t}=xe(),[n,r]=w.useState([]),[a,i]=w.useState(0),[l,o]=w.useState(!0),[c,u]=w.useState(null),[d,f]=w.useState(1);w.useEffect(()=>{m()},[]),w.useEffect(()=>{t.connected&&t.accounts[0]?y():i(0)},[t.connected,t.accounts]);const m=async()=>{o(!0);try{const h=await af();r(h)}catch(h){console.error("Error loading point shop items:",h)}finally{o(!1)}},y=async()=>{if(t.accounts[0])try{const h=await Xl(t.accounts[0].address);i((h==null?void 0:h.points)||0)}catch(h){console.error("Error loading points:",h),i(0)}},x=async h=>{if(!t.connected||!t.accounts[0]){alert("Please connect your wallet");return}if(h.itemType==="series"&&(h.totalCount&&h.currentIndex!==void 0?h.totalCount-h.currentIndex:0)<=0){alert("This series is sold out!");return}if(a<h.pointsCost){alert(`You don't have enough points! Required: ${h.pointsCost}, You have: ${a}`);return}const b=h.itemType==="series"&&h.currentIndex!==void 0&&h.totalCount?`Do you want to mint "${h.title}" (#${(h.currentIndex||0)+1}/${h.totalCount}) for ${h.pointsCost} points? (Only inscription fees will be charged additionally)`:`Do you want to mint "${h.title}" for ${h.pointsCost} points? (Only inscription fees will be charged additionally)`;if(confirm(b)){u(h.id);try{const p=await lg(t.accounts[0].address,h.id,t.walletType||"unisat",d);let g=`Minting successful! Inscription ID: ${p.inscriptionId}`;p.seriesInfo&&(g+=`
Series: #${p.seriesInfo.currentNumber}/${p.seriesInfo.totalCount} (${p.seriesInfo.remaining} remaining)`),alert(g),await m(),await y()}catch(p){console.error("[PointShop] Minting error:",p),alert(`Error: ${p.message}`)}finally{u(null)}}};return s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"container mx-auto max-w-6xl",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),s.jsxs("h1",{className:"text-4xl font-bold text-center mb-2 border-b-2 border-red-600 pb-4 flex items-center justify-center gap-3",children:[s.jsx("img",{src:"/pointshop.png",alt:"Point Shop",className:"h-8 w-8 object-contain",onError:h=>{h.currentTarget.style.display="none"}}),"Point Shop"]}),s.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Mint exclusive Ordinals with your points"}),t.connected&&s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Your Points"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:a})]}),l?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400",children:"Loading..."})}):n.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400",children:"No items available yet"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-8",children:n.map(h=>{const b=t.connected&&a>=h.pointsCost,p=h.itemType==="series"&&h.currentIndex&&h.totalCount&&h.currentIndex>=h.totalCount,g=h.itemType==="series"&&h.totalCount&&h.currentIndex!==void 0?h.totalCount-h.currentIndex:null;return s.jsxs("div",{className:`bg-black border rounded-lg overflow-hidden hover:border-red-500 transition-all ${p?"border-gray-700 opacity-60":"border-red-600"}`,children:[s.jsxs("div",{className:"aspect-square bg-gray-900 flex items-center justify-center p-2 relative",children:[(()=>{let v;return h.itemType==="series"?v=h.inscriptionIds&&h.inscriptionIds.length>0?h.inscriptionIds[h.currentIndex||0]||h.inscriptionIds[0]:void 0:v=h.itemType==="delegate"?h.delegateInscriptionId:h.originalInscriptionId,v?s.jsx("img",{src:`https://ordinals.com/content/${v}`,alt:h.title,className:"w-full h-full object-contain",onError:j=>{console.warn(`[PointShop] Could not load image for ${v}`);const S=j.currentTarget;S.style.display="none";const T=S.parentElement;T&&(T.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Image</div></div>')}}):null})(),s.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-semibold ${h.itemType==="series"?"bg-purple-600 text-white":h.itemType==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:h.itemType==="series"?"Series":h.itemType==="delegate"?"Delegate":"Original"}),h.itemType==="series"&&g!==null&&s.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-semibold bg-purple-800 text-white",children:[g,"/",h.totalCount]})]})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"text-sm font-bold mb-1 line-clamp-1",children:h.title}),h.itemType==="series"&&h.seriesTitle&&s.jsx("p",{className:"text-[10px] text-purple-400 mb-1 font-semibold line-clamp-1",children:h.seriesTitle}),s.jsx("p",{className:"text-gray-400 text-[11px] mb-2 min-h-[2.5rem] line-clamp-2",children:h.description}),s.jsxs("div",{className:"flex items-center justify-between gap-1",children:[s.jsxs("span",{className:"text-red-600 font-bold text-sm",children:[h.pointsCost," P"]}),s.jsx("button",{onClick:()=>x(h),disabled:!t.connected||!b||c===h.id||p,className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded font-semibold transition-colors",children:c===h.id?"...":p?"Sold":b?h.itemType==="series"||h.itemType==="delegate"?"Mint":"Transfer":"No P"})]})]})]},h.id)})}),t.connected&&s.jsx("div",{className:"max-w-md mx-auto mt-8",children:s.jsx(da,{selectedFeeRate:d,onFeeRateChange:f})})]})})};oa();const ff=async(e,t,n,r,a,i,l,o)=>{console.log(`[CollectionMinting] Creating delegate for ${t} (Original: ${e})`),l||(l=r==="Tech & Games"?"html":"image",console.log(`[CollectionMinting] Auto-detected contentType: ${l} (collection: ${r})`));const c={p:"ord-20",op:"delegate",originalInscriptionId:e,name:t,collection:r,contentType:l,timestamp:Date.now()},u=l==="html"?`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(c)}
<\/script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: transparent;
}
iframe {
  width: 100%;
  height: 100vh;
  border: 0;
  display: block;
}
</style>
</head>
<body>
<iframe src="/content/${e}" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen" allowfullscreen></iframe>
</body>
</html>`:`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(c)}
<\/script>
<style>
body {
  margin: 0;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}
img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}
</style>
</head>
<body>
<img src="/content/${e}" alt="${t}" />
</body>
</html>`,d=new File([u],`${t.replace(/\s/g,"-")}-${Date.now()}.html`,{type:"text/html"});console.log(`[CollectionMinting]  HTML file created: ${d.name} (${d.size} bytes)`);const f=await Bg({file:d,address:n,feeRate:a,postage:330,delegateMetadata:JSON.stringify(c)});if(!f.payAddress||!f.amount)throw new Error("UniSat API did not return a pay address or amount for inscription fees.");const m="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",y=[];if(o&&o>0){const h=o/1e8;y.push({address:m,amount:h}),console.log(`[CollectionMinting] Item price: ${h.toFixed(8)} BTC (${o} sats) to ${m}`)}y.push({address:f.payAddress,amount:f.amount}),console.log(`[CollectionMinting] Inscription fees: ${f.amount.toFixed(8)} BTC to ${f.payAddress}`);let x;if(y.length===1)if(i==="unisat")x=await Ui(y[0].address,y[0].amount);else if(i==="xverse")x=await Yu(y[0].address,y[0].amount);else throw new Error("Unsupported wallet type for payment.");else{if(console.log(`[CollectionMinting] Paying ${y.length} recipients in one transaction:`),y.forEach((h,b)=>{console.log(`[CollectionMinting]   ${b+1}. ${h.address}: ${h.amount.toFixed(8)} BTC (${(h.amount*1e8).toFixed(0)} sats)`)}),!i)throw new Error("Unsupported wallet type for payment.");x=await qu(y,i)}if(!x)throw new Error("Payment transaction failed or returned no TXID.");return console.log(`[CollectionMinting]  Payment successful, TXID: ${x}`),{inscriptionId:f.inscriptionId,txid:f.txid||f.orderId,paymentTxid:x}},y0=[{inscriptionId:"94c91f823f145daf0200394433c1116781a7a669ba0b24a0d232f46838b37351i0",name:"TACTICAL",description:`Tactical is a turn-based tactical strategy game. Command an elite squad and complete missions against alien enemies.

Main Features:
-Optimized for Full Screen
-Turn-based combat system with Action Points
-Fog of War mechanics that reveal the battlefield as you explore
-Multiple weapon modes: Snap Shot, Aimed Shot, Burst
-Special abilities: Psi attacks, Teleport, Shield, Overwatch, Grenades, Medkits
-Campaign mode with Command Center: manage your soldiers, equipment, and progression between missions
-Map Editor to create custom missions
-Arcade Mode with predefined missions
-Multiple difficulty levels
-Strategic gameplay`,price:1e4},{inscriptionId:"0107df3459c64a889c4249011017a13dbbf7ad8e43cf075d3ca6aae7ddb511fai0",name:"SANTA'S REVENGE",description:"Do you want to help Santa give the Grinch a serious kick where it hurts? Then Santas Revenge is the game for you! Santas Revenge is an action-packed 3D shooter where you fight your way through a maze and defeat various enemies. The game features multiple levels, different weapons, various difficulty settings, and many additional features. Despite all challenges, I managed to overcome the many obstacles of blockchain development and create a full-fledged shooter. The game runs only on PC, in fullscreen mode, and is played with mouse & keyboard. Enjoy Santas Revenge and good luck defeating all enemies!",price:1e4},{inscriptionId:"f90df6134b4d171c5b1f9c85884c3e1075ef7fb32fa404a58004e28a0db274d1i0",name:"SEQUENCER",description:`Welcome to the S3QU3NC3R. An audio system completely as a standalone ordinal. It consists of over 8,000 lines of code. Mint Live on Lunalauncher.io

Specs:
-8 Banks with 16 Steps, 9 Instruments
-21 Effects, 2 FX per Instrument + EQ + Volume
-Polyphony Control
-Tone.js Framework + HTML Audio
-Design with 4 themes
-8 Audio Chains max (Auto-cleanup)
-Memory Management with Garbage Collection
-Import/Export Fiction via Text
-AI Composition & Generative Patterns
-Euclidean Rhythms & Pattern Evolution
-Polyrhythmic Support`,price:1e4},{inscriptionId:"93c6cae72268f19c1da6f2f6ca6f5d5aaa450c5c21f25265764d605288c1dffbi0",name:"STREET REIGN",description:"Street Reign is a point-and-click game. It puts you in the world of a drug dealer. Buy, sell, escape from the police. The goal is to make money and climb the ranks. Will you succeed? Best gaming experience on PC in full screen.",price:1e4},{inscriptionId:"5be3dfb109321291c0469ab1253be7b5c9d023e694945dbbd71a1dfe7518a4bfi0",name:"TimeBIT",description:"Binary clock",price:2e3},{inscriptionId:"1164c8fc35613512724f816b98d4b147846d18afe506b62c6a6b552a325cbea9i0",name:"Slot Machine",description:"Push the Button! Try your luck with this little slot machine. 6 designs, sounds, 3 slots. The slot machine is a little experiment and shows what else you can do with ordinals besides art. Over 1500 lines of code and 250kB of data were used to create this machine.",price:2e3},{inscriptionId:"e6805a3c68fd1abb1904dfb8193b2a01ef2ccbd96d6b8be2c4b9aba4332c413di0",name:"BLOCKTRIS",description:"Tetris Clone in Bitmap/Memepool style",price:2e3},{inscriptionId:"26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",name:"RichArt Synthesizer",description:"Beta version of the RichArt Synthesizer",price:0}],v0=()=>{const e=Xe(),{walletState:t}=xe(),[n,r]=w.useState(1),[a,i]=w.useState(null),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(null);w.useEffect(()=>{const x=h=>{h.key==="Escape"&&d&&f(null)};return d?(document.addEventListener("keydown",x),document.body.style.overflow="hidden",document.querySelectorAll("iframe").forEach(b=>{const p=b.getAttribute("title");if(p&&p!==d.name){const g=b.src;g&&(b.src="",b.__originalSrc=g,b.style.display="none")}}),requestAnimationFrame(()=>{const b=document.querySelector('[class*="fixed inset-0"]');b&&(b.style.transform="translateZ(0)",b.style.willChange="contents")})):(document.querySelectorAll("iframe").forEach(b=>{const p=b.__originalSrc;p&&!b.src&&(b.style.display="",b.src=p,delete b.__originalSrc)}),document.body.style.overflow="unset"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[d]);const m=async x=>{var b;if(!t.connected||!((b=t.accounts[0])!=null&&b.address)){u(x),o(!0);return}const h=t.accounts[0].address;i({status:"in-progress",progress:10,message:"Starting minting process..."});try{i(g=>g?{...g,progress:30,message:"Creating delegate inscription..."}:null);const p=await ff(x.inscriptionId,x.name,h,"Tech & Games",n,t.walletType||"unisat","html",x.price);try{const g=x.price>=8e3?20:5;await bg(h,g,`Minted Tech & Games item: ${x.name} (${x.price} sats)`,{collection:"Tech & Games",itemName:x.name,itemPrice:x.price,inscriptionId:p.inscriptionId}),console.log(`[TechGames]  Added ${g} points for minting ${x.name}`)}catch(g){console.error("[TechGames]  Failed to add points:",g)}i({progress:100,status:"success",message:`Successfully minted ${x.name}!`,inscriptionIds:[p.inscriptionId],txid:p.txid})}catch(p){console.error("Minting error:",p),i({progress:100,status:"error",message:`Error: ${p.message||"An unknown error occurred during minting."}`,inscriptionIds:[],txid:""})}},y=x=>`${x.toLocaleString()} sats (${(x/1e8).toFixed(8)} BTC)`;return s.jsxs("div",{className:"min-h-screen bg-black p-8 pt-20",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Home",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),s.jsxs("h1",{className:"text-4xl font-bold text-center mb-8 text-white flex items-center justify-center gap-3",children:[s.jsx("img",{src:"/images/techgames-logo.gif",alt:"Tech & Games",className:"h-8 w-8 object-contain",onError:x=>{x.currentTarget.style.display="none"}}),"Tech & Games"]}),s.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:s.jsx(da,{selectedFeeRate:n,onFeeRateChange:r})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",style:{contentVisibility:"auto"},children:y0.map(x=>s.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded-lg p-6 hover:border-red-500 transition-colors flex flex-col",children:[s.jsx("div",{className:"w-full aspect-square bg-black rounded mb-4 cursor-pointer overflow-hidden border-2 border-gray-800 hover:border-red-600 transition-colors",onClick:()=>f(x),children:d?s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-gray-300 text-center p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-lg font-bold mb-1",children:x.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"HTML Inscription"})]})}):s.jsx("iframe",{src:`https://ordinals.com/content/${x.inscriptionId}`,className:"w-full h-full border-0",title:x.name,sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",style:{transform:"translateZ(0)",willChange:"auto"},onError:h=>{console.log(`[TechGames] Iframe load error for ${x.name}`);const b=h.currentTarget;b.style.display="none";const p=b.parentElement;p&&(p.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-gray-300 text-center p-4">
                          <div>
                            <div class="text-4xl mb-3"></div>
                            <p class="text-lg font-bold mb-1">${x.name}</p>
                            <p class="text-xs text-gray-500">HTML Inscription</p>
                          </div>
                        </div>
                      `)}})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2 cursor-pointer hover:text-red-600 transition-colors",onClick:()=>f(x),children:x.name}),s.jsxs("p",{className:"text-sm text-gray-400 mb-4 line-clamp-3 cursor-pointer hover:text-gray-300 transition-colors flex-1",onClick:()=>f(x),children:[x.description.split(`

`)[0].substring(0,150),x.description.length>150?"...":""]}),x.price>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Price: ",y(x.price)]}),s.jsx("p",{className:"text-sm text-gray-400",children:"+ inscription fees"})]}),s.jsx("div",{className:"mt-auto",children:x.price>0?s.jsx("button",{onClick:()=>m(x),disabled:(a==null?void 0:a.status)==="in-progress",className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm font-semibold",children:(a==null?void 0:a.status)==="in-progress"?"Minting...":"Mint"}):s.jsx("button",{onClick:()=>f(x),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm font-semibold",children:"Test"})})]},x.inscriptionId))}),l&&!t.connected&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),s.jsx("button",{onClick:()=>{o(!1),u(null)},className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4",children:s.jsx(la,{onConnected:()=>{o(!1),c&&(m(c),u(null))}})})]})}),a&&s.jsx(Jl,{status:a,onClose:()=>{i(null),a.status==="success"||a.status}}),d&&s.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",onClick:()=>f(null),children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600 bg-gray-900",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:d.name}),s.jsxs("div",{className:"flex items-center gap-4",children:[d.price>0&&s.jsx("button",{onClick:()=>{f(null),u(d),o(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-semibold",children:t.connected?"Mint":"Connect & Mint"}),s.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-white p-2",title:"Close (ESC)",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsx("div",{className:"flex-1 w-full h-full bg-black overflow-hidden relative",onClick:x=>x.stopPropagation(),style:{willChange:"contents",transform:"translateZ(0)",backfaceVisibility:"hidden",contain:"layout style paint",isolation:"isolate"},children:s.jsx("iframe",{src:`https://ordinals.com/content/${d.inscriptionId}`,className:"w-full h-full border-0 absolute inset-0",title:d.name,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen",loading:"eager",referrerPolicy:"no-referrer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; webgl; xr-spatial-tracking",allowFullScreen:!0,style:{willChange:"contents",transform:"translateZ(0)",backfaceVisibility:"hidden",isolation:"isolate",contain:"layout style paint",pointerEvents:"auto"},onError:x=>{console.log(`[TechGames] Iframe load error in modal for ${d.name}`);const h=x.currentTarget;h.style.display="none";const b=h.parentElement;b&&(b.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center bg-gray-900 text-gray-400 p-6 text-center">
                      <div>
                        <div class="text-5xl mb-4"></div>
                        <p class="text-lg font-bold mb-2">${d.name}</p>
                        <p class="text-sm mb-4">HTML Inscription</p>
                        <a href="https://ordinals.com/inscription/${d.inscriptionId}" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-500 mt-4 inline-block underline">
                          View on Ordinals.com 
                        </a>
                      </div>
                    </div>
                  `)}})}),s.jsx("div",{className:"p-4 border-t-2 border-red-600 bg-gray-900 text-white",onClick:x=>x.stopPropagation(),children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:d.description.split(`

`)[0]})}),d.price>0&&s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Price"}),s.jsx("p",{className:"text-lg font-bold text-red-600",children:y(d.price)}),s.jsx("p",{className:"text-xs text-gray-500",children:"+ inscription fees"})]})]})})})]})]})},kc="http://localhost:3003",w0=()=>{const{id:e}=yh(),t=Xe(),{walletState:n}=xe(),[r,a]=w.useState(null),[i,l]=w.useState(!0),[o,c]=w.useState(1),[u,d]=w.useState(null),[f,m]=w.useState(null),[y,x]=w.useState(!1);w.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e){l(!0);try{const p=await dg(e);a(p)}catch(p){console.error("Error loading collection:",p),alert("Collection not found"),t("/")}finally{l(!1)}}},b=async p=>{if(!n.connected||!n.accounts[0]||!r){x(!0);return}const g=n.accounts[0].address;d(p.inscriptionId),m({progress:0,status:"processing",message:`Minting ${p.name}...`});try{if(p.type==="delegate"){m(S=>S?{...S,progress:30,message:"Creating delegate inscription..."}:null);const v=r.price?Math.round(r.price*1e8):void 0,j=await ff(p.inscriptionId,p.name,g,r.name,o,n.walletType||"unisat",void 0,v);m({progress:100,status:"success",message:`Successfully minted ${p.name}!`,inscriptionIds:[j.inscriptionId],txid:j.txid})}else{m(S=>S?{...S,progress:30,message:"Initiating transfer..."}:null);const v=await fetch(`${kc}/api/collections/mint-original`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:g,collectionId:r.id,itemId:p.inscriptionId,feeRate:o,walletType:n.walletType})});if(!v.ok){const S=await v.json().catch(()=>({error:"Unknown error"}));throw new Error(S.error||"Transfer failed")}const j=await v.json();m({progress:100,status:"success",message:`Successfully transferred ${p.name}!`,inscriptionIds:[j.inscriptionId],txid:j.txid})}}catch(v){console.error("[CollectionMinting] Error:",v),m({progress:0,status:"error",message:v.message||"Minting failed"})}finally{d(null)}};return i?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("p",{className:"text-xl",children:"Loading collection..."})}):r?s.jsx("div",{className:"min-h-screen bg-black text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),s.jsxs("div",{className:"text-center mb-8",children:[r.thumbnail&&s.jsx("img",{src:r.thumbnail,alt:r.name,className:"max-w-md mx-auto h-auto mb-4 rounded"}),s.jsx("h1",{className:"text-4xl font-bold mb-2 border-b-2 border-red-600 pb-4",children:r.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:r.description}),s.jsxs("p",{className:"text-red-600 font-bold text-lg",children:[r.price," BTC per item"]})]}),s.jsx("div",{className:"max-w-md mx-auto mb-8",children:s.jsx(da,{selectedFeeRate:o,onFeeRateChange:c})}),f&&s.jsx("div",{className:"mb-6",children:s.jsx(Jl,{status:f})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4",children:s.jsx(la,{onConnected:()=>x(!1)})})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.items.map(p=>{const g=u===p.inscriptionId,v=p.imageUrl||`${kc}/api/inscription/image/${p.inscriptionId}`;return s.jsxs("div",{className:"bg-black border border-red-600 rounded-lg overflow-hidden hover:border-red-500 transition-all",children:[s.jsxs("div",{className:"aspect-square bg-gray-900 flex items-center justify-center p-4 relative",children:[s.jsx("img",{src:v,alt:p.name,className:"w-full h-full object-contain",onError:j=>{console.warn(`[CollectionMinting] Could not load image for ${p.inscriptionId}`),j.currentTarget.style.display="none"}}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded font-semibold ${p.type==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:p.type==="delegate"?"Delegate":"Original"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:p.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-red-600 font-bold",children:[r.price," BTC"]}),s.jsx("button",{onClick:()=>b(p),disabled:g||!n.connected,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded font-semibold transition-colors",children:g?"Minting...":"Mint"})]})]})]},p.inscriptionId)})}),!n.connected&&s.jsxs("div",{className:"text-center mt-8",children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Please connect your wallet to mint items"}),s.jsx("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Connect Wallet"})]})]})}):s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("p",{className:"text-xl",children:"Collection not found"})})},Sc=[{id:"tactical",title:"Tactical The Game",description:"Mint on LunaLauncher",url:"https://lunalauncher.io/#mint/richart-tactical-game",category:"game",image:"/images/Tactical.jpg"},{id:"street-reign",title:"Street Reign The Dealer Game",description:"Mint on Lunalauncher",url:"https://lunalauncher.io/#mint/richart-street-reign",category:"game",image:"/images/StreetReign.png"},{id:"blocktris",title:"BLOCKTRIS",description:"Tetris Clone in Bitmap/Memepool style - Mint on lunalauncher.io",url:"https://magiceden.io/ordinals/marketplace/blocktris",category:"game",image:"/images/Blocktriss.png"},{id:"sequencer",title:"SEQUENCER",description:"Make Music with this Ordinal - View on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/sequencer",category:"game",image:"/images/Sequencer.png"},{id:"synthesizer",title:"RichArt Synthesizer",description:"Beta version of the RichArt Synthesizer",url:"https://ordinals.com/inscription/26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",category:"game",image:"https://ordinals.com/content/26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0"},{id:"consciousness-simulator",title:"Inside the Consciousness Simulator",description:"Card Packs",url:"https://www.ord-x.com/#Inside-the-Consciousness-Simulator",category:"game",image:"/images/Simulator.jpeg"},{id:"critical-view",title:"Critical View",description:"View on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/criticalview",category:"collection",image:"/images/Cview.png"},{id:"skull-goats",title:"Skull Goats by RichArt",description:"25 different Skull Goat ordinals",url:"https://magiceden.io/ordinals/marketplace/skullgoats",category:"collection",image:"/images/SKG.jpg"},{id:"ordheadz",title:"ORDHEADZ",description:"1,111 Ordheadz with over 200 layers",url:"https://magiceden.io/ordinals/marketplace/ohdz",category:"collection",image:"/images/Ordheadz.png"},{id:"conspiracy-narrative",title:"Conspiracy Narrative",description:"View on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/conspiracynarrative",category:"collection",image:"/images/ConspiracyNarrative.png"},{id:"scanmode",title:"scanmode by richart",description:"Perceptions unfold across countless levels",url:"https://magiceden.io/ordinals/marketplace/scanmode",category:"collection",image:"/images/scanmode.avif"},{id:"symmetry",title:"Symmetry by Richart",description:"Hand-drawn Series with striking symmetry",url:"https://magiceden.io/ordinals/marketplace/symmetry",category:"collection",image:"/images/symmetryy.png"},{id:"symmetry-phoneutria",title:"Symmetry by Richart - Phoneutria Fera",description:"View on Gamma",url:"https://gamma.io/ordinals/collections/symmetry-by-richart-phoneutria-fera",category:"collection",image:"/images/symmetryy.png"},{id:"sons-of-satoshi",title:"Sons of Satoshi Evolution",description:"Hidden among us... against the system",url:"https://magiceden.io/ordinals/marketplace/sosevo",category:"collection",image:"/images/SOSEvo.jpg"},{id:"bone-cat",title:"Bone Cat",description:"Bitcoin vibes with cat skulls - Mintpass for Badcats",url:"https://magiceden.io/ordinals/marketplace/bonecat",category:"collection",image:"/images/bonecat.png"},{id:"event-fold",title:"Event Fold by RichArt",description:"Places not found on any map. Zones between space and time.",url:"https://magiceden.io/ordinals/marketplace/eventfold",category:"collection",image:"/images/EventFold.jpg"},{id:"combination-mix",title:"Ordinals CombiNation Mix - Fusion 1000",description:"Art made from art - 1000 pixel crossover ordinals",url:"https://magiceden.io/ordinals/marketplace/combination-mix",category:"collection",image:"/images/CombinationMix.png"},{id:"ganja-onchain",title:"GANJA Onchain Collection",description:"Magic Eden & OKX",url:"https://magiceden.io/ordinals/marketplace/ganja",category:"collection",image:"/images/vyxvx.png"},{id:"smile-a-bit",title:"SMILE A BIT",description:"Mint on Gamma & RUNES on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/smile",category:"collection",image:"/images/SmileaBittt.png"}],b0={game:" Games & Tech",collection:" Collections",marketplace:" Marketplaces",social:" Social",other:" Other"},Ic={game:"border-blue-500 bg-blue-900/20",collection:"border-purple-500 bg-purple-900/20",marketplace:"border-green-500 bg-green-900/20",social:"border-pink-500 bg-pink-900/20",other:"border-gray-500 bg-gray-900/20"},j0=()=>{const e=Xe(),[t,n]=w.useState({});w.useEffect(()=>{(async()=>{try{const i=await fetch("https://linktr.ee/api/profiles/richart81");if(i.ok){const l=await i.json();if(l.links){const o={};l.links.forEach(c=>{if(c.url&&c.thumbnailUrl){const u=Sc.find(d=>d.url===c.url);u&&(o[u.id]=c.thumbnailUrl)}}),n(o)}}}catch(i){console.warn("[LinkGallery] Could not load images from Linktree:",i)}})()},[]);const r=Sc.reduce((a,i)=>(a[i.category]||(a[i.category]=[]),a[i.category].push(i),a),{});return s.jsxs("div",{className:"min-h-screen bg-black text-white p-8 pt-20",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Home",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("img",{src:"/images/RichArt.png",alt:"RichArt",className:"h-24 mx-auto mb-4",onError:a=>{console.warn("[LinkGallery] Could not load RichArt logo"),a.currentTarget.style.display="none"}}),s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Link Gallery"}),s.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"All projects, collections and links from RichArt at a glance"})]}),s.jsx("div",{className:"max-w-6xl mx-auto space-y-8",children:Object.entries(r).map(([a,i])=>s.jsxs("div",{children:[s.jsx("h2",{className:`text-2xl font-bold mb-4 ${Ic[a].split(" ")[0].replace("border-","text-")}`,children:b0[a]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:i.map(l=>{var o;return s.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:`block rounded-lg border-2 ${Ic[a]} hover:scale-105 transition-all cursor-pointer overflow-hidden`,children:[l.image||t[l.id]?s.jsx("div",{className:"w-full aspect-square overflow-hidden bg-gray-900 relative",children:l.id==="synthesizer"&&((o=l.image)!=null&&o.includes("ordinals.com/content"))?s.jsx("iframe",{src:l.image,className:"w-full h-full border-0",title:l.title,sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",style:{transform:"translateZ(0)",willChange:"auto"}}):s.jsx("img",{src:l.image||t[l.id]||"",alt:l.title,className:"w-full h-full object-cover",loading:"lazy",onError:c=>{console.warn(`[LinkGallery] Could not load image for ${l.id}, using fallback`);const u=c.currentTarget.parentElement;u&&(u.innerHTML=`
                                <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900">
                                  <div class="text-center p-2">
                                    <div class="text-2xl mb-1"></div>
                                    <p class="text-white text-xs font-semibold">${l.title}</p>
                                  </div>
                                </div>
                              `)}})}):s.jsx("div",{className:"w-full aspect-square overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:""}),s.jsx("p",{className:"text-white text-xs font-semibold",children:l.title})]})}),s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"text-sm font-bold text-white mb-1 line-clamp-1",children:l.title}),l.description&&s.jsx("p",{className:"text-xs text-gray-300 mb-2 line-clamp-2",children:l.description}),s.jsxs("div",{className:"flex items-center text-[10px] text-gray-400",children:[s.jsx("span",{children:"Open"}),s.jsx("svg",{className:"w-2.5 h-2.5 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},l.id)})})]},a))}),s.jsx("div",{className:"mt-16 text-center text-gray-500 text-sm",children:s.jsx("p",{children:"Oneironaut, Artist, Creator"})})]})},N0=()=>{const e=Xe();return s.jsxs("div",{className:"min-h-screen bg-black relative flex flex-col items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("img",{src:"/images/SmileaBittt.png",alt:"SMILE A BIT Background",className:"w-full h-full object-cover opacity-30",onError:t=>{console.warn("[SmilePage] Could not load background image"),t.currentTarget.style.display="none"}}),s.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen w-full px-8",children:[s.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-white mb-8 text-center drop-shadow-2xl",children:"SMILE A BIT"}),s.jsx("div",{className:"mt-auto mb-16",children:s.jsx("p",{className:"text-4xl md:text-6xl font-bold text-red-600 text-center drop-shadow-2xl",children:"COMING SOON"})}),s.jsx("button",{onClick:()=>e("/"),className:"absolute top-8 left-8 px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors z-20",children:" Back"})]})]})};function k0(){const[e,t]=w.useState(!1),n=ia(),r=n.pathname==="/",a=n.pathname==="/black-wild";return s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx(vg,{onGalleryClick:()=>t(!0),showFullMenu:!r,showMintingMenu:a}),s.jsxs(Mh,{children:[s.jsx(Ue,{path:"/",element:s.jsx(kg,{})}),s.jsx(Ue,{path:"/black-wild",element:s.jsx(Vg,{})}),s.jsx(Ue,{path:"/point-shop",element:s.jsx(x0,{})}),s.jsx(Ue,{path:"/tech-games",element:s.jsx(v0,{})}),s.jsx(Ue,{path:"/collection/:id",element:s.jsx(w0,{})}),s.jsx(Ue,{path:"/trade",element:s.jsx(e0,{})}),s.jsx(Ue,{path:"/history",element:s.jsx(t0,{})}),s.jsx(Ue,{path:"/play",element:s.jsx(g0,{})}),s.jsx(Ue,{path:"/link-gallery",element:s.jsx(j0,{})}),s.jsx(Ue,{path:"/smile-a-bit",element:s.jsx(N0,{})}),s.jsx(Ue,{path:"*",element:s.jsx($h,{to:"/",replace:!0})})]}),e&&s.jsx(uf,{onClose:()=>t(!1)})]})}function S0(){return s.jsx(ef,{children:s.jsx(Fh,{children:s.jsx(k0,{})})})}console.log(" MAIN.TSX GELADEN - VERSION 2.0 - KEINE ZAHLUNGEN! ");console.log("[main.tsx]  Diese Version verwendet NUR Ord - KEINE Zahlungen!");console.log('[main.tsx]  Wenn Sie "Pack payment" sehen, ist der Cache NICHT geleert!');Va.createRoot(document.getElementById("root")).render(s.jsx(ur.StrictMode,{children:s.jsx(ef,{children:s.jsx(S0,{})})}));export{Bg as a,Yu as b,I0 as c,C0 as g,Ui as s};
