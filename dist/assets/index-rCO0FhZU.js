var k6=Object.defineProperty;var I6=(e,t,r)=>t in e?k6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ye=(e,t,r)=>I6(e,typeof t!="symbol"?t+"":t,r);function E6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var UN={exports:{}},Sh={},zN={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),C6=Symbol.for("react.portal"),P6=Symbol.for("react.fragment"),T6=Symbol.for("react.strict_mode"),A6=Symbol.for("react.profiler"),_6=Symbol.for("react.provider"),O6=Symbol.for("react.context"),M6=Symbol.for("react.forward_ref"),$6=Symbol.for("react.suspense"),L6=Symbol.for("react.memo"),D6=Symbol.for("react.lazy"),Jb=Symbol.iterator;function B6(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var WN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HN=Object.assign,KN={};function Jo(e,t,r){this.props=e,this.context=t,this.refs=KN,this.updater=r||WN}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VN(){}VN.prototype=Jo.prototype;function Lx(e,t,r){this.props=e,this.context=t,this.refs=KN,this.updater=r||WN}var Dx=Lx.prototype=new VN;Dx.constructor=Lx;HN(Dx,Jo.prototype);Dx.isPureReactComponent=!0;var Qb=Array.isArray,GN=Object.prototype.hasOwnProperty,Bx={current:null},qN={key:!0,ref:!0,__self:!0,__source:!0};function YN(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)GN.call(t,n)&&!qN.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Vc,type:e,key:s,ref:o,props:i,_owner:Bx.current}}function R6(e,t){return{$$typeof:Vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vc}function F6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ew=/\/+/g;function Qp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F6(""+e.key):t.toString(36)}function yu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vc:case C6:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Qp(o,0):n,Qb(i)?(r="",e!=null&&(r=e.replace(ew,"$&/")+"/"),yu(i,t,r,"",function(d){return d})):i!=null&&(Rx(i)&&(i=R6(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ew,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Qb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Qp(s,l);o+=yu(s,t,r,c,i)}else if(c=B6(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Qp(s,l++),o+=yu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(e,t,r){if(e==null)return e;var n=[],i=0;return yu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function U6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},vu={transition:null},z6={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:vu,ReactCurrentOwner:Bx};function ZN(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Td,forEach:function(e,t,r){Td(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Td(e,function(){t++}),t},toArray:function(e){return Td(e,function(t){return t})||[]},only:function(e){if(!Rx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Jo;_e.Fragment=P6;_e.Profiler=A6;_e.PureComponent=Lx;_e.StrictMode=T6;_e.Suspense=$6;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;_e.act=ZN;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HN({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Bx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GN.call(t,c)&&!qN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Vc,type:e.type,key:i,ref:s,props:n,_owner:o}};_e.createContext=function(e){return e={$$typeof:O6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_6,_context:e},e.Consumer=e};_e.createElement=YN;_e.createFactory=function(e){var t=YN.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:M6,render:e}};_e.isValidElement=Rx;_e.lazy=function(e){return{$$typeof:D6,_payload:{_status:-1,_result:e},_init:U6}};_e.memo=function(e,t){return{$$typeof:L6,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=vu.transition;vu.transition={};try{e()}finally{vu.transition=t}};_e.unstable_act=ZN;_e.useCallback=function(e,t){return Nr.current.useCallback(e,t)};_e.useContext=function(e){return Nr.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Nr.current.useEffect(e,t)};_e.useId=function(){return Nr.current.useId()};_e.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Nr.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};_e.useRef=function(e){return Nr.current.useRef(e)};_e.useState=function(e){return Nr.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Nr.current.useTransition()};_e.version="18.3.1";zN.exports=_e;var b=zN.exports;const sc=oi(b),XN=E6({__proto__:null,default:sc},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6=b,H6=Symbol.for("react.element"),K6=Symbol.for("react.fragment"),V6=Object.prototype.hasOwnProperty,G6=W6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q6={key:!0,ref:!0,__self:!0,__source:!0};function JN(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)V6.call(t,n)&&!q6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:H6,type:e,key:s,ref:o,props:i,_owner:G6.current}}Sh.Fragment=K6;Sh.jsx=JN;Sh.jsxs=JN;UN.exports=Sh;var a=UN.exports,xg={},QN={exports:{}},en={},ek={exports:{}},tk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,_){var q=z.length;z.push(_);e:for(;0<q;){var H=q-1>>>1,D=z[H];if(0<i(D,_))z[H]=_,z[q]=D,q=H;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var _=z[0],q=z.pop();if(q!==_){z[0]=q;e:for(var H=0,D=z.length,se=D>>>1;H<se;){var ae=2*(H+1)-1,ie=z[ae],ce=ae+1,xe=z[ce];if(0>i(ie,q))ce<D&&0>i(xe,ie)?(z[H]=xe,z[ce]=q,H=ce):(z[H]=ie,z[ae]=q,H=ae);else if(ce<D&&0>i(xe,q))z[H]=xe,z[ce]=q,H=ce;else break e}}return _}function i(z,_){var q=z.sortIndex-_.sortIndex;return q!==0?q:z.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var _=r(d);_!==null;){if(_.callback===null)n(d);else if(_.startTime<=z)n(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(d)}}function S(z){if(m=!1,w(z),!g)if(r(c)!==null)g=!0,O(j);else{var _=r(d);_!==null&&$(S,_.startTime-z)}}function j(z,_){g=!1,m&&(m=!1,x(C),C=-1),p=!0;var q=h;try{for(w(_),f=r(c);f!==null&&(!(f.expirationTime>_)||z&&!V());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var D=H(f.expirationTime<=_);_=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),w(_)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var ae=r(d);ae!==null&&$(S,ae.startTime-_),se=!1}return se}finally{f=null,h=q,p=!1}}var I=!1,E=null,C=-1,T=5,K=-1;function V(){return!(e.unstable_now()-K<T)}function P(){if(E!==null){var z=e.unstable_now();K=z;var _=!0;try{_=E(!0,z)}finally{_?R():(I=!1,E=null)}}else I=!1}var R;if(typeof y=="function")R=function(){y(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=P,R=function(){M.postMessage(null)}}else R=function(){v(P,0)};function O(z){E=z,I||(I=!0,R())}function $(z,_){C=v(function(){z(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var q=h;h=_;try{return z()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,_){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=h;h=z;try{return _()}finally{h=q}},e.unstable_scheduleCallback=function(z,_,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,z={id:u++,callback:_,priorityLevel:z,startTime:q,expirationTime:D,sortIndex:-1},q>H?(z.sortIndex=q,t(d,z),r(c)===null&&z===r(d)&&(m?(x(C),C=-1):m=!0,$(S,q-H))):(z.sortIndex=D,t(c,z),g||p||(g=!0,O(j))),z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(z){var _=h;return function(){var q=h;h=_;try{return z.apply(this,arguments)}finally{h=q}}}})(tk);ek.exports=tk;var Y6=ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z6=b,Jr=Y6;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rk=new Set,ac={};function $a(e,t){To(e,t),To(e+"Capture",t)}function To(e,t){for(ac[e]=t,e=0;e<t.length;e++)rk.add(t[e])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yg=Object.prototype.hasOwnProperty,X6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw={},rw={};function J6(e){return yg.call(rw,e)?!0:yg.call(tw,e)?!1:X6.test(e)?rw[e]=!0:(tw[e]=!0,!1)}function Q6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e_(e,t,r,n){if(t===null||typeof t>"u"||Q6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Ux(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fx,Ux);rr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fx,Ux);rr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fx,Ux);rr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zx(e,t,r,n){var i=rr.hasOwnProperty(t)?rr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e_(t,r,i,n)&&(r=null),n||i===null?J6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wi=Z6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Wx=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),ik=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),sk=Symbol.for("react.offscreen"),nw=Symbol.iterator;function yl(e){return e===null||typeof e!="object"?null:(e=nw&&e[nw]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,em;function Rl(e){if(em===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);em=t&&t[1]||""}return`
`+em+e}var tm=!1;function rm(e,t){if(!e||tm)return"";tm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{tm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function t_(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=rm(e.type,!1),e;case 11:return e=rm(e.type.render,!1),e;case 1:return e=rm(e.type,!0),e;default:return""}}function jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case eo:return"Portal";case vg:return"Profiler";case Wx:return"StrictMode";case bg:return"Suspense";case wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ik:return(e.displayName||"Context")+".Consumer";case nk:return(e._context.displayName||"Context")+".Provider";case Hx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kx:return t=e.displayName||null,t!==null?t:jg(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return jg(e(t))}catch{}}return null}function r_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(t);case 8:return t===Wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function As(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ak(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n_(e){var t=ak(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _d(e){e._valueTracker||(e._valueTracker=n_(e))}function ok(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ak(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sg(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=As(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lk(e,t){t=t.checked,t!=null&&zx(e,"checked",t,!1)}function Ng(e,t){lk(e,t);var r=As(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kg(e,t.type,r):t.hasOwnProperty("defaultValue")&&kg(e,t.type,As(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kg(e,t,r){(t!=="number"||Hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fl=Array.isArray;function yo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+As(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ig(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(Fl(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:As(r)}}function ck(e,t){var r=As(t.value),n=As(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ow(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Od,uk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Od=Od||document.createElement("div"),Od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i_=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(e){i_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gl[t]=Gl[e]})});function fk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gl.hasOwnProperty(e)&&Gl[e]?(""+t).trim():t+"px"}function hk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var s_=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cg(e,t){if(t){if(s_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Pg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function Vx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ag=null,vo=null,bo=null;function lw(e){if(e=Yc(e)){if(typeof Ag!="function")throw Error(me(280));var t=e.stateNode;t&&(t=Ch(t),Ag(e.stateNode,e.type,t))}}function pk(e){vo?bo?bo.push(e):bo=[e]:vo=e}function mk(){if(vo){var e=vo,t=bo;if(bo=vo=null,lw(e),t)for(e=0;e<t.length;e++)lw(t[e])}}function gk(e,t){return e(t)}function xk(){}var nm=!1;function yk(e,t,r){if(nm)return e(t,r);nm=!0;try{return gk(e,t,r)}finally{nm=!1,(vo!==null||bo!==null)&&(xk(),mk())}}function lc(e,t){var r=e.stateNode;if(r===null)return null;var n=Ch(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var _g=!1;if(Pi)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){_g=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{_g=!1}function a_(e,t,r,n,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ql=!1,Ku=null,Vu=!1,Og=null,o_={onError:function(e){ql=!0,Ku=e}};function l_(e,t,r,n,i,s,o,l,c){ql=!1,Ku=null,a_.apply(o_,arguments)}function c_(e,t,r,n,i,s,o,l,c){if(l_.apply(this,arguments),ql){if(ql){var d=Ku;ql=!1,Ku=null}else throw Error(me(198));Vu||(Vu=!0,Og=d)}}function La(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cw(e){if(La(e)!==e)throw Error(me(188))}function d_(e){var t=e.alternate;if(!t){if(t=La(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return cw(i),e;if(s===n)return cw(i),t;s=s.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function bk(e){return e=d_(e),e!==null?wk(e):null}function wk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wk(e);if(t!==null)return t;e=e.sibling}return null}var jk=Jr.unstable_scheduleCallback,dw=Jr.unstable_cancelCallback,u_=Jr.unstable_shouldYield,f_=Jr.unstable_requestPaint,wt=Jr.unstable_now,h_=Jr.unstable_getCurrentPriorityLevel,Gx=Jr.unstable_ImmediatePriority,Sk=Jr.unstable_UserBlockingPriority,Gu=Jr.unstable_NormalPriority,p_=Jr.unstable_LowPriority,Nk=Jr.unstable_IdlePriority,Nh=null,Jn=null;function m_(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Nh,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:y_,g_=Math.log,x_=Math.LN2;function y_(e){return e>>>=0,e===0?32:31-(g_(e)/x_|0)|0}var Md=64,$d=4194304;function Ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Ul(l):(s&=o,s!==0&&(n=Ul(s)))}else o=r&~i,o!==0?n=Ul(o):s!==0&&(n=Ul(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-On(t),i=1<<r,n|=e[r],t&=~i;return n}function v_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-On(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=v_(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kk(){var e=Md;return Md<<=1,!(Md&4194240)&&(Md=64),e}function im(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=r}function w_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-On(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function qx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-On(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var He=0;function Ik(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ek,Yx,Ck,Pk,Tk,$g=!1,Ld=[],ws=null,js=null,Ss=null,cc=new Map,dc=new Map,fs=[],j_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(e,t){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(t.pointerId)}}function bl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Yc(t),t!==null&&Yx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function S_(e,t,r,n,i){switch(t){case"focusin":return ws=bl(ws,e,t,r,n,i),!0;case"dragenter":return js=bl(js,e,t,r,n,i),!0;case"mouseover":return Ss=bl(Ss,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return cc.set(s,bl(cc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,dc.set(s,bl(dc.get(s)||null,e,t,r,n,i)),!0}return!1}function Ak(e){var t=na(e.target);if(t!==null){var r=La(t);if(r!==null){if(t=r.tag,t===13){if(t=vk(r),t!==null){e.blockedOn=t,Tk(e.priority,function(){Ck(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Tg=n,r.target.dispatchEvent(n),Tg=null}else return t=Yc(r),t!==null&&Yx(t),e.blockedOn=r,!1;t.shift()}return!0}function fw(e,t,r){bu(e)&&r.delete(t)}function N_(){$g=!1,ws!==null&&bu(ws)&&(ws=null),js!==null&&bu(js)&&(js=null),Ss!==null&&bu(Ss)&&(Ss=null),cc.forEach(fw),dc.forEach(fw)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,$g||($g=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,N_)))}function uc(e){function t(i){return wl(i,e)}if(0<Ld.length){wl(Ld[0],e);for(var r=1;r<Ld.length;r++){var n=Ld[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ws!==null&&wl(ws,e),js!==null&&wl(js,e),Ss!==null&&wl(Ss,e),cc.forEach(t),dc.forEach(t),r=0;r<fs.length;r++)n=fs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)Ak(r),r.blockedOn===null&&fs.shift()}var wo=Wi.ReactCurrentBatchConfig,Yu=!0;function k_(e,t,r,n){var i=He,s=wo.transition;wo.transition=null;try{He=1,Zx(e,t,r,n)}finally{He=i,wo.transition=s}}function I_(e,t,r,n){var i=He,s=wo.transition;wo.transition=null;try{He=4,Zx(e,t,r,n)}finally{He=i,wo.transition=s}}function Zx(e,t,r,n){if(Yu){var i=Lg(e,t,r,n);if(i===null)pm(e,t,n,Zu,r),uw(e,n);else if(S_(i,e,t,r,n))n.stopPropagation();else if(uw(e,n),t&4&&-1<j_.indexOf(e)){for(;i!==null;){var s=Yc(i);if(s!==null&&Ek(s),s=Lg(e,t,r,n),s===null&&pm(e,t,n,Zu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else pm(e,t,n,null,r)}}var Zu=null;function Lg(e,t,r,n){if(Zu=null,e=Vx(n),e=na(e),e!==null)if(t=La(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zu=e,null}function _k(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_()){case Gx:return 1;case Sk:return 4;case Gu:case p_:return 16;case Nk:return 536870912;default:return 16}default:return 16}}var gs=null,Xx=null,wu=null;function Ok(){if(wu)return wu;var e,t=Xx,r=t.length,n,i="value"in gs?gs.value:gs.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return wu=i.slice(e,1<n?1-n:void 0)}function ju(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dd(){return!0}function hw(){return!1}function tn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:hw,this.isPropagationStopped=hw,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=tn(Qo),qc=mt({},Qo,{view:0,detail:0}),E_=tn(qc),sm,am,jl,kh=mt({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(sm=e.screenX-jl.screenX,am=e.screenY-jl.screenY):am=sm=0,jl=e),sm)},movementY:function(e){return"movementY"in e?e.movementY:am}}),pw=tn(kh),C_=mt({},kh,{dataTransfer:0}),P_=tn(C_),T_=mt({},qc,{relatedTarget:0}),om=tn(T_),A_=mt({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),__=tn(A_),O_=mt({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M_=tn(O_),$_=mt({},Qo,{data:0}),mw=tn($_),L_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B_[e])?!!t[e]:!1}function Qx(){return R_}var F_=mt({},qc,{key:function(e){if(e.key){var t=L_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ju(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qx,charCode:function(e){return e.type==="keypress"?ju(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ju(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U_=tn(F_),z_=mt({},kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=tn(z_),W_=mt({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qx}),H_=tn(W_),K_=mt({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=tn(K_),G_=mt({},kh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q_=tn(G_),Y_=[9,13,27,32],ey=Pi&&"CompositionEvent"in window,Yl=null;Pi&&"documentMode"in document&&(Yl=document.documentMode);var Z_=Pi&&"TextEvent"in window&&!Yl,Mk=Pi&&(!ey||Yl&&8<Yl&&11>=Yl),xw=" ",yw=!1;function $k(e,t){switch(e){case"keyup":return Y_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ro=!1;function X_(e,t){switch(e){case"compositionend":return Lk(t);case"keypress":return t.which!==32?null:(yw=!0,xw);case"textInput":return e=t.data,e===xw&&yw?null:e;default:return null}}function J_(e,t){if(ro)return e==="compositionend"||!ey&&$k(e,t)?(e=Ok(),wu=Xx=gs=null,ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mk&&t.locale!=="ko"?null:t.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q_[e.type]:t==="textarea"}function Dk(e,t,r,n){pk(n),t=Xu(t,"onChange"),0<t.length&&(r=new Jx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zl=null,fc=null;function e5(e){qk(e,0)}function Ih(e){var t=so(e);if(ok(t))return e}function t5(e,t){if(e==="change")return t}var Bk=!1;if(Pi){var lm;if(Pi){var cm="oninput"in document;if(!cm){var bw=document.createElement("div");bw.setAttribute("oninput","return;"),cm=typeof bw.oninput=="function"}lm=cm}else lm=!1;Bk=lm&&(!document.documentMode||9<document.documentMode)}function ww(){Zl&&(Zl.detachEvent("onpropertychange",Rk),fc=Zl=null)}function Rk(e){if(e.propertyName==="value"&&Ih(fc)){var t=[];Dk(t,fc,e,Vx(e)),yk(e5,t)}}function r5(e,t,r){e==="focusin"?(ww(),Zl=t,fc=r,Zl.attachEvent("onpropertychange",Rk)):e==="focusout"&&ww()}function n5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ih(fc)}function i5(e,t){if(e==="click")return Ih(t)}function s5(e,t){if(e==="input"||e==="change")return Ih(t)}function a5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:a5;function hc(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yg.call(t,i)||!Bn(e[i],t[i]))return!1}return!0}function jw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sw(e,t){var r=jw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jw(r)}}function Fk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uk(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o5(e){var t=Uk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fk(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Sw(r,s);var o=Sw(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l5=Pi&&"documentMode"in document&&11>=document.documentMode,no=null,Dg=null,Xl=null,Bg=!1;function Nw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bg||no==null||no!==Hu(n)||(n=no,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xl&&hc(Xl,n)||(Xl=n,n=Xu(Dg,"onSelect"),0<n.length&&(t=new Jx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=no)))}function Bd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var io={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},dm={},zk={};Pi&&(zk=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Eh(e){if(dm[e])return dm[e];if(!io[e])return e;var t=io[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zk)return dm[e]=t[r];return e}var Wk=Eh("animationend"),Hk=Eh("animationiteration"),Kk=Eh("animationstart"),Vk=Eh("transitionend"),Gk=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){Gk.set(e,t),$a(t,[e])}for(var um=0;um<kw.length;um++){var fm=kw[um],c5=fm.toLowerCase(),d5=fm[0].toUpperCase()+fm.slice(1);Ls(c5,"on"+d5)}Ls(Wk,"onAnimationEnd");Ls(Hk,"onAnimationIteration");Ls(Kk,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(Vk,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u5=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function Iw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c_(n,t,void 0,e),e.currentTarget=null}function qk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Iw(i,l,d),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Iw(i,l,d),s=c}}}if(Vu)throw e=Og,Vu=!1,Og=null,e}function tt(e,t){var r=t[Wg];r===void 0&&(r=t[Wg]=new Set);var n=e+"__bubble";r.has(n)||(Yk(t,e,2,!1),r.add(n))}function hm(e,t,r){var n=0;t&&(n|=4),Yk(r,e,n,t)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[Rd]){e[Rd]=!0,rk.forEach(function(r){r!=="selectionchange"&&(u5.has(r)||hm(r,!1,e),hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rd]||(t[Rd]=!0,hm("selectionchange",!1,t))}}function Yk(e,t,r,n){switch(_k(t)){case 1:var i=k_;break;case 4:i=I_;break;default:i=Zx}r=i.bind(null,t,r,e),i=void 0,!_g||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function pm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=na(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}yk(function(){var d=s,u=Vx(r),f=[];e:{var h=Gk.get(e);if(h!==void 0){var p=Jx,g=e;switch(e){case"keypress":if(ju(r)===0)break e;case"keydown":case"keyup":p=U_;break;case"focusin":g="focus",p=om;break;case"focusout":g="blur",p=om;break;case"beforeblur":case"afterblur":p=om;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H_;break;case Wk:case Hk:case Kk:p=__;break;case Vk:p=V_;break;case"scroll":p=E_;break;case"wheel":p=q_;break;case"copy":case"cut":case"paste":p=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gw}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=d,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=lc(y,x),S!=null&&m.push(mc(y,S,w)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Tg&&(g=r.relatedTarget||r.fromElement)&&(na(g)||g[Ti]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?na(g):null,g!==null&&(v=La(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(m=pw,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=gw,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:so(p),w=g==null?h:so(g),h=new m(S,y+"leave",p,r,u),h.target=v,h.relatedTarget=w,S=null,na(u)===d&&(m=new m(x,y+"enter",g,r,u),m.target=w,m.relatedTarget=v,S=m),v=S,p&&g)t:{for(m=p,x=g,y=0,w=m;w;w=Va(w))y++;for(w=0,S=x;S;S=Va(S))w++;for(;0<y-w;)m=Va(m),y--;for(;0<w-y;)x=Va(x),w--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Va(m),x=Va(x)}m=null}else m=null;p!==null&&Ew(f,h,p,m,!1),g!==null&&v!==null&&Ew(f,v,g,m,!0)}}e:{if(h=d?so(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=t5;else if(vw(h))if(Bk)j=s5;else{j=n5;var I=r5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=i5);if(j&&(j=j(e,d))){Dk(f,j,r,u);break e}I&&I(e,h,d),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&kg(h,"number",h.value)}switch(I=d?so(d):window,e){case"focusin":(vw(I)||I.contentEditable==="true")&&(no=I,Dg=d,Xl=null);break;case"focusout":Xl=Dg=no=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,Nw(f,r,u);break;case"selectionchange":if(l5)break;case"keydown":case"keyup":Nw(f,r,u)}var E;if(ey)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ro?$k(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Mk&&r.locale!=="ko"&&(ro||C!=="onCompositionStart"?C==="onCompositionEnd"&&ro&&(E=Ok()):(gs=u,Xx="value"in gs?gs.value:gs.textContent,ro=!0)),I=Xu(d,C),0<I.length&&(C=new mw(C,e,null,r,u),f.push({event:C,listeners:I}),E?C.data=E:(E=Lk(r),E!==null&&(C.data=E)))),(E=Z_?X_(e,r):J_(e,r))&&(d=Xu(d,"onBeforeInput"),0<d.length&&(u=new mw("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}qk(f,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lc(e,r),s!=null&&n.unshift(mc(e,s,i)),s=lc(e,t),s!=null&&n.push(mc(e,s,i))),e=e.return}return n}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ew(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=lc(r,s),c!=null&&o.unshift(mc(r,c,l))):i||(c=lc(r,s),c!=null&&o.push(mc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var f5=/\r\n?/g,h5=/\u0000|\uFFFD/g;function Cw(e){return(typeof e=="string"?e:""+e).replace(f5,`
`).replace(h5,"")}function Fd(e,t,r){if(t=Cw(t),Cw(e)!==t&&r)throw Error(me(425))}function Ju(){}var Rg=null,Fg=null;function Ug(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zg=typeof setTimeout=="function"?setTimeout:void 0,p5=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,m5=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch(g5)}:zg;function g5(e){setTimeout(function(){throw e})}function mm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),uc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);uc(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Yn="__reactFiber$"+el,gc="__reactProps$"+el,Ti="__reactContainer$"+el,Wg="__reactEvents$"+el,x5="__reactListeners$"+el,y5="__reactHandles$"+el;function na(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ti]||r[Yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tw(e);e!==null;){if(r=e[Yn])return r;e=Tw(e)}return t}e=r,r=e.parentNode}return null}function Yc(e){return e=e[Yn]||e[Ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function Ch(e){return e[gc]||null}var Hg=[],ao=-1;function Ds(e){return{current:e}}function it(e){0>ao||(e.current=Hg[ao],Hg[ao]=null,ao--)}function et(e,t){ao++,Hg[ao]=e.current,e.current=t}var _s={},dr=Ds(_s),Lr=Ds(!1),wa=_s;function Ao(e,t){var r=e.type.contextTypes;if(!r)return _s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(e){return e=e.childContextTypes,e!=null}function Qu(){it(Lr),it(dr)}function Aw(e,t,r){if(dr.current!==_s)throw Error(me(168));et(dr,t),et(Lr,r)}function Zk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,r_(e)||"Unknown",i));return mt({},r,n)}function ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,wa=dr.current,et(dr,e),et(Lr,Lr.current),!0}function _w(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=Zk(e,t,wa),n.__reactInternalMemoizedMergedChildContext=e,it(Lr),it(dr),et(dr,e)):it(Lr),et(Lr,r)}var mi=null,Ph=!1,gm=!1;function Xk(e){mi===null?mi=[e]:mi.push(e)}function v5(e){Ph=!0,Xk(e)}function Bs(){if(!gm&&mi!==null){gm=!0;var e=0,t=He;try{var r=mi;for(He=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mi=null,Ph=!1}catch(i){throw mi!==null&&(mi=mi.slice(e+1)),jk(Gx,Bs),i}finally{He=t,gm=!1}}return null}var oo=[],lo=0,tf=null,rf=0,dn=[],un=0,ja=null,wi=1,ji="";function Js(e,t){oo[lo++]=rf,oo[lo++]=tf,tf=e,rf=t}function Jk(e,t,r){dn[un++]=wi,dn[un++]=ji,dn[un++]=ja,ja=e;var n=wi;e=ji;var i=32-On(n)-1;n&=~(1<<i),r+=1;var s=32-On(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wi=1<<32-On(t)+i|r<<i|n,ji=s+e}else wi=1<<s|r<<i|n,ji=e}function ry(e){e.return!==null&&(Js(e,1),Jk(e,1,0))}function ny(e){for(;e===tf;)tf=oo[--lo],oo[lo]=null,rf=oo[--lo],oo[lo]=null;for(;e===ja;)ja=dn[--un],dn[un]=null,ji=dn[--un],dn[un]=null,wi=dn[--un],dn[un]=null}var Zr=null,Gr=null,ct=!1,Cn=null;function Qk(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ow(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zr=e,Gr=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zr=e,Gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ja!==null?{id:wi,overflow:ji}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zr=e,Gr=null,!0):!1;default:return!1}}function Kg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vg(e){if(ct){var t=Gr;if(t){var r=t;if(!Ow(e,t)){if(Kg(e))throw Error(me(418));t=Ns(r.nextSibling);var n=Zr;t&&Ow(e,t)?Qk(n,r):(e.flags=e.flags&-4097|2,ct=!1,Zr=e)}}else{if(Kg(e))throw Error(me(418));e.flags=e.flags&-4097|2,ct=!1,Zr=e}}}function Mw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zr=e}function Ud(e){if(e!==Zr)return!1;if(!ct)return Mw(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ug(e.type,e.memoizedProps)),t&&(t=Gr)){if(Kg(e))throw e4(),Error(me(418));for(;t;)Qk(e,t),t=Ns(t.nextSibling)}if(Mw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gr=Ns(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gr=null}}else Gr=Zr?Ns(e.stateNode.nextSibling):null;return!0}function e4(){for(var e=Gr;e;)e=Ns(e.nextSibling)}function _o(){Gr=Zr=null,ct=!1}function iy(e){Cn===null?Cn=[e]:Cn.push(e)}var b5=Wi.ReactCurrentBatchConfig;function Sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function zd(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $w(e){var t=e._init;return t(e._payload)}function t4(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Cs(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=Sm(w,x.mode,S),y.return=x,y):(y=i(y,w),y.return=x,y)}function c(x,y,w,S){var j=w.type;return j===to?u(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===os&&$w(j)===y.type)?(S=i(y,w.props),S.ref=Sl(x,y,w),S.return=x,S):(S=Pu(w.type,w.key,w.props,null,x.mode,S),S.ref=Sl(x,y,w),S.return=x,S)}function d(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Nm(w,x.mode,S),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function u(x,y,w,S,j){return y===null||y.tag!==7?(y=ma(w,x.mode,S,j),y.return=x,y):(y=i(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sm(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ad:return w=Pu(y.type,y.key,y.props,null,x.mode,w),w.ref=Sl(x,null,y),w.return=x,w;case eo:return y=Nm(y,x.mode,w),y.return=x,y;case os:var S=y._init;return f(x,S(y._payload),w)}if(Fl(y)||yl(y))return y=ma(y,x.mode,w,null),y.return=x,y;zd(x,y)}return null}function h(x,y,w,S){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ad:return w.key===j?c(x,y,w,S):null;case eo:return w.key===j?d(x,y,w,S):null;case os:return j=w._init,h(x,y,j(w._payload),S)}if(Fl(w)||yl(w))return j!==null?null:u(x,y,w,S,null);zd(x,w)}return null}function p(x,y,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ad:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,j);case eo:return x=x.get(S.key===null?w:S.key)||null,d(y,x,S,j);case os:var I=S._init;return p(x,y,w,I(S._payload),j)}if(Fl(S)||yl(S))return x=x.get(w)||null,u(y,x,S,j,null);zd(y,S)}return null}function g(x,y,w,S){for(var j=null,I=null,E=y,C=y=0,T=null;E!==null&&C<w.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var K=h(x,E,w[C],S);if(K===null){E===null&&(E=T);break}e&&E&&K.alternate===null&&t(x,E),y=s(K,y,C),I===null?j=K:I.sibling=K,I=K,E=T}if(C===w.length)return r(x,E),ct&&Js(x,C),j;if(E===null){for(;C<w.length;C++)E=f(x,w[C],S),E!==null&&(y=s(E,y,C),I===null?j=E:I.sibling=E,I=E);return ct&&Js(x,C),j}for(E=n(x,E);C<w.length;C++)T=p(E,x,C,w[C],S),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),y=s(T,y,C),I===null?j=T:I.sibling=T,I=T);return e&&E.forEach(function(V){return t(x,V)}),ct&&Js(x,C),j}function m(x,y,w,S){var j=yl(w);if(typeof j!="function")throw Error(me(150));if(w=j.call(w),w==null)throw Error(me(151));for(var I=j=null,E=y,C=y=0,T=null,K=w.next();E!==null&&!K.done;C++,K=w.next()){E.index>C?(T=E,E=null):T=E.sibling;var V=h(x,E,K.value,S);if(V===null){E===null&&(E=T);break}e&&E&&V.alternate===null&&t(x,E),y=s(V,y,C),I===null?j=V:I.sibling=V,I=V,E=T}if(K.done)return r(x,E),ct&&Js(x,C),j;if(E===null){for(;!K.done;C++,K=w.next())K=f(x,K.value,S),K!==null&&(y=s(K,y,C),I===null?j=K:I.sibling=K,I=K);return ct&&Js(x,C),j}for(E=n(x,E);!K.done;C++,K=w.next())K=p(E,x,C,K.value,S),K!==null&&(e&&K.alternate!==null&&E.delete(K.key===null?C:K.key),y=s(K,y,C),I===null?j=K:I.sibling=K,I=K);return e&&E.forEach(function(P){return t(x,P)}),ct&&Js(x,C),j}function v(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===to&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ad:e:{for(var j=w.key,I=y;I!==null;){if(I.key===j){if(j=w.type,j===to){if(I.tag===7){r(x,I.sibling),y=i(I,w.props.children),y.return=x,x=y;break e}}else if(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===os&&$w(j)===I.type){r(x,I.sibling),y=i(I,w.props),y.ref=Sl(x,I,w),y.return=x,x=y;break e}r(x,I);break}else t(x,I);I=I.sibling}w.type===to?(y=ma(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Pu(w.type,w.key,w.props,null,x.mode,S),S.ref=Sl(x,y,w),S.return=x,x=S)}return o(x);case eo:e:{for(I=w.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Nm(w,x.mode,S),y.return=x,x=y}return o(x);case os:return I=w._init,v(x,y,I(w._payload),S)}if(Fl(w))return g(x,y,w,S);if(yl(w))return m(x,y,w,S);zd(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=Sm(w,x.mode,S),y.return=x,x=y),o(x)):r(x,y)}return v}var Oo=t4(!0),r4=t4(!1),nf=Ds(null),sf=null,co=null,sy=null;function ay(){sy=co=sf=null}function oy(e){var t=nf.current;it(nf),e._currentValue=t}function Gg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jo(e,t){sf=e,sy=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Or=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(sy!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(sf===null)throw Error(me(308));co=e,sf.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var ia=null;function ly(e){ia===null?ia=[e]:ia.push(e)}function n4(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ly(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ai(e,n)}function Ai(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ls=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ai(e,r)}return i=n.interleaved,i===null?(t.next=t,ly(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ai(e,r)}function Su(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qx(e,r)}}function Lw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function af(e,t,r,n){var i=e.updateQueue;ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=mt({},f,h);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Na|=o,e.lanes=o,e.memoizedState=f}}function Dw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var Zc={},Qn=Ds(Zc),xc=Ds(Zc),yc=Ds(Zc);function sa(e){if(e===Zc)throw Error(me(174));return e}function dy(e,t){switch(et(yc,t),et(xc,e),et(Qn,Zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eg(t,e)}it(Qn),et(Qn,t)}function Mo(){it(Qn),it(xc),it(yc)}function s4(e){sa(yc.current);var t=sa(Qn.current),r=Eg(t,e.type);t!==r&&(et(xc,e),et(Qn,r))}function uy(e){xc.current===e&&(it(Qn),it(xc))}var ht=Ds(0);function of(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xm=[];function fy(){for(var e=0;e<xm.length;e++)xm[e]._workInProgressVersionPrimary=null;xm.length=0}var Nu=Wi.ReactCurrentDispatcher,ym=Wi.ReactCurrentBatchConfig,Sa=0,pt=null,_t=null,Ht=null,lf=!1,Jl=!1,vc=0,w5=0;function ir(){throw Error(me(321))}function hy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function py(e,t,r,n,i,s){if(Sa=s,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nu.current=e===null||e.memoizedState===null?k5:I5,e=r(n,i),Jl){s=0;do{if(Jl=!1,vc=0,25<=s)throw Error(me(301));s+=1,Ht=_t=null,t.updateQueue=null,Nu.current=E5,e=r(n,i)}while(Jl)}if(Nu.current=cf,t=_t!==null&&_t.next!==null,Sa=0,Ht=_t=pt=null,lf=!1,t)throw Error(me(300));return e}function my(){var e=vc!==0;return vc=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?pt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function yn(){if(_t===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Ht===null?pt.memoizedState:Ht.next;if(t!==null)Ht=t,_t=e;else{if(e===null)throw Error(me(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ht===null?pt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function bc(e,t){return typeof t=="function"?t(e):t}function vm(e){var t=yn(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=_t,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((Sa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,pt.lanes|=u,Na|=u}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=l,Bn(n,t.memoizedState)||(Or=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,pt.lanes|=s,Na|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bm(e){var t=yn(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Bn(s,t.memoizedState)||(Or=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function a4(){}function o4(e,t){var r=pt,n=yn(),i=t(),s=!Bn(n.memoizedState,i);if(s&&(n.memoizedState=i,Or=!0),n=n.queue,gy(d4.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,wc(9,c4.bind(null,r,n,i,t),void 0,null),Kt===null)throw Error(me(349));Sa&30||l4(r,t,i)}return i}function l4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c4(e,t,r,n){t.value=r,t.getSnapshot=n,u4(t)&&f4(e)}function d4(e,t,r){return r(function(){u4(t)&&f4(e)})}function u4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function f4(e){var t=Ai(e,1);t!==null&&Mn(t,e,1,-1)}function Bw(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=N5.bind(null,pt,e),[t.memoizedState,e]}function wc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h4(){return yn().memoizedState}function ku(e,t,r,n){var i=Vn();pt.flags|=e,i.memoizedState=wc(1|t,r,void 0,n===void 0?null:n)}function Th(e,t,r,n){var i=yn();n=n===void 0?null:n;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,n!==null&&hy(n,o.deps)){i.memoizedState=wc(t,r,s,n);return}}pt.flags|=e,i.memoizedState=wc(1|t,r,s,n)}function Rw(e,t){return ku(8390656,8,e,t)}function gy(e,t){return Th(2048,8,e,t)}function p4(e,t){return Th(4,2,e,t)}function m4(e,t){return Th(4,4,e,t)}function g4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x4(e,t,r){return r=r!=null?r.concat([e]):null,Th(4,4,g4.bind(null,t,e),r)}function xy(){}function y4(e,t){var r=yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v4(e,t){var r=yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function b4(e,t,r){return Sa&21?(Bn(r,t)||(r=kk(),pt.lanes|=r,Na|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Or=!0),e.memoizedState=r)}function j5(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var n=ym.transition;ym.transition={};try{e(!1),t()}finally{He=r,ym.transition=n}}function w4(){return yn().memoizedState}function S5(e,t,r){var n=Es(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j4(e))S4(t,r);else if(r=n4(e,t,r,n),r!==null){var i=vr();Mn(r,e,n,i),N4(r,t,n)}}function N5(e,t,r){var n=Es(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j4(e))S4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,o)){var c=t.interleaved;c===null?(i.next=i,ly(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=n4(e,t,i,n),r!==null&&(i=vr(),Mn(r,e,n,i),N4(r,t,n))}}function j4(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function S4(e,t){Jl=lf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qx(e,r)}}var cf={readContext:xn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},k5={readContext:xn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:Rw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ku(4194308,4,g4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return ku(4,2,e,t)},useMemo:function(e,t){var r=Vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=S5.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Bw,useDebugValue:xy,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Bw(!1),t=e[0];return e=j5.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,i=Vn();if(ct){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),Kt===null)throw Error(me(349));Sa&30||l4(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Rw(d4.bind(null,n,s,e),[e]),n.flags|=2048,wc(9,c4.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Vn(),t=Kt.identifierPrefix;if(ct){var r=ji,n=wi;r=(n&~(1<<32-On(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I5={readContext:xn,useCallback:y4,useContext:xn,useEffect:gy,useImperativeHandle:x4,useInsertionEffect:p4,useLayoutEffect:m4,useMemo:v4,useReducer:vm,useRef:h4,useState:function(){return vm(bc)},useDebugValue:xy,useDeferredValue:function(e){var t=yn();return b4(t,_t.memoizedState,e)},useTransition:function(){var e=vm(bc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:a4,useSyncExternalStore:o4,useId:w4,unstable_isNewReconciler:!1},E5={readContext:xn,useCallback:y4,useContext:xn,useEffect:gy,useImperativeHandle:x4,useInsertionEffect:p4,useLayoutEffect:m4,useMemo:v4,useReducer:bm,useRef:h4,useState:function(){return bm(bc)},useDebugValue:xy,useDeferredValue:function(e){var t=yn();return _t===null?t.memoizedState=e:b4(t,_t.memoizedState,e)},useTransition:function(){var e=bm(bc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:a4,useSyncExternalStore:o4,useId:w4,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ah={isMounted:function(e){return(e=e._reactInternals)?La(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vr(),i=Es(e),s=Ii(n,i);s.payload=t,r!=null&&(s.callback=r),t=ks(e,s,i),t!==null&&(Mn(t,e,i,n),Su(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vr(),i=Es(e),s=Ii(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ks(e,s,i),t!==null&&(Mn(t,e,i,n),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vr(),n=Es(e),i=Ii(r,n);i.tag=2,t!=null&&(i.callback=t),t=ks(e,i,n),t!==null&&(Mn(t,e,n,r),Su(t,e,n))}};function Fw(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!hc(r,n)||!hc(i,s):!0}function k4(e,t,r){var n=!1,i=_s,s=t.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Dr(t)?wa:dr.current,n=t.contextTypes,s=(n=n!=null)?Ao(e,i):_s),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ah,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Uw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ah.enqueueReplaceState(t,t.state,null)}function Yg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},cy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Dr(t)?wa:dr.current,i.context=Ao(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(qg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ah.enqueueReplaceState(i,i.state,null),af(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $o(e,t){try{var r="",n=t;do r+=t_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C5=typeof WeakMap=="function"?WeakMap:Map;function I4(e,t,r){r=Ii(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){uf||(uf=!0,a0=n),Zg(e,t)},r}function E4(e,t,r){r=Ii(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Zg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Zg(e,t),typeof n!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function zw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=z5.bind(null,e,t,r),t.then(e,e))}function Ww(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ii(-1,1),t.tag=2,ks(r,t,1))),r.lanes|=1),e)}var P5=Wi.ReactCurrentOwner,Or=!1;function hr(e,t,r,n){t.child=e===null?r4(t,null,r,n):Oo(t,e.child,r,n)}function Kw(e,t,r,n,i){r=r.render;var s=t.ref;return jo(t,i),n=py(e,t,r,n,s,i),r=my(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_i(e,t,i)):(ct&&r&&ry(t),t.flags|=1,hr(e,t,n,i),t.child)}function Vw(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!ky(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,C4(e,t,s,n,i)):(e=Pu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(o,n)&&e.ref===t.ref)return _i(e,t,i)}return t.flags|=1,e=Cs(s,n),e.ref=t.ref,e.return=t,t.child=e}function C4(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(hc(s,n)&&e.ref===t.ref)if(Or=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Or=!0);else return t.lanes=e.lanes,_i(e,t,i)}return Xg(e,t,r,n,i)}function P4(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(fo,Hr),Hr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(fo,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,et(fo,Hr),Hr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,et(fo,Hr),Hr|=n;return hr(e,t,i,r),t.child}function T4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xg(e,t,r,n,i){var s=Dr(r)?wa:dr.current;return s=Ao(t,s),jo(t,i),r=py(e,t,r,n,s,i),n=my(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_i(e,t,i)):(ct&&n&&ry(t),t.flags|=1,hr(e,t,r,i),t.child)}function Gw(e,t,r,n,i){if(Dr(r)){var s=!0;ef(t)}else s=!1;if(jo(t,i),t.stateNode===null)Iu(e,t),k4(t,r,n),Yg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Dr(r)?wa:dr.current,d=Ao(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Uw(t,o,n,d),ls=!1;var h=t.memoizedState;o.state=h,af(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Lr.current||ls?(typeof u=="function"&&(qg(t,r,u,n),c=t.memoizedState),(l=ls||Fw(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,i4(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:kn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Dr(r)?wa:dr.current,c=Ao(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Uw(t,o,n,c),ls=!1,h=t.memoizedState,o.state=h,af(t,n,o,i);var g=t.memoizedState;l!==f||h!==g||Lr.current||ls?(typeof p=="function"&&(qg(t,r,p,n),g=t.memoizedState),(d=ls||Fw(t,r,d,n,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Jg(e,t,r,n,s,i)}function Jg(e,t,r,n,i,s){T4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&_w(t,r,!1),_i(e,t,s);n=t.stateNode,P5.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Oo(t,e.child,null,s),t.child=Oo(t,null,l,s)):hr(e,t,l,s),t.memoizedState=n.state,i&&_w(t,r,!0),t.child}function A4(e){var t=e.stateNode;t.pendingContext?Aw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Aw(e,t.context,!1),dy(e,t.containerInfo)}function qw(e,t,r,n,i){return _o(),iy(i),t.flags|=256,hr(e,t,r,n),t.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function e0(e){return{baseLanes:e,cachePool:null,transitions:null}}function _4(e,t,r){var n=t.pendingProps,i=ht.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(ht,i&1),e===null)return Vg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mh(o,n,0,null),e=ma(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=e0(r),t.memoizedState=Qg,e):yy(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return T5(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Cs(l,s):(s=ma(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?e0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Qg,n}return s=e.child,e=s.sibling,n=Cs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=Mh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wd(e,t,r,n){return n!==null&&iy(n),Oo(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function T5(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=wm(Error(me(422))),Wd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Mh({mode:"visible",children:n.children},i,0,null),s=ma(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Oo(t,e.child,null,o),t.child.memoizedState=e0(o),t.memoizedState=Qg,s);if(!(t.mode&1))return Wd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(me(419)),n=wm(s,n,void 0),Wd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Or||l){if(n=Kt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(e,i),Mn(n,e,i,-1))}return Ny(),n=wm(Error(me(421))),Wd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=W5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Gr=Ns(i.nextSibling),Zr=t,ct=!0,Cn=null,e!==null&&(dn[un++]=wi,dn[un++]=ji,dn[un++]=ja,wi=e.id,ji=e.overflow,ja=t),t=yy(t,n.children),t.flags|=4096,t)}function Yw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gg(e.return,t,r)}function jm(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function O4(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(hr(e,t,n.children,r),n=ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yw(e,r,t);else if(e.tag===19)Yw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(ht,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&of(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),jm(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&of(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jm(t,!0,r,null,s);break;case"together":jm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=Cs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function A5(e,t,r){switch(t.tag){case 3:A4(t),_o();break;case 5:s4(t);break;case 1:Dr(t.type)&&ef(t);break;case 4:dy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;et(nf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(ht,ht.current&1),t.flags|=128,null):r&t.child.childLanes?_4(e,t,r):(et(ht,ht.current&1),e=_i(e,t,r),e!==null?e.sibling:null);et(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return O4(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,P4(e,t,r)}return _i(e,t,r)}var M4,t0,$4,L4;M4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t0=function(){};$4=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,sa(Qn.current);var s=null;switch(r){case"input":i=Sg(e,i),n=Sg(e,n),s=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":i=Ig(e,i),n=Ig(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ju)}Cg(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ac.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ac.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&tt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};L4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _5(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Dr(t.type)&&Qu(),sr(t),null;case 3:return n=t.stateNode,Mo(),it(Lr),it(dr),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(c0(Cn),Cn=null))),t0(e,t),sr(t),null;case 5:uy(t);var i=sa(yc.current);if(r=t.type,e!==null&&t.stateNode!=null)$4(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return sr(t),null}if(e=sa(Qn.current),Ud(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yn]=t,n[gc]=s,e=(t.mode&1)!==0,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(i=0;i<zl.length;i++)tt(zl[i],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":iw(n,s),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},tt("invalid",n);break;case"textarea":aw(n,s),tt("invalid",n)}Cg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Fd(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Fd(n.textContent,l,e),i=["children",""+l]):ac.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tt("scroll",n)}switch(r){case"input":_d(n),sw(n,s,!0);break;case"textarea":_d(n),ow(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ju)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yn]=t,e[gc]=n,M4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pg(r,n),r){case"dialog":tt("cancel",e),tt("close",e),i=n;break;case"iframe":case"object":case"embed":tt("load",e),i=n;break;case"video":case"audio":for(i=0;i<zl.length;i++)tt(zl[i],e);i=n;break;case"source":tt("error",e),i=n;break;case"img":case"image":case"link":tt("error",e),tt("load",e),i=n;break;case"details":tt("toggle",e),i=n;break;case"input":iw(e,n),i=Sg(e,n),tt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),tt("invalid",e);break;case"textarea":aw(e,n),i=Ig(e,n),tt("invalid",e);break;default:i=n}Cg(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hk(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uk(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&oc(e,c):typeof c=="number"&&oc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ac.hasOwnProperty(s)?c!=null&&s==="onScroll"&&tt("scroll",e):c!=null&&zx(e,s,c,o))}switch(r){case"input":_d(e),sw(e,n,!1);break;case"textarea":_d(e),ow(e);break;case"option":n.value!=null&&e.setAttribute("value",""+As(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?yo(e,!!n.multiple,s,!1):n.defaultValue!=null&&yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ju)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)L4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=sa(yc.current),sa(Qn.current),Ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yn]=t,(s=n.nodeValue!==r)&&(e=Zr,e!==null))switch(e.tag){case 3:Fd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yn]=t,t.stateNode=n}return sr(t),null;case 13:if(it(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Gr!==null&&t.mode&1&&!(t.flags&128))e4(),_o(),t.flags|=98560,s=!1;else if(s=Ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Yn]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),s=!1}else Cn!==null&&(c0(Cn),Cn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Mt===0&&(Mt=3):Ny())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return Mo(),t0(e,t),e===null&&pc(t.stateNode.containerInfo),sr(t),null;case 10:return oy(t.type._context),sr(t),null;case 17:return Dr(t.type)&&Qu(),sr(t),null;case 19:if(it(ht),s=t.memoizedState,s===null)return sr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Nl(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=of(e),o!==null){for(t.flags|=128,Nl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(ht,ht.current&1|2),t.child}e=e.sibling}s.tail!==null&&wt()>Lo&&(t.flags|=128,n=!0,Nl(s,!1),t.lanes=4194304)}else{if(!n)if(e=of(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return sr(t),null}else 2*wt()-s.renderingStartTime>Lo&&r!==1073741824&&(t.flags|=128,n=!0,Nl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wt(),t.sibling=null,r=ht.current,et(ht,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return Sy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hr&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function O5(e,t){switch(ny(t),t.tag){case 1:return Dr(t.type)&&Qu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mo(),it(Lr),it(dr),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uy(t),null;case 13:if(it(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ht),null;case 4:return Mo(),null;case 10:return oy(t.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var Hd=!1,or=!1,M5=typeof WeakSet=="function"?WeakSet:Set,be=null;function uo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function r0(e,t,r){try{r()}catch(n){xt(e,t,n)}}var Zw=!1;function $5(e,t){if(Rg=Yu,e=Uk(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===i&&(l=o),h===s&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fg={focusedElem:e,selectionRange:r},Yu=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:kn(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){xt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=Zw,Zw=!1,g}function Ql(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&r0(t,r,s)}i=i.next}while(i!==n)}}function _h(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function n0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D4(e){var t=e.alternate;t!==null&&(e.alternate=null,D4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[gc],delete t[Wg],delete t[x5],delete t[y5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function B4(e){return e.tag===5||e.tag===3||e.tag===4}function Xw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ju));else if(n!==4&&(e=e.child,e!==null))for(i0(e,t,r),e=e.sibling;e!==null;)i0(e,t,r),e=e.sibling}function s0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(s0(e,t,r),e=e.sibling;e!==null;)s0(e,t,r),e=e.sibling}var Zt=null,En=!1;function rs(e,t,r){for(r=r.child;r!==null;)R4(e,t,r),r=r.sibling}function R4(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Nh,r)}catch{}switch(r.tag){case 5:or||uo(r,t);case 6:var n=Zt,i=En;Zt=null,rs(e,t,r),Zt=n,En=i,Zt!==null&&(En?(e=Zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(En?(e=Zt,r=r.stateNode,e.nodeType===8?mm(e.parentNode,r):e.nodeType===1&&mm(e,r),uc(e)):mm(Zt,r.stateNode));break;case 4:n=Zt,i=En,Zt=r.stateNode.containerInfo,En=!0,rs(e,t,r),Zt=n,En=i;break;case 0:case 11:case 14:case 15:if(!or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r0(r,t,o),i=i.next}while(i!==n)}rs(e,t,r);break;case 1:if(!or&&(uo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}rs(e,t,r);break;case 21:rs(e,t,r);break;case 22:r.mode&1?(or=(n=or)||r.memoizedState!==null,rs(e,t,r),or=n):rs(e,t,r);break;default:rs(e,t,r)}}function Jw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new M5),t.forEach(function(n){var i=H5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,En=!1;break e;case 3:Zt=l.stateNode.containerInfo,En=!0;break e;case 4:Zt=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(Zt===null)throw Error(me(160));R4(s,o,i),Zt=null,En=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){xt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F4(t,e),t=t.sibling}function F4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(t,e),Wn(e),n&4){try{Ql(3,e,e.return),_h(3,e)}catch(m){xt(e,e.return,m)}try{Ql(5,e,e.return)}catch(m){xt(e,e.return,m)}}break;case 1:jn(t,e),Wn(e),n&512&&r!==null&&uo(r,r.return);break;case 5:if(jn(t,e),Wn(e),n&512&&r!==null&&uo(r,r.return),e.flags&32){var i=e.stateNode;try{oc(i,"")}catch(m){xt(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&lk(i,s),Pg(l,o);var d=Pg(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?hk(i,f):u==="dangerouslySetInnerHTML"?uk(i,f):u==="children"?oc(i,f):zx(i,u,f,d)}switch(l){case"input":Ng(i,s);break;case"textarea":ck(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?yo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?yo(i,!!s.multiple,s.defaultValue,!0):yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[gc]=s}catch(m){xt(e,e.return,m)}}break;case 6:if(jn(t,e),Wn(e),n&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){xt(e,e.return,m)}}break;case 3:if(jn(t,e),Wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uc(t.containerInfo)}catch(m){xt(e,e.return,m)}break;case 4:jn(t,e),Wn(e);break;case 13:jn(t,e),Wn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wy=wt())),n&4&&Jw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(or=(d=or)||u,jn(t,e),or=d):jn(t,e),Wn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(f=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ql(4,h,h.return);break;case 1:uo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){xt(n,r,m)}}break;case 5:uo(h,h.return);break;case 22:if(h.memoizedState!==null){e1(f);continue}}p!==null?(p.return=h,be=p):e1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fk("display",o))}catch(m){xt(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){xt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(t,e),Wn(e),n&4&&Jw(e);break;case 21:break;default:jn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(B4(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oc(i,""),n.flags&=-33);var s=Xw(e);s0(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xw(e);i0(e,l,o);break;default:throw Error(me(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L5(e,t,r){be=e,U4(e)}function U4(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Hd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||or;l=Hd;var d=or;if(Hd=o,(or=c)&&!d)for(be=i;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?t1(i):c!==null?(c.return=o,be=c):t1(i);for(;s!==null;)be=s,U4(s),s=s.sibling;be=i,Hd=l,or=d}Qw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):Qw(e)}}function Qw(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||_h(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!or)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:kn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Dw(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}or||t.flags&512&&n0(t)}catch(h){xt(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function e1(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function t1(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_h(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){xt(t,i,c)}}var s=t.return;try{n0(t)}catch(c){xt(t,s,c)}break;case 5:var o=t.return;try{n0(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var D5=Math.ceil,df=Wi.ReactCurrentDispatcher,vy=Wi.ReactCurrentOwner,gn=Wi.ReactCurrentBatchConfig,De=0,Kt=null,Nt=null,er=0,Hr=0,fo=Ds(0),Mt=0,jc=null,Na=0,Oh=0,by=0,ec=null,Tr=null,wy=0,Lo=1/0,pi=null,uf=!1,a0=null,Is=null,Kd=!1,xs=null,ff=0,tc=0,o0=null,Eu=-1,Cu=0;function vr(){return De&6?wt():Eu!==-1?Eu:Eu=wt()}function Es(e){return e.mode&1?De&2&&er!==0?er&-er:b5.transition!==null?(Cu===0&&(Cu=kk()),Cu):(e=He,e!==0||(e=window.event,e=e===void 0?16:_k(e.type)),e):1}function Mn(e,t,r,n){if(50<tc)throw tc=0,o0=null,Error(me(185));Gc(e,r,n),(!(De&2)||e!==Kt)&&(e===Kt&&(!(De&2)&&(Oh|=r),Mt===4&&hs(e,er)),Br(e,n),r===1&&De===0&&!(t.mode&1)&&(Lo=wt()+500,Ph&&Bs()))}function Br(e,t){var r=e.callbackNode;b_(e,t);var n=qu(e,e===Kt?er:0);if(n===0)r!==null&&dw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dw(r),t===1)e.tag===0?v5(r1.bind(null,e)):Xk(r1.bind(null,e)),m5(function(){!(De&6)&&Bs()}),r=null;else{switch(Ik(n)){case 1:r=Gx;break;case 4:r=Sk;break;case 16:r=Gu;break;case 536870912:r=Nk;break;default:r=Gu}r=Y4(r,z4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function z4(e,t){if(Eu=-1,Cu=0,De&6)throw Error(me(327));var r=e.callbackNode;if(So()&&e.callbackNode!==r)return null;var n=qu(e,e===Kt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hf(e,n);else{t=n;var i=De;De|=2;var s=H4();(Kt!==e||er!==t)&&(pi=null,Lo=wt()+500,pa(e,t));do try{F5();break}catch(l){W4(e,l)}while(!0);ay(),df.current=s,De=i,Nt!==null?t=0:(Kt=null,er=0,t=Mt)}if(t!==0){if(t===2&&(i=Mg(e),i!==0&&(n=i,t=l0(e,i))),t===1)throw r=jc,pa(e,0),hs(e,n),Br(e,wt()),r;if(t===6)hs(e,n);else{if(i=e.current.alternate,!(n&30)&&!B5(i)&&(t=hf(e,n),t===2&&(s=Mg(e),s!==0&&(n=s,t=l0(e,s))),t===1))throw r=jc,pa(e,0),hs(e,n),Br(e,wt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:Qs(e,Tr,pi);break;case 3:if(hs(e,n),(n&130023424)===n&&(t=wy+500-wt(),10<t)){if(qu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zg(Qs.bind(null,e,Tr,pi),t);break}Qs(e,Tr,pi);break;case 4:if(hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-On(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D5(n/1960))-n,10<n){e.timeoutHandle=zg(Qs.bind(null,e,Tr,pi),n);break}Qs(e,Tr,pi);break;case 5:Qs(e,Tr,pi);break;default:throw Error(me(329))}}}return Br(e,wt()),e.callbackNode===r?z4.bind(null,e):null}function l0(e,t){var r=ec;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=hf(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&c0(t)),e}function c0(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function B5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~by,t&=~Oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-On(t),n=1<<r;e[r]=-1,t&=~n}}function r1(e){if(De&6)throw Error(me(327));So();var t=qu(e,0);if(!(t&1))return Br(e,wt()),null;var r=hf(e,t);if(e.tag!==0&&r===2){var n=Mg(e);n!==0&&(t=n,r=l0(e,n))}if(r===1)throw r=jc,pa(e,0),hs(e,t),Br(e,wt()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,Tr,pi),Br(e,wt()),null}function jy(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Lo=wt()+500,Ph&&Bs())}}function ka(e){xs!==null&&xs.tag===0&&!(De&6)&&So();var t=De;De|=1;var r=gn.transition,n=He;try{if(gn.transition=null,He=1,e)return e()}finally{He=n,gn.transition=r,De=t,!(De&6)&&Bs()}}function Sy(){Hr=fo.current,it(fo)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p5(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qu();break;case 3:Mo(),it(Lr),it(dr),fy();break;case 5:uy(n);break;case 4:Mo();break;case 13:it(ht);break;case 19:it(ht);break;case 10:oy(n.type._context);break;case 22:case 23:Sy()}r=r.return}if(Kt=e,Nt=e=Cs(e.current,null),er=Hr=t,Mt=0,jc=null,by=Oh=Na=0,Tr=ec=null,ia!==null){for(t=0;t<ia.length;t++)if(r=ia[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ia=null}return e}function W4(e,t){do{var r=Nt;try{if(ay(),Nu.current=cf,lf){for(var n=pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lf=!1}if(Sa=0,Ht=_t=pt=null,Jl=!1,vc=0,vy.current=null,r===null||r.return===null){Mt=1,jc=t,Nt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ww(o);if(p!==null){p.flags&=-257,Hw(p,o,l,s,t),p.mode&1&&zw(s,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){zw(s,d,t),Ny();break e}c=Error(me(426))}}else if(ct&&l.mode&1){var v=Ww(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Hw(v,o,l,s,t),iy($o(c,l));break e}}s=c=$o(c,l),Mt!==4&&(Mt=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=I4(s,c,t);Lw(s,x);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Is===null||!Is.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=E4(s,l,t);Lw(s,S);break e}}s=s.return}while(s!==null)}V4(r)}catch(j){t=j,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function H4(){var e=df.current;return df.current=cf,e===null?cf:e}function Ny(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Kt===null||!(Na&268435455)&&!(Oh&268435455)||hs(Kt,er)}function hf(e,t){var r=De;De|=2;var n=H4();(Kt!==e||er!==t)&&(pi=null,pa(e,t));do try{R5();break}catch(i){W4(e,i)}while(!0);if(ay(),De=r,df.current=n,Nt!==null)throw Error(me(261));return Kt=null,er=0,Mt}function R5(){for(;Nt!==null;)K4(Nt)}function F5(){for(;Nt!==null&&!u_();)K4(Nt)}function K4(e){var t=q4(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?V4(e):Nt=t,vy.current=null}function V4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=O5(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Nt=null;return}}else if(r=_5(r,t,Hr),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Qs(e,t,r){var n=He,i=gn.transition;try{gn.transition=null,He=1,U5(e,t,r,n)}finally{gn.transition=i,He=n}return null}function U5(e,t,r,n){do So();while(xs!==null);if(De&6)throw Error(me(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(w_(e,s),e===Kt&&(Nt=Kt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kd||(Kd=!0,Y4(Gu,function(){return So(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=He;He=1;var l=De;De|=4,vy.current=null,$5(e,r),F4(r,e),o5(Fg),Yu=!!Rg,Fg=Rg=null,e.current=r,L5(r),f_(),De=l,He=o,gn.transition=s}else e.current=r;if(Kd&&(Kd=!1,xs=e,ff=i),s=e.pendingLanes,s===0&&(Is=null),m_(r.stateNode),Br(e,wt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(uf)throw uf=!1,e=a0,a0=null,e;return ff&1&&e.tag!==0&&So(),s=e.pendingLanes,s&1?e===o0?tc++:(tc=0,o0=e):tc=0,Bs(),null}function So(){if(xs!==null){var e=Ik(ff),t=gn.transition,r=He;try{if(gn.transition=null,He=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,ff=0,De&6)throw Error(me(331));var i=De;for(De|=4,be=e.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Ql(8,u,s)}var f=u.child;if(f!==null)f.return=u,be=f;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(D4(u),u===d){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ql(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,be=x;break e}be=s.return}}var y=e.current;for(be=y;be!==null;){o=be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,be=w;else e:for(o=y;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_h(9,l)}}catch(j){xt(l,l.return,j)}if(l===o){be=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,be=S;break e}be=l.return}}if(De=i,Bs(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Nh,e)}catch{}n=!0}return n}finally{He=r,gn.transition=t}}return!1}function n1(e,t,r){t=$o(r,t),t=I4(e,t,1),e=ks(e,t,1),t=vr(),e!==null&&(Gc(e,1,t),Br(e,t))}function xt(e,t,r){if(e.tag===3)n1(e,e,r);else for(;t!==null;){if(t.tag===3){n1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Is===null||!Is.has(n))){e=$o(r,e),e=E4(t,e,1),t=ks(t,e,1),e=vr(),t!==null&&(Gc(t,1,e),Br(t,e));break}}t=t.return}}function z5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vr(),e.pingedLanes|=e.suspendedLanes&r,Kt===e&&(er&r)===r&&(Mt===4||Mt===3&&(er&130023424)===er&&500>wt()-wy?pa(e,0):by|=r),Br(e,t)}function G4(e,t){t===0&&(e.mode&1?(t=$d,$d<<=1,!($d&130023424)&&($d=4194304)):t=1);var r=vr();e=Ai(e,t),e!==null&&(Gc(e,t,r),Br(e,r))}function W5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G4(e,r)}function H5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),G4(e,r)}var q4;q4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)Or=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Or=!1,A5(e,t,r);Or=!!(e.flags&131072)}else Or=!1,ct&&t.flags&1048576&&Jk(t,rf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Iu(e,t),e=t.pendingProps;var i=Ao(t,dr.current);jo(t,r),i=py(null,t,n,e,i,r);var s=my();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(n)?(s=!0,ef(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cy(t),i.updater=Ah,t.stateNode=i,i._reactInternals=t,Yg(t,n,e,r),t=Jg(null,t,n,!0,s,r)):(t.tag=0,ct&&s&&ry(t),hr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Iu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=V5(n),e=kn(n,e),i){case 0:t=Xg(null,t,n,e,r);break e;case 1:t=Gw(null,t,n,e,r);break e;case 11:t=Kw(null,t,n,e,r);break e;case 14:t=Vw(null,t,n,kn(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kn(n,i),Xg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kn(n,i),Gw(e,t,n,i,r);case 3:e:{if(A4(t),e===null)throw Error(me(387));n=t.pendingProps,s=t.memoizedState,i=s.element,i4(e,t),af(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=$o(Error(me(423)),t),t=qw(e,t,n,r,i);break e}else if(n!==i){i=$o(Error(me(424)),t),t=qw(e,t,n,r,i);break e}else for(Gr=Ns(t.stateNode.containerInfo.firstChild),Zr=t,ct=!0,Cn=null,r=r4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),n===i){t=_i(e,t,r);break e}hr(e,t,n,r)}t=t.child}return t;case 5:return s4(t),e===null&&Vg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ug(n,i)?o=null:s!==null&&Ug(n,s)&&(t.flags|=32),T4(e,t),hr(e,t,o,r),t.child;case 6:return e===null&&Vg(t),null;case 13:return _4(e,t,r);case 4:return dy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):hr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kn(n,i),Kw(e,t,n,i,r);case 7:return hr(e,t,t.pendingProps,r),t.child;case 8:return hr(e,t,t.pendingProps.children,r),t.child;case 12:return hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,et(nf,n._currentValue),n._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!Lr.current){t=_i(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ii(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Gg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Gg(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jo(t,r),i=xn(i),n=n(i),t.flags|=1,hr(e,t,n,r),t.child;case 14:return n=t.type,i=kn(n,t.pendingProps),i=kn(n.type,i),Vw(e,t,n,i,r);case 15:return C4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kn(n,i),Iu(e,t),t.tag=1,Dr(n)?(e=!0,ef(t)):e=!1,jo(t,r),k4(t,n,i),Yg(t,n,i,r),Jg(null,t,n,!0,e,r);case 19:return O4(e,t,r);case 22:return P4(e,t,r)}throw Error(me(156,t.tag))};function Y4(e,t){return jk(e,t)}function K5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,n){return new K5(e,t,r,n)}function ky(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V5(e){if(typeof e=="function")return ky(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hx)return 11;if(e===Kx)return 14}return 2}function Cs(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pu(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")ky(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case to:return ma(r.children,i,s,t);case Wx:o=8,i|=8;break;case vg:return e=fn(12,r,t,i|2),e.elementType=vg,e.lanes=s,e;case bg:return e=fn(13,r,t,i),e.elementType=bg,e.lanes=s,e;case wg:return e=fn(19,r,t,i),e.elementType=wg,e.lanes=s,e;case sk:return Mh(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nk:o=10;break e;case ik:o=9;break e;case Hx:o=11;break e;case Kx:o=14;break e;case os:o=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=fn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ma(e,t,r,n){return e=fn(7,e,n,t),e.lanes=r,e}function Mh(e,t,r,n){return e=fn(22,e,n,t),e.elementType=sk,e.lanes=r,e.stateNode={isHidden:!1},e}function Sm(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function Nm(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iy(e,t,r,n,i,s,o,l,c){return e=new G5(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(s),e}function q5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Z4(e){if(!e)return _s;e=e._reactInternals;e:{if(La(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(Dr(r))return Zk(e,r,t)}return t}function X4(e,t,r,n,i,s,o,l,c){return e=Iy(r,n,!0,e,i,s,o,l,c),e.context=Z4(null),r=e.current,n=vr(),i=Es(r),s=Ii(n,i),s.callback=t??null,ks(r,s,i),e.current.lanes=i,Gc(e,i,n),Br(e,n),e}function $h(e,t,r,n){var i=t.current,s=vr(),o=Es(i);return r=Z4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ii(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ks(i,t,o),e!==null&&(Mn(e,i,o,s),Su(e,i,o)),o}function pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ey(e,t){i1(e,t),(e=e.alternate)&&i1(e,t)}function Y5(){return null}var J4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cy(e){this._internalRoot=e}Lh.prototype.render=Cy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));$h(e,t,null,null)};Lh.prototype.unmount=Cy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ka(function(){$h(null,e,null,null)}),t[Ti]=null}};function Lh(e){this._internalRoot=e}Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fs.length&&t!==0&&t<fs[r].priority;r++);fs.splice(r,0,e),r===0&&Ak(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s1(){}function Z5(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=pf(o);s.call(d)}}var o=X4(t,n,e,0,null,!1,!1,"",s1);return e._reactRootContainer=o,e[Ti]=o.current,pc(e.nodeType===8?e.parentNode:e),ka(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=pf(c);l.call(d)}}var c=Iy(e,0,!1,null,null,!1,!1,"",s1);return e._reactRootContainer=c,e[Ti]=c.current,pc(e.nodeType===8?e.parentNode:e),ka(function(){$h(t,c,r,n)}),c}function Bh(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=pf(o);l.call(c)}}$h(t,o,e,i)}else o=Z5(r,t,e,i,n);return pf(o)}Ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ul(t.pendingLanes);r!==0&&(qx(t,r|1),Br(t,wt()),!(De&6)&&(Lo=wt()+500,Bs()))}break;case 13:ka(function(){var n=Ai(e,1);if(n!==null){var i=vr();Mn(n,e,1,i)}}),Ey(e,1)}};Yx=function(e){if(e.tag===13){var t=Ai(e,134217728);if(t!==null){var r=vr();Mn(t,e,134217728,r)}Ey(e,134217728)}};Ck=function(e){if(e.tag===13){var t=Es(e),r=Ai(e,t);if(r!==null){var n=vr();Mn(r,e,t,n)}Ey(e,t)}};Pk=function(){return He};Tk=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};Ag=function(e,t,r){switch(t){case"input":if(Ng(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ch(n);if(!i)throw Error(me(90));ok(n),Ng(n,i)}}}break;case"textarea":ck(e,r);break;case"select":t=r.value,t!=null&&yo(e,!!r.multiple,t,!1)}};gk=jy;xk=ka;var X5={usingClientEntryPoint:!1,Events:[Yc,so,Ch,pk,mk,jy]},kl={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J5={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bk(e),e===null?null:e.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||Y5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Nh=Vd.inject(J5),Jn=Vd}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(me(200));return q5(e,t,null,r)};en.createRoot=function(e,t){if(!Py(e))throw Error(me(299));var r=!1,n="",i=J4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Iy(e,1,!1,null,null,r,!1,n,i),e[Ti]=t.current,pc(e.nodeType===8?e.parentNode:e),new Cy(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=bk(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return ka(e)};en.hydrate=function(e,t,r){if(!Dh(t))throw Error(me(200));return Bh(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!Py(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=J4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=X4(t,null,e,1,r??null,i,!1,s,o),e[Ti]=t.current,pc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Lh(t)};en.render=function(e,t,r){if(!Dh(t))throw Error(me(200));return Bh(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!Dh(e))throw Error(me(40));return e._reactRootContainer?(ka(function(){Bh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0):!1};en.unstable_batchedUpdates=jy;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dh(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Bh(e,t,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function Q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q4)}catch(e){console.error(e)}}Q4(),QN.exports=en;var Rh=QN.exports,a1=Rh;xg.createRoot=a1.createRoot,xg.hydrateRoot=a1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const o1="popstate";function Q5(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return d0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:eI(i)}return tO(t,r,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ty(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eO(){return Math.random().toString(36).substr(2,8)}function l1(e,t){return{usr:e.state,key:e.key,idx:t}}function d0(e,t,r,n){return r===void 0&&(r=null),Sc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tl(t):t,{state:r,key:t&&t.key||n||eO()})}function eI(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tO(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=ys.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Sc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ys.Pop;let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=ys.Push;let y=d0(m.location,v,x);d=u()+1;let w=l1(y,d),S=m.createHref(y);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&c&&c({action:l,location:m.location,delta:1})}function p(v,x){l=ys.Replace;let y=d0(m.location,v,x);d=u();let w=l1(y,d),S=m.createHref(y);o.replaceState(w,"",S),s&&c&&c({action:l,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:eI(v);return y=y.replace(/ $/,"%20"),kt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(o1,f),c=v,()=>{i.removeEventListener(o1,f),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var c1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c1||(c1={}));function rO(e,t,r){return r===void 0&&(r="/"),nO(e,t,r)}function nO(e,t,r,n){let i=typeof t=="string"?tl(t):t,s=nI(i.pathname||"/",r);if(s==null)return null;let o=tI(e);iO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=gO(s);l=hO(o[c],d)}return l}function tI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(kt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ga([n,c.relativePath]),u=r.concat(c);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),tI(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:uO(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of rI(s.path))i(s,o,c)}),t}function rI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=rI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sO=/^:[\w-]+$/,aO=3,oO=2,lO=1,cO=10,dO=-2,d1=e=>e==="*";function uO(e,t){let r=e.split("/"),n=r.length;return r.some(d1)&&(n+=dO),t&&(n+=oO),r.filter(i=>!d1(i)).reduce((i,s)=>i+(sO.test(s)?aO:s===""?lO:cO),n)}function fO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function hO(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=pO({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ga([s,f.pathname]),pathnameBase:wO(ga([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ga([s,f.pathnameBase]))}return o}function pO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mO(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=l[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function mO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ty(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function gO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ty(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nI(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const xO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yO=e=>xO.test(e);function vO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?tl(e):e,s;if(r)if(yO(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ty(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=u1(r.substring(1),"/"):s=u1(r,t)}else s=t;return{pathname:s,search:jO(n),hash:SO(i)}}function u1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function km(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iI(e,t){let r=bO(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sI(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=tl(e):(i=Sc({},e),kt(!i.pathname||!i.pathname.includes("?"),km("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),km("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),km("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=vO(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),wO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aI=["post","put","patch","delete"];new Set(aI);const kO=["get",...aI];new Set(kO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}const Ay=b.createContext(null),IO=b.createContext(null),Xc=b.createContext(null),Fh=b.createContext(null),Rs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),oI=b.createContext(null);function Jc(){return b.useContext(Fh)!=null}function Qc(){return Jc()||kt(!1),b.useContext(Fh).location}function lI(e){b.useContext(Xc).static||b.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=b.useContext(Rs);return e?FO():EO()}function EO(){Jc()||kt(!1);let e=b.useContext(Ay),{basename:t,future:r,navigator:n}=b.useContext(Xc),{matches:i}=b.useContext(Rs),{pathname:s}=Qc(),o=JSON.stringify(iI(i,r.v7_relativeSplatPath)),l=b.useRef(!1);return lI(()=>{l.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=sI(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ga([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,s,e])}function CO(){let{matches:e}=b.useContext(Rs),t=e[e.length-1];return t?t.params:{}}function PO(e,t){return TO(e,t)}function TO(e,t,r,n){Jc()||kt(!1);let{navigator:i}=b.useContext(Xc),{matches:s}=b.useContext(Rs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Qc(),u;if(t){var f;let v=typeof t=="string"?tl(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||kt(!1),u=v}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=rO(e,{pathname:p}),m=$O(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ga([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ga([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?b.createElement(Fh.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ys.Pop}},m):m}function AO(){let e=RO(),t=NO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,null)}const _O=b.createElement(AO,null);class OO extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Rs.Provider,{value:this.props.routeContext},b.createElement(oI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MO(e){let{routeContext:t,match:r,children:n}=e,i=b.useContext(Ay);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Rs.Provider,{value:t},n)}function $O(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||kt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||_O,c&&(d<0&&h===0?(UO("route-fallback"),g=!0,v=null):d===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,b.createElement(MO,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(OO,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var cI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cI||{}),dI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dI||{});function LO(e){let t=b.useContext(Ay);return t||kt(!1),t}function DO(e){let t=b.useContext(IO);return t||kt(!1),t}function BO(e){let t=b.useContext(Rs);return t||kt(!1),t}function uI(e){let t=BO(),r=t.matches[t.matches.length-1];return r.route.id||kt(!1),r.route.id}function RO(){var e;let t=b.useContext(oI),r=DO(),n=uI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function FO(){let{router:e}=LO(cI.UseNavigateStable),t=uI(dI.UseNavigateStable),r=b.useRef(!1);return lI(()=>{r.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nc({fromRouteId:t},s)))},[e,t])}const f1={};function UO(e,t,r){f1[e]||(f1[e]=!0)}function zO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WO(e){let{to:t,replace:r,state:n,relative:i}=e;Jc()||kt(!1);let{future:s,static:o}=b.useContext(Xc),{matches:l}=b.useContext(Rs),{pathname:c}=Qc(),d=vt(),u=sI(t,iI(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:i}),[d,f,i,r,n]),null}function ot(e){kt(!1)}function HO(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ys.Pop,navigator:s,static:o=!1,future:l}=e;Jc()&&kt(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:s,static:o,future:Nc({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=tl(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=b.useMemo(()=>{let v=nI(u,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[c,u,f,h,p,g,i]);return m==null?null:b.createElement(Xc.Provider,{value:d},b.createElement(Fh.Provider,{children:r,value:m}))}function KO(e){let{children:t,location:r}=e;return PO(u0(t),r)}new Promise(()=>{});function u0(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let s=[...t,i];if(n.type===b.Fragment){r.push.apply(r,u0(n.props.children,s));return}n.type!==ot&&kt(!1),!n.props.index||!n.props.children||kt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=u0(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const VO="6";try{window.__reactRouterVersion=VO}catch{}const GO="startTransition",h1=XN[GO];function qO(e){let{basename:t,children:r,future:n,window:i}=e,s=b.useRef();s.current==null&&(s.current=Q5({window:i,v5Compat:!0}));let o=s.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=b.useCallback(f=>{d&&h1?h1(()=>c(f)):c(f)},[c,d]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>zO(n),[n]),b.createElement(HO,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var p1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p1||(p1={}));var m1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(m1||(m1={}));const YO="modulepreload",ZO=function(e){return"/"+e},g1={},Jt=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=ZO(c),c in g1)return;g1[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":YO,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Oi=()=>typeof window>"u"?!1:typeof window.unisat<"u",Mi=()=>typeof window>"u"?!1:typeof window.BitcoinProvider<"u",Tu=(e=3e3)=>new Promise(t=>{if(Mi()){t(!0);return}const r=Date.now(),n=setInterval(()=>{Mi()?(clearInterval(n),t(!0)):Date.now()-r>e&&(clearInterval(n),t(!1))},100)}),f0=e=>e.startsWith("bc1p")?"Taproot":e.startsWith("bc1q")?"Native SegWit":e.startsWith("3")?"Nested SegWit":e.startsWith("1")?"Legacy":"Unbekannt",fI=async()=>{if(!Oi())throw new Error("UniSat Wallet is not installed. Please install the UniSat browser extension.");try{if(!window.unisat||typeof window.unisat.requestAccounts!="function")throw new Error("UniSat Wallet is detected but the connection API is not available. This may be due to multiple wallet extensions interfering with each other. Try disabling other Bitcoin wallet extensions and reload the page.");const e=await window.unisat.requestAccounts();if(!e||e.length===0)throw new Error("No accounts returned. Please unlock your UniSat Wallet and try again.");const t=e[0],r=f0(t);if(console.log(`[UniSat]  Verbunden mit ${r}-Adresse: ${t}`),await window.unisat.getNetwork()!=="livenet")throw new Error("Please switch to Bitcoin Mainnet in your UniSat Wallet.");const i=[];if(t.startsWith("bc1p"))console.log("[UniSat]  Taproot-Adresse aktiv - optimal fr Ordinals!"),i.push({address:t,purpose:"ordinals"});else if(console.warn(`[UniSat]  ${r}-Adresse verbunden`),console.warn("[UniSat]  Fr Inscriptions wird Taproot bentigt!"),i.push({address:t,purpose:"payment"}),confirm(` UniSat Wallet Setup - WICHTIG!

 Aktuell verbunden: ${r}-Adresse
   ${t}

 Fr Ordinals-Inscriptions wird eine Taproot-Adresse (bc1p...) bentigt.

 SETUP-ANLEITUNG:
1. Klicke "OK" um fortzufahren
2. ffne UniSat Wallet  Settings  Address Type
3. Whle "Taproot (P2TR)"
4. Akzeptiere die Verbindung erneut
5. Taproot-Adresse wird gespeichert 

 WICHTIG FR PAYMENTS:
Danach WECHSLE ZURCK zur ${r}-Adresse!
 Payment muss von der Adresse kommen, wo dein BTC ist
 Inscription geht automatisch an Taproot 

Mchtest du jetzt die Taproot-Adresse hinzufgen?`))try{console.log("[UniSat]  Warte auf Taproot-Adresse..."),console.log("[UniSat]  Bitte wechsle jetzt im UniSat Wallet zu Taproot!");const l=(await window.unisat.requestAccounts())[0];if(l&&l.startsWith("bc1p"))console.log(`[UniSat]  Taproot-Adresse erhalten: ${l}`),i.push({address:l,purpose:"ordinals"}),localStorage.setItem("unisat_taproot_address",l),alert(` Perfekt!

Taproot-Adresse gespeichert:
${l}

Du kannst jetzt im UniSat Wallet zurck zu ${r} wechseln.

 Payments: ${r}-Adresse
 Inscriptions: Taproot-Adresse`);else{console.warn(`[UniSat]  Keine Taproot-Adresse erhalten: ${l}`);const c=localStorage.getItem("unisat_taproot_address");c&&c.startsWith("bc1p")?(console.log(`[UniSat]  Verwende gespeicherte Taproot-Adresse: ${c}`),i.push({address:c,purpose:"ordinals"})):console.warn(`[UniSat]  Keine Taproot-Adresse verfgbar - Inscriptions werden an ${r} gesendet!`)}}catch(o){console.error("[UniSat]  Fehler beim Abrufen der Taproot-Adresse:",o);const l=localStorage.getItem("unisat_taproot_address");l&&l.startsWith("bc1p")&&(console.log(`[UniSat]  Verwende gespeicherte Taproot-Adresse: ${l}`),i.push({address:l,purpose:"ordinals"}))}else{const o=localStorage.getItem("unisat_taproot_address");o&&o.startsWith("bc1p")?(console.log(`[UniSat]  Verwende zuvor gespeicherte Taproot-Adresse: ${o}`),i.push({address:o,purpose:"ordinals"})):console.warn(`[UniSat]  Keine Taproot-Adresse - Inscriptions werden an ${r} gesendet!`)}return console.log(`[UniSat]  Setup abgeschlossen mit ${i.length} Adresse(n)`),i.forEach(s=>{console.log(`   ${s.purpose==="ordinals"?"":""} ${s.purpose||"default"}: ${s.address}`)}),i}catch(e){throw e.message&&e.message.includes("User rejected")?new Error("Connection rejected. Please approve the connection request in your wallet."):e.message&&e.message.includes("intercept")?new Error("Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (except UniSat) and reload the page."):new Error(e.message||"Error connecting to UniSat Wallet. Make sure the extension is unlocked and try again.")}},hI=async()=>{var e,t,r;if(!Mi())throw new Error("Xverse Wallet is not installed. Please install the Xverse browser extension.");try{console.log("Attempting Xverse connection using sats-connect...");let n;try{n=await Jt(()=>import("./index-9WQn33B3.js"),[])}catch(s){const o=s.message||String(s);throw new Error(`Failed to load sats-connect: ${o}. Please ensure sats-connect is installed: npm install sats-connect`)}if(!n||!n.request)throw new Error("sats-connect konnte nicht geladen werden. Bitte stellen Sie sicher, dass sats-connect installiert ist (npm install sats-connect).");const i=await n.request("wallet_connect",null);if(console.log("Xverse wallet_connect response:",i),i.status==="success"){const s=((e=i.result)==null?void 0:e.addresses)||[];if(!s||s.length===0)throw new Error("No addresses returned from Xverse Wallet");const o=[],l=s.find(d=>d.purpose==="ordinals"),c=s.find(d=>d.purpose==="payment");if(l&&l.address&&(o.push({address:l.address,publicKey:l.publicKey,purpose:"ordinals"}),console.log("[Xverse]  Ordinals-Adresse:",l.address)),c&&c.address&&(o.push({address:c.address,publicKey:c.publicKey,purpose:"payment"}),console.log("[Xverse]  Payment-Adresse:",c.address)),o.length===0)throw new Error("No valid addresses found. Please ensure your Xverse Wallet has Ordinals addresses set up.");return console.log("[Xverse]  Verbunden mit",o.length,"Adresse(n)"),console.log("[Xverse]  Payment wird automatisch von Payment-Adresse gezogen"),console.log("[Xverse]  Inscriptions gehen an Ordinals-Adresse (Taproot)"),o}else throw((t=i.error)==null?void 0:t.code)==="USER_REJECTION"?new Error("Connection cancelled by user. Please approve the connection request in your wallet popup."):new Error(((r=i.error)==null?void 0:r.message)||"Failed to connect to Xverse Wallet")}catch(n){throw console.error("Xverse connection error:",n),n.message&&(n.message.includes("User rejected")||n.message.includes("rejected")||n.message.includes("USER_REJECTION"))?new Error("Connection rejected. Please approve the connection request in your wallet popup."):n.message&&n.message.includes("intercept")?new Error("Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (except Xverse) and reload the page."):new Error(n.message||"Error connecting to Xverse Wallet. Make sure the extension is unlocked and try again.")}},pI=async()=>{if(!Oi())return[];try{return(await window.unisat.getAccounts()).map(t=>({address:t}))}catch{return[]}},kc=async(e,t)=>{var n,i,s,o,l;if(!Oi())throw new Error("UniSat Wallet nicht gefunden");if(!window.unisat)throw new Error("UniSat Wallet ist nicht verfgbar. Bitte stellen Sie sicher, dass die UniSat Extension installiert und aktiviert ist.");const r=Object.keys(window.unisat).filter(c=>typeof window.unisat[c]=="function");if(console.log("[UniSat] Verfgbare Methoden:",r),console.log("[UniSat] sendBitcoin vorhanden:",typeof window.unisat.sendBitcoin),typeof window.unisat.sendBitcoin!="function")throw console.error("[UniSat]  sendBitcoin ist nicht verfgbar! Verfgbare Methoden:",r),new Error("UniSat sendBitcoin Funktion ist nicht verfgbar. Bitte aktualisieren Sie Ihre UniSat Extension auf die neueste Version.");try{const c=Math.round(t*1e8);if(console.log("[UniSat] Sending Bitcoin:",{to:e,amount:t,amountInSats:c}),c<546)throw new Error(`Amount too small. Minimum is 546 sats (Bitcoin dust limit). You tried to send ${c} sats.`);if(!e||typeof e!="string"||e.length<26)throw new Error(`Invalid address: ${e}`);if(!Number.isInteger(c)||c<=0||isNaN(c))throw new Error(`Invalid satoshi amount: ${c}. Must be a positive integer. Original amount: ${t} BTC`);try{const f=await window.unisat.getBitcoinUtxos();if(!Array.isArray(f))console.warn("[UniSat]  getBitcoinUtxos() returned unexpected format:",typeof f);else{const h=f.filter(p=>!p.inscriptions||p.inscriptions.length===0).reduce((p,g)=>{const m=g.satoshi||g.satoshis||g.value||0;return p+(typeof m=="number"?m:0)},0);!isNaN(h)&&h>0?(console.log(`[UniSat]  Total balance across all addresses: ${h} sats (${(h/1e8).toFixed(8)} BTC)`),console.log(`[UniSat]  Required: ${c} sats (${t.toFixed(8)} BTC)`),console.log("[UniSat]  UniSat kann automatisch von ALLEN Adressen im Wallet ziehen (Legacy, SegWit, Taproot)")):(console.warn("[UniSat]  Could not calculate total balance (NaN or 0)"),console.warn("[UniSat]  UniSat sendBitcoin() wird trotzdem versuchen, von verfgbaren Adressen zu ziehen"))}}catch(f){console.warn("[UniSat]  Could not fetch UTXOs for balance check:",f),console.warn("[UniSat]  UniSat sendBitcoin() wird trotzdem versuchen, von verfgbaren Adressen zu ziehen")}console.log("[UniSat] Calling sendBitcoin with satoshis:",{to:e,satoshis:c,addressLength:e.length,addressValid:e.length>=26});const d=await window.unisat.sendBitcoin(e,c);let u;if(typeof d=="string")u=d;else if(d&&typeof d=="object"){if(u=d.txid||d.txId||d.transactionId||"",!u)throw console.error("[UniSat] Unexpected response format:",d),new Error("UniSat returned an unexpected response format. Please try again.")}else throw console.error("[UniSat] Unexpected response type:",typeof d,d),new Error("UniSat returned an unexpected response. Please try again.");return console.log("[UniSat]  Transaction sent successfully, TXID:",u),u}catch(c){if(console.error("[UniSat]  Error sending Bitcoin:",c),console.error("[UniSat] Error details:",{message:c==null?void 0:c.message,code:c==null?void 0:c.code,name:c==null?void 0:c.name,stack:c==null?void 0:c.stack,error:c?JSON.stringify(c,Object.getOwnPropertyNames(c),2):"null/undefined"}),(n=c==null?void 0:c.message)!=null&&n.includes("User rejected")||(i=c==null?void 0:c.message)!=null&&i.includes("USER_REJECTION")||(c==null?void 0:c.code)===4001){let d=null;try{const f=(await window.unisat.getAccounts())[0],h=f0(f);h!=="Legacy"&&(d=new Error(` Payment abgelehnt oder Insufficient Balance!

 Aktuell verbunden: ${h}-Adresse
   ${f}

 LSUNG:
Wenn dein BTC auf einer anderen Adresse ist (z.B. Legacy),
musst du MIT DIESER ADRESSE verbinden fr das Payment!

 SO GEHT'S:
1. ffne UniSat Wallet  Settings  Address Type
2. Wechsle zur Adresse WO DEIN BTC IST (Legacy/SegWit)
3. Akzeptiere die neue Verbindung
4. Versuche das Payment erneut

 Die Inscription geht trotzdem an deine Taproot-Adresse!`))}catch{}throw d||new Error("Payment was cancelled. Please approve the transaction in your UniSat wallet.")}if((s=c==null?void 0:c.message)!=null&&s.includes("Insufficient balance")||(c==null?void 0:c.code)===-32603)try{const d=await window.unisat.getBitcoinUtxos(),u={};d.forEach(h=>{const p=h.address;u[p]||(u[p]={sats:0,count:0,hasInscriptions:!1}),!h.inscriptions||h.inscriptions.length===0?u[p].sats+=h.satoshi:u[p].hasInscriptions=!0,u[p].count++});let f=` Insufficient balance on connected address.

`;throw f+=` Your wallet has Bitcoin on multiple addresses:

`,Object.entries(u).forEach(([h,p])=>{const g=f0(h),m=(p.sats/1e8).toFixed(8),v=p.hasInscriptions?" ( has inscriptions)":"";f+=`  ${g}: ${m} BTC${v}
`,f+=`    ${h.substring(0,12)}...${h.substring(h.length-8)}

`}),f+=` UniSat kann nur von der aktuell verbundenen Adresse senden.

`,f+=` LSUNG (2 Mglichkeiten):

`,f+=`Option 1 (Empfohlen):
`,f+=`1. ffnen Sie das UniSat Wallet
`,f+=`2. Wechseln Sie zur Adresse mit Guthaben (z.B. Legacy/SegWit)
`,f+=`3. Fhren Sie die Zahlung durch
`,f+=`4. Wechseln Sie zurck zur Taproot-Adresse
`,f+=`5. Die Inscription wird trotzdem an Taproot gesendet! 

`,f+=`Option 2:
`,f+=`1. Senden Sie Bitcoin von Ihrer anderen Adresse zur Taproot-Adresse
`,f+=`2. Versuchen Sie es erneut
`,new Error(f)}catch(d){throw d.message&&d.message.includes("Insufficient balance")?d:new Error(` Insufficient balance.

 Ihr Guthaben liegt mglicherweise auf einer anderen Adresse.

 LSUNG:
1. ffnen Sie das UniSat Wallet
2. Wechseln Sie zur Adresse mit Guthaben (z.B. Legacy/SegWit)
3. Fhren Sie die Zahlung durch
4. Wechseln Sie zurck zur Taproot-Adresse
5. Die Inscription wird trotzdem an Taproot gesendet! `)}throw(o=c==null?void 0:c.message)!=null&&o.includes("Cannot read properties")||(l=c==null?void 0:c.message)!=null&&l.includes("can not read properties")?new Error("UniSat wallet error: Cannot access wallet properties. Please refresh the page and try again."):new Error((c==null?void 0:c.message)||"Fehler beim Senden von Bitcoin ber UniSat")}},ed=async(e,t)=>{var r,n,i,s,o;if(e.length===0)throw new Error("Keine Empfnger angegeben");if(e.length===1)return t==="unisat"?await kc(e[0].address,e[0].amount):await Uh(e[0].address,e[0].amount);if(t==="xverse"){if(!Mi())throw new Error("Xverse Wallet nicht gefunden");try{const l=await Jt(()=>import("./index-9WQn33B3.js"),[]);if(l&&l.request){const p=e.map(v=>{const x=Math.round(v.amount*1e8);return console.log(`[Xverse sats-connect] Zahlung: ${v.address} = ${v.amount} BTC = ${x} sats`),{address:v.address,amount:x}}),g=p.reduce((v,x)=>v+x.amount,0);console.log(`[Xverse sats-connect] Gesamt: ${g} sats (${(g/1e8).toFixed(8)} BTC)`);const m=await l.request("sendTransfer",{recipients:p,network:{type:"Mainnet"}});if(m.status==="success"){const v=((r=m.result)==null?void 0:r.txid)||((n=m.result)==null?void 0:n.txId)||m.txid;if(v)return v}}const c=window.BitcoinProvider||window.xverse;if(!c||!c.request)throw new Error("Xverse Provider API nicht verfgbar");const d=e.map(p=>{const g=Math.round(p.amount*1e8);return console.log(`[Xverse] Zahlung: ${p.address} = ${p.amount} BTC = ${g} sats`),{address:p.address,amount:g}}),u=d.reduce((p,g)=>p+g.amount,0);console.log(`[Xverse] Gesamt: ${u} sats (${(u/1e8).toFixed(8)} BTC)`),console.log(`[Xverse] Anzahl Empfnger: ${d.length}`);const f=await c.request("sendTransfer",{recipients:d});if(f!=null&&f.error){const p=f.error.message||"",g=f.error.code;throw console.error("[Xverse] Fehler-Details:",{error:f.error,recipients:d,totalSats:u}),p.includes("Insufficient balance")||g===-32603?new Error(`Insufficient balance. Your Xverse wallet does not have enough Bitcoin to complete this transaction. Required: ${(u/1e8).toFixed(8)} BTC + transaction fees. Please add more Bitcoin to your wallet and try again.`):new Error(`Xverse wallet error: ${p||"Unknown error"}`)}const h=(f==null?void 0:f.txid)||((i=f==null?void 0:f.result)==null?void 0:i.txid)||(f==null?void 0:f.txId)||((s=f==null?void 0:f.result)==null?void 0:s.txId);if(!h)throw new Error("Keine Transaction-ID in der Response erhalten");return h}catch(l){throw console.error("[Xverse] Catch-Block Fehler:",l),console.error("[Xverse] Error message:",l.message),console.error("[Xverse] Error object:",JSON.stringify(l,null,2)),l.message&&(l.message.includes("User rejected")||l.message.includes("USER_REJECTION"))?new Error("Payment was cancelled. Please approve the transaction in your Xverse wallet."):(l.message&&l.message.includes("Amount should not be less than")&&(console.error("[Xverse]  Fehler: Mindestbetrag-Anforderung erkannt"),console.error("[Xverse] Recipients:",JSON.stringify(recipientsInSats,null,2))),l)}}else{if(!Oi())throw new Error("UniSat Wallet nicht gefunden");try{console.log("[UniSat] Mehrere Zahlungen - UniSat untersttzt nur eine Zahlung pro Transaktion"),console.log("[UniSat] Fhre Zahlungen sequenziell aus...");const l=[...e].sort((d,u)=>u.amount-d.amount);console.log("[UniSat] Sortiere Zahlungen nach Betrag (grte zuerst):",l.map(d=>`${d.address}: ${d.amount} BTC`));let c="";for(let d=0;d<l.length;d++){const u=l[d];console.log(`[UniSat] Zahlung ${d+1}/${l.length}: ${u.address}, ${u.amount} BTC (${Math.round(u.amount*1e8)} sats)`);try{c=await kc(u.address,u.amount),console.log(`[UniSat]  Zahlung ${d+1}/${l.length} erfolgreich: ${c}`)}catch(f){throw console.error(`[UniSat]  Fehler bei Zahlung ${d+1}/${l.length}:`,f),(o=f==null?void 0:f.message)!=null&&o.includes("Insufficient balance")||(f==null?void 0:f.code)===-32603?new Error(`Insufficient balance bei Zahlung ${d+1}/${l.length}.

 WICHTIG: Wenn Ihr Guthaben auf einer SegWit-Adresse (bc1q...) liegt, aber UniSat eine Taproot-Adresse (bc1p...) anzeigt:
1. ffnen Sie das UniSat Wallet
2. Wechseln Sie zur SegWit-Adresse (falls verfgbar)
3. Oder stellen Sie sicher, dass genug Guthaben auf der aktuell ausgewhlten Adresse vorhanden ist

UniSat sollte automatisch das Gesamtguthaben verwenden, aber manchmal funktioniert das nicht korrekt.`):f}d<l.length-1&&(console.log(`[UniSat]  Warte 15 Sekunden vor nchster Zahlung (${d+2}/${l.length})...`),console.log("[UniSat]  WICHTIG: Die erste Transaktion muss erst besttigt werden, bevor die zweite gesendet werden kann."),console.log("[UniSat]  Bitte warten Sie, bis die erste Zahlung in Ihrem Wallet besttigt wurde."),console.log("[UniSat]  Hinweis: UniSat verwendet automatisch das Guthaben von allen Adressen (SegWit + Taproot)."),await new Promise(f=>setTimeout(f,15e3)))}return c}catch(l){throw l}}},Uh=async(e,t)=>{var r,n,i,s;if(!Mi())throw new Error("Xverse Wallet nicht gefunden");try{const o=Math.round(t*1e8);console.log(" Sending Bitcoin via Xverse..."),console.log("   To:",e),console.log("   Amount:",t,"BTC (",o,"sats)");let l;try{const u=await Jt(()=>import("./index-9WQn33B3.js"),[]);if(u&&u.request&&(console.log("    Verwende sats-connect API"),l=await u.request("sendTransfer",{recipients:[{address:e,amount:o}],network:{type:"Mainnet"}}),console.log("    Xverse sendTransfer (sats-connect) response:",l),l.status==="success")){const f=((r=l.result)==null?void 0:r.txid)||((n=l.result)==null?void 0:n.txId)||l.txid;if(f)return console.log("    Transaction broadcast! TX ID:",f),f}}catch(u){console.warn("    sats-connect sendTransfer failed, trying direct API:",u)}console.log("    Verwende direkte Xverse Provider API");const c=window.BitcoinProvider||window.xverse;if(!c||!c.request)throw new Error("Xverse Provider API nicht verfgbar");if(l=await c.request("sendTransfer",{recipients:[{address:e,amount:o}]}),console.log("    Xverse sendTransfer (direct API) response:",l),l!=null&&l.error){const u=l.error.code,f=l.error.message||"";throw u===-32603&&f.includes("Insufficient balance")?(console.error("    Insufficient balance!"),console.error("    Hinweis: Xverse verwendet die Payment-Adresse fr Zahlungen"),console.error("    Stellen Sie sicher, dass Ihre Payment-Adresse genug BTC hat"),new Error("Insufficient balance. Your Xverse wallet does not have enough Bitcoin to complete this transaction. Please add more Bitcoin to your wallet and try again.")):new Error(`Xverse wallet error: ${f||"Unknown error"}`)}const d=(l==null?void 0:l.txid)||((i=l==null?void 0:l.result)==null?void 0:i.txid)||(l==null?void 0:l.txId)||((s=l==null?void 0:l.result)==null?void 0:s.txId);if(!d)throw new Error("Keine Transaction-ID in der Response erhalten. Response: "+JSON.stringify(l));return d}catch(o){throw console.error("Xverse sendBitcoin error:",o),o.message&&(o.message.includes("User rejected")||o.message.includes("USER_REJECTION")||o.message.includes("cancel"))?new Error("Payment was cancelled. Please approve the transaction in your Xverse wallet."):o.message&&o.message.includes("Insufficient balance")?o:new Error(o.message||"Fehler beim Senden von Bitcoin via Xverse. Bitte berprfen Sie Ihr Wallet.")}},mI=async(e,t=!1)=>{var r,n;if(!Oi())throw new Error("UniSat Wallet nicht gefunden");try{if(!window.unisat||typeof window.unisat.signPsbt!="function")throw new Error("UniSat Wallet untersttzt keine PSBT-Signatur. Bitte aktualisieren Sie Ihre Wallet-Extension.");const i=atob(e),s=new Uint8Array(i.length);for(let f=0;f<i.length;f++)s[f]=i.charCodeAt(f);const o=Array.from(s).map(f=>f.toString(16).padStart(2,"0")).join(""),l=await window.unisat.signPsbt(o,{autoFinalized:t});console.log("[signPSBTViaUnisat]  Signed PSBT received (Hex), length:",l.length),console.log("[signPSBTViaUnisat] Signed PSBT preview:",l.substring(0,50)+"...");const c=((r=l.match(/.{1,2}/g))==null?void 0:r.map(f=>parseInt(f,16)))||[],d=String.fromCharCode(...c);return btoa(d)}catch(i){throw i.message&&(i.message.includes("User rejected")||(n=i.message)!=null&&n.includes("rejected"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktion in Ihrem Wallet."):new Error(i.message||"Fehler beim Signieren der PSBT")}},gI=async(e,t,r)=>{var n,i,s,o,l,c,d;if(!Mi())throw new Error("Xverse Wallet nicht gefunden");try{console.log("[signPSBTViaXverse] Starting PSBT signing..."),console.log("[signPSBTViaXverse] PSBT Base64 length:",e.length),console.log("[signPSBTViaXverse] PSBT Base64 preview:",e.substring(0,50)+"...");const u=await Jt(()=>import("./index-9WQn33B3.js"),[]);if(!u||!u.request)throw new Error("Sats Connect nicht verfgbar");if(t&&r!==void 0){console.log("[signPSBTViaXverse]  Using signMultipleTransactions for custom SIGHASH"),console.log("[signPSBTViaXverse] Address:",t),console.log("[signPSBTViaXverse] SigHash:",`0x${r.toString(16)} (${r})`);const{signMultipleTransactions:p}=u;if(!p||typeof p!="function")throw console.error("[signPSBTViaXverse]  signMultipleTransactions not available in sats-connect"),new Error("signMultipleTransactions ist nicht verfgbar. Bitte aktualisieren Sie sats-connect.");return new Promise((g,m)=>{console.log("[signPSBTViaXverse]  Calling signMultipleTransactions directly..."),p({payload:{network:{type:"Mainnet"},message:"Pre-Signing fr Collection Item (SIGHASH_NONE | ANYONECANPAY)",psbts:[{psbtBase64:e,inputsToSign:[{address:t,signingIndexes:[0],sigHash:r}]}]},onFinish:v=>{console.log("[signPSBTViaXverse]  signMultipleTransactions finished:",v),console.log("[signPSBTViaXverse] Response type:",typeof v),console.log("[signPSBTViaXverse] Response is Array:",Array.isArray(v));let x;if(Array.isArray(v)?(console.log("[signPSBTViaXverse] Response is direct array"),x=v):v&&v.psbts&&Array.isArray(v.psbts)&&(console.log("[signPSBTViaXverse] Response has psbts property"),x=v.psbts),x&&x.length>0){const y=x[0];let w;if(typeof y=="string")w=y,console.log("[signPSBTViaXverse] PSBT is string");else if(y&&y.psbtBase64)w=y.psbtBase64,console.log("[signPSBTViaXverse] PSBT is object with psbtBase64");else{console.error("[signPSBTViaXverse] Unexpected PSBT format:",y),m(new Error("Unerwartetes PSBT-Format in Response"));return}console.log("[signPSBTViaXverse]  Signed PSBT received (Base64), length:",w.length),console.log("[signPSBTViaXverse] Signed PSBT preview:",w.substring(0,50)+"..."),g(w)}else console.error("[signPSBTViaXverse] No PSBTs in response:",v),m(new Error("Keine signierte PSBT in Response erhalten"))},onCancel:()=>{console.log("[signPSBTViaXverse]  User cancelled signing"),m(new Error("User rejected request to sign a psbt"))}})})}console.log("[signPSBTViaXverse] Using standard signPsbt (no custom SIGHASH)");const f={psbt:e,network:{type:"Mainnet"},broadcast:!1,autoFinalized:!0};console.log("[signPSBTViaXverse] Request params:",JSON.stringify({...f,psbt:e.substring(0,50)+"..."},null,2));const h=await u.request("signPsbt",f);if(console.log("[signPSBTViaXverse] Response received:",{status:h.status,hasResult:!!h.result,hasError:!!h.error,errorMessage:(n=h.error)==null?void 0:n.message,resultKeys:h.result?Object.keys(h.result):[]}),console.log("[signPSBTViaXverse] Full response result:",JSON.stringify(h.result,null,2)),h.status==="success"){const p=((i=h.result)==null?void 0:i.tx)||((s=h.result)==null?void 0:s.txHex)||((o=h.result)==null?void 0:o.txid)||h.tx||h.txHex,g=((l=h.result)==null?void 0:l.psbt)||h.psbt;if(p&&typeof p=="string"&&p.length>500&&/^[0-9a-fA-F]+$/.test(p)){console.log("[signPSBTViaXverse]  Finalized transaction received (Hex), length:",p.length),console.log("[signPSBTViaXverse] Transaction preview:",p.substring(0,50)+"...");const m=((c=p.match(/.{1,2}/g))==null?void 0:c.map(y=>parseInt(y,16)))||[],v=String.fromCharCode(...m);return btoa(v)}if(!g)throw new Error("Keine signierte PSBT oder finalisierte Transaction erhalten");return console.log("[signPSBTViaXverse]  Signed PSBT received (Base64), length:",g.length),console.log("[signPSBTViaXverse] Signed PSBT preview:",g.substring(0,50)+"..."),console.log("[signPSBTViaXverse]  PSBT is not finalized - will be finalized in backend"),g}else throw new Error(((d=h.error)==null?void 0:d.message)||"Fehler beim Signieren der PSBT")}catch(u){throw u.message&&(u.message.includes("User rejected")||u.message.includes("rejected")||u.message.includes("USER_REJECTION"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktion in Ihrem Wallet."):new Error(u.message||"Fehler beim Signieren der PSBT")}},_y=async(e,t,r=!1,n,i)=>t==="unisat"?await mI(e,r):await gI(e,n,i),xI=async(e,t=!1)=>{var r;if(!Oi())throw new Error("UniSat Wallet nicht gefunden");try{if(!window.unisat||typeof window.unisat.signPsbts!="function")throw new Error("UniSat Wallet untersttzt keine Batch-PSBT-Signatur. Bitte aktualisieren Sie Ihre Wallet-Extension.");const n=e.map(s=>{if(s.length>100&&!/^[0-9a-fA-F]+$/.test(s)){const o=atob(s),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);return Array.from(l).map(c=>c.toString(16).padStart(2,"0")).join("")}return s});return await window.unisat.signPsbts(n,{autoFinalized:t})}catch(n){throw n.message&&(n.message.includes("User rejected")||(r=n.message)!=null&&r.includes("rejected"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktionen in Ihrem Wallet."):new Error(n.message||"Fehler beim Signieren der PSBTs")}},yI=async e=>{var t,r;if(!Mi())throw new Error("Xverse Wallet nicht gefunden");try{const n=await Jt(()=>import("./index-9WQn33B3.js"),[]);if(!n||!n.request)throw new Error("Sats Connect nicht verfgbar");console.warn("[Xverse] Batch-PSBT-Signatur nicht direkt untersttzt, signiere sequenziell...");const i=[];for(const s of e){const o=await n.request("signPsbt",{psbt:s,network:{type:"Mainnet"}});if(o.status==="success"){const l=((t=o.result)==null?void 0:t.psbt)||o.psbt;if(!l)throw new Error("Keine signierte PSBT erhalten");const c=atob(l),d=new Uint8Array(c.length);for(let f=0;f<c.length;f++)d[f]=c.charCodeAt(f);const u=Array.from(d).map(f=>f.toString(16).padStart(2,"0")).join("");i.push(u)}else throw new Error(((r=o.error)==null?void 0:r.message)||"Fehler beim Signieren der PSBT")}return i}catch(n){throw n.message&&(n.message.includes("User rejected")||n.message.includes("rejected")||n.message.includes("USER_REJECTION"))?new Error("Signatur abgelehnt. Bitte besttigen Sie die Transaktionen in Ihrem Wallet."):new Error(n.message||"Fehler beim Signieren der PSBTs")}},vI=async(e,t,r=!1)=>{if(t==="unisat"){const n=e.map(i=>{const s=atob(i),o=new Uint8Array(s.length);for(let l=0;l<s.length;l++)o[l]=s.charCodeAt(l);return Array.from(o).map(l=>l.toString(16).padStart(2,"0")).join("")});return await xI(n,r)}else return await yI(e)},Do=Object.freeze(Object.defineProperty({__proto__:null,connectUnisat:fI,connectXverse:hI,getUnisatAccounts:pI,isUnisatInstalled:Oi,isXverseInstalled:Mi,sendBitcoinViaUnisat:kc,sendBitcoinViaXverse:Uh,sendMultipleBitcoinPayments:ed,signPSBT:_y,signPSBTViaUnisat:mI,signPSBTViaXverse:gI,signPsbts:vI,signPsbtsViaUnisat:xI,signPsbtsViaXverse:yI,waitForXverse:Tu},Symbol.toStringTag,{value:"Module"})),bI=b.createContext(void 0),wI=({children:e})=>{const[t,r]=b.useState({walletType:null,accounts:[],connected:!1,network:"mainnet"}),n=b.useCallback(async()=>{try{const l=await pI();if(l.length>0){r({walletType:"unisat",accounts:l,connected:!0,network:"mainnet"});return}}catch{}},[]);b.useEffect(()=>{var l,c;if(n(),Oi()){const d=f=>{f.length>0?r(h=>({...h,accounts:f.map(p=>({address:p})),connected:!0,walletType:"unisat"})):r({walletType:null,accounts:[],connected:!1,network:"mainnet"})},u=()=>{n()};return(l=window.unisat)==null||l.on("accountsChanged",d),(c=window.unisat)==null||c.on("networkChanged",u),()=>{var f,h;(f=window.unisat)==null||f.removeListener("accountsChanged",d),(h=window.unisat)==null||h.removeListener("networkChanged",u)}}},[n]);const i=b.useCallback(async l=>{try{let c=[];if(l==="unisat")c=await fI();else if(l==="xverse")c=await hI();else throw new Error("Ungltiger Wallet-Typ");const d={walletType:l,accounts:c,connected:!0,network:"mainnet"};return console.log("WalletContext: Setting wallet state to connected:",d),r(d),c}catch(c){throw c}},[]),s=b.useCallback(()=>{r({walletType:null,accounts:[],connected:!1,network:"mainnet"})},[]),o=b.useCallback(l=>(r({walletType:"unisat",accounts:[l],connected:!0,network:"mainnet"}),[l]),[]);return a.jsx(bI.Provider,{value:{walletState:t,connect:i,connectManually:o,disconnect:s,checkWalletConnection:n,isUnisatInstalled:Oi(),isXverseInstalled:Mi()},children:e})},Re=()=>{const e=b.useContext(bI);if(e===void 0)throw new Error("useWallet must be used within a WalletProvider");return e},XO=({onConnect:e})=>{const[t,r]=b.useState(""),[n,i]=b.useState(null),s=()=>{if(!t.trim()){i("Please enter a wallet address");return}if(!t.startsWith("bc1")){i("Please use a valid Bitcoin address (bc1...)");return}if(!t.startsWith("bc1p")){i(" Please use a Taproot address (bc1p...) for Ordinals");return}i(null),e({address:t.trim()})};return a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2 border-b-2 border-red-600 pb-2",children:" Connect Wallet Manually"}),a.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"If browser extensions don't work on localhost, you can enter your wallet address manually here."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-white mb-2 uppercase tracking-wide",children:"Bitcoin Taproot Address (bc1p...)"}),a.jsx("input",{type:"text",value:t,onChange:o=>{r(o.target.value),i(null)},placeholder:"bc1p...",className:"w-full px-4 py-2 bg-gray-900 border-2 border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-red-600 focus:border-red-600"})]}),n&&a.jsx("div",{className:"p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded text-sm font-semibold",children:n}),a.jsx("button",{onClick:s,className:"w-full px-6 py-3 bg-white text-black border-2 border-red-600 rounded-lg font-bold hover:bg-red-600 hover:text-white transition",children:"Connect"}),a.jsxs("div",{className:"p-3 bg-gray-900 border-2 border-red-600 rounded-lg text-xs text-gray-300",children:[a.jsx("strong",{className:"text-white",children:"Note:"})," This is only intended for testing on localhost. In production, browser extensions should be used, which work on HTTPS domains."]})]})]})},Gd={ENABLE_UNISAT:!1},li=({onConnected:e})=>{var S,j;const{walletState:t,connect:r,connectManually:n,disconnect:i}=Re();sc.useEffect(()=>{t.connected&&t.accounts&&t.accounts.length>0&&e&&(console.log("WalletConnect: Wallet connected, calling onConnected callback"),e())},[t.connected,t.accounts,e]);const[s,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!0),[m,v]=b.useState(!1);b.useEffect(()=>{(async()=>{var V;g(!0);const[C,T]=await Promise.all([Promise.resolve(!1),Tu(3e3)]);u(Gd.ENABLE_UNISAT),h(T),g(!1);const K={unisat:C,xverse:T,windowUnisat:typeof window<"u"?typeof window.unisat:"N/A",windowBitcoinProvider:typeof window<"u"?typeof window.BitcoinProvider:"N/A",windowXverse:typeof window<"u"?typeof window.xverse:"N/A",location:typeof window<"u"?(V=window.location)==null?void 0:V.href:"N/A",allWindowKeys:typeof window<"u"?Object.keys(window).filter(P=>P.toLowerCase().includes("bitcoin")||P.toLowerCase().includes("unisat")||P.toLowerCase().includes("xverse")):[]};if(console.log(" Wallet Check - Detailliert:",K),typeof window<"u"){console.log(" Direkte Prfung:"),console.log("  window.unisat:",window.unisat),console.log("  window.BitcoinProvider:",window.BitcoinProvider),console.log("  window.xverse:",window.xverse),console.log("  window.bitcoin:",window.bitcoin);const P=Object.keys(window).filter(R=>R.toLowerCase().includes("bitcoin")||R.toLowerCase().includes("unisat")||R.toLowerCase().includes("xverse")||R.toLowerCase().includes("wallet"));P.length>0&&console.log("  Gefundene Wallet-Keys:",P)}})();const E=setInterval(async()=>{if(!f){const[C,T]=await Promise.all([Promise.resolve(!1),Tu(2e3)]);u(K=>K||Gd.ENABLE_UNISAT),h(K=>K||T)}},2e3);return()=>clearInterval(E)},[]);const x=async I=>{o(!0),c(null);try{await r(I),c(null)}catch(E){let C=E.message||"Unknown error occurred";C.includes("intercept")||C.includes("multiple wallet")?C="Multiple wallet extensions detected. Please disable other Bitcoin wallet extensions (keep only the one you want to use) and reload the page.":C.includes("User rejected")?C="Connection rejected. Please approve the connection request in your wallet popup.":(C.includes("not available")||C.includes("API is not available"))&&(C=`Wallet extension detected but connection failed. Try:
1. Unlock your wallet
2. Disable other Bitcoin wallet extensions
3. Reload the page`),c(C),console.error("Wallet connection error:",E)}finally{o(!1)}},y=()=>{i(),c(null)},w=I=>{try{n(I),c(null),v(!1)}catch(E){c(E.message||"Error with manual connection")}};return p?a.jsx("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mb-4"}),a.jsx("p",{className:"text-white font-semibold",children:"Checking wallets..."}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"If wallets are not detected, try reloading the page."})]})}):t.connected?a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 border-b-2 border-red-600 pb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Wallet Connected"}),a.jsxs("p",{className:"text-sm text-gray-400 capitalize",children:[t.walletType," Wallet"]})]}),a.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white border-2 border-white rounded-lg hover:bg-white hover:text-black font-bold transition",children:"Disconnect"})]}),a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1 uppercase tracking-wide",children:"Address"}),a.jsx("p",{className:"text-sm font-mono text-white break-all",children:(S=t.accounts[0])==null?void 0:S.address}),!((j=t.accounts[0])!=null&&j.address.startsWith("bc1p"))&&a.jsx("p",{className:"text-xs text-red-600 mt-2 font-semibold",children:" Please use a Taproot address (bc1p...)"})]}),l&&a.jsx("div",{className:"mt-4 p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded",children:a.jsx("p",{className:"font-semibold",children:l})})]}):a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg shadow-lg p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b-2 border-red-600 pb-2",children:"Connect Wallet"}),a.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Please connect your wallet to start minting."}),a.jsxs("div",{className:"space-y-3",children:[Gd.ENABLE_UNISAT,!f&&!0&&!m&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-900 border-2 border-red-600 rounded-lg",children:[a.jsx("p",{className:"text-sm font-bold text-red-600 mb-2",children:" Wallet Extensions Not Detected"}),a.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Browser extensions were not found. This is normal on localhost."}),a.jsx("div",{className:"flex gap-2 mb-3",children:a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded text-sm hover:bg-red-600 hover:text-white font-bold transition",children:" Manual Connection (for Testing)"})}),a.jsxs("details",{className:"text-xs",children:[a.jsx("summary",{className:"cursor-pointer text-red-600 font-bold",children:" Why don't extensions work on localhost?"}),a.jsxs("div",{className:"mt-2 p-2 bg-black border border-gray-700 rounded text-xs text-gray-300",children:[a.jsxs("p",{className:"mb-2",children:["Many browser extensions (including UniSat & Xverse) don't work on ",a.jsx("code",{className:"text-red-600",children:"localhost"})," or ",a.jsx("code",{className:"text-red-600",children:"127.0.0.1"})," for security reasons."]}),a.jsx("p",{className:"mb-2",children:a.jsx("strong",{className:"text-white",children:"Solutions:"})}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[a.jsx("li",{children:"In production on an HTTPS domain it will work"}),a.jsx("li",{children:"For testing: Use the manual connection above"}),a.jsx("li",{children:"Alternative: Use ngrok or similar tools for HTTPS tunnels"})]})]})]})]}),m&&a.jsxs("div",{className:"mb-4",children:[a.jsx(XO,{onConnect:w}),a.jsx("button",{onClick:()=>v(!1),className:"mt-2 text-sm text-gray-400 hover:text-white font-semibold",children:" Back to Extension Buttons"})]}),Gd.ENABLE_UNISAT,f?a.jsx("button",{onClick:()=>x("xverse"),disabled:s,className:"w-full flex items-center justify-center px-6 py-4 bg-white text-black border-2 border-red-600 rounded-lg font-bold hover:bg-red-600 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Connecting...":a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"Connect Xverse Wallet"]})}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"https://www.xverse.app/download",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center px-6 py-4 bg-gray-900 text-white border-2 border-gray-700 rounded-lg font-bold hover:border-red-600 transition",children:"Install Xverse Wallet"}),a.jsx("button",{onClick:async()=>{console.log(" Manuelle Prfung Xverse..."),await Tu(1e3)?(h(!0),alert(' Xverse Wallet gefunden! Klicke auf "Connect Xverse Wallet"')):alert(` Xverse Wallet nicht gefunden

Lsung:
1. ffne: chrome://extensions/ (Chrome) oder about:addons (Firefox)
2. Suche nach "Xverse Wallet"
3. Stelle sicher, dass die Extension aktiviert ist
4. Lade die Seite neu (F5)
5. Versuche: http://127.0.0.1:3008 statt localhost

Falls installiert: Extension neu laden in chrome://extensions/`)},className:"w-full flex items-center justify-center px-6 py-4 bg-gray-900 text-white border-2 border-gray-700 rounded-lg font-bold hover:border-red-600 transition",children:" Prfe Xverse erneut"})]})]}),l&&a.jsx("div",{className:"mt-4 p-3 bg-gray-900 border-2 border-red-600 text-red-600 rounded",children:a.jsx("p",{className:"font-semibold",children:l})}),a.jsx("div",{className:"mt-6 p-4 bg-gray-900 border-2 border-red-600 rounded-lg",children:a.jsxs("p",{className:"text-xs text-gray-300",children:[a.jsx("strong",{className:"text-white",children:"Note:"})," Please make sure you use a Taproot address (bc1p...) in your wallet. Ordinals are only supported on Taproot addresses."]})})]})};function Fs(){let e="http://localhost:3003";return e&&!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`https://${e}`),e.startsWith("http://")&&!e.includes("localhost")&&(e=e.replace("http://","https://"),console.warn("[apiUrl] Converted http:// to https:// for production:",e)),e}const jI=Fs(),Oy=async e=>{if(!e)return console.error("Admin address required to fetch hashlist"),null;try{const t=new AbortController,r=setTimeout(()=>t.abort(),1e4);if(!e||e==="undefined"||e==="")throw new Error("Admin address is required");const n={};e&&e!=="undefined"&&e!==""&&(n["X-Admin-Address"]=e);const i=await fetch(`${jI}/api/collection/hashlist?address=${encodeURIComponent(e)}`,{signal:t.signal,headers:n});return clearTimeout(r),i.ok?await i.json():(console.error("Failed to fetch hashlist:",i.status),null)}catch(t){return t.name==="AbortError"?console.error("Hashlist request timeout"):console.error("Error fetching hashlist:",t),null}},JO=async e=>{if(!e)return console.error("Admin address required to fetch stats"),null;try{const t=new AbortController,r=setTimeout(()=>t.abort(),1e4);if(!e||e==="undefined"||e==="")throw new Error("Admin address is required");const n={};e&&e!=="undefined"&&e!==""&&(n["X-Admin-Address"]=e);const i=await fetch(`${jI}/api/collection/stats?address=${encodeURIComponent(e)}`,{signal:t.signal,headers:n});return clearTimeout(r),i.ok?await i.json():(console.error("Failed to fetch stats:",i.status),null)}catch(t){return t.name==="AbortError"?console.error("Stats request timeout"):console.error("Error fetching stats:",t),null}},QO=async e=>{if(!e){alert("Admin address required to export hashlist.");return}const t=await Oy(e);if(!t){alert("Failed to fetch hashlist. Please make sure the backend server is running.");return}const r={collection:t.collection,version:"1.0.0",generatedAt:t.generatedAt,totalMinted:t.totalMinted,inscriptions:t.inscriptions.map(o=>({inscriptionId:o.inscriptionId,txid:o.txid,mintTimestamp:o.mintTimestamp,cardId:o.cardId,cardName:o.cardName,rarity:o.rarity,cardType:o.cardType,originalInscriptionId:o.originalInscriptionId})),stats:t.stats},n=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`collection-hashlist-${t.collection}-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(i)},e8=async e=>{if(!e){alert("Admin address required to export hashlist.");return}const t=await Oy(e);if(!t){alert("Failed to fetch hashlist. Please make sure the backend server is running.");return}const r=t.inscriptions.map(o=>o.inscriptionId),n=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`collection-inscription-ids-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(i)},zh=Fs(),t8=async e=>{const t={};e&&e!=="undefined"&&e!==""&&(t["X-Admin-Address"]=e);const r=await fetch(`${zh}/api/admin/stats`,{headers:t});if(!r.ok){const i=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(i.error||`Failed to fetch admin stats: ${r.status}`)}return await r.json()},r8=async e=>{const t={};e&&e!=="undefined"&&e!==""&&(t["X-Admin-Address"]=e);const r=await fetch(`${zh}/api/admin/trades`,{headers:t});if(!r.ok){const i=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(i.error||`Failed to fetch trade offers: ${r.status}`)}return(await r.json()).trades||[]},n8=async e=>{const t={"Content-Type":"application/json"};e&&e!=="undefined"&&e!==""&&(t["X-Admin-Address"]=e);const r=await fetch(`${zh}/api/admin/open-card-images`,{method:"POST",headers:t,body:JSON.stringify({})});if(!r.ok){const n=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(n.error||"Failed to open folder")}},i8=async e=>{const t={};e&&e!=="undefined"&&e!==""&&(t["X-Admin-Address"]=e);const r=await fetch(`${zh}/api/admin/export-cards`,{headers:t});if(!r.ok)throw new Error("Failed to export cards");const n=await r.blob(),i=window.URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`black-wild-cards-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(i)},s8=["bc1pk04c62dkcev08jvmhlecufxtp4xw4af0s9n3vtm8w3dsn9985dhsvpralc","34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft","bc1p9j4g6r27yqhmp4c403vn33mz7uug439sthqngkkrylu7d7uq7d6qvz39jj","bc1p8hfflnq8dspvpeqdprqkncdfnk4hl5ne0ydnlslj2sk49fu5jxns2xxmk9","bc1pv6vt56dyt5he62gnhyp3c5wqtglethjaegsmc4dxcs702sy6ccxsrhzyuj"].filter(Boolean),Hi=e=>e?s8.some(t=>t.toLowerCase()===e.toLowerCase()):!1,jt=e=>e.replace(/stroke="black"/g,'stroke="white"').replace(/fill="black"/g,'fill="white"').replace(/stroke='black'/g,"stroke='white'").replace(/fill='black'/g,"fill='white'"),SI=[{id:"action-1",name:"SLAP",rarity:"common",inscriptionId:"ef41bd80183a3d557cfba127b55bee1330ceb6d05e8b4746921b23b55ce133c9i0",cardType:"action",effect:"Deal 2 damage to any target.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <line x1="6" y1="18" x2="18" y2="6" stroke="white" stroke-width="2"/>
      <line x1="18" y1="6" x2="21" y2="6" stroke="white" stroke-width="2"/>
      <line x1="18" y1="6" x2="18" y2="3" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-2",name:"WRONG MOVE",rarity:"common",inscriptionId:"d7e6610d2dcaed7bf6fb0923e5a8dbe0776dbe07a966b19d9bbbab4eaf298d50i0",cardType:"action",effect:"Destroy an animal with ATK 2 or less.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <polyline points="4,8 12,8 12,14 20,14" fill="none" stroke="white" stroke-width="2"/>
      <line x1="11" y1="13" x2="13" y2="15" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-3",name:"PANIC",rarity:"uncommon",inscriptionId:"7d6ffeb90550adb8994e52eb6ca56ec42d19b20401a22af9ed959684b9c83ec4i0",cardType:"action",effect:"Both players discard their hands, then draw 3 cards.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <path d="M12 3 L17 8 L12 13 L7 8 Z" fill="none" stroke="white" stroke-width="2"/>
      <line x1="3" y1="12" x2="7" y2="12" stroke="white" stroke-width="2"/>
      <line x1="17" y1="12" x2="21" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-4",name:"NOPE",rarity:"uncommon",inscriptionId:"d1abdfb5c6318bdc45948cd88b03ae8057cf20bf955a6ed7fe7e011a6f895df9i0",cardType:"action",effect:"Cancel an action card.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8" fill="none" stroke="white" stroke-width="2"/>
      <line x1="6" y1="18" x2="18" y2="6" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-5",name:"OVERDOSE",rarity:"rare",inscriptionId:"37b9fb329a6cf26de3e701da20c0217de97bcd839f18bceac3f43fea563f6b71i0",cardType:"action",effect:"Target animal gets +3 ATK until end of turn. Destroy it at the end of the turn.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <line x1="12" y1="20" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="8" y1="8" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="16" y1="8" x2="12" y2="4" stroke="white" stroke-width="2"/>
      <line x1="9" y1="18" x2="15" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-6",name:"SWITCH",rarity:"rare",inscriptionId:"fe1490d29120f1277596650462f33341a06a165bc037bb13e93af050935e4d75i0",cardType:"action",effect:"Swap control of two animals in play.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <polyline points="5,8 19,8 15,4" fill="none" stroke="white" stroke-width="2"/>
      <polyline points="19,16 5,16 9,20" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-7",name:"COLLAPSE",rarity:"rare",inscriptionId:"9c1637a13a9f9c18bc232daefebab50033d14550afc51ea80dce4a6ae8b9d03ai0",cardType:"action",effect:"Deal 1 damage to all animals.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <line x1="4" y1="10" x2="20" y2="10" stroke="white" stroke-width="2"/>
      <polyline points="10,10 14,14 18,14" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-8",name:"INSTINCT",rarity:"epic",inscriptionId:"39367bda5c67a2a628261c2b0a3432c23929e864c7c12c5264b77d53341ecce0i0",cardType:"action",effect:"Trigger one animal's ability again.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <ellipse cx="12" cy="12" rx="8" ry="5" fill="none" stroke="white" stroke-width="2"/>
      <circle cx="12" cy="12" r="2" fill="white"/>
    </svg>`)},{id:"action-9",name:"STARE",rarity:"epic",inscriptionId:"bb48c48089f36680ac736fbb675dc29b9965a2e41a1ecd60dc70b70f9729df51i0",cardType:"action",effect:"Look at your opponent's hand. Choose one card  they discard it.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <ellipse cx="10" cy="12" rx="5" ry="4" fill="none" stroke="white" stroke-width="2"/>
      <line x1="15" y1="12" x2="21" y2="12" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"action-10",name:"PUSH",rarity:"epic",inscriptionId:"8da26d78071401ea4e69f16751612ae879543b438064a05ea89b17d0e7a92d99i0",cardType:"action",effect:"Target animal attacks immediately.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <line x1="4" y1="12" x2="18" y2="12" stroke="white" stroke-width="3"/>
      <polyline points="14,8 18,12 14,16" fill="none" stroke="white" stroke-width="3"/>
    </svg>`)},{id:"action-11",name:"ACCIDENT",rarity:"legendary",inscriptionId:"5687d374883dddcc97913fd286e180351443f9fd8f98af0f9e0f6bf199f5cde5i0",cardType:"action",effect:"Destroy a random animal.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="2" fill="white"/>
      <circle cx="6" cy="8" r="1.5" fill="white"/>
      <circle cx="18" cy="7" r="1.5" fill="white"/>
      <circle cx="7" cy="18" r="1.5" fill="white"/>
    </svg>`)},{id:"action-12",name:"LAST WORDS",rarity:"legendary",inscriptionId:"e6ac9fab61f8e30fb58c5d9224681ad2c1a9f064eb523c4a264a562648a486f9i0",cardType:"action",effect:"When an animal dies this turn, draw 2 cards.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <line x1="12" y1="6" x2="12" y2="18" stroke="white" stroke-width="2"/>
      <line x1="8" y1="12" x2="16" y2="12" stroke="white" stroke-width="2"/>
      <line x1="16" y1="8" x2="21" y2="6" stroke="white" stroke-width="2"/>
    </svg>`)}],NI=[{id:"status-1",name:"BLEEDING",rarity:"common",inscriptionId:"70b7048c1567f00c77aa05aa95db48d6838c4592a7d5c6d37e127667f9275050i0",cardType:"status",effect:"Attached animal loses 1 HP at the start of each turn.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <path d="M12 4 C9 9,9 13,12 16 C15 13,15 9,12 4 Z" fill="white"/>
    </svg>`)},{id:"status-2",name:"STUCK",rarity:"common",inscriptionId:"f11b5ddc8a0a25a7cec94bc15c3fa32311808fe2cb87c2cea763f0d50c8b8e83i0",cardType:"status",effect:"Attached animal cannot attack.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="7" fill="none" stroke="white" stroke-width="2"/>
      <line x1="7" y1="7" x2="17" y2="17" stroke="white" stroke-width="2"/>
      <line x1="17" y1="7" x2="7" y2="17" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-3",name:"TINT",rarity:"uncommon",inscriptionId:"1656be81e09e210983360e549155c9115ff9411019ca24692ea77f4991a2afa5i0",cardType:"status",effect:"1 ATK. When this animal dies, draw 1 card.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <path d="M12 4 C6 6,6 14,12 16 C18 14,18 6,12 4 Z" fill="white"/>
    </svg>`)},{id:"status-4",name:"TARGET",rarity:"uncommon",inscriptionId:"27442fdd682add2aa8d10846e506ed29891b76cb09e4923d640bf83f392241a0i0",cardType:"status",effect:"Damage dealt to this animal is doubled.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8" fill="none" stroke="white" stroke-width="2"/>
      <circle cx="12" cy="12" r="4" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-5",name:"SWARM",rarity:"rare",inscriptionId:"cf331de8d1d45a3759c80d6ca20409ac80bf4602c855396a101d1eb08cb36fc5i0",cardType:"status",effect:"Whenever an animal dies, both players take 1 damage.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="8" cy="10" r="1.5" fill="white"/>
      <circle cx="12" cy="12" r="1.5" fill="white"/>
      <circle cx="16" cy="10" r="1.5" fill="white"/>
      <circle cx="10" cy="16" r="1.5" fill="white"/>
      <circle cx="14" cy="16" r="1.5" fill="white"/>
    </svg>`)},{id:"status-6",name:"SHIELD",rarity:"epic",inscriptionId:"d226c067ad6f7e083a7612d8b357051b824bdd63ca7bee7080611634abd28a1ai0",cardType:"status",effect:"Prevent the next damage dealt to attached animal.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <path d="M6 5 L18 5 L16 18 L12 21 L8 18 Z" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-7",name:"RAGE",rarity:"epic",inscriptionId:"0c7d863936f3c02134c472de45c7f5a2a0bce437a9914f2bd3a177c5c7a7efd4i0",cardType:"status",effect:"+2 ATK. This animal must attack if able.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <polyline points="4,14 8,8 12,14 16,8 20,14" fill="none" stroke="white" stroke-width="2"/>
    </svg>`)},{id:"status-8",name:"PARANOIA",rarity:"legendary",inscriptionId:"c68924eb89713ae2b169f3cf65c94c7f01d67130eb59987f861a5ace93733c11i0",cardType:"status",effect:"The controller of this card cannot draw cards.",svgIcon:jt(`<svg viewBox="0 0 24 24">
      <circle cx="8" cy="12" r="2" fill="white"/>
      <circle cx="16" cy="12" r="2" fill="white"/>
      <circle cx="12" cy="6" r="2" fill="white"/>
    </svg>`)}],a8=[...SI,...NI],o8=e=>e.map(t=>({...t,cardType:"animal"})),kI=o8([{id:"card-1",name:"Grasshopper",rarity:"common",inscriptionId:"62de7de2fba34ce0b5718e94970c19f5965b131316b9615c3c2c61421cb51e76i0"},{id:"card-2",name:"Ant",rarity:"common",inscriptionId:"446045d1613fb57610840eb1c6ba1491d5b0ea9624f7bda585e5f52e256f91e1i0"},{id:"card-3",name:"Bee",rarity:"common",inscriptionId:"3aef296ead63f20a39c06ca04fc696dd98c532d6b595088fc58176cb46d1beaai0"},{id:"card-4",name:"Chicken",rarity:"common",inscriptionId:"c907865db233272d06a262c19da7379d4d36f1088dd825375b29a73686a3a184i0"},{id:"card-5",name:"Worm",rarity:"common",inscriptionId:"7d91a2bb93f5ddfba2b16a6f0f463412e0faf12c46ca59cb2d76ec3b0bd3cf49i0"},{id:"card-6",name:"Spider",rarity:"common",inscriptionId:"8564dd1ffef7bb5e2501819e562d4f98d123959899a3348a8def8dc4e3c7409di0"},{id:"card-7",name:"Butterfly",rarity:"common",inscriptionId:"433c855aa38cc7b142dacaff65cfe9d58f2a79c40c87ddff56c3a283972a6a52i0"},{id:"card-8",name:"Worm",rarity:"uncommon",inscriptionId:"f56c0801566cb9e46e1465f1d760f8976ba0bad328e39e84fa2e2209a4d6c540i0"},{id:"card-9",name:"Bird",rarity:"uncommon",inscriptionId:"d021efd186eb10c45fbdf043bf974e211772fce336d8287f02f85b6a06b2d8d9i0"},{id:"card-10",name:"Bird",rarity:"uncommon",inscriptionId:"9ffd078c797dfdcbb6f72482f5499c124dd67c47044ccda1a1c42bf89926f2f0i0"},{id:"card-11",name:"Cow",rarity:"uncommon",inscriptionId:"7f2a4963ed0c4e341db74d82dcc8c8fc0cdf4c84d7c1558f13b33b9ca6ef7251i0"},{id:"card-12",name:"Cow",rarity:"uncommon",inscriptionId:"171f1741831bb019ee18e2a92dae9c711abf07e153641a4c1ceaa5892133032ci0"},{id:"card-14",name:"Tiger",rarity:"rare",inscriptionId:"195209f7e21b768fd7ca18a905ddac9ec4986412f4f8aa716290fbb743db6feai0"},{id:"card-15",name:"Rabbit",rarity:"rare",inscriptionId:"a0b9f4f33913f512ba4de73b1e4982cf5be76874062287fcd05efdd76a220a7fi0"},{id:"card-17",name:"Duck",rarity:"rare",inscriptionId:"a831e75a67d49d6e98594991cde68da3bf5f328ff49cc94a4a6bc05887ff8523i0"},{id:"card-18",name:"Crow",rarity:"rare",inscriptionId:"d67b09d7ac06aa9c217f95c69bf5c76f7f1634cad92fff5829546a22a279072ci0"},{id:"card-19",name:"Cat",rarity:"rare",inscriptionId:"e07446928e95b81b406592bf95007fb44948c252947304a7b31d34f84e96188ei0"},{id:"card-20",name:"Gecko",rarity:"rare",inscriptionId:"9ad47ae89b8155ea8e4b02f53d4ced920d6dd4aeeaa744b99c44d33265827c44i0"},{id:"card-21",name:"Zebra",rarity:"epic",inscriptionId:"3099b73fd35e81a8bf53a02af99f436d88b73b54945aaa97dfde155a08e174bdi0"},{id:"card-22",name:"Sheep",rarity:"epic",inscriptionId:"4d2d4a2b258b18b95bfc55dc3c31cbcd4b204a4f001c9861793b993487af4560i0"},{id:"card-23",name:"Turtle",rarity:"epic",inscriptionId:"3135eb862f9c56bf1884c05dd80bb28107ba9af82bed83fd39a1ff28e303a8a7i0"},{id:"card-24",name:"Penguin",rarity:"epic",inscriptionId:"2cd0572f35441d5b443ad9c78ec62f84f9b6c77528903c86b8b23b9213f0e7c4i0"},{id:"card-25",name:"Koala",rarity:"epic",inscriptionId:"4f6cce4ab7433ef48222e0a974c3a546f102cf38a455368757f5d5e00bfc1dddi0"},{id:"card-26",name:"Fox",rarity:"legendary",inscriptionId:"e1a16dd9dea8b6ade622d24214c21ec29029127d40aa8ad44aa07c39f4620866i0"},{id:"card-27",name:"Octopus",rarity:"legendary",inscriptionId:"d52730b2f4b8c0095ad82853e3e27d72adaa65796dbb666d929d7ca36f570ad2i0"},{id:"card-28",name:"Ape",rarity:"mystic-legendary",inscriptionId:"3898219212c8a1c66564e60734ab01872315c3900ef782b466caf4ae58c2afdbi0"}]),Gn=[...kI,...a8];Gn.map(e=>({id:e.id,name:e.name,rarity:e.rarity,inscriptionId:e.inscriptionId}));const gi="http://localhost:3003",II=async()=>{const e=await fetch(`${gi}/api/point-shop/items`);if(!e.ok)throw new Error("Failed to fetch point shop items");return(await e.json()).items||[]},l8=async(e,t,r,n=1,i)=>{const s=await fetch(`${gi}/api/point-shop/mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,walletType:r,feeRate:n})});if(!s.ok){const l=await s.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||"Failed to deduct points")}const o=await s.json();if(o.itemType==="series"){const l=await fetch(`${gi}/api/point-shop/mint-series`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,walletType:r,feeRate:n})});if(!l.ok){const d=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(d.error||"Failed to mint series item")}const c=await l.json();if(c.inscriptionItemType==="delegate"){const{mintPointShopItem:d}=await Jt(async()=>{const{mintPointShopItem:f}=await import("./pointShopMinting-GV55suqZ.js");return{mintPointShopItem:f}},[]),u=await d(c.inscriptionId,e,n,r,i);return{inscriptionId:u.inscriptionId,txid:u.txid,paymentTxid:u.paymentTxid,seriesInfo:{currentNumber:c.currentNumber,totalCount:c.totalCount,remaining:c.remaining}}}else{const d=await fetch(`${gi}/api/point-shop/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:c.item.id,recipientAddress:e,feeRate:n,inscriptionId:c.inscriptionId})});if(!d.ok){const f=await d.json().catch(()=>({error:"Unknown error"}));throw new Error(f.error||"Failed to transfer ordinal")}const u=await d.json();if(u.requiresSigning&&u.psbtBase64){const{signPSBT:f}=await Jt(async()=>{const{signPSBT:v}=await Promise.resolve().then(()=>Do);return{signPSBT:v}},void 0),h=(i==null?void 0:i.walletType)||r,p=await f(u.psbtBase64,h,!1),g=await fetch(`${gi}/api/point-shop/transfer/broadcast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:u.inscriptionId,signedPsbtHex:p})});if(!g.ok){const v=await g.json().catch(()=>({error:"Unknown error"}));throw new Error(v.error||"Failed to broadcast transaction")}const m=await g.json();return{inscriptionId:m.inscriptionId,txid:m.txid||"",seriesInfo:{currentNumber:c.currentNumber,totalCount:c.totalCount,remaining:c.remaining}}}return{inscriptionId:u.inscriptionId,txid:u.txid||"",seriesInfo:{currentNumber:c.currentNumber,totalCount:c.totalCount,remaining:c.remaining}}}}else if(o.itemType==="delegate"){const{mintPointShopItem:l}=await Jt(async()=>{const{mintPointShopItem:d}=await import("./pointShopMinting-GV55suqZ.js");return{mintPointShopItem:d}},[]),c=await l(o.delegateInscriptionId,e,n,r);return{inscriptionId:c.inscriptionId,txid:c.txid,paymentTxid:c.paymentTxid}}else{const l=await fetch(`${gi}/api/point-shop/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,itemId:t,recipientAddress:e,feeRate:n})});if(!l.ok){const d=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(d.error||"Failed to transfer ordinal")}const c=await l.json();if(c.requiresSigning&&c.psbtBase64){const{signPSBT:d}=await Jt(async()=>{const{signPSBT:g}=await Promise.resolve().then(()=>Do);return{signPSBT:g}},void 0),u=(i==null?void 0:i.walletType)||r,f=await d(c.psbtBase64,u,!1),h=await fetch(`${gi}/api/point-shop/transfer/broadcast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:c.inscriptionId,signedPsbtHex:f})});if(!h.ok){const g=await h.json().catch(()=>({error:"Unknown error"}));throw new Error(g.error||"Failed to broadcast transaction")}const p=await h.json();return{inscriptionId:p.inscriptionId,txid:p.txid||""}}return{inscriptionId:c.inscriptionId,txid:c.txid||""}}},c8=async(e,t,r,n,i)=>{var c;const s={"Content-Type":"application/json"};n&&n!=="undefined"&&n!==""&&(s["X-Admin-Address"]=n);const o=await fetch(`${gi}/api/point-shop/admin/create-transfer`,{method:"POST",headers:s,body:JSON.stringify({inscriptionId:e,recipientAddress:t,feeRate:r,itemId:i})}),l=await o.json();if(!o.ok)throw new Error(l.msg||((c=l.data)==null?void 0:c.toString())||"Failed to create transfer");if(l.code!==0)throw new Error(l.msg||"Failed to create transfer");return l},x1=async(e,t,r,n=!0,i)=>{const s={"Content-Type":"application/json"};r&&r!=="undefined"&&r!==""&&(s["X-Admin-Address"]=r);const o=await fetch(`${gi}/api/point-shop/admin/confirm-transfer`,{method:"POST",headers:s,body:JSON.stringify({transferId:e,psbt:t,fromBase64:n,itemId:i})});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.msg||c.error||"Failed to confirm transfer")}const l=await o.json();if(l.code!==0)throw new Error(l.msg||"Failed to confirm transfer");return l},Us=Fs(),d8=async()=>{const e=await fetch(`${Us}/api/collections`);if(!e.ok)throw new Error("Failed to fetch collections");return(await e.json()).collections||[]},u8=async e=>{const t=await fetch(`${Us}/api/collections/${e}`);if(!t.ok)throw new Error("Failed to fetch collection");const r=await t.json();return r.collection||r},f8=async e=>{if(!e||e==="undefined"||e==="")throw new Error("Admin address is required");const t={};e&&e!=="undefined"&&e!==""&&(t["X-Admin-Address"]=e);const r=`${Us}/api/collections/admin/all${e&&e!=="undefined"&&e!==""?`?adminAddress=${encodeURIComponent(e)}`:""}`,n=await fetch(r,{headers:t});if(!n.ok)throw new Error("Failed to fetch collections");return(await n.json()).collections||[]},EI=async e=>{if(!e||e==="undefined"||e==="")throw new Error("Admin address is required");const t=`${Us}/api/collections/admin/wallet-inscriptions?address=${encodeURIComponent(e)}`;console.log("[CollectionService] Fetching wallet inscriptions from:",t),console.log("[CollectionService] Admin address:",e),console.log("[CollectionService] Admin address type:",typeof e),console.log("[CollectionService] Admin address length:",e==null?void 0:e.length);const r={};e&&e!=="undefined"&&e!==""&&(r["X-Admin-Address"]=e);const n=await fetch(t,{headers:r});if(console.log("[CollectionService] Response status:",n.status,n.statusText),!n.ok){const o=await n.json().catch(()=>({error:"Unknown error"})),l=o.error||o.message||"";if(n.status===429||l&&(l.toLowerCase().includes("rate limit")||l.toLowerCase().includes("exceeds rate limit")||o.code===-2006)){const u=o.retryAfter||300,f=l||"Rate limit erreicht";throw new Error(`Rate limit erreicht! ${f}. Bitte warten Sie ${u} Sekunden (ca. ${Math.ceil(u/60)} Minuten) bevor Sie es erneut versuchen.`)}const d=o.error||o.message||o.details||`HTTP ${n.status}: ${n.statusText}`;throw new Error(d)}const i=await n.json();console.log("[CollectionService] Response data:",i),console.log("[CollectionService] Response data type:",typeof i),console.log("[CollectionService] Is array?",Array.isArray(i));const s=Array.isArray(i)?i:i.inscriptions||[];return console.log("[CollectionService] Returning inscriptions:",s.length),s},h8=async(e,t)=>{if(!e||e==="undefined"||e==="")throw new Error("Admin address is required");const r={"Content-Type":"application/json"};e&&e!=="undefined"&&e!==""&&(r["X-Admin-Address"]=e);const n={...t};e&&e!=="undefined"&&e!==""&&(n.adminAddress=e),console.log("[CollectionService] Creating collection with:",{name:t.name,price:t.price,itemsCount:t.items.length,adminAddress:e?`${e.substring(0,10)}...`:"MISSING",hasHeader:!!r["X-Admin-Address"]});const i=await fetch(`${Us}/api/collections/admin/create`,{method:"POST",headers:r,body:JSON.stringify(n)});if(!i.ok){const o=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||"Failed to create collection")}return(await i.json()).collection},Im=async(e,t,r)=>{if(!t||t==="undefined"||t==="")throw new Error("Admin address is required");const n={"Content-Type":"application/json"};t&&t!=="undefined"&&t!==""&&(n["X-Admin-Address"]=t);const i=await fetch(`${Us}/api/collections/admin/${e}`,{method:"PUT",headers:n,body:JSON.stringify({...r,adminAddress:t&&t!=="undefined"&&t!==""?t:void 0})});if(!i.ok){const o=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||"Failed to update collection")}return(await i.json()).collection},p8=async(e,t)=>{if(!t||t==="undefined"||t==="")throw new Error("Admin address is required");const r={};t&&t!=="undefined"&&t!==""&&(r["X-Admin-Address"]=t);const n=`${Us}/api/collections/admin/${e}${t&&t!=="undefined"&&t!==""?`?adminAddress=${encodeURIComponent(t)}`:""}`,i=await fetch(n,{method:"DELETE",headers:r});if(!i.ok){const s=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||"Failed to delete collection")}},m8=async(e,t)=>{if(!t||t==="undefined"||t==="")throw new Error("Admin address is required");const r={};t&&t!=="undefined"&&t!==""&&(r["X-Admin-Address"]=t);const n=`${Us}/api/collections/admin/${e}/erase${t&&t!=="undefined"&&t!==""?`?adminAddress=${encodeURIComponent(t)}`:""}`,i=await fetch(n,{method:"DELETE",headers:r});if(!i.ok){const s=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||"Failed to erase collection")}},h0=({inscription:e})=>{var d;const[t,r]=b.useState(!1),[n,i]=b.useState(null);let s=((d=e.contentType)==null?void 0:d.toLowerCase())||"unknown";s==="unknown"&&(e.isDelegate===!0||e.isDelegate==="true")&&(s="text/html");const o=`https://ordinals.com/content/${e.inscriptionId}`,l=s==="text/html"||s.includes("html"),c=e.isDelegate!==!0&&e.isDelegate!=="true"&&!e.originalInscriptionId;if(b.useEffect(()=>{l&&c&&!t&&n===null&&(r(!0),fetch(`https://ordinals.com/content/${e.inscriptionId}`,{method:"GET",headers:{Accept:"text/html,application/json,*/*"}}).then(u=>{if(!u.ok)throw new Error("Failed to fetch content");return u.text()}).then(u=>{if(u&&u.includes("delegate-metadata")){const f=u.match(/<script[^>]*id=["']delegate-metadata["'][^>]*>([\s\S]*?)<\/script>/i);if(f)try{const h=JSON.parse(f[1]);if(h.originalInscriptionId){i({isDelegate:!0,originalInscriptionId:h.originalInscriptionId}),r(!1),console.log(`[InscriptionPreview]  Detected delegate (direct): ${e.inscriptionId} -> Original: ${h.originalInscriptionId}`);return}}catch{}}if(u&&(u.includes("<img")||u.includes("/content/"))){const f=u.match(/\/(content)\/([a-f0-9]{64}i\d+)/i);if(f&&f[2]&&f[2]!==e.inscriptionId){i({isDelegate:!0,originalInscriptionId:f[2]}),r(!1),console.log(`[InscriptionPreview]  Detected delegate via <img> (direct): ${e.inscriptionId} -> Original: ${f[2]}`);return}}i({isDelegate:!1,originalInscriptionId:null}),r(!1)}).catch(u=>{console.error("[InscriptionPreview]  Error checking delegate (direct):",u),r(!1),i({isDelegate:!1,originalInscriptionId:null})}))},[e.inscriptionId,l,c,t,n]),(e.isDelegate===!0||e.isDelegate==="true"||e.originalInscriptionId)&&e.originalInscriptionId){const u=`https://ordinals.com/content/${e.originalInscriptionId}`;return a.jsx("img",{src:u,alt:e.name,className:"w-full h-full object-contain rounded",onError:f=>{const h=f.currentTarget;h.style.display="none";const p=h.parentElement;p&&(p.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Delegate (Original not found)</div></div>')}})}if(n&&n.isDelegate&&n.originalInscriptionId){const u=`https://ordinals.com/content/${n.originalInscriptionId}`;return a.jsx("img",{src:u,alt:e.name,className:"w-full h-full object-contain rounded",onError:f=>{const h=f.currentTarget;h.style.display="none";const p=h.parentElement;p&&(p.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Delegate (Original not found)</div></div>')}})}return l&&c?a.jsx("iframe",{src:o,className:"w-full h-full rounded",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock",title:e.name,style:{border:"none",pointerEvents:"auto"},onError:u=>{const f=u.currentTarget;f.style.display="none";const h=f.parentElement;h&&(h.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">HTML</div></div>')}}):s.includes("image/")||s==="image/svg+xml"||s.includes("svg")?a.jsx("img",{src:o,alt:e.name,className:"w-full h-full object-contain rounded",onError:u=>{const f=u.currentTarget;f.style.display="none";const h=f.parentElement;h&&(h.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">Image</div></div>')}}):(s.includes("text/html")||s.includes("html"))&&e.isDelegate!==!0&&e.isDelegate!=="true"?a.jsx("iframe",{src:o,className:"w-full h-full rounded",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock",title:e.name,style:{border:"none",pointerEvents:"auto"},onError:u=>{const f=u.currentTarget;f.style.display="none";const h=f.parentElement;h&&(h.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-2"><div class="text-4xl mb-2"></div><div class="text-xs text-gray-400 text-center">HTML</div></div>')}}):s.includes("audio/")?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("audio",{src:o,controls:!0,className:"w-full max-w-full",preload:"metadata",children:"Ihr Browser untersttzt das Audio-Element nicht."}),a.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"Audio"})]}):s.includes("video/")?a.jsx("video",{src:o,className:"w-full h-full object-contain rounded",controls:!0,preload:"metadata",children:"Ihr Browser untersttzt das Video-Element nicht."}):s.includes("application/json")||s.includes("json")?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"JSON"})]}):s.includes("text/plain")?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("div",{className:"text-xs text-gray-400 text-center mt-1",children:"Text"})]}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 bg-gray-900 rounded",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsxs("div",{className:"text-xs text-gray-400 text-center mt-1",children:["Unknown (",s,")"]})]})},g8=Fs();async function x8(e,t,r,n){console.log("[CollectionPresigning] Preparing PSBT for pre-signing..."),console.log("  Inscription:",e),console.log("  Owner:",t),console.log("  Fee Rate:",r);const i=await fetch(`${g8}/api/collections/admin/prepare-presign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:e,ownerAddress:t,feeRate:r,adminAddress:n})});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to prepare pre-sign PSBT")}const s=await i.json();return console.log("[CollectionPresigning]  PSBT prepared"),s}const y8=({adminAddress:e})=>{var ue,de;const{walletState:t}=Re(),[r,n]=b.useState([]),[i,s]=b.useState(!0),[o,l]=b.useState([]),[c,d]=b.useState(!1),[u,f]=b.useState(null),[h,p]=b.useState(!1),[g,m]=b.useState(""),[v,x]=b.useState(""),[y,w]=b.useState("all"),[S,j]=b.useState(null),[I,E]=b.useState(!1),[C,T]=b.useState(!1),[K,V]=b.useState(new Map),[P,R]=b.useState(15),[N,M]=b.useState(!1),[O,$]=b.useState({name:"",description:"",thumbnail:"",price:"",items:[],mintType:"individual",page:"",category:"default",showBanner:!1,isBackendSigned:!0,ownerAddress:""});b.useEffect(()=>{e&&e!=="undefined"&&e!==""&&_()},[e]),b.useEffect(()=>{const A=setTimeout(()=>{x(g)},300);return()=>clearTimeout(A)},[g]);const z=async()=>{if(!e||e==="undefined"||e===""){console.warn("[CollectionManager] No admin address provided, cannot load wallet inscriptions"),console.warn("[CollectionManager] adminAddress prop:",e),console.warn("[CollectionManager] adminAddress type:",typeof e),alert("Admin address is not available. Please connect your wallet.");return}console.log("[CollectionManager] Loading wallet inscriptions for:",e),console.log("[CollectionManager] adminAddress type:",typeof e),console.log("[CollectionManager] adminAddress length:",e==null?void 0:e.length),d(!0);try{const A=await EI(e);console.log("[CollectionManager]  Loaded wallet inscriptions:",A.length),console.log("[CollectionManager] First few inscriptions:",A.slice(0,3));const Q=A.filter(ne=>ne.isDelegate===!0||ne.originalInscriptionId);if(console.log(`[CollectionManager]  Found ${Q.length} potential delegate inscriptions (isDelegate=true OR has originalInscriptionId)`),Q.length>0)console.log("[CollectionManager]  First 3 delegate inscriptions:",Q.slice(0,3).map(ne=>({inscriptionId:ne.inscriptionId,isDelegate:ne.isDelegate,originalInscriptionId:ne.originalInscriptionId,contentType:ne.contentType,name:ne.name})));else{console.warn("[CollectionManager]  No delegate inscriptions found! Checking all inscriptions for HTML content...");const ne=A.filter(G=>G.contentType&&(G.contentType.includes("html")||G.contentType.includes("text/html")));console.log(`[CollectionManager]  Found ${ne.length} HTML inscriptions (but not marked as delegates):`,ne.slice(0,3).map(G=>({inscriptionId:G.inscriptionId,contentType:G.contentType,isDelegate:G.isDelegate,originalInscriptionId:G.originalInscriptionId})))}l(A),A.length===0&&(console.warn("[CollectionManager]  No inscriptions found. This might be because:"),console.warn("[CollectionManager]   1. The wallet has no inscriptions"),console.warn("[CollectionManager]   2. The API endpoint returned an error"),console.warn("[CollectionManager]   3. The API key is invalid or missing"),console.warn("[CollectionManager]   4. The address format is incorrect"))}catch(A){console.error("[CollectionManager]  Error loading wallet inscriptions:",A),console.error("[CollectionManager] Error message:",A==null?void 0:A.message),console.error("[CollectionManager] Error stack:",A==null?void 0:A.stack),l([]),alert(`Error loading wallet inscriptions: ${(A==null?void 0:A.message)||"Unknown error"}. Check console for details.`)}finally{d(!1)}};b.useEffect(()=>{h&&e&&e!=="undefined"&&e!==""?(console.log("[CollectionManager] Form opened, loading wallet inscriptions..."),z()):h||(l([]),m(""))},[h,e]);const _=async()=>{if(!e||e==="undefined"||e===""){console.warn("[CollectionManager] No admin address provided, cannot load collections"),s(!1);return}s(!0);try{const A=await f8(e);n(A)}catch(A){console.error("Error loading collections:",A)}finally{s(!1)}},q=A=>{var ne;const Q=(ne=A.target.files)==null?void 0:ne[0];if(Q){const G=new FileReader;G.onloadend=()=>{$({...O,thumbnail:G.result})},G.readAsDataURL(Q)}},H=(A,Q)=>{const ne=O.items.findIndex(G=>G.inscriptionId===A.inscriptionId);if(ne>=0)$({...O,items:O.items.filter((G,ge)=>ge!==ne)});else{const G=`https://ordinals.com/content/${A.inscriptionId}`;$({...O,items:[...O.items,{inscriptionId:A.inscriptionId,name:A.name,type:Q,imageUrl:G}]})}},D=A=>O.items.some(Q=>Q.inscriptionId===A),se=A=>{const Q=O.items.find(ne=>ne.inscriptionId===A);return(Q==null?void 0:Q.type)||"delegate"},ae=()=>{const A=[],Q=new Set(O.items.map(ne=>ne.inscriptionId));Z.forEach(ne=>{if(!Q.has(ne.inscriptionId)){const G=`https://ordinals.com/content/${ne.inscriptionId}`;A.push({inscriptionId:ne.inscriptionId,name:ne.name,type:"delegate",imageUrl:G})}}),$({...O,items:[...O.items,...A]})},ie=()=>{const A=new Set(Z.map(Q=>Q.inscriptionId));$({...O,items:O.items.filter(Q=>!A.has(Q.inscriptionId))})},ce=()=>Z.length===0?!1:Z.every(A=>D(A.inscriptionId)),xe=()=>{new Set(O.items.map(Q=>Q.inscriptionId));const A=O.items.map(Q=>({...Q,type:"original"}));$({...O,items:A}),V(Q=>{const ne=new Map(Q);return A.forEach(G=>{ne.has(G.inscriptionId)||ne.set(G.inscriptionId,{status:"pending"})}),ne})},ve=()=>{const A=O.items.map(Q=>({...Q,type:"delegate"}));$({...O,items:A}),V(Q=>{const ne=new Map(Q);return A.forEach(G=>{G.type==="delegate"&&ne.delete(G.inscriptionId)}),ne})},ee=async A=>{var Q;V(ne=>{const G=new Map(ne);return G.set(A,{status:"preparing"}),G});try{if(!e||e==="undefined"||e==="")throw new Error("Admin address is required for pre-signing");const ne=(Q=t.accounts[0])==null?void 0:Q.address;if(!ne)throw new Error("Wallet not connected or address not found");console.log("[CollectionManager] Preparing pre-sign PSBT..."),console.log("   Inscription:",A),console.log("   Owner:",ne),console.log("   Fee Rate:",P);const G=await x8(A,ne,P,e);V(ge=>{const Ee=new Map(ge);return Ee.set(A,{status:"ready",psbtBase64:G.psbtBase64,ownerAddress:G.ownerAddress}),Ee}),console.log("[CollectionManager]  PSBT prepared for signing")}catch(ne){console.error("[CollectionManager] Error preparing PSBT:",ne),V(G=>{const ge=new Map(G);return ge.set(A,{status:"error",error:ne.message||"Failed to prepare PSBT"}),ge})}},F=async A=>{if(!t.connected||!t.walletType){alert("Please connect your wallet first");return}const Q=K.get(A);if(!(Q!=null&&Q.psbtBase64)){alert("PSBT not prepared yet");return}if(!O.name||O.items.length===0){alert("Please create the collection first before pre-signing");return}V(ne=>{const G=new Map(ne);return G.set(A,{...Q,status:"signing"}),G});try{console.log("[CollectionManager] Signing PSBT with wallet..."),console.log("   Wallet Type:",t.walletType),console.log("   PSBT Length:",Q.psbtBase64.length);const ne=await _y(Q.psbtBase64,t.walletType,!1,Q.ownerAddress,130);console.log("[CollectionManager]  PSBT signed successfully"),console.log("   Signed PSBT Length:",ne.length),V(G=>{const ge=new Map(G);return ge.set(A,{...Q,status:"signed",signedPsbtHex:ne}),ge}),console.log("[CollectionManager]  Pre-signed transaction ready"),console.log("   Will be saved to collection after creation")}catch(ne){console.error("[CollectionManager] Error signing PSBT:",ne),V(G=>{const ge=new Map(G);return ge.set(A,{...Q,status:"error",error:ne.message||"Failed to sign PSBT"}),ge})}},re=async()=>{var Q;const A=O.items.filter(ne=>ne.type==="original");for(const ne of A){const G=(Q=K.get(ne.inscriptionId))==null?void 0:Q.status;(G==="pending"||G==="error"||!G)&&(await ee(ne.inscriptionId),await new Promise(ge=>setTimeout(ge,500)))}},W=async()=>{var Q;if(!t.connected||!t.walletType){alert("Please connect your wallet first");return}const A=O.items.filter(ne=>ne.type==="original");for(const ne of A)((Q=K.get(ne.inscriptionId))==null?void 0:Q.status)==="ready"&&(await F(ne.inscriptionId),await new Promise(ge=>setTimeout(ge,1e3)))},le=()=>{const A=O.items.filter(Q=>Q.type==="original");return A.length===0?!0:A.every(Q=>{var G;return((G=K.get(Q.inscriptionId))==null?void 0:G.status)==="signed"})},k=async()=>{if(!e||e==="undefined"||e===""){alert("Admin address is not available. Please connect your wallet.");return}if(!O.name||!O.price||O.items.length===0){alert("Please fill in all required fields (Name, Price, and select at least one item)");return}if(!O.isBackendSigned&&!O.ownerAddress){alert("Please provide an Owner Address for User-Signed Collections");return}const A=O.items.filter(Q=>Q.type==="original");if(!(O.isBackendSigned&&A.length>0&&!le()&&!confirm("Not all original inscriptions are pre-signed. Do you want to continue anyway?"))){if(!I){E(!0);return}T(!0);try{const Q=O.items.map(G=>{const ge=K.get(G.inscriptionId);return(ge==null?void 0:ge.status)==="signed"&&ge.signedPsbtHex?{...G,signedTxHex:ge.signedPsbtHex,presignedAt:new Date().toISOString()}:G}),ne={name:O.name,description:O.description,thumbnail:O.thumbnail,price:parseFloat(O.price),items:Q,category:O.category,page:O.page,mintType:O.mintType,showBanner:O.showBanner,isBackendSigned:O.isBackendSigned,ownerAddress:O.isBackendSigned?null:O.ownerAddress};u?(await Im(u.id,e,ne),alert("Collection updated successfully!")):(await h8(e,ne),alert("Collection created successfully!")),B(),E(!1),_()}catch(Q){alert(`Error: ${Q.message}`)}finally{T(!1)}}},Y=A=>{f(A),$({name:A.name,description:A.description,thumbnail:A.thumbnail,price:A.price.toString(),items:A.items,mintType:A.mintType||"individual",page:A.page||null,showBanner:A.showBanner!==void 0?A.showBanner:!1,isBackendSigned:A.isBackendSigned!==void 0?A.isBackendSigned:!0,ownerAddress:A.ownerAddress||""});const Q=new Map;A.items.forEach(ne=>{ne.type==="original"&&ne.signedTxHex?(Q.set(ne.inscriptionId,{status:"signed",signedPsbtHex:ne.signedTxHex}),console.log(`[CollectionManager]  Loaded existing signed PSBT for ${ne.inscriptionId.substring(0,20)}...`)):ne.type==="original"&&Q.set(ne.inscriptionId,{status:"pending"})}),V(Q),p(!0)},X=async A=>{if(!e||e==="undefined"||e===""){alert("Admin address is not available. Please connect your wallet.");return}if(confirm("Are you sure you want to deactivate this collection?"))try{await p8(A,e),alert("Collection deactivated successfully!"),_()}catch(Q){alert(`Error: ${Q.message}`)}},U=async(A,Q)=>{if(!e||e==="undefined"||e===""){alert("Admin address is not available. Please connect your wallet.");return}if(confirm(` WARNING: Do you really want to ERASE the collection "${Q}"?

This will PERMANENTLY DELETE the collection and cannot be undone!`)&&confirm(` FINAL WARNING: This will PERMANENTLY DELETE "${Q}"!

This action CANNOT be undone. Are you absolutely sure?`))try{await m8(A,e),alert("Collection permanently erased!"),_()}catch(ne){alert(`Error: ${ne.message}`)}},B=()=>{$({name:"",description:"",thumbnail:"",price:"",items:[],mintType:"individual",page:null,showBanner:!1,isBackendSigned:!0,ownerAddress:""}),f(null),p(!1),V(new Map)};b.useEffect(()=>{if(O.items.length>0){const A=new Map(K);O.items.forEach(Q=>{Q.type==="original"&&!A.has(Q.inscriptionId)&&A.set(Q.inscriptionId,{status:"pending"})}),V(A)}},[O.items]);const Z=o.filter(A=>A.name.toLowerCase().includes(v.toLowerCase())||A.inscriptionId.toLowerCase().includes(v.toLowerCase())?y==="delegate"?A.isDelegate===!0||A.originalInscriptionId!==void 0:y==="original"?A.isDelegate!==!0&&A.originalInscriptionId===void 0:!0:!1);return i?a.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white border-b border-red-600 pb-2",children:"Collection Management"}),a.jsx("button",{onClick:()=>{B(),p(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:"+ New Collection"})]}),h&&a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-6 mb-6",children:[a.jsx("h4",{className:"font-bold text-white mb-4",children:u?"Edit Collection":"Create New Collection"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:O.name,onChange:A=>$({...O,name:A.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"Collection name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Description"}),a.jsx("textarea",{value:O.description,onChange:A=>$({...O,description:A.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",rows:3,placeholder:"Collection description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Thumbnail"}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"text-white text-sm",id:"thumbnail-upload"})}),O.thumbnail&&a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("img",{src:O.thumbnail,alt:"Thumbnail preview",className:"w-20 h-20 object-cover rounded border border-gray-700"}),a.jsx("button",{type:"button",onClick:()=>$({...O,thumbnail:""}),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded text-xs font-semibold",children:"Remove Image"}),O.thumbnail.startsWith("data:")&&a.jsx("span",{className:"text-xs text-green-400",children:" Image uploaded"})]}),!((ue=O.thumbnail)!=null&&ue.startsWith("data:"))&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-500 mt-2 mb-1",children:"Or enter URL:"}),a.jsx("input",{type:"text",value:(de=O.thumbnail)!=null&&de.startsWith("data:")?"":O.thumbnail,onChange:A=>$({...O,thumbnail:A.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"https://example.com/image.png"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Price (BTC) *"}),a.jsx("input",{type:"number",step:"0.00000001",value:O.price,onChange:A=>$({...O,price:A.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"0.0001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Mint Type *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>$({...O,mintType:"individual"}),className:`flex-1 px-3 py-2 rounded text-sm font-semibold transition ${O.mintType==="individual"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Individual (Choose Item)"}),a.jsx("button",{type:"button",onClick:()=>$({...O,mintType:"random"}),className:`flex-1 px-3 py-2 rounded text-sm font-semibold transition ${O.mintType==="random"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Random (Surprise)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.mintType==="individual"?"Users can choose which item to mint":"Users receive a random item from the collection"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Page Assignment"}),a.jsxs("select",{value:O.page||"",onChange:A=>$({...O,page:A.target.value||null}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",children:[a.jsx("option",{value:"",children:"None (General Collection)"}),a.jsx("option",{value:"smile-a-bit",children:"SMILE A BIT (/smile-a-bit)"}),a.jsx("option",{value:"tech-games",children:"Tech & Games (/tech-games)"}),a.jsx("option",{value:"point-shop",children:"Point Shop (/point-shop)"}),a.jsx("option",{value:"gallery",children:"Gallery (/gallery)"}),a.jsx("option",{value:"trading",children:"Trading (/trading)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which page this collection should appear on. Leave empty for general collections."})]}),a.jsxs("div",{className:"bg-gray-800 border border-yellow-600 rounded p-4",children:[a.jsx("label",{className:"text-sm font-bold text-yellow-400 block mb-2",children:" Show Recent Mints Banner"}),a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:O.showBanner,onChange:A=>$({...O,showBanner:A.target.checked}),className:"w-5 h-5 text-red-600 bg-black border-gray-700 rounded focus:ring-red-500 cursor-pointer"}),a.jsx("span",{className:"text-sm text-white font-semibold",children:O.showBanner?" Enabled":" Disabled"})]})}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"When enabled, a banner showing the last 10 minted items (or wallet items if no mints yet) will be displayed on the minting page."})]}),a.jsxs("div",{className:"bg-gray-800 border border-blue-600 rounded p-4",children:[a.jsx("label",{className:"text-sm font-bold text-blue-400 block mb-2",children:" Collection Signing Type"}),a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:O.isBackendSigned,onChange:A=>$({...O,isBackendSigned:A.target.checked}),className:"w-5 h-5 text-blue-600 bg-black border-gray-700 rounded focus:ring-blue-500 cursor-pointer"}),a.jsx("span",{className:"text-sm text-white font-semibold",children:O.isBackendSigned?" Backend-Signed (Admin Collection)":" User-Signed (User Collection)"})]})}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[a.jsx("strong",{children:"Backend-Signed:"})," You pre-sign originals. Instant transfer after purchase.",a.jsx("br",{}),a.jsx("strong",{children:"User-Signed:"})," User signs with their wallet during minting. No pre-signing needed."]}),!O.isBackendSigned&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Owner Address (for User-Signed Collections) *"}),a.jsx("input",{type:"text",value:O.ownerAddress,onChange:A=>$({...O,ownerAddress:A.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"bc1p... (address where originals are stored)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is YOUR wallet address where the original inscriptions are stored. Users will be prompted to sign with this address during minting."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-gray-400",children:["Select Items from Wallet (",O.items.length," selected) *"]}),!c&&Z.length>0&&a.jsx("div",{className:"flex gap-2",children:ce()?a.jsx("button",{onClick:ie,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs font-semibold text-white",children:"Deselect All"}):a.jsxs("button",{onClick:ae,className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-xs font-semibold text-white",children:["Select All (",Z.length,")"]})})]}),O.items.length>0&&a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsxs("button",{onClick:xe,className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded text-xs font-semibold text-white",title:"Set all selected items to Original (requires pre-signing)",children:["Set All to Original (",O.items.length,")"]}),a.jsxs("button",{onClick:ve,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs font-semibold text-white",title:"Set all selected items to Delegate (no pre-signing needed)",children:["Set All to Delegate (",O.items.length,")"]})]}),a.jsxs("div",{className:"mb-2 flex gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:g,onChange:A=>m(A.target.value),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"Search inscriptions..."})}),a.jsxs("select",{value:y,onChange:A=>w(A.target.value),className:"px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"delegate",children:"Only Delegates"}),a.jsx("option",{value:"original",children:"Only Originals"})]})]}),e?c?a.jsx("div",{className:"text-gray-400 text-sm py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}),a.jsx("span",{children:"Loading wallet inscriptions..."})]})}):a.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:Z.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:o.length===0?"No inscriptions found in wallet":"No inscriptions match your search"}),o.length>0&&a.jsxs("p",{className:"text-gray-500 text-xs",children:["Showing ",Z.length," of ",o.length," inscriptions"]})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Z.map(A=>{var ge;const Q=D(A.inscriptionId),ne=se(A.inscriptionId);let G=((ge=A.contentType)==null?void 0:ge.toLowerCase())||"unknown";return G==="unknown"&&(A.isDelegate===!0||A.isDelegate==="true")&&(G="text/html"),a.jsxs("div",{className:`border rounded p-2 cursor-pointer transition ${Q?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>H(A,ne),children:[a.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:a.jsx(h0,{inscription:A})}),a.jsx("div",{className:"text-xs text-white truncate mb-1",children:A.name}),a.jsx("div",{className:"text-xs text-gray-500 truncate mb-1",children:G}),Q&&a.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[a.jsxs("select",{value:ne,onChange:Ee=>{const Ae=O.items.map(ut=>ut.inscriptionId===A.inscriptionId?{...ut,type:Ee.target.value}:ut);$({...O,items:Ae}),Ee.target.value==="original"&&V(ut=>{const Ye=new Map(ut);return Ye.has(A.inscriptionId)||Ye.set(A.inscriptionId,{status:"pending"}),Ye})},onClick:Ee=>Ee.stopPropagation(),className:"text-xs bg-gray-700 text-white rounded px-1 py-0.5",children:[a.jsx("option",{value:"delegate",children:"Delegate"}),a.jsx("option",{value:"original",children:"Original"})]}),ne==="original"&&a.jsx("div",{className:"flex items-center gap-1",children:(()=>{const Ee=K.get(A.inscriptionId);return Ee?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${Ee.status==="signed"?"bg-green-600 text-white":Ee.status==="ready"?"bg-blue-600 text-white":Ee.status==="error"?"bg-red-600 text-white":Ee.status==="preparing"||Ee.status==="signing"?"bg-yellow-600 text-black":"bg-gray-600 text-white"}`,children:Ee.status==="signed"?" Signed":Ee.status==="ready"?" Ready":Ee.status==="error"?" Error":Ee.status==="preparing"?" Preparing...":Ee.status==="signing"?" Signing...":" Pending"}),Ee.status==="pending"&&a.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),ee(A.inscriptionId)},className:"text-[10px] px-1 py-0.5 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Prepare"}),Ee.status==="ready"&&t.connected&&a.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),F(A.inscriptionId)},className:"text-[10px] px-1 py-0.5 bg-green-600 hover:bg-green-700 text-white rounded",children:"Sign"}),Ee.status==="error"&&a.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),ee(A.inscriptionId)},className:"text-[10px] px-1 py-0.5 bg-red-600 hover:bg-red-700 text-white rounded",children:"Retry"})]}):null})()})]})]},A.inscriptionId)})})}):a.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Please connect admin wallet to view inscriptions"})]}),O.isBackendSigned&&O.items.some(A=>A.type==="original")&&a.jsxs("div",{className:"bg-gray-800 border border-yellow-600 rounded p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h5",{className:"text-sm font-bold text-yellow-400",children:" Pre-Signing Required for Original Inscriptions"}),a.jsxs("div",{className:"text-xs text-gray-400",children:[O.items.filter(A=>A.type==="original").length," original(s) selected"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Fee Rate (sat/vB):"}),a.jsx("input",{type:"number",min:"1",value:P,onChange:A=>R(parseInt(A.target.value,10)),className:"w-20 px-2 py-1 bg-black border border-gray-700 rounded text-white text-xs"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:re,disabled:O.items.filter(A=>A.type==="original").some(A=>{var ne;const Q=(ne=K.get(A.inscriptionId))==null?void 0:ne.status;return Q==="preparing"||Q==="signing"}),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-xs font-semibold text-white",children:"Prepare All PSBTs"}),a.jsx("button",{onClick:W,disabled:!t.connected||O.items.filter(A=>A.type==="original").some(A=>{var ne;const Q=(ne=K.get(A.inscriptionId))==null?void 0:ne.status;return Q==="preparing"||Q==="signing"}),className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-xs font-semibold text-white",children:"Sign All PSBTs"})]}),le()&&O.items.some(A=>A.type==="original")&&a.jsx("div",{className:"text-xs text-green-400 font-semibold",children:" All original inscriptions pre-signed and ready!"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:u?"Update Collection":"Create Collection"}),a.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded font-semibold text-sm",children:"Cancel"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-white mb-3",children:["Collections (",r.length,")"]}),r.length===0?a.jsx("p",{className:"text-gray-400 text-sm",children:"No collections yet"}):a.jsx("div",{className:"space-y-4",children:r.map(A=>a.jsx("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.thumbnail&&a.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded flex items-center justify-center flex-shrink-0",children:a.jsx("img",{src:A.thumbnail,alt:A.name,className:"w-full h-full object-cover rounded",onError:Q=>{Q.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h5",{className:"font-bold text-white text-lg",children:A.name}),!A.active&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-700 text-white rounded",children:"Inactive"})]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:A.description}),a.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[a.jsxs("span",{className:"text-red-600 font-bold",children:[A.price," BTC"]}),a.jsxs("span",{className:"text-gray-500 text-xs",children:[A.items.length," items"]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-semibold ${A.mintType==="random"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:A.mintType==="random"?" Random":" Individual"})]})]})]})}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>Y(A),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm font-semibold text-white",children:"Edit"}),A.mintType!=="random"&&a.jsx("button",{onClick:async()=>{if(confirm(`Set "${A.name}" to Random Mint? Users will receive a random item instead of choosing.`))try{await Im(A.id,e,{mintType:"random"}),alert("Collection set to Random Mint!"),_()}catch(Q){alert(`Error: ${Q.message}`)}},className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-sm font-semibold text-white",children:"Set Random"}),A.mintType==="random"&&a.jsx("button",{onClick:async()=>{if(confirm(`Set "${A.name}" to Individual Mint? Users will be able to choose which item to mint.`))try{await Im(A.id,e,{mintType:"individual"}),alert("Collection set to Individual Mint!"),_()}catch(Q){alert(`Error: ${Q.message}`)}},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm font-semibold text-white",children:"Set Individual"}),a.jsx("button",{onClick:()=>X(A.id),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white",children:"Deactivate"}),a.jsx("button",{onClick:()=>U(A.id,A.name),className:"px-3 py-1 bg-red-800 hover:bg-red-900 rounded text-sm font-semibold text-white",title:"Permanently delete this collection (cannot be undone)",children:" Erase"})]})]})},A.id))})]})]})},v8=({onClose:e})=>{var I,E;const{walletState:t}=Re(),[r,n]=b.useState("overview"),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(null),[u,f]=b.useState([]),[h,p]=b.useState(!0),[g,m]=b.useState(null),v=t.connected&&((I=t.accounts[0])==null?void 0:I.address)&&Hi(t.accounts[0].address),x=(E=t.accounts[0])==null?void 0:E.address;b.useEffect(()=>{v||(console.warn("Unauthorized access attempt to Admin Panel"),e())},[v,e]),b.useEffect(()=>{v&&x&&(async()=>{if(!x){m("No admin address available"),p(!1);return}p(!0),m(null);try{const[T,K,V,P]=await Promise.all([JO(x).catch(R=>(console.warn("[AdminPanel] Failed to load collection stats:",R),null)),Oy(x).catch(R=>(console.warn("[AdminPanel] Failed to load hashlist:",R),null)),t8(x).catch(R=>(console.warn("[AdminPanel] Failed to load admin stats:",R),null)),r8(x).catch(R=>(console.warn("[AdminPanel] Failed to load trade offers:",R),[]))]);s(T),d(K),l(V),f(P||[])}catch(T){console.error("[AdminPanel]  Failed to load admin data:",T),m(T.message||"Failed to load admin data. Please check backend connection.")}finally{p(!1)}})()},[v,x]);const y=async()=>{if(!x){alert("Admin address required");return}await QO(x)},w=async()=>{if(!x){alert("Admin address required");return}await e8(x)},S=async()=>{if(!x){alert("Admin address required");return}try{await n8(x),alert("Ordner wird geffnet...")}catch(C){alert(`Fehler: ${C.message}`)}},j=async()=>{if(!x){alert("Admin address required");return}try{await i8(x)}catch(C){alert(`Fehler: ${C.message}`)}};return v?a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-1 sm:p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white",children:"Admin Panel"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"overflow-x-auto px-4 pt-4 border-b-2 border-gray-800 scrollbar-hide",style:{WebkitOverflowScrolling:"touch"},children:a.jsxs("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[a.jsx("button",{onClick:()=>n("overview"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="overview"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Overview"}),a.jsxs("button",{onClick:()=>n("trades"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="trades"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:["Trades (",u.length,")"]}),a.jsx("button",{onClick:()=>n("cards"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="cards"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Cards"}),a.jsx("button",{onClick:()=>n("pointShop"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="pointShop"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Shop"}),a.jsx("button",{onClick:()=>n("collections"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="collections"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"Collections"}),a.jsx("button",{onClick:()=>n("smileABit"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="smileABit"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:"SMILE"}),a.jsx("button",{onClick:()=>n("mintingLogs"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="mintingLogs"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:" Logs"}),a.jsx("button",{onClick:()=>n("settings"),className:`px-3 sm:px-4 py-2 font-semibold transition text-sm sm:text-base whitespace-nowrap ${r==="settings"?"text-red-600 border-b-2 border-red-600":"text-gray-400 hover:text-white"}`,children:""})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:h?a.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):g?a.jsxs("div",{className:"text-red-600 text-center py-8",children:[a.jsx("p",{className:"font-bold mb-2",children:"Error loading admin data"}),a.jsx("p",{className:"text-sm",children:g})]}):a.jsxs(a.Fragment,{children:[r==="overview"&&a.jsxs("div",{className:"space-y-6",children:[i&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Collection Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Packs"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:i.totalPacks})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Starter Packs"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:i.starterPacks})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Premium Packs"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:i.premiumPacks})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Inscriptions"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:i.totalInscriptions})]})]}),i.byRarity&&Object.keys(i.byRarity).length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"By Rarity"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:Object.entries(i.byRarity).map(([C,T])=>a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-2",children:[a.jsx("p",{className:"text-gray-400 text-xs capitalize",children:C}),a.jsx("p",{className:"text-white text-lg font-bold",children:T})]},C))})]})]}),o&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"System Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Delegates"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:o.totalDelegates||0})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Total Trade Offers"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:o.totalTradeOffers||0})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Active Offers"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:o.activeTradeOffers||0})]})]})]}),a.jsxs("div",{className:"border-t border-red-600 pt-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Export Functions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded border border-white transition",children:"Export Full Hashlist (JSON)"}),a.jsx("button",{onClick:w,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:"Export Simple (Inscription IDs only)"}),a.jsx("button",{onClick:j,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:"Export All Cards Info (JSON)"}),a.jsx("button",{onClick:S,className:"bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded border border-red-600 transition",children:" Open Card Images Folder"})]})]})]}),r==="trades"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Trade Offers Management"}),u.length===0?a.jsx("div",{className:"text-center py-8 text-gray-400",children:a.jsx("p",{children:"No trade offers found"})}):a.jsx("div",{className:"space-y-3",children:u.map(C=>a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-mono text-gray-400",children:C.offerId}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Maker: ",C.maker.slice(0,12),"..."]})]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${C.status==="active"?"bg-green-900 text-green-200":"bg-gray-700 text-gray-300"}`,children:C.status})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:["Offers (",C.offerCards.length,"):"]}),a.jsxs("div",{className:"space-y-1",children:[C.offerCards.slice(0,3).map(T=>a.jsxs("p",{className:"text-xs font-mono text-white",children:[T.slice(0,16),"..."]},T)),C.offerCards.length>3&&a.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.offerCards.length-3," more"]})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:["Wants (",C.requestCards.length,"):"]}),a.jsxs("div",{className:"space-y-1",children:[C.requestCards.slice(0,3).map(T=>a.jsxs("p",{className:"text-xs font-mono text-white",children:[T.slice(0,16),"..."]},T)),C.requestCards.length>3&&a.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.requestCards.length-3," more"]})]})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Created: ",new Date(C.createdAt).toLocaleString()]})]},C.offerId))})]}),r==="cards"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:["All Cards (",Gn.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto",children:Gn.map(C=>a.jsx(b8,{card:C},C.id))})]}),r==="pointShop"&&a.jsx(w8,{adminAddress:x}),r==="collections"&&x&&x!=="undefined"&&x!==""&&a.jsx(y8,{adminAddress:x}),r==="collections"&&(!x||x==="undefined"||x==="")&&a.jsx("div",{className:"text-white text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Please connect your admin wallet to manage collections."})}),r==="mintingLogs"&&x&&a.jsx(j8,{adminAddress:x}),r==="settings"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Admin Settings"}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[a.jsx("h4",{className:"font-bold text-white mb-3",children:"System Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Total Cards:"})," ",Gn.length]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Animal Cards:"})," ",Gn.filter(C=>C.cardType==="animal").length]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Action Cards:"})," ",Gn.filter(C=>C.cardType==="action").length]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Status Cards:"})," ",Gn.filter(C=>C.cardType==="status").length]})]})]}),c&&a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[a.jsx("h4",{className:"font-bold text-white mb-3",children:"Collection Info"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Collection ID:"})," ",c.collection]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Total Minted:"})," ",c.totalMinted," inscriptions"]}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Generated:"})," ",new Date(c.generatedAt).toLocaleString()]})]})]})]})]})})]})}):null},b8=({card:e})=>{const[t,r]=b.useState(!1),[n,i]=b.useState(()=>e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")?`https://ordinals.com/content/${e.inscriptionId}`:""),s=l=>{const d=l.target.src;if(console.error(`[AdminPanel] Image load error for ${e.name} from ${d}`),d.includes("ordinals.com/content")){const u=`https://ordinals.com/preview/${e.inscriptionId}`;console.log(`[AdminPanel] Trying preview URL: ${u}`),i(u)}else if(d.includes("ordinals.com/preview")){const u=`https://ordiscan.com/content/${e.inscriptionId}`;console.log(`[AdminPanel] Trying ordiscan URL: ${u}`),i(u)}else console.error(`[AdminPanel] All image sources failed for ${e.name}`),r(!0)},o=e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-");return a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3 hover:border-red-500 transition",children:[a.jsx("div",{className:"mb-3 aspect-square bg-black rounded overflow-hidden flex items-center justify-center border border-gray-700",children:o?t?a.jsxs("div",{className:"text-red-500 text-xs text-center p-2",children:[a.jsx("p",{children:"Error loading image"}),a.jsx("p",{className:"text-gray-500 mt-1 text-[10px] break-all",children:e.inscriptionId}),e.svgIcon&&a.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 mt-2",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):a.jsx("img",{src:n,alt:e.name,className:"w-full h-full object-contain",onError:s,onLoad:()=>{console.log(`[AdminPanel]  Image loaded successfully for ${e.name} (${e.cardType}) from ${n}`)}},n):e.svgIcon?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",dangerouslySetInnerHTML:{__html:e.svgIcon}}):a.jsx("div",{className:"text-gray-500 text-xs",children:"No preview"})}),a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold text-white",children:e.name}),a.jsx("p",{className:"text-xs text-gray-400 capitalize",children:e.rarity}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.cardType||"animal"})]}),a.jsx("span",{className:"text-xs px-2 py-1 bg-red-600 text-white rounded ml-2",children:e.id})]}),a.jsx("p",{className:"text-xs font-mono text-gray-400 break-all mt-2 truncate",title:e.inscriptionId,children:e.inscriptionId}),e.effect&&a.jsx("p",{className:"text-xs text-gray-300 mt-2 italic line-clamp-2",children:e.effect})]})},w8=({adminAddress:e})=>{const t="http://localhost:3003",{walletState:r}=Re(),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState([]),[d,u]=b.useState(!1),[f,h]=b.useState(""),[p,g]=b.useState(new Set),[m,v]=b.useState("single"),[x,y]=b.useState({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),[w,S]=b.useState(!1),[j,I]=b.useState(null),[E,C]=b.useState([]),[T,K]=b.useState(15),[V,P]=b.useState(e||""),[R,N]=b.useState(""),[M,O]=b.useState(!1),[$,z]=b.useState(null);b.useEffect(()=>{_()},[]),b.useEffect(()=>{(x.itemType==="original"||m==="series"||m==="bulk")&&e?q():m==="single"&&x.itemType==="delegate"&&(c([]),h(""),g(new Set))},[x.itemType,e,m]);const _=async()=>{o(!0);try{const F=await II();i(F)}catch(F){console.error("Error loading point shop items:",F)}finally{o(!1)}},q=async()=>{if(e){u(!0);try{const F=await EI(e);c(F)}catch(F){console.error("Error loading wallet inscriptions:",F),c([])}finally{u(!1)}}},H=F=>{y({...x,inscriptionId:F})},D=F=>{const re=new Set(p);re.has(F)?re.delete(F):re.add(F),g(re)},se=l.filter(F=>F.name.toLowerCase().includes(f.toLowerCase())||F.inscriptionId.toLowerCase().includes(f.toLowerCase())),ae=async()=>{try{if(m==="single"){if(!x.inscriptionId||!x.title||!x.pointsCost){alert("Please fill in all required fields (Inscription ID, Title, Points)");return}const F=await fetch(`${t}/api/point-shop/admin/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemType:x.itemType,inscriptionId:x.inscriptionId,title:x.title,description:x.description,pointsCost:parseInt(x.pointsCost,10)})});if(!F.ok){const W=await F.json().catch(()=>({error:"Unknown error"}));throw new Error(W.error||"Failed to add item")}const re=await F.json();await _(),x.itemType==="original"&&re.item?(I(re.item),C([{inscriptionId:x.inscriptionId,status:"pending"}]),S(!0)):(y({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert("Item added successfully!"))}else if(m==="series"){if(p.size===0||!x.title||!x.pointsCost){alert("Please select at least one inscription and fill in title and points");return}const F=Array.from(p),re=await fetch(`${t}/api/point-shop/admin/add-series`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionIds:F,title:x.title,description:x.description,pointsCost:parseInt(x.pointsCost,10),totalCount:F.length,inscriptionItemType:x.itemType})});if(!re.ok){const le=await re.json().catch(()=>({error:"Unknown error"}));throw new Error(le.error||"Failed to add series")}const W=await re.json();await _(),x.itemType==="original"&&W.item?(I(W.item),C(F.map(le=>({inscriptionId:le,status:"pending"}))),S(!0)):(g(new Set),y({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert(`Series with ${F.length} items created successfully!`))}else if(m==="bulk"){if(p.size===0||!x.title||!x.pointsCost){alert("Please select at least one inscription and fill in title and points");return}const F=Array.from(p),re=await fetch(`${t}/api/point-shop/admin/add-bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemType:x.itemType,inscriptionIds:F,title:x.title,description:x.description,pointsCost:parseInt(x.pointsCost,10)})});if(!re.ok){const le=await re.json().catch(()=>({error:"Unknown error"}));throw new Error(le.error||"Failed to add bulk items")}const W=await re.json();await _(),x.itemType==="original"&&W.items&&W.items.length>0?(I(W.items[0]),C(F.map(le=>({inscriptionId:le,status:"pending"}))),S(!0)):(g(new Set),y({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""}),alert(`${W.itemsCreated||F.length} items created successfully!`))}}catch(F){alert(`Error: ${F.message}`)}},ie=async(F,re)=>{var le;if(!j||!e)return;const W=[...E];W[re]={...W[re],status:"preparing"},C(W);try{console.log("[AdminPanel] Calling createTransfer for inscription:",F);const k=await c8(F,V||e,T,e,j.id);console.log("[AdminPanel] createTransfer successful:",{transferId:k.data.transferId,hasPsbt:!!k.data.psbt,psbtLength:(le=k.data.psbt)==null?void 0:le.length}),C(Y=>{const X=[...Y];return X[re]={...X[re],status:"ready",transferId:k.data.transferId,psbtBase64:k.data.psbt},console.log("[AdminPanel] Status updated to ready for index:",re,"new status:",X[re].status),X})}catch(k){console.error("[AdminPanel] createTransfer error:",k),C(Y=>{const X=[...Y];return X[re]={...X[re],status:"error",error:k.message||"Failed to create transfer"},X})}},ce=async(F,re)=>{var le;if(!j||!r.connected||!r.walletType)return;const W=E[re];if(!W.psbtBase64||!W.transferId){alert("PSBT not prepared yet or transferId missing");return}C(k=>{const Y=[...k];return Y[re]={...Y[re],status:"signing"},Y});try{console.log("[AdminPanel] Signing PSBT for inscription:",F,"index:",re),console.log("[AdminPanel] PSBT Base64 length:",(le=W.psbtBase64)==null?void 0:le.length),console.log("[AdminPanel] Wallet type:",r.walletType),console.log("[AdminPanel] Transfer ID:",W.transferId),console.log("[AdminPanel] Calling signPSBT...");const k=await _y(W.psbtBase64,r.walletType,!1);console.log("[AdminPanel] PSBT signed successfully, signed PSBT length:",k==null?void 0:k.length),console.log("[AdminPanel] PSBT signed, confirming transfer:",W.transferId);const Y=await x1(W.transferId,k,e,!0,j.id);console.log("[AdminPanel] Transfer confirmed for index:",re),C(X=>{const U=[...X];return U[re]={...U[re],status:"signed"},U}),await _()}catch(k){console.error("[AdminPanel] Error signing PSBT for index:",re,k),C(Y=>{const X=[...Y];return X[re]={...X[re],status:"error",error:k.message||"Failed to sign or confirm transfer"},X})}},xe=async()=>{if(j)for(let F=0;F<E.length;F++)E[F].status==="pending"&&(await ie(E[F].inscriptionId,F),await new Promise(re=>setTimeout(re,500)))},ve=async()=>{if(!j||!r.connected||!r.walletType){alert("Please connect your wallet first");return}try{const F=E.map((W,le)=>({...W,index:le})).filter(W=>W.status==="ready"&&W.psbtBase64&&W.transferId);if(F.length===0){alert("Keine bereiten PSBTs zum Signieren gefunden");return}const re=[...E];if(F.forEach(W=>{re[W.index]={...re[W.index],status:"signing"}}),C(re),r.walletType==="unisat"&&F.length>1){const W=F.map(le=>le.psbtBase64);try{const le=await vI(W,r.walletType,!1);for(let k=0;k<F.length;k++){const Y=F[k],X=le[k];try{const U=await x1(Y.transferId,X,e,!1,j.id);re[Y.index]={...re[Y.index],status:"signed"}}catch(U){re[Y.index]={...re[Y.index],status:"error",error:U.message||"Failed to confirm transfer"}}}}catch(le){console.warn("[AdminPanel] Batch-Signatur fehlgeschlagen, verwende sequenzielle Signatur:",le);for(const k of F)try{await ce(k.inscriptionId,k.index),await new Promise(Y=>setTimeout(Y,500))}catch(Y){re[k.index]={...re[k.index],status:"error",error:Y.message||"Failed to sign"}}}}else for(const W of F)try{await ce(W.inscriptionId,W.index),await new Promise(le=>setTimeout(le,500))}catch(le){re[W.index]={...re[W.index],status:"error",error:le.message||"Failed to sign"}}C(re),await _(),alert(`${F.length} PSBT(s) erfolgreich signiert!`)}catch(F){console.error("[AdminPanel] Error in handleSignAll:",F),alert(`Fehler beim Signieren: ${F.message}`)}},ee=async F=>{if(confirm("Mchtest du dieses Item wirklich deaktivieren?"))try{if(!(await fetch(`${t}/api/point-shop/admin/item/${F}`,{method:"DELETE"})).ok)throw new Error("Failed to delete item");await _(),alert("Item erfolgreich deaktiviert!")}catch(re){alert(`Fehler: ${re.message}`)}};return s?a.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:"Point Shop Management"}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4 mb-6",children:[a.jsx("h4",{className:"font-bold text-white mb-3",children:"Add New Item"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Create Mode *"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 flex-wrap",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"createMode",value:"single",checked:m==="single",onChange:F=>{v(F.target.value),g(new Set),y({...x,inscriptionId:""})},className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Single Item"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"createMode",value:"series",checked:m==="series",onChange:F=>{v(F.target.value),g(new Set),y({...x,inscriptionId:""})},className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Series (1/N - N/N)"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"createMode",value:"bulk",checked:m==="bulk",onChange:F=>{v(F.target.value),g(new Set),y({...x,inscriptionId:""})},className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Bulk (Multiple Items)"})]})]})]}),m==="single"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Item Type *"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"itemType",value:"delegate",checked:x.itemType==="delegate",onChange:F=>y({...x,itemType:F.target.value}),className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Delegate (creates new delegate inscription)"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"itemType",value:"original",checked:x.itemType==="original",onChange:F=>y({...x,itemType:F.target.value}),className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Original (transfers existing ordinal)"})]})]})]}),(m==="series"||m==="bulk")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Item Type * (fr die Inskriptionen in Serie/Bulk)"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"itemType",value:"delegate",checked:x.itemType==="delegate",onChange:F=>y({...x,itemType:F.target.value}),className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Delegate"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"itemType",value:"original",checked:x.itemType==="original",onChange:F=>y({...x,itemType:F.target.value}),className:"text-red-600"}),a.jsx("span",{className:"text-white text-sm",children:"Original"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:m==="single"?x.itemType==="delegate"?"Delegate Inscription ID *":"Original Inscription ID *":m==="series"?"Select Inscriptions for Series *":"Select Inscriptions for Bulk *"}),m==="single"&&x.itemType==="original"?a.jsxs("div",{children:[a.jsx("input",{type:"text",value:x.inscriptionId,onChange:F=>y({...x,inscriptionId:F.target.value}),placeholder:"Select from wallet below or enter manually",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm mb-2"}),e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-2",children:a.jsx("input",{type:"text",value:f,onChange:F=>h(F.target.value),placeholder:"Search inscriptions...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})}),d?a.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Loading wallet inscriptions..."}):a.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:se.length===0?a.jsx("p",{className:"text-gray-400 text-sm",children:"No inscriptions found"}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:se.map(F=>{const re=x.inscriptionId===F.inscriptionId;return a.jsxs("div",{onClick:()=>H(F.inscriptionId),className:`border rounded p-2 cursor-pointer transition ${re?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,children:[a.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:a.jsx(h0,{inscription:F})}),a.jsx("div",{className:"text-xs text-white truncate mb-1",children:F.name}),a.jsxs("div",{className:"text-xs text-gray-400 font-mono truncate",children:[F.inscriptionId.slice(0,10),"..."]})]},F.inscriptionId)})})})]}):a.jsx("p",{className:"text-gray-400 text-sm",children:"Please connect admin wallet to view inscriptions"})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"text",value:x.inscriptionId,onChange:F=>y({...x,inscriptionId:F.target.value}),placeholder:"e.g. f477036da334ea19d3d2a9dcd1c101641fe196fd67f4ca5f07aae686703930e7i0",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The delegate inscription ID that will be referenced"})]}),m==="series"||m==="bulk"?a.jsx(a.Fragment,{children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-2",children:a.jsx("input",{type:"text",value:f,onChange:F=>h(F.target.value),placeholder:"Search inscriptions...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})}),d?a.jsx("div",{className:"text-gray-400 text-sm py-4",children:"Loading wallet inscriptions..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-700 rounded p-4 bg-black",children:se.length===0?a.jsx("p",{className:"text-gray-400 text-sm",children:"No inscriptions found"}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:se.map(F=>{const re=p.has(F.inscriptionId);return a.jsxs("div",{onClick:()=>D(F.inscriptionId),className:`border rounded p-2 cursor-pointer transition relative ${re?"border-red-600 bg-red-900/20":"border-gray-700 hover:border-gray-600"}`,children:[a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsx("input",{type:"checkbox",checked:re,onChange:()=>D(F.inscriptionId),className:"w-4 h-4 text-red-600 rounded bg-black border-2 border-gray-600",onClick:W=>W.stopPropagation()})}),a.jsx("div",{className:"aspect-square bg-gray-800 rounded mb-2 flex items-center justify-center overflow-hidden",children:a.jsx(h0,{inscription:F})}),a.jsx("div",{className:"text-xs text-white truncate mb-1",children:F.name}),a.jsxs("div",{className:"text-xs text-gray-400 font-mono truncate",children:[F.inscriptionId.slice(0,10),"..."]})]},F.inscriptionId)})})}),m==="series"&&p.size>0&&a.jsxs("div",{className:"mt-2 p-2 bg-blue-900/20 border border-blue-600 rounded text-sm text-blue-300",children:[p.size,' Inskriptionen ausgewhlt fr Serie: "',x.title||"Titel eingeben",'" (1/',p.size," - ",p.size,"/",p.size,")"]}),m==="bulk"&&p.size>0&&a.jsxs("div",{className:"mt-2 p-2 bg-green-900/20 border border-green-600 rounded text-sm text-green-300",children:[p.size," Inskriptionen ausgewhlt. Es werden ",p.size,' separate Items erstellt (jedes mit "',x.title||"Titel",' #1", "#2", etc.).']})]})]}):a.jsx("p",{className:"text-gray-400 text-sm",children:"Please connect admin wallet to view inscriptions"})}):null]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Title *"}),a.jsx("input",{type:"text",placeholder:"e.g. Exclusive Art #1",value:x.title,onChange:F=>y({...x,title:F.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Description"}),a.jsx("textarea",{placeholder:"Item description...",value:x.description,onChange:F=>y({...x,description:F.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Points Cost *"}),a.jsx("input",{type:"number",placeholder:"e.g. 100",value:x.pointsCost,onChange:F=>y({...x,pointsCost:F.target.value}),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",min:"1"})]}),a.jsx("button",{onClick:ae,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:"Add Item"})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4 mb-6",children:[a.jsx("h4",{className:"font-bold text-white mb-3",children:"Restore Items"}),a.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Suche nach Items mit einem bestimmten Titel und reaktiviere sie, falls sie deaktiviert wurden."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:R,onChange:F=>N(F.target.value),placeholder:"z.B. RaBIT 01-05 5mal 1",className:"flex-1 px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"}),a.jsx("button",{onClick:async()=>{if(!R.trim()){alert("Bitte gib einen Titel ein");return}O(!0),z(null);try{const F={"Content-Type":"application/json"};e&&e!=="undefined"&&e!==""&&(F["X-Admin-Address"]=e);const W=await(await fetch(`${t}/api/point-shop/admin/reactivate-by-title`,{method:"POST",headers:F,body:JSON.stringify({title:R})})).json();z(W),W.success&&W.reactivated>0&&await _()}catch(F){z({success:!1,message:F.message||"Fehler beim Wiederherstellen"})}finally{O(!1)}},disabled:M||!R.trim(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded text-white text-sm font-semibold",children:M?"Suche...":"Suchen & Reaktivieren"})]}),$&&a.jsxs("div",{className:`mt-3 p-3 rounded text-sm ${$.success?"bg-green-900/30 border border-green-600 text-green-300":"bg-red-900/30 border border-red-600 text-red-300"}`,children:[a.jsx("p",{children:$.message}),$.found!==void 0&&a.jsxs("p",{className:"mt-1",children:["Gefunden: ",$.found," Items"]}),$.reactivated!==void 0&&a.jsxs("p",{className:"mt-1",children:["Reaktiviert: ",$.reactivated," Items"]}),$.items&&$.items.length>0&&a.jsx("div",{className:"mt-2 space-y-1",children:$.items.map(F=>a.jsxs("div",{className:"text-xs",children:["- ",F.title," (",F.itemType,") - ",F.active?" Aktiv":" Inaktiv"," - ",F.pointsCost," Points"]},F.id))})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-white mb-3",children:["Active Items (",n.length,")"]}),n.length===0?a.jsx("p",{className:"text-gray-400 text-sm",children:"No items yet"}):a.jsx("div",{className:"space-y-4",children:n.map(F=>{let re;F.itemType==="series"?re=F.inscriptionIds&&F.inscriptionIds.length>0?F.inscriptionIds[F.currentIndex||0]||F.inscriptionIds[0]:void 0:re=F.itemType==="delegate"?F.delegateInscriptionId:F.originalInscriptionId;const W=F.itemType==="series"&&F.totalCount&&F.currentIndex!==void 0?F.totalCount-F.currentIndex:null;return a.jsx("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded flex items-center justify-center flex-shrink-0 overflow-hidden",children:re&&a.jsx("img",{src:`https://ordinals.com/content/${re}`,alt:F.title,className:"w-full h-full object-contain rounded",onError:le=>{const k=le.currentTarget;k.style.display="none";const Y=k.parentElement;Y&&(Y.innerHTML='<div class="w-full h-full flex flex-col items-center justify-center p-1"><div class="text-2xl mb-1"></div></div>')}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[a.jsx("h5",{className:"font-bold text-white text-lg",children:F.title}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${F.itemType==="series"?"bg-purple-600 text-white":F.itemType==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:F.itemType==="series"?"Series":F.itemType==="delegate"?"Delegate":"Original"}),F.itemType==="series"&&W!==null&&a.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-800 text-white",children:[W,"/",F.totalCount," left"]})]}),F.itemType==="series"&&F.seriesTitle&&a.jsx("p",{className:"text-xs text-purple-400 mb-1 font-semibold",children:F.seriesTitle}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:F.description}),a.jsxs("div",{className:"mt-2 flex items-center gap-4 flex-wrap",children:[a.jsxs("span",{className:"text-red-600 font-bold",children:[F.pointsCost," Points"]}),F.itemType==="series"&&F.inscriptionIds&&a.jsxs("span",{className:"text-gray-500 text-xs",children:[F.inscriptionIds.length," Inskriptionen"]}),re&&F.itemType!=="series"&&a.jsxs("span",{className:"text-gray-500 text-xs",children:["ID: ",re.slice(0,20),"..."]})]})]})]})}),a.jsx("button",{onClick:()=>ee(F.id),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white",children:"Deactivate"})]})},F.id)})})]}),w&&j&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-1 sm:p-4",children:a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded-lg p-3 sm:p-6 max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:["Pre-Signing: ",j.title]}),a.jsx("button",{onClick:()=>{S(!1),I(null),C([])},className:"text-gray-400 hover:text-white",children:""})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Fr Original-Items mssen Sie die Transaktionen VORHER freigeben. Beim Kauf wird dann nur noch die bereits signierte Transaktion gebroadcastet."}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Fee Rate (sat/vB)"}),a.jsx("input",{type:"number",value:T,onChange:F=>K(parseInt(F.target.value,10)),className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm",min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Recipient (wird beim Kauf berschrieben)"}),a.jsx("input",{type:"text",value:V,onChange:F=>P(F.target.value),placeholder:"bc1p...",className:"w-full px-3 py-2 bg-black border border-gray-700 rounded text-white text-sm"})]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:xe,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-semibold",disabled:E.some(F=>F.status==="preparing"),children:"Prepare All PSBTs"}),r.connected&&a.jsx("button",{onClick:ve,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-semibold",disabled:E.some(F=>F.status==="signing"||F.status==="preparing")||!E.some(F=>F.status==="ready"&&F.psbtBase64&&F.transferId),children:"Sign All"})]})]}),a.jsx("div",{className:"space-y-2",children:E.map((F,re)=>a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-xs text-gray-400 font-mono mb-1",children:[F.inscriptionId.slice(0,20),"..."]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${F.status==="pending"?"bg-gray-600 text-white":F.status==="preparing"?"bg-yellow-600 text-white":F.status==="ready"?"bg-blue-600 text-white":F.status==="signing"?"bg-orange-600 text-white":F.status==="signed"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:F.status==="pending"?"Pending":F.status==="preparing"?"Preparing...":F.status==="ready"?"Ready to Sign":F.status==="signing"?"Signing...":F.status==="signed"?" Signed":"Error"}),F.error&&a.jsx("span",{className:"text-xs text-red-400",children:F.error})]})]}),a.jsxs("div",{className:"flex gap-2",children:[F.status==="pending"&&a.jsx("button",{onClick:()=>ie(F.inscriptionId,re),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs",children:"Prepare"}),F.status==="ready"&&r.connected&&a.jsx("button",{onClick:()=>ce(F.inscriptionId,re),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-xs",children:"Sign"})]})]})},F.inscriptionId))}),E.every(F=>F.status==="signed")&&a.jsxs("div",{className:"mt-4 p-4 bg-green-900/20 border border-green-600 rounded",children:[a.jsx("p",{className:"text-green-400 text-sm font-semibold",children:" Alle Transaktionen wurden erfolgreich freigegeben!"}),a.jsx("button",{onClick:()=>{S(!1),I(null),C([]),y({itemType:"delegate",inscriptionId:"",title:"",description:"",pointsCost:""})},className:"mt-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-semibold",children:"Fertig"})]})]})})]})},j8=({adminAddress:e})=>{var f,h,p,g,m,v,x;const t="http://localhost:3003",[r,n]=b.useState(null),[i,s]=b.useState(!0),[o,l]=b.useState("blackAndWild");b.useEffect(()=>{c()},[e]);const c=async()=>{s(!0);try{const y=await fetch(`${t}/api/admin/logs/all?adminAddress=${encodeURIComponent(e)}`);if(y.ok){const w=await y.json();n(w)}else console.error("Failed to load logs")}catch(y){console.error("Error loading logs:",y)}finally{s(!1)}},d=async y=>{try{const w=await fetch(`${t}/api/admin/logs/${y}/download?adminAddress=${encodeURIComponent(e)}`);if(w.ok){const S=await w.json(),j=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),I=URL.createObjectURL(j),E=document.createElement("a");E.href=I,E.download=`${y}-minting-logs-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(I)}}catch(w){console.error("Error downloading log:",w),alert("Failed to download log")}},u=y=>{if(!r)return;const w=r[y].logs;if(!w||w.length===0){alert("No data to export");return}let S="";y==="blackAndWild"?(S=`ID,Timestamp,Wallet Address,Pack ID,Pack Name,Card Count,Inscription IDs,TXIDs
`,w.forEach(C=>{S+=`"${C.id}","${C.timestamp}","${C.walletAddress}","${C.packId}","${C.packName||""}",${C.cardCount||0},"${(C.inscriptionIds||[]).join("; ")}","${(C.txids||[]).join("; ")}"
`})):y==="techAndGames"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id}","${C.timestamp}","${C.walletAddress}","${C.itemName}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceSats||0}
`})):y==="mixtape"?(S=`ID,Timestamp,Wallet Address,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceInSats||C.priceSats||0}
`})):y==="1984"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||""}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceInSats||0}
`})):y==="nft"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||""}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceInSats||0}
`})):y==="randomStuff"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||""}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceInSats||0}
`})):y==="freeStuff"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,Original Inscription ID,TXID,Price (sats)
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||""}","${C.inscriptionId}","${C.originalInscriptionId||""}","${C.txid||""}",${C.priceInSats||0}
`})):y==="smileABit"?(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,TXID,Price (sats),Payment TXID
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||C.packName||""}","${C.inscriptionId||(C.inscriptionIds||[])[0]||""}","${C.txid||""}",${C.priceInSats||8e3},"${C.paymentTxid||""}"
`})):y==="slums"&&(S=`ID,Timestamp,Wallet Address,Item Name,Inscription ID,TXID,Price (sats),Payment TXID
`,w.forEach(C=>{S+=`"${C.id||""}","${C.timestamp}","${C.walletAddress}","${C.itemName||C.packName||""}","${C.inscriptionId||(C.inscriptionIds||[])[0]||""}","${C.txid||""}",${C.priceInSats||0},"${C.paymentTxid||""}"
`}));const j=new Blob([S],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(j),E=document.createElement("a");E.href=I,E.download=`${y}-minting-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(I)};return i?a.jsx("div",{className:"text-white text-center py-8",children:"Loading logs..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-2",children:" Minting Logs"}),r&&a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2 sm:gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Black & Wild"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:r.blackAndWild.totalMints}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-purple-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Tech & Games"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:r.techAndGames.totalMints}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-blue-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Bitcoin Mixtape"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:r.mixtape.totalMints}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-yellow-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"1984"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((f=r[1984])==null?void 0:f.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-green-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"NFT"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((h=r.nft)==null?void 0:h.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-pink-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Random Stuff"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((p=r.randomStuff)==null?void 0:p.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-emerald-600 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Free Stuff"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((g=r.freeStuff)==null?void 0:g.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-orange-500 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Smile A Bit"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((m=r.smileABit)==null?void 0:m.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]}),a.jsxs("div",{className:"bg-gray-900 border border-violet-500 rounded p-4 text-center",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"SLUMS"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:((v=r.slums)==null?void 0:v.totalMints)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Mints"})]})]}),a.jsx("div",{className:"overflow-x-auto border-b border-gray-700 pb-2 scrollbar-hide",style:{WebkitOverflowScrolling:"touch"},children:a.jsxs("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[a.jsx("button",{onClick:()=>l("blackAndWild"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="blackAndWild"?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" B&W"}),a.jsx("button",{onClick:()=>l("techAndGames"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="techAndGames"?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" T&G"}),a.jsx("button",{onClick:()=>l("mixtape"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="mixtape"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" Tape"}),a.jsx("button",{onClick:()=>l("1984"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="1984"?"bg-yellow-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" 1984"}),a.jsx("button",{onClick:()=>l("nft"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="nft"?"bg-green-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" NFT"}),a.jsx("button",{onClick:()=>l("randomStuff"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="randomStuff"?"bg-pink-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" Random"}),a.jsx("button",{onClick:()=>l("freeStuff"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="freeStuff"?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" Free"}),a.jsx("button",{onClick:()=>l("smileABit"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="smileABit"?"bg-orange-500 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" Smile"}),a.jsx("button",{onClick:()=>l("slums"),className:`px-2 sm:px-4 py-2 rounded-t text-xs sm:text-sm font-semibold transition whitespace-nowrap ${o==="slums"?"bg-violet-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:" SLUMS"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>d(o==="blackAndWild"?"blackandwild":o==="techAndGames"?"techgames":o==="1984"?"1984":o==="nft"?"nft":o==="randomStuff"?"random-stuff":o==="freeStuff"?"free-stuff":o==="smileABit"?"smile-a-bit":o==="slums"?"slums":"mixtape"),className:"px-3 sm:px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-xs sm:text-sm font-semibold",children:" JSON"}),a.jsx("button",{onClick:()=>u(o),className:"px-3 sm:px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-xs sm:text-sm font-semibold",children:" CSV"}),o==="smileABit"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:async()=>{try{const y=await fetch(`${t}/api/smile-a-bit/hashlist`);if(y.ok){const w=await y.json(),S=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),j=URL.createObjectURL(S),I=document.createElement("a");I.href=j,I.download="smile-a-bit-hashlist.json",I.click(),URL.revokeObjectURL(j)}}catch(y){console.error("Hashlist download failed:",y)}},className:"px-3 sm:px-4 py-2 bg-purple-700 hover:bg-purple-600 rounded text-xs sm:text-sm font-semibold",children:" Hashlist"}),a.jsx("button",{onClick:async()=>{try{const y=await fetch(`${t}/api/smile-a-bit/hashlist/sync`,{method:"POST"});if(y.ok){const w=await y.json();alert(`Hashlist Sync: ${w.synced} neue Eintrge aus ${w.totalLogs} Logs`)}}catch(y){console.error("Hashlist sync failed:",y)}},className:"px-3 sm:px-4 py-2 bg-yellow-700 hover:bg-yellow-600 rounded text-xs sm:text-sm font-semibold",children:" Hashlist Sync"})]}),o==="slums"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:async()=>{try{const y=await fetch(`${t}/api/slums/hashlist`);if(y.ok){const w=await y.json(),S=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),j=URL.createObjectURL(S),I=document.createElement("a");I.href=j,I.download="slums-hashlist.json",I.click(),URL.revokeObjectURL(j)}}catch(y){console.error("SLUMS Hashlist download failed:",y)}},className:"px-3 sm:px-4 py-2 bg-purple-700 hover:bg-purple-600 rounded text-xs sm:text-sm font-semibold",children:" Hashlist"}),a.jsx("button",{onClick:async()=>{try{const y=await fetch(`${t}/api/slums/hashlist/sync`,{method:"POST"});if(y.ok){const w=await y.json();alert(`SLUMS Hashlist Sync: ${w.synced} neue Eintrge aus ${w.totalLogs} Logs`)}}catch(y){console.error("SLUMS Hashlist sync failed:",y)}},className:"px-3 sm:px-4 py-2 bg-yellow-700 hover:bg-yellow-600 rounded text-xs sm:text-sm font-semibold",children:" Hashlist Sync"})]}),a.jsx("button",{onClick:c,className:"px-3 sm:px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-xs sm:text-sm font-semibold",children:""})]}),r&&a.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded overflow-hidden",children:a.jsx("div",{className:"max-h-96 overflow-y-auto overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs sm:text-sm min-w-[400px]",children:[a.jsx("thead",{className:"bg-gray-800 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Timestamp"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Wallet"}),o==="blackAndWild"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Pack"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Cards"})]}),o==="techAndGames"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="mixtape"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Inscription"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="1984"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="nft"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="randomStuff"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="smileABit"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]}),o==="slums"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"text-left p-3 text-gray-400",children:"Price"})]})]})}),a.jsx("tbody",{children:!((x=r[o])!=null&&x.logs)||r[o].logs.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"text-center p-8 text-gray-500",children:"No minting logs yet"})}):r[o].logs.slice().reverse().map((y,w)=>{var S,j,I,E;return a.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-3 text-gray-300 text-xs",children:new Date(y.timestamp).toLocaleString()}),a.jsxs("td",{className:"p-3 text-gray-300 font-mono text-xs",children:[(S=y.walletAddress)==null?void 0:S.slice(0,8),"...",(j=y.walletAddress)==null?void 0:j.slice(-6)]}),o==="blackAndWild"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.packName||y.packId}),a.jsx("td",{className:"p-3 text-gray-400",children:y.cardCount||((I=y.inscriptionIds)==null?void 0:I.length)||0})]}),o==="techAndGames"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceSats||0).toLocaleString()," sats"]})]}),o==="mixtape"&&a.jsxs(a.Fragment,{children:[a.jsxs("td",{className:"p-3 text-gray-300 font-mono text-xs",children:[(E=y.inscriptionId)==null?void 0:E.slice(0,12),"..."]}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||y.priceSats||0).toLocaleString()," sats"]})]}),o==="1984"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName||"N/A"}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||0).toLocaleString()," sats"]})]}),o==="nft"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName||"NFT"}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||0).toLocaleString()," sats"]})]}),o==="randomStuff"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName||"Random"}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||0).toLocaleString()," sats"]})]}),o==="smileABit"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName||y.packName||"Smile A Bit"}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||y.priceSats||8e3).toLocaleString()," sats"]})]}),o==="slums"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-3 text-white",children:y.itemName||y.packName||"SLUMS"}),a.jsxs("td",{className:"p-3 text-gray-400",children:[(y.priceInSats||y.priceSats||0).toLocaleString()," sats"]})]})]},y.id||w)})})]})})})]})},S8=({onGalleryClick:e,showFullMenu:t=!0,showMintingMenu:r=!1})=>{var v,x,y,w,S,j;const n=vt(),{walletState:i,disconnect:s,isUnisatInstalled:o,isXverseInstalled:l}=Re(),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[h,p]=b.useState(!1),g=i.connected&&((v=i.accounts[0])==null?void 0:v.address)&&Hi(i.accounts[0].address);sc.useEffect(()=>{console.log("HeaderMenu: walletState updated:",i)},[i]),sc.useEffect(()=>{c&&i.connected&&i.accounts&&i.accounts.length>0&&(console.log("HeaderMenu: Closing wallet modal - wallet connected:",i.accounts[0].address,"State:",i),setTimeout(()=>{d(!1)},500))},[c,i.connected,i.accounts,i]);const m=()=>{s(),f(!1)};return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"fixed top-2 md:top-4 left-2 md:left-4 z-50",children:a.jsxs("button",{onClick:()=>n("/"),className:"bg-black border border-red-600 rounded shadow-lg px-2 md:px-3 py-2 flex items-center gap-2 hover:bg-red-600 active:scale-95 transition-all duration-300 text-sm touch-manipulation",title:"To Home Page",children:[a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Home"})]})}),a.jsx("div",{className:"fixed top-2 md:top-4 right-2 md:right-4 z-50",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>f(!u),className:"bg-black border border-red-600 rounded shadow-lg px-3 py-2 flex items-center gap-2 hover:bg-red-600 transition text-sm",children:i.connected&&i.accounts&&i.accounts.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse",style:{willChange:"opacity, transform"}}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Connected"}),a.jsxs("span",{className:"text-xs font-mono text-gray-300",children:[(y=(x=i.accounts[0])==null?void 0:x.address)==null?void 0:y.slice(0,6),"...",(S=(w=i.accounts[0])==null?void 0:w.address)==null?void 0:S.slice(-4)]}),a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-bold text-white",children:"Connect Wallet"}),a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-black border-2 border-red-600 rounded-lg shadow-xl z-50 py-2",children:i.connected?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-4 py-2 border-b-2 border-red-600",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Wallet"}),a.jsx("p",{className:"text-sm font-bold text-white capitalize",children:i.walletType}),a.jsx("p",{className:"text-xs font-mono text-gray-400 truncate mt-1",children:(j=i.accounts[0])==null?void 0:j.address})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{e(),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"font-semibold",children:"Gallery"})]}),a.jsxs("button",{onClick:()=>{n("/history"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-semibold",children:"History"})]}),a.jsxs("button",{onClick:()=>{n("/play"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsxs("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),a.jsx("span",{className:"font-semibold",children:"Play"})]}),a.jsxs("button",{onClick:()=>{n("/trade"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),a.jsx("span",{className:"font-semibold",children:"Trade"})]})]}),t&&!r&&a.jsxs("button",{onClick:()=>{n("/black-wild"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{className:"font-semibold",children:"Mint"})]}),g&&a.jsxs("button",{onClick:()=>{p(!0),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-semibold",children:"Admin Panel"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/gallery-tool"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-emerald-400",children:""}),a.jsx("span",{className:"font-semibold",children:"Inscription Tool"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/recursive-tool"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-purple-400",children:""}),a.jsx("span",{className:"font-semibold",children:"Recursive Generator"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/collection-data"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-amber-400",children:""}),a.jsx("span",{className:"font-semibold",children:"Collection Data"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/avif-converter"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-green-400",children:""}),a.jsx("span",{className:"font-semibold",children:"AVIF Converter"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/audio-splitter"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-blue-400",children:""}),a.jsx("span",{className:"font-semibold",children:"Audio Splitter"})]}),g&&a.jsxs("button",{onClick:()=>{n("/admin/video-splitter"),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2 border-b border-gray-800",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-purple-400",children:""}),a.jsx("span",{className:"font-semibold",children:"Video Splitter"})]}),a.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-red-600 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{className:"font-semibold",children:"Disconnect"})]})]}):a.jsxs("button",{onClick:()=>{d(!0),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-900 text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-semibold",children:"Connect Wallet"})]})})]})]})}),c&&!i.connected&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>{console.log("WalletConnect callback called, closing modal"),d(!1)}})})]})}),h&&a.jsx(v8,{onClose:()=>p(!1)})]})},My="http://localhost:3003",$y=async e=>{const t=await fetch(`${My}/api/points/${e}`);if(!t.ok)throw new Error("Failed to fetch points");return await t.json()},N8=async(e,t,r,n)=>{const i=await fetch(`${My}/api/points/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,packId:t,packName:r,cardCount:n})});if(!i.ok){const o=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||"Failed to add points")}return await i.json()},k8=async(e,t,r,n)=>{const i=await fetch(`${My}/api/points/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,points:t,reason:r,details:n})});if(!i.ok){const o=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||"Failed to add points")}return await i.json()},Sn=[{id:"krypdroidz",title:"KRYPDROIDZ",description:"Raffle your free Krypdroidz on Soltrix (Solana)",image:"/images/kr0.png",link:"https://www.soltrix.io/mint/krypdroidz-2863/286315fc12",fullWidth:!0,images:["/images/kr0.png","/images/kr1.png","/images/kr2.png","/images/kr3.png","/images/kr4.png"]},{id:"smile-a-bit-banner",title:"SMILE A IT",description:"Mint the lost Smile A Bit Ordinals",image:"/images/smile-collection.png",link:"/smile-a-bit",fullWidth:!0,images:["/images/SmileaBittt.png","/images/smile-preview-1.png","/images/smile-preview-2.png"],isInternal:!0},{id:"bitcoin-mixtape",title:"Bitcoin Mix Tape",description:"17 Tracks fully on-chain - Mint Now!",image:"/mixtape.png",link:"/bitcoin-mixtape",fullWidth:!0,video:"/videos/mixtape-intro.mp4",isInternal:!0},{id:"no-func",title:"NO_FUNC",description:"",image:"/images/NO_FUNC_87.png",link:"https://ord-dropz.xyz/marketplace/listing_1767570381027",fullWidth:!0,images:["/images/NO_FUNC_87.png","/images/NO_FUNC_88.png","/images/NO_FUNC_89.png","/images/NO_FUNC_90.png"]},{id:"scanmode",title:"SCANMODE",description:"Check out on Magic Eden",image:"https://ordinals.com/content/fb6c2e54a61b392ad5699091e68a2d2bfac7af4fe5b2505a25011a7ae4b92be7i0",link:"https://magiceden.io/ordinals/marketplace/scanmode",fullWidth:!0,images:["https://ordinals.com/content/fb6c2e54a61b392ad5699091e68a2d2bfac7af4fe5b2505a25011a7ae4b92be7i0","https://ordinals.com/content/1d70ccfb759800d81ddbc83b7ce1b83b340e76e3d1b99292ef5ea518f06c8b03i0","https://ordinals.com/content/cf3082beecdfff7b004c65b4375be319dd13c2cf9b5ce33e36c615b52ac8c52ei0","https://ordinals.com/content/7f3b75cd161cc196b8cc9b5acf8e84323582c1fc7b1b916ecaf210c0e6e9c788i0","https://ordinals.com/content/877316e6bb31b76389bd33fe4c94f136c3770eb9a080b40a3cbc6cfc1311fa4ai0"]},{id:"santas-revenge",title:"Santas Revenge",description:"Mint on Trio",image:"/images/SantasRevenge.png",link:"https://www.trio.xyz/collections/santas-revenge"},{id:"simulator",title:"Inside the Consciousness Simulator",description:"Mint your Card Packs on ORDX",image:"/images/Simulator.png",link:"https://www.ord-x.com/#Inside-the-Consciousness-Simulator"},{id:"sosevo",title:"Sons of Satoshi Evolution",description:"Check out on Magic Eden",image:"/images/SOSEvo.jpg",link:"https://magiceden.io/ordinals/marketplace/sosevo"},{id:"tactical",title:"Tactical",description:"Live on Lunalauncher",image:"/images/Tactical.jpg",link:"https://lunalauncher.io/#mint/richart-tactical-game"},{id:"thebox",title:"Check out THE BOX space. Every Day on X",description:"Check out on Magic Eden",image:"/images/Box.png",link:"https://magiceden.io/ordinals/marketplace/thebox"}],I8=()=>{var h;const e=vt(),[t,r]=b.useState(0),[n,i]=b.useState(!1);b.useEffect(()=>{if(n)return;const p=setInterval(()=>{r(g=>{const m=Sn[g];if(m!=null&&m.fullWidth)return(g+1)%Sn.length;const v=g+2;return v>=Sn.length?0:v})},5e3);return()=>clearInterval(p)},[n]);const s=()=>{const p=Sn[t];if(p.fullWidth)return[p,null];const g=Sn[(t+1)%Sn.length];if(g.fullWidth){const m=(t+2)%Sn.length;return[p,Sn[m]]}return[p,g]},[o,l]=s(),c=(p,g)=>{g?e(p):window.open(p,"_blank","noopener,noreferrer")},d=p=>{r(p)},u=Math.ceil(Sn.length/2),f=o==null?void 0:o.fullWidth;return a.jsxs("div",{className:"w-full max-w-4xl mx-auto mb-8 relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[f&&o?a.jsx("div",{onClick:()=>c(o.link,o.isInternal),className:"bg-black border-2 border-white rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity relative",children:o.iframeUrl?a.jsxs("div",{className:"relative min-h-[200px] md:min-h-[280px] flex items-stretch overflow-hidden",children:[a.jsx("iframe",{src:o.iframeUrl,className:"absolute inset-0 w-full h-full border-0",title:o.title,sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",style:{pointerEvents:"none",transform:"scale(1)",transformOrigin:"top left"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-black/30 pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex items-end justify-between w-full px-6 py-4 mt-auto",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-white drop-shadow-lg",children:o.title}),a.jsx("p",{className:"text-sm md:text-lg text-green-400 font-semibold mt-1",children:o.description})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-bold text-white transition-colors flex-shrink-0",children:[a.jsx("span",{children:" FREE MINT"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}):o.video?a.jsxs("div",{className:"relative min-h-[120px] md:min-h-[160px] flex items-center",children:[a.jsx("video",{src:o.video,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-60"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full px-6 py-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 md:w-28 md:h-28 flex-shrink-0 rounded-lg overflow-hidden border-2 border-red-600 shadow-lg shadow-red-600/30",children:a.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-white drop-shadow-lg",children:o.title}),a.jsx("p",{className:"text-sm md:text-lg text-red-400 font-semibold mt-1",children:o.description})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg font-bold text-white transition-colors",children:[a.jsx("span",{children:" MINT NOW"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}):a.jsxs("div",{className:"relative flex gap-4 justify-start items-center p-4 pl-6 min-h-[120px] md:min-h-[140px]",children:[(h=o.images)==null?void 0:h.map((p,g)=>a.jsx("div",{className:"flex-shrink-0 h-full flex items-center overflow-hidden",children:a.jsx("img",{src:p,alt:`${o.title} ${g+1}`,className:"h-[100px] md:h-[120px] w-auto object-contain scale-[1.05]",onError:m=>{console.warn(`[NewsBanner] Could not load image: ${p}`),m.currentTarget.style.display="none"}})},g)),a.jsxs("div",{className:"absolute top-4 right-4 md:top-6 md:right-6 text-right",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-lg",children:o.title}),o.description&&a.jsx("p",{className:"text-sm md:text-base text-yellow-400 font-semibold mt-1 drop-shadow-lg",children:o.description}),a.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg font-bold text-white text-sm transition-colors",children:[a.jsx("span",{children:o.isInternal?"MINT NOW":"LFG!"}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}):a.jsx("div",{className:"bg-black border-2 border-white rounded-lg overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-white",children:[a.jsxs("div",{onClick:()=>c(o.link,o.isInternal),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-gray-900 transition-all group",children:[a.jsx("div",{className:"flex-shrink-0 w-24 h-24 md:w-32 md:h-32 overflow-hidden rounded bg-black",children:a.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-110",onError:p=>{console.warn(`[NewsBanner] Could not load image: ${o.image}`),p.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 line-clamp-1",children:o.title}),a.jsx("p",{className:"text-xs md:text-sm text-gray-300 mb-2 line-clamp-1",children:o.description}),a.jsxs("div",{className:"flex items-center text-white text-xs font-semibold",children:[a.jsx("span",{children:"LFG!"}),a.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{onClick:()=>c(l.link,l.isInternal),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-gray-900 transition-all group",children:[a.jsx("div",{className:"flex-shrink-0 w-24 h-24 md:w-32 md:h-32 overflow-hidden rounded bg-black",children:a.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-110",onError:p=>{console.warn(`[NewsBanner] Could not load image: ${l.image}`),p.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 line-clamp-1",children:l.title}),a.jsx("p",{className:"text-xs md:text-sm text-gray-300 mb-2 line-clamp-1",children:l.description}),a.jsxs("div",{className:"flex items-center text-white text-xs font-semibold",children:[a.jsx("span",{children:"LFG!"}),a.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),!f&&a.jsx("div",{className:"flex justify-center gap-2 mt-3",children:Array.from({length:u}).map((p,g)=>{const m=g*2,v=t===m||(t+1)%Sn.length===m||t===Sn.length-1&&g===u-1;return a.jsx("button",{onClick:x=>{x.stopPropagation(),d(m)},className:`h-2 rounded-full transition-all ${v?"w-8 bg-red-600":"w-2 bg-gray-600 hover:bg-gray-500"}`,"aria-label":`Go to slide ${g+1}`},g)})})]})},CI=({src:e,alt:t,className:r="",placeholder:n,onError:i,loading:s="lazy",style:o})=>{const[l,c]=b.useState(!1),[d,u]=b.useState(!1),f=()=>{c(!0)},h=g=>{u(!0),i&&i(g)},p=n||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzE3MTcxNyIvPjwvc3ZnPg==";return d?a.jsx("div",{className:`${r} bg-gradient-to-br from-gray-800 via-gray-900 to-black flex items-center justify-center`,children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("p",{className:"text-xs",children:"Image"})]})}):a.jsxs("div",{className:`relative overflow-hidden ${r}`,children:[!l&&a.jsx("img",{src:p,alt:"",className:"absolute inset-0 w-full h-full object-cover blur-sm scale-110","aria-hidden":"true"}),a.jsx("img",{src:e,alt:t,className:`w-full h-full object-contain transition-opacity duration-500 ${l?"opacity-100":"opacity-0"} ${r}`,loading:s,onLoad:f,onError:h,style:o}),!l&&!d&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50",children:a.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})})]})},p0=async()=>{try{const e=await fetch("https://mempool.space/api/v1/fees/recommended",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return console.warn("Failed to fetch fee rates from mempool.space:",e.status),null;const t=await e.json();return{fastestFee:t.fastestFee||20,halfHourFee:t.halfHourFee||10,hourFee:t.hourFee||5,economyFee:t.economyFee||2,minimumFee:t.minimumFee||1}}catch(e){return console.warn("Error fetching fee rates:",e),{fastestFee:20,halfHourFee:10,hourFee:5,economyFee:2,minimumFee:1}}},E8=(e,t,r=500)=>(130*t+330+40)*e/1e8,y1=e=>e<1e-5?`${(e*1e8).toFixed(0)} sats`:`${e.toFixed(8)} BTC`,Ic="https://mempool.space/api";async function C8(){var e,t,r;try{const n=await fetch(`${Ic}/v1/fees/mempool-blocks`);if(n.ok){const s=await n.json();if(console.log("[Mempool]  Mempool blocks data:",s),s&&s.length>0){const o=s[0],l=s[Math.min(2,s.length-1)],c=s[Math.min(5,s.length-1)];return{fastestFee:o.medianFee||1,halfHourFee:l.medianFee||1,hourFee:c.medianFee||1,economyFee:((e=s[s.length-1])==null?void 0:e.medianFee)||1,minimumFee:((r=(t=s[s.length-1])==null?void 0:t.feeRange)==null?void 0:r[0])||1}}}const i=await fetch(`${Ic}/v1/fees/recommended`);if(!i.ok)throw new Error("Failed to fetch fees");return await i.json()}catch(n){throw console.error("[Mempool] Error fetching fees:",n),n}}async function P8(){try{const e=await fetch(`${Ic}/mempool`);if(!e.ok)throw new Error("Failed to fetch mempool status");return await e.json()}catch(e){throw console.error("[Mempool] Error fetching mempool status:",e),e}}async function PI(){try{const e=await fetch(`${Ic}/v1/mining/blocks/fee-rates/24h`);if(!e.ok)throw new Error("Failed to fetch fee history");return(await e.json()).map(r=>({timestamp:r.timestamp,avgFee:r.avgFee||r.medianFee||0}))}catch(e){return console.error("[Mempool] Error fetching fee history:",e),[]}}async function T8(){try{const e=await fetch(`${Ic}/blocks/tip/height`);if(!e.ok)throw new Error("Failed to fetch block height");return await e.json()}catch(e){return console.error("[Mempool] Error fetching block height:",e),0}}function qd(e){return e<=15?"#10b981":e<=30?"#f59e0b":e<=50?"#f97316":"#ef4444"}const A8=({onDetailsClick:e})=>{const[t,r]=b.useState(null),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState(!1),[d,u]=b.useState(new Date),f=async()=>{console.log("[MempoolBanner]  Fetching mempool data...");try{const[p,g]=await Promise.all([p0(),PI()]);p?(console.log("[MempoolBanner]  Fee Rates:",p),r(p),i(g),c(!1),u(new Date)):c(!0)}catch(p){console.error("[MempoolBanner]  Error fetching data:",p),c(!0)}finally{o(!1)}};if(b.useEffect(()=>{console.log("[MempoolBanner]  Component mounted, starting fetch..."),f();const p=setInterval(f,6e4);return()=>{console.log("[MempoolBanner]  Component unmounted"),clearInterval(p)}},[]),s)return console.log("[MempoolBanner]  Rendering: LOADING state"),a.jsx("div",{className:"fixed top-4 right-52 md:right-64 z-40",children:a.jsx("div",{className:"animate-pulse text-orange-500 text-sm font-semibold",children:" Loading..."})});if(l||!t)return console.log("[MempoolBanner]  Rendering: ERROR state (hiding component)"),null;const h=t.halfHourFee;return a.jsxs("div",{className:"fixed top-4 right-52 md:right-64 z-40 cursor-pointer group",onClick:e,children:[a.jsxs("div",{className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{className:"text-sm font-bold text-orange-500",children:h<1?h.toFixed(1):Math.round(h)}),a.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"sat/vB"}),a.jsx("span",{className:"text-sm group-hover:scale-110 transition-transform",children:""})]}),a.jsx("div",{className:"absolute top-full right-0 mt-2 px-4 py-3 bg-gray-900 border border-orange-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap shadow-2xl",children:a.jsxs("div",{className:"text-sm text-white space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"High:"}),a.jsxs("span",{className:"font-bold text-orange-400",children:[t.fastestFee<1?t.fastestFee.toFixed(2):Math.round(t.fastestFee)," sat/vB"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Medium:"}),a.jsxs("span",{className:"font-bold text-orange-400",children:[t.halfHourFee<1?t.halfHourFee.toFixed(2):Math.round(t.halfHourFee)," sat/vB"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Low:"}),a.jsxs("span",{className:"font-bold text-orange-400",children:[t.hourFee<1?t.hourFee.toFixed(2):Math.round(t.hourFee)," sat/vB"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Min:"}),a.jsxs("span",{className:"font-bold text-orange-400",children:[t.minimumFee<1?t.minimumFee.toFixed(2):Math.round(t.minimumFee)," sat/vB"]})]}),a.jsxs("div",{className:"text-xs text-gray-400 pt-2 border-t border-gray-700",children:["Updated: ",d.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})})]})};function TI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=TI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ve(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=TI(e))&&(n&&(n+=" "),n+=t);return n}var _8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ly(e){if(typeof e!="string")return!1;var t=_8;return t.includes(e)}var O8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M8=new Set(O8);function AI(e){return typeof e!="string"?!1:M8.has(e)}function _I(e){return typeof e=="string"&&e.startsWith("data-")}function ti(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(AI(r)||_I(r))&&(t[r]=e[r]);return t}function Wh(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ti(t)}return typeof e=="object"&&!Array.isArray(e)?ti(e):null}function jr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(AI(r)||_I(r)||Ly(r))&&(t[r]=e[r]);return t}function $8(e){return e==null?null:b.isValidElement(e)?jr(e.props):typeof e=="object"&&!Array.isArray(e)?jr(e):null}var L8=["children","width","height","viewBox","className","style","title","desc"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(null,arguments)}function D8(e,t){if(e==null)return{};var r,n,i=B8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dy=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:o,style:l,title:c,desc:d}=e,u=D8(e,L8),f=s||{width:n,height:i,x:0,y:0},h=Ve("recharts-surface",o);return b.createElement("svg",m0({},jr(u),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,d),r)}),R8=["children","className"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function F8(e,t){if(e==null)return{};var r,n,i=U8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Os=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=F8(e,R8),s=Ve("recharts-layer",n);return b.createElement("g",g0({className:s},jr(i),{ref:t}),r)}),OI=b.createContext(null),z8=()=>b.useContext(OI);function Je(e){return function(){return e}}const MI=Math.cos,mf=Math.sin,Fn=Math.sqrt,gf=Math.PI,Hh=2*gf,x0=Math.PI,y0=2*x0,ea=1e-6,W8=y0-ea;function $I(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function H8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $I;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let K8=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$I:H8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,d=i-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ea)if(!(Math.abs(f*c-d*u)>ea)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=i-l,m=c*c+d*d,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(h),w=s*Math.tan((x0-Math.acos((m+h-v)/(2*x*y)))/2),S=w/y,j=w/x;Math.abs(S-1)>ea&&this._append`L${t+S*u},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*p>u*g)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=t+l,u=r+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ea||Math.abs(this._y1-u)>ea)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%y0+y0),h>W8?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>ea&&this._append`A${n},${n},0,${+(h>=x0)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function By(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new K8(t)}function Ry(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LI(e){this._context=e}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kh(e){return new LI(e)}function DI(e){return e[0]}function BI(e){return e[1]}function RI(e,t){var r=Je(!0),n=null,i=Kh,s=null,o=By(l);e=typeof e=="function"?e:e===void 0?DI:Je(e),t=typeof t=="function"?t:t===void 0?BI:Je(t);function l(c){var d,u=(c=Ry(c)).length,f,h=!1,p;for(n==null&&(s=i(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,d,c),+t(f,d,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Je(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Yd(e,t,r){var n=null,i=Je(!0),s=null,o=Kh,l=null,c=By(d);e=typeof e=="function"?e:e===void 0?DI:Je(+e),t=typeof t=="function"?t:Je(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BI:Je(+r);function d(f){var h,p,g,m=(f=Ry(f)).length,v,x=!1,y,w=new Array(m),S=new Array(m);for(s==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),S[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(y)return l=null,y+""||null}function u(){return RI().defined(i).curve(o).context(s)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Je(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Je(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Je(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Je(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Je(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Je(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Je(!!f),d):i},d.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),d):o},d.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),d):s},d}class FI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function V8(e){return new FI(e,!0)}function G8(e){return new FI(e,!1)}const Fy={draw(e,t){const r=Fn(t/gf);e.moveTo(r,0),e.arc(0,0,r,0,Hh)}},q8={draw(e,t){const r=Fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},UI=Fn(1/3),Y8=UI*2,Z8={draw(e,t){const r=Fn(t/Y8),n=r*UI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},X8={draw(e,t){const r=Fn(t),n=-r/2;e.rect(n,n,r,r)}},J8=.8908130915292852,zI=mf(gf/10)/mf(7*gf/10),Q8=mf(Hh/10)*zI,eM=-MI(Hh/10)*zI,tM={draw(e,t){const r=Fn(t*J8),n=Q8*r,i=eM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=Hh*s/5,l=MI(o),c=mf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Em=Fn(3),rM={draw(e,t){const r=-Fn(t/(Em*3));e.moveTo(0,r*2),e.lineTo(-Em*r,-r),e.lineTo(Em*r,-r),e.closePath()}},nn=-.5,sn=Fn(3)/2,v0=1/Fn(12),nM=(v0/2+1)*3,iM={draw(e,t){const r=Fn(t/nM),n=r/2,i=r*v0,s=n,o=r*v0+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(nn*n-sn*i,sn*n+nn*i),e.lineTo(nn*s-sn*o,sn*s+nn*o),e.lineTo(nn*l-sn*c,sn*l+nn*c),e.lineTo(nn*n+sn*i,nn*i-sn*n),e.lineTo(nn*s+sn*o,nn*o-sn*s),e.lineTo(nn*l+sn*c,nn*c-sn*l),e.closePath()}};function sM(e,t){let r=null,n=By(i);e=typeof e=="function"?e:Je(e||Fy),t=typeof t=="function"?t:Je(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Je(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Je(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function xf(){}function yf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WI(e){this._context=e}WI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aM(e){return new WI(e)}function HI(e){this._context=e}HI.prototype={areaStart:xf,areaEnd:xf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oM(e){return new HI(e)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lM(e){return new KI(e)}function VI(e){this._context=e}VI.prototype={areaStart:xf,areaEnd:xf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cM(e){return new VI(e)}function v1(e){return e<0?-1:1}function b1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(v1(s)+v1(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function w1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Cm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function vf(e){this._context=e}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cm(this,this._t0,w1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cm(this,w1(this,r=b1(this,e,t)),r);break;default:Cm(this,this._t0,r=b1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function GI(e){this._context=new qI(e)}(GI.prototype=Object.create(vf.prototype)).point=function(e,t){vf.prototype.point.call(this,t,e)};function qI(e){this._context=e}qI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function dM(e){return new vf(e)}function uM(e){return new GI(e)}function YI(e){this._context=e}YI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=j1(e),i=j1(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function j1(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function fM(e){return new YI(e)}function Vh(e,t){this._context=e,this._t=t}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hM(e){return new Vh(e,.5)}function pM(e){return new Vh(e,0)}function mM(e){return new Vh(e,1)}function Ia(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function b0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function gM(e,t){return e[t]}function xM(e){const t=[];return t.key=e,t}function yM(){var e=Je([]),t=b0,r=Ia,n=gM;function i(s){var o=Array.from(e.apply(this,arguments),xM),l,c=o.length,d=-1,u;for(const f of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,s)]).data=f;for(l=0,u=Ry(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Je(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Je(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?b0:typeof s=="function"?s:Je(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Ia,i):r},i}function vM(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ia(e,t)}}function bM(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ia(e,t)}}function wM(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}c+=f,d+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,Ia(e,t)}}var Gh={},ZI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ZI);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Uy);var qh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(qh);var Yh={},XI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(XI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI,r=qh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let l=0,c="",d="",u=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=i[l];d?f==="\\"&&l+1<o?(l++,c+=i[l]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,s.push(c),c=""):c+=f:f==="["?(u=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(Yh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI,r=Uy,n=qh,i=Yh;function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?s(l,i.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=s})(Gh);var jM=Gh.get;const Zh=oi(jM);var SM=4;function vs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SM,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function gt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,o)=>{var l=r[o-1];return typeof l=="string"?i+l+s:l!==void 0?i+vs(l)+s:i+s},"")}var hn=e=>e===0?0:e>0?1:-1,ri=e=>typeof e=="number"&&e!=+e,$i=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ie=e=>(typeof e=="number"||e instanceof Number)&&!ri(e),ni=e=>Ie(e)||typeof e=="string",NM=0,Ec=e=>{var t=++NM;return"".concat(e||"").concat(t)},Ms=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&typeof t!="string")return n;var s;if($i(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return ri(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},JI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ar(e,t,r){return Ie(e)&&Ie(t)?vs(e+r*(t-e)):t}function QI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zh(n,t))===r)}var Vt=e=>e===null||typeof e>"u",td=e=>Vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kM(e){return e!=null}function rd(){}var IM=["type","size","sizeType"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(null,arguments)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){EM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=PM(e,"string");return typeof t=="symbol"?t:t+""}function PM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TM(e,t){if(e==null)return{};var r,n,i=AM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eE={symbolCircle:Fy,symbolCross:q8,symbolDiamond:Z8,symbolSquare:X8,symbolStar:tM,symbolTriangle:rM,symbolWye:iM},_M=Math.PI/180,OM=e=>{var t="symbol".concat(td(e));return eE[t]||Fy},MM=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*_M;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$M=(e,t)=>{eE["symbol".concat(td(e))]=t},zy=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=TM(e,IM),s=N1(N1({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=OM(o),p=sM().type(h).size(MM(r,n,o)),g=p();if(g!==null)return g},{className:c,cx:d,cy:u}=s,f=jr(s);return Ie(d)&&Ie(u)&&Ie(r)?b.createElement("path",w0({},f,{className:Ve("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};zy.registerSymbol=$M;var tE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Wy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ly(i)&&(n[i]=s=>r[i](r,s))}),n},LM=(e,t,r)=>n=>(e(t,r,n),null),rE=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Ly(i)&&typeof s=="function"&&(n||(n={}),n[i]=LM(s,t,r))}),n};function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){BM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t,r){return(t=RM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RM(e){var t=FM(e,"string");return typeof t=="symbol"?t:t+""}function FM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t){var r=DM({},e),n=t,i=Object.keys(t),s=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(null,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){zM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zM(e,t,r){return(t=WM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WM(e){var t=HM(e,"string");return typeof t=="symbol"?t:t+""}function HM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cn=32,KM={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function VM(e){var{data:t,iconType:r,inactiveColor:n}=e,i=cn/2,s=cn/6,o=cn/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var d;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:cn,y2:i,className:"recharts-legend-icon"})}if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(cn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(cn/8,"h").concat(cn,"v").concat(cn*3/4,"h").concat(-cn,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var u=UM({},t);return delete u.legendIcon,b.cloneElement(t.legendIcon,u)}return b.createElement(zy,{fill:l,cx:i,cy:i,size:cn,sizeType:"diameter",type:c})}function GM(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:cn,height:cn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||i,p=Ve({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?s:u.color,m=h?h(u.value,u,f):u.value;return b.createElement("li",bf({className:p,style:c,key:"legend-item-".concat(f)},rE(e,u,f)),b.createElement(Dy,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(m," legend icon")},b.createElement(VM,{data:u,iconType:o,inactiveColor:s})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m))})}var qM=e=>{var t=fr(e,KM),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},b.createElement(GM,bf({},t,{payload:r})))},nE={},iE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o,s,r);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(iE);var sE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(sE);var Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Hy);var aE={},Xh={},oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(oE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Xh);var lE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(lE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xh,r=lE;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(aE);var cE={},dE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(dE);var uE={},Ky={},fE={},Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Vy);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Gy);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vy,r=Gy,n=qy;function i(u,f,h){return typeof h!="function"?i(u,f,()=>{}):s(u,f,function p(g,m,v,x,y,w){const S=h(g,m,v,x,y,w);return S!==void 0?!!S:s(g,m,p,w)},new Map)}function s(u,f,h,p){if(f===u)return!0;switch(typeof f){case"object":return o(u,f,h,p);case"function":return Object.keys(f).length>0?s(u,{...f},h,p):n.isEqualsSameValueZero(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(u,f)}}function o(u,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(u,f,h,p);if(f instanceof Map)return l(u,f,h,p);if(f instanceof Set)return d(u,f,h,p);const g=Object.keys(f);if(u==null||r.isPrimitive(u))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===u;p==null||p.set(f,u);try{for(let m=0;m<g.length;m++){const v=g[m];if(!r.isPrimitive(u)&&!(v in u)||f[v]===void 0&&u[v]!==void 0||f[v]===null&&u[v]!==null||!h(u[v],f[v],v,u,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function l(u,f,h,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,m]of f.entries()){const v=u.get(g);if(h(v,m,g,u,f,p)===!1)return!1}return!0}function c(u,f,h,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let m=0;m<f.length;m++){const v=f[m];let x=!1;for(let y=0;y<u.length;y++){if(g.has(y))continue;const w=u[y];let S=!1;if(h(w,v,m,u,f,p)&&(S=!0),S){g.add(y),x=!0;break}}if(!x)return!1}return!0}function d(u,f,h,p){return f.size===0?!0:u instanceof Set?c([...u],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=d})(fE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fE;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ky);var hE={},Yy={},pE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pE);var Jh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Jh);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",m="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",I="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=m,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=K,e.functionTag=f,e.int16ArrayTag=I,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(Zy);var mE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(mE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pE,r=Jh,n=Zy,i=Gy,s=mE;function o(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,h,p=new Map,g=void 0){const m=g==null?void 0:g(u,f,h,p);if(m!==void 0)return m;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const v=new Array(u.length);p.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,p,g);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;p.set(u,v);for(const[x,y]of u)v.set(x,l(y,x,h,p,g));return v}if(u instanceof Set){const v=new Set;p.set(u,v);for(const x of u)v.add(l(x,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,p,g);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,v),c(v,u,h,p,g),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return p.set(u,v),c(v,u,h,p,g),v}if(typeof Blob<"u"&&u instanceof Blob){const v=new Blob([u],{type:u.type});return p.set(u,v),c(v,u,h,p,g),v}if(u instanceof Error){const v=new u.constructor;return p.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,c(v,u,h,p,g),v}if(u instanceof Boolean){const v=new Boolean(u.valueOf());return p.set(u,v),c(v,u,h,p,g),v}if(u instanceof Number){const v=new Number(u.valueOf());return p.set(u,v),c(v,u,h,p,g),v}if(u instanceof String){const v=new String(u.valueOf());return p.set(u,v),c(v,u,h,p,g),v}if(typeof u=="object"&&d(u)){const v=Object.create(Object.getPrototypeOf(u));return p.set(u,v),c(v,u,h,p,g),v}return u}function c(u,f,h=u,p,g){const m=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<m.length;v++){const x=m[v],y=Object.getOwnPropertyDescriptor(u,x);(y==null||y.writable)&&(u[x]=l(f[x],x,h,p,g))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Yy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(hE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=hE;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(uE);var gE={},xE={},yE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=Jh,n=Zy;function i(s,o){return t.cloneDeepWith(s,(l,c,d,u)=>{const f=o==null?void 0:o(l,c,d,u);if(f!==void 0)return f;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const h={};return u.set(s,h),t.copyProperties(h,s,d,u),h}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(h,s),h}case n.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(yE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(xE);var vE={},Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xy);var bE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=Xy,n=bE,i=Yh;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=s})(vE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=qh,n=xE,i=Gh,s=vE;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=i.get(d,l);return u===void 0?s.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(gE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=dE,n=uE,i=gE;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(cE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iE,r=sE,n=Hy,i=aE,s=cE;function o(l,c=n.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(s.iteratee(c),1)):[]}e.uniqBy=o})(nE);var YM=nE.uniqBy;const E1=oi(YM);function wE(e,t,r){return t===!0?E1(e,r):typeof t=="function"?E1(e,t):e}var jE={exports:{}},SE={},NE={exports:{}},kE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=b;function ZM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XM=typeof Object.is=="function"?Object.is:ZM,JM=Bo.useState,QM=Bo.useEffect,e$=Bo.useLayoutEffect,t$=Bo.useDebugValue;function r$(e,t){var r=t(),n=JM({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return e$(function(){i.value=r,i.getSnapshot=t,Pm(i)&&s({inst:i})},[e,r,t]),QM(function(){return Pm(i)&&s({inst:i}),e(function(){Pm(i)&&s({inst:i})})},[e]),t$(r),r}function Pm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!XM(e,r)}catch{return!0}}function n$(e,t){return t()}var i$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n$:r$;kE.useSyncExternalStore=Bo.useSyncExternalStore!==void 0?Bo.useSyncExternalStore:i$;NE.exports=kE;var s$=NE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=b,a$=s$;function o$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l$=typeof Object.is=="function"?Object.is:o$,c$=a$.useSyncExternalStore,d$=Qh.useRef,u$=Qh.useEffect,f$=Qh.useMemo,h$=Qh.useDebugValue;SE.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=d$(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=f$(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return f=g}return f=p}if(g=f,l$(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,f=m)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=c$(e,s[0],s[1]);return u$(function(){o.hasValue=!0,o.value=l},[l]),h$(l),l};jE.exports=SE;var p$=jE.exports,Jy=b.createContext(null),m$=e=>e,Ct=()=>{var e=b.useContext(Jy);return e?e.store.dispatch:m$},Au=()=>{},g$=()=>Au,x$=(e,t)=>e===t;function Ce(e){var t=b.useContext(Jy);return p$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g$,t?t.store.getState:Au,t?t.store.getState:Au,t?e:Au,x$)}function y$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function v$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function b$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var C1=e=>Array.isArray(e)?e:[e];function w$(e){const t=Array.isArray(e[0])?e[0]:e;return b$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j$(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var S$=class{constructor(e){this.value=e}deref(){return this.value}},N$=typeof WeakRef<"u"?WeakRef:S$,k$=0,P1=1;function Zd(){return{s:k$,v:void 0,o:null,p:null}}function IE(e,t={}){let r=Zd();const{resultEqualityCheck:n}=t;let i,s=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=l.o;m===null&&(l.o=m=new WeakMap);const v=m.get(g);v===void 0?(l=Zd(),m.set(g,l)):l=v}else{let m=l.p;m===null&&(l.p=m=new Map);const v=m.get(g);v===void 0?(l=Zd(),m.set(g,l)):l=v}}const d=l;let u;if(l.s===P1)u=l.v;else if(u=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new N$(u):u}return d.s=P1,d.v=u,u}return o.clearCache=()=>{r=Zd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function I$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,o=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),y$(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=IE,argsMemoizeOptions:g=[]}=u,m=C1(h),v=C1(g),x=w$(i),y=f(function(){return s++,d.apply(null,arguments)},...m),w=p(function(){o++;const j=j$(x,arguments);return l=y.apply(null,j),l},...v);return Object.assign(w,{resultFunc:d,memoizedResultFunc:y,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var oe=I$(IE),E$=Object.assign((e,t=oe)=>{v$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>E$}),EE={},CE={},PE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(PE);var TE={},Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(TE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE,r=TE,n=Yh;function i(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const d=(p,g)=>{let m=p;for(let v=0;v<g.length&&m!=null;++v)m=m[g[v]];return m},u=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:d(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?d(g,p):typeof g=="object"?g[p]:g,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(g=>u(g,p))})).slice().sort((p,g)=>{for(let m=0;m<f.length;m++){const v=t.compareValues(p.criteria[m],g.criteria[m],l[m]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(CE);var AE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<s?o(u,c+1):i.push(u)}};return o(r,0),i}e.flatten=t})(AE);var ev={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy,r=Xh,n=Vy,i=qy;function s(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=s})(ev);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CE,r=AE,n=ev;function i(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=i})(EE);var C$=EE.sortBy;const ep=oi(C$);var _E=e=>e.legend.settings,P$=e=>e.legend.size,T$=e=>e.legend.payload,A$=oe([T$,_E],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ep(n,r):n});function _$(){return Ce(A$)}var Xd=1;function OE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Xd||Math.abs(o.left-t.left)>Xd||Math.abs(o.top-t.top)>Xd||Math.abs(o.width-t.width)>Xd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var O$=typeof Symbol=="function"&&Symbol.observable||"@@observable",T1=O$,Tm=()=>Math.random().toString(36).substring(7).split("").join("."),M$={INIT:`@@redux/INIT${Tm()}`,REPLACE:`@@redux/REPLACE${Tm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tm()}`},wf=M$;function tv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ME(e,t,r){if(typeof e!="function")throw new Error(Yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yt(1));return r(ME)(e,t)}let n=e,i=t,s=new Map,o=s,l=0,c=!1;function d(){o===s&&(o=new Map,s.forEach((v,x)=>{o.set(x,v)}))}function u(){if(c)throw new Error(Yt(3));return i}function f(v){if(typeof v!="function")throw new Error(Yt(4));if(c)throw new Error(Yt(5));let x=!0;d();const y=l++;return o.set(y,v),function(){if(x){if(c)throw new Error(Yt(6));x=!1,d(),o.delete(y),s=null}}}function h(v){if(!tv(v))throw new Error(Yt(7));if(typeof v.type>"u")throw new Error(Yt(8));if(typeof v.type!="string")throw new Error(Yt(17));if(c)throw new Error(Yt(9));try{c=!0,i=n(i,v)}finally{c=!1}return(s=o).forEach(y=>{y()}),v}function p(v){if(typeof v!="function")throw new Error(Yt(10));n=v,h({type:wf.REPLACE})}function g(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Yt(11));function y(){const S=x;S.next&&S.next(u())}return y(),{unsubscribe:v(y)}},[T1](){return this}}}return h({type:wf.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[T1]:g}}function $$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wf.INIT})>"u")throw new Error(Yt(12));if(typeof r(void 0,{type:wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function $E(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{$$(r)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=o[f],g=h(p,l);if(typeof g>"u")throw l&&l.type,new Error(Yt(14));d[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(o).length,c?d:o}}function jf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function L$(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Yt(15))};const o={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=e.map(c=>c(o));return s=jf(...l)(i.dispatch),{...i,dispatch:s}}}function LE(e){return tv(e)&&"type"in e&&typeof e.type=="string"}var DE=Symbol.for("immer-nothing"),A1=Symbol.for("immer-draftable"),Sr=Symbol.for("immer-state");function Tn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qr=Object,Ro=qr.getPrototypeOf,Sf="constructor",tp="prototype",j0="configurable",Nf="enumerable",_u="writable",Cc="value",Li=e=>!!e&&!!e[Sr];function Rn(e){var t;return e?BE(e)||np(e)||!!e[A1]||!!((t=e[Sf])!=null&&t[A1])||ip(e)||sp(e):!1}var D$=qr[tp][Sf].toString(),_1=new WeakMap;function BE(e){if(!e||!rv(e))return!1;const t=Ro(e);if(t===null||t===qr[tp])return!0;const r=qr.hasOwnProperty.call(t,Sf)&&t[Sf];if(r===Object)return!0;if(!Qa(r))return!1;let n=_1.get(r);return n===void 0&&(n=Function.toString.call(r),_1.set(r,n)),n===D$}function rp(e,t,r=!0){nd(e)===0?(r?Reflect.ownKeys(e):qr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function nd(e){const t=e[Sr];return t?t.type_:np(e)?1:ip(e)?2:sp(e)?3:0}var O1=(e,t,r=nd(e))=>r===2?e.has(t):qr[tp].hasOwnProperty.call(e,t),S0=(e,t,r=nd(e))=>r===2?e.get(t):e[t],kf=(e,t,r,n=nd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function B$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var np=Array.isArray,ip=e=>e instanceof Map,sp=e=>e instanceof Set,rv=e=>typeof e=="object",Qa=e=>typeof e=="function",Am=e=>typeof e=="boolean";function R$(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var xi=e=>e.copy_||e.base_,nv=e=>e.modified_?e.copy_:e.base_;function N0(e,t){if(ip(e))return new Map(e);if(sp(e))return new Set(e);if(np(e))return Array[tp].slice.call(e);const r=BE(e);if(t===!0||t==="class_only"&&!r){const n=qr.getOwnPropertyDescriptors(e);delete n[Sr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],l=n[o];l[_u]===!1&&(l[_u]=!0,l[j0]=!0),(l.get||l.set)&&(n[o]={[j0]:!0,[_u]:!0,[Nf]:l[Nf],[Cc]:e[o]})}return qr.create(Ro(e),n)}else{const n=Ro(e);if(n!==null&&r)return{...e};const i=qr.create(n);return qr.assign(i,e)}}function iv(e,t=!1){return ap(e)||Li(e)||!Rn(e)||(nd(e)>1&&qr.defineProperties(e,{set:Jd,add:Jd,clear:Jd,delete:Jd}),qr.freeze(e),t&&rp(e,(r,n)=>{iv(n,!0)},!1)),e}function F$(){Tn(2)}var Jd={[Cc]:F$};function ap(e){return e===null||!rv(e)?!0:qr.isFrozen(e)}var If="MapSet",k0="Patches",M1="ArrayMethods",RE={};function Ea(e){const t=RE[e];return t||Tn(0,e),t}var $1=e=>!!RE[e],Pc,FE=()=>Pc,U$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$1(If)?Ea(If):void 0,arrayMethodsPlugin_:$1(M1)?Ea(M1):void 0});function L1(e,t){t&&(e.patchPlugin_=Ea(k0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function I0(e){E0(e),e.drafts_.forEach(z$),e.drafts_=null}function E0(e){e===Pc&&(Pc=e.parent_)}var D1=e=>Pc=U$(Pc,e);function z$(e){const t=e[Sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function B1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Sr].modified_&&(I0(t),Tn(4)),Rn(e)&&(e=R1(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Sr].base_,e,t)}else e=R1(t,r);return W$(t,e,!0),I0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DE?e:void 0}function R1(e,t){if(ap(t))return t;const r=t[Sr];if(!r)return Ef(t,e.handledSet_,e);if(!op(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);WE(r,e)}return r.copy_}function W$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iv(t,r)}function UE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var op=(e,t)=>e.scope_===t,H$=[];function zE(e,t,r,n){const i=xi(e),s=e.type_;if(n!==void 0&&S0(i,n,s)===t){kf(i,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;rp(i,(c,d)=>{if(Li(d)){const u=l.get(d)||[];u.push(c),l.set(d,u)}})}const o=e.draftLocations_.get(t)??H$;for(const l of o)kf(i,l,r,s)}function K$(e,t,r){e.callbacks_.push(function(i){var l;const s=t;if(!s||!op(s,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(s);const o=nv(s);zE(e,s.draft_??s,o,r),WE(s,i)})}function WE(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}UE(e)}}function V$(e,t,r){const{scope_:n}=e;if(Li(r)){const i=r[Sr];op(i,n)&&i.callbacks_.push(function(){Ou(e);const o=nv(i);zE(e,r,o,t)})}else Rn(r)&&e.callbacks_.push(function(){const s=xi(e);e.type_===3?s.has(r)&&Ef(r,n.handledSet_,n):S0(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ef(S0(e.copy_,t,e.type_),n.handledSet_,n)})}function Ef(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Li(e)||t.has(e)||!Rn(e)||ap(e)||(t.add(e),rp(e,(n,i)=>{if(Li(i)){const s=i[Sr];if(op(s,r)){const o=nv(s);kf(e,n,o,e.type_),UE(s)}}else Rn(i)&&Ef(i,t,r)})),e}function G$(e,t){const r=np(e),n={type_:r?1:0,scope_:t?t.scope_:FE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Cf;r&&(i=[n],s=Tc);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=o,[l,n]}var Cf={get(e,t){if(t===Sr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=xi(e);if(!O1(i,t,e.type_))return q$(e,i,t);const s=i[t];if(e.finalized_||!Rn(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&R$(t))return s;if(s===_m(e.base_,t)){Ou(e);const o=e.type_===1?+t:t,l=P0(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in xi(e)},ownKeys(e){return Reflect.ownKeys(xi(e))},set(e,t,r){const n=HE(xi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=_m(xi(e),t),s=i==null?void 0:i[Sr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(B$(r,i)&&(r!==void 0||O1(e.base_,t,e.type_)))return!0;Ou(e),C0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),V$(e,t,r)),!0},deleteProperty(e,t){return Ou(e),_m(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),C0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[_u]:!0,[j0]:e.type_!==1||t!=="length",[Nf]:n[Nf],[Cc]:r[t]}},defineProperty(){Tn(11)},getPrototypeOf(e){return Ro(e.base_)},setPrototypeOf(){Tn(12)}},Tc={};for(let e in Cf){let t=Cf[e];Tc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Tc.deleteProperty=function(e,t){return Tc.set.call(this,e,t,void 0)};Tc.set=function(e,t,r){return Cf.set.call(this,e[0],t,r,e[0])};function _m(e,t){const r=e[Sr];return(r?xi(r):e)[t]}function q$(e,t,r){var i;const n=HE(t,r);return n?Cc in n?n[Cc]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function HE(e,t){if(!(t in e))return;let r=Ro(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ro(r)}}function C0(e){e.modified_||(e.modified_=!0,e.parent_&&C0(e.parent_))}function Ou(e){e.copy_||(e.assigned_=new Map,e.copy_=N0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Y$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Qa(r)&&!Qa(n)){const o=n;n=r;const l=this;return function(d=o,...u){return l.produce(d,f=>n.call(this,f,...u))}}Qa(n)||Tn(6),i!==void 0&&!Qa(i)&&Tn(7);let s;if(Rn(r)){const o=D1(this),l=P0(o,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?I0(o):E0(o)}return L1(o,i),B1(s,o)}else if(!r||!rv(r)){if(s=n(r),s===void 0&&(s=r),s===DE&&(s=void 0),this.autoFreeze_&&iv(s,!0),i){const o=[],l=[];Ea(k0).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),i(o,l)}return s}else Tn(1,r)},this.produceWithPatches=(r,n)=>{if(Qa(r))return(l,...c)=>this.produceWithPatches(l,d=>r(d,...c));let i,s;return[this.produce(r,n,(l,c)=>{i=l,s=c}),i,s]},Am(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Am(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Am(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rn(t)||Tn(8),Li(t)&&(t=$n(t));const r=D1(this),n=P0(r,t,void 0);return n[Sr].isManual_=!0,E0(r),n}finishDraft(t,r){const n=t&&t[Sr];(!n||!n.isManual_)&&Tn(9);const{scope_:i}=n;return L1(i,r),B1(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Ea(k0).applyPatches_;return Li(t)?i(t,r):this.produce(t,s=>i(s,r))}};function P0(e,t,r,n){const[i,s]=ip(t)?Ea(If).proxyMap_(t,r):sp(t)?Ea(If).proxySet_(t,r):G$(t,r);return((r==null?void 0:r.scope_)??FE()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?K$(r,s,n):s.callbacks_.push(function(c){var u;(u=c.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),i}function $n(e){return Li(e)||Tn(10,e),KE(e)}function KE(e){if(!Rn(e)||ap(e))return e;const t=e[Sr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=N0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=N0(e,!0);return rp(r,(i,s)=>{kf(r,i,KE(s))},n),t&&(t.finalized_=!1),r}var Z$=new Y$,VE=Z$.produce;function GE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var X$=GE(),J$=GE,Q$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jf:jf.apply(null,arguments)};function vn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>LE(n)&&n.type===e,r}var qE=class Wl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wl.prototype)}static get[Symbol.species](){return Wl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wl(...t[0].concat(this)):new Wl(...t.concat(this))}};function F1(e){return Rn(e)?VE(e,()=>{}):e}function Qd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function eL(e){return typeof e=="boolean"}var tL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new qE;return r&&(eL(r)?o.push(X$):o.push(J$(r.extraArgument))),o},YE="RTK_autoBatch",lt=()=>e=>({payload:e,meta:{[YE]:!0}}),U1=e=>t=>{setTimeout(t,e)},ZE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U1(10):e.type==="callback"?e.queueNotification:U1(e.timeout),d=()=>{o=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>i&&u(),h=n.subscribe(f);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[YE]),s=!i,s&&(o||(o=!0,c(d))),n.dispatch(u)}finally{i=!0}}})},rL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new qE(e);return n&&i.push(ZE(typeof n=="object"?n:void 0)),i};function nL(e){const t=tL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(tv(r))l=$E(r);else throw new Error(Xr(1));let c;typeof n=="function"?c=n(t):c=t();let d=jf;i&&(d=Q$({trace:!1,...typeof i=="object"&&i}));const u=L$(...c),f=rL(u);let h=typeof o=="function"?o(f):f();const p=d(...h);return ME(l,s,p)}function XE(e){const t={},r=[];let n;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Xr(28));if(l in t)throw new Error(Xr(29));return t[l]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function iL(e){return typeof e=="function"}function sL(e,t){let[r,n,i]=XE(t),s;if(iL(e))s=()=>F1(e());else{const l=F1(e);s=()=>l}function o(l=s(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[i]),d.reduce((u,f)=>{if(f)if(Li(u)){const p=f(u,c);return p===void 0?u:p}else{if(Rn(u))return VE(u,h=>f(h,c));{const h=f(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=s,o}var aL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oL=(e=21)=>{let t="",r=e;for(;r--;)t+=aL[Math.random()*64|0];return t},lL=Symbol.for("rtk-slice-createasyncthunk");function cL(e,t){return`${e}/${t}`}function dL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Xr(11));const l=(typeof i.reducers=="function"?i.reducers(fL()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const I=typeof S=="string"?S:S.type;if(!I)throw new Error(Xr(12));if(I in d.sliceCaseReducersByType)throw new Error(Xr(13));return d.sliceCaseReducersByType[I]=j,u},addMatcher(S,j){return d.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return d.actionCreators[S]=j,u},exposeCaseReducer(S,j){return d.sliceCaseReducersByName[S]=j,u}};c.forEach(S=>{const j=l[S],I={reducerName:S,type:cL(s,S),createNotation:typeof i.reducers=="function"};pL(j)?gL(I,j,u,t):hL(I,j,u)});function f(){const[S={},j=[],I=void 0]=typeof i.extraReducers=="function"?XE(i.extraReducers):[i.extraReducers],E={...S,...d.sliceCaseReducersByType};return sL(i.initialState,C=>{for(let T in E)C.addCase(T,E[T]);for(let T of d.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of j)C.addMatcher(T.matcher,T.reducer);I&&C.addDefaultCase(I)})}const h=S=>S,p=new Map,g=new WeakMap;let m;function v(S,j){return m||(m=f()),m(S,j)}function x(){return m||(m=f()),m.getInitialState()}function y(S,j=!1){function I(C){let T=C[S];return typeof T>"u"&&j&&(T=Qd(g,I,x)),T}function E(C=h){const T=Qd(p,j,()=>new WeakMap);return Qd(T,C,()=>{const K={};for(const[V,P]of Object.entries(i.selectors??{}))K[V]=uL(P,C,()=>Qd(g,C,x),j);return K})}return{reducerPath:S,getSelectors:E,get selectors(){return E(I)},selectSlice:I}}const w={name:s,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...y(o),injectInto(S,{reducerPath:j,...I}={}){const E=j??o;return S.inject({reducerPath:E,reducer:v},I),{...w,...y(E,!0)}}};return w}}function uL(e,t,r,n){function i(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var Ur=dL();function fL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function hL({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!mL(n))throw new Error(Xr(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?vn(e,o):vn(e))}function pL(e){return e._reducerDefinitionType==="asyncThunk"}function mL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Xr(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,f=i(e,s,u);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:o||eu,pending:l||eu,rejected:c||eu,settled:d||eu})}function eu(){}var xL="task",JE="listener",QE="completed",sv="cancelled",yL=`task-${sv}`,vL=`task-${QE}`,T0=`${JE}-${sv}`,bL=`${JE}-${QE}`,lp=class{constructor(e){ye(this,"name","TaskAbortError");ye(this,"message");this.code=e,this.message=`${xL} ${sv} (reason: ${e})`}},av=(e,t)=>{if(typeof e!="function")throw new TypeError(Xr(32))},Pf=()=>{},eC=(e,t=Pf)=>(e.catch(t),e),tC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xa=e=>{if(e.aborted)throw new lp(e.reason)};function rC(e,t){let r=Pf;return new Promise((n,i)=>{const s=()=>i(new lp(e.reason));if(e.aborted){s();return}r=tC(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Pf})}var wL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof lp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Tf=e=>t=>eC(rC(e,t).then(r=>(xa(e),r))),nC=e=>{const t=Tf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:No}=Object,z1={},cp="listenerMiddleware",jL=(e,t)=>{const r=n=>tC(e,()=>n.abort(e.reason));return(n,i)=>{av(n);const s=new AbortController;r(s);const o=wL(async()=>{xa(e),xa(s.signal);const l=await n({pause:Tf(s.signal),delay:nC(s.signal),signal:s.signal});return xa(s.signal),l},()=>s.abort(vL));return i!=null&&i.autoJoin&&t.push(o.catch(Pf)),{result:Tf(e)(o),cancel(){s.abort(yL)}}}},SL=(e,t)=>{const r=async(n,i)=>{xa(t);let s=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{u(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await rC(t,Promise.race(l));return xa(t),c}finally{s()}};return(n,i)=>eC(r(n,i))},iC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=vn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Xr(21));return av(s),{predicate:i,type:t,effect:s}},sC=No(e=>{const{type:t,predicate:r,effect:n}=iC(e);return{id:oL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Xr(22))}}},{withTypes:()=>sC}),W1=(e,t)=>{const{type:r,effect:n,predicate:i}=iC(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},A0=e=>{e.pending.forEach(t=>{t.abort(T0)})},NL=(e,t)=>()=>{for(const r of t.keys())A0(r);e.clear()},H1=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},aC=No(vn(`${cp}/add`),{withTypes:()=>aC}),kL=vn(`${cp}/removeAll`),oC=No(vn(`${cp}/remove`),{withTypes:()=>oC}),IL=(...e)=>{console.error(`${cp}/error`,...e)},id=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:s,onError:o=IL}=e;av(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&A0(p)}),c=p=>{const g=W1(t,p)??sC(p);return l(g)};No(c,{withTypes:()=>c});const d=p=>{const g=W1(t,p);return g&&(g.unsubscribe(),p.cancelActive&&A0(g)),!!g};No(d,{withTypes:()=>d});const u=async(p,g,m,v)=>{const x=new AbortController,y=SL(c,x.signal),w=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(g,No({},m,{getOriginalState:v,condition:(S,j)=>y(S,j).then(Boolean),take:y,delay:nC(x.signal),pause:Tf(x.signal),extra:s,signal:x.signal,fork:jL(x.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((S,j,I)=>{S!==x&&(S.abort(T0),I.delete(S))})},cancel:()=>{x.abort(T0),p.pending.delete(x)},throwIfCancelled:()=>{xa(x.signal)}})))}catch(S){S instanceof lp||H1(o,S,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(bL),i(p),p.pending.delete(x)}},f=NL(t,r);return{middleware:p=>g=>m=>{if(!LE(m))return g(m);if(aC.match(m))return c(m.payload);if(kL.match(m)){f();return}if(oC.match(m))return d(m.payload);let v=p.getState();const x=()=>{if(v===z1)throw new Error(Xr(23));return v};let y;try{if(y=g(m),t.size>0){const w=p.getState(),S=Array.from(t.values());for(const j of S){let I=!1;try{I=j.predicate(m,w,v)}catch(E){I=!1,H1(o,E,{raisedBy:"predicate"})}I&&u(j,m,p,x)}}}finally{v=z1}return y},startListening:c,stopListening:d,clearListeners:f}};function Xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lC=Ur({name:"chartLayout",initialState:EL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CL,setLayout:PL,setChartSize:TL,setScale:AL}=lC.actions,_L=lC.reducer;function cC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Et(e){return Number.isFinite(e)}function ii(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=ML(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,r){return Vt(e)||Vt(t)?r:ni(t)?Zh(e,t,r):typeof t=="function"?t(e):r}var LL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&Ie(e[s]))return ho(ho({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&Ie(e[o]))return ho(ho({},e),{},{[o]:e[o]+(i||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dC=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||o.push(t),s||o.push(r),o},uC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,m=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(m=p==="angleAxis"&&s&&s.length>=2?hn(s[0]-s[1])*2*m:m,f||h){var v=(f||h||[]).map((x,y)=>{var w=n?n.indexOf(x):x;return{coordinate:o(w)+m,value:x,offset:m,index:y}});return v.filter(x=>!ri(x.coordinate))}return c&&d?d.map((x,y)=>({coordinate:o(x)+m,value:x,index:y,offset:m})):o.ticks&&u!=null?o.ticks(u).map((x,y)=>({coordinate:o(x)+m,value:x,offset:m,index:y})):o.domain().map((x,y)=>({coordinate:o(x)+m,value:n?n[x]:x,index:y,offset:m}))},V1=1e-4,DL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-V1,s=Math.max(n[0],n[1])+V1,o=e(t[0]),l=e(t[r-1]);(o<i||o>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},BL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,o=0,l=0;l<r;++l){var c=e[l],d=c==null?void 0:c[i];if(d!=null){var u=d[1],f=d[0],h=ri(u)?f:u;h>=0?(d[0]=s,d[1]=s+h,s=u):(d[0]=o,d[1]=o+h,o=u)}}}},RL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=ri(c[1])?c[0]:c[1];d>=0?(c[0]=s,c[1]=s+d,s=c[1]):(c[0]=0,c[1]=0)}}}},FL={sign:BL,expand:vM,none:Ia,silhouette:bM,wiggle:wM,positive:RL},UL=(e,t,r)=>{var n,i=(n=FL[r])!==null&&n!==void 0?n:Ia,s=yM().keys(t).value((l,c)=>Number(tr(l,c,0))).order(b0).offset(i),o=s(e);return o.forEach((l,c)=>{l.forEach((d,u)=>{var f=tr(e[u],t[c],0);Array.isArray(f)&&f.length===2&&Ie(f[0])&&Ie(f[1])&&(d[0]=f[0],d[1]=f[1])})}),o};function G1(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vt(i[t.dataKey])){var l=QI(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=tr(i,Vt(o)?t.dataKey:o);return Vt(c)?null:t.scale(c)}var zL=e=>{var t=e.flat(2).filter(Ie);return[Math.min(...t),Math.max(...t)]},WL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],HL=(e,t,r)=>{if(e!=null)return WL(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:o}=s,l=o.reduce((c,d)=>{var u=cC(d,t,r),f=zL(u);return!Et(f[0])||!Et(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},q1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Af=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ep(t,u=>u.coordinate),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],d=i[o-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((d==null?void 0:d.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function Z1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return ho(ho({},t),{},{dataKey:r,payload:n,value:i,name:s})}function fC(e,t){if(e)return String(e);if(typeof t=="string")return t}var KL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},VL=(e,t)=>t==="centric"?e.angle:e.radius,Ki=e=>e.layout.width,Vi=e=>e.layout.height,GL=e=>e.layout.scale,hC=e=>e.layout.margin,dp=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),up=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qL="data-recharts-item-index",YL="data-recharts-item-id",sd=60;function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=JL(e,"string");return typeof t=="symbol"?t:t+""}function JL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QL=e=>e.brush.height;function eD(e){var t=up(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:sd;return r+i}return r},0)}function tD(e){var t=up(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:sd;return r+i}return r},0)}function rD(e){var t=dp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function nD(e){var t=dp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nr=oe([Ki,Vi,hC,QL,eD,tD,rD,nD,_E,P$],(e,t,r,n,i,s,o,l,c,d)=>{var u={left:(r.left||0)+i,right:(r.right||0)+s},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=tu(tu({},f),u),p=h.bottom;h.bottom+=n,h=LL(h,c,d);var g=e-h.left-h.right,m=t-h.top-h.bottom;return tu(tu({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(m,0)})}),iD=oe(nr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),pC=oe(Ki,Vi,(e,t)=>({x:0,y:0,width:e,height:t})),sD=b.createContext(null),zr=()=>b.useContext(sD)!=null,fp=e=>e.brush,hp=oe([fp,nr,hC],(e,t,r)=>({height:e.height,x:Ie(e.x)?e.x:t.left,y:Ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ie(e.width)?e.width:t.width})),mC={},gC={},xC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{d&&u(),m()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),o=void 0,l=null},v=()=>{u()},x=function(...y){if(i!=null&&i.aborted)return;o=this,l=y;const w=h==null;p(),c&&w&&u()};return x.schedule=p,x.cancel=m,x.flush=v,i==null||i.addEventListener("abort",m,{once:!0}),x}e.debounce=t})(xC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xC;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const h=t.debounce(function(...m){u=n.apply(this,m),f=null},i,{edges:d}),p=function(...m){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,m),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,m),u)},g=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(gC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gC;function r(n,i=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r})(mC);var aD=mC.throttle;const oD=oi(aD);var _f=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},yC=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:o}=r,l=$i(n)?e:Number(n),c=$i(i)?t:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},lD={width:0,height:0,overflow:"visible"},cD={width:0,overflowX:"visible"},dD={height:0,overflowY:"visible"},uD={},fD=e=>{var{width:t,height:r}=e,n=$i(t),i=$i(r);return n&&i?lD:n?cD:i?dD:uD};function hD(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(null,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){pD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pD(e,t,r){return(t=mD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mD(e){var t=gD(e,"string");return typeof t=="symbol"?t:t+""}function gD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vC=b.createContext({width:-1,height:-1});function xD(e){return ii(e.width)&&ii(e.height)}function bC(e){var{children:t,width:r,height:n}=e,i=b.useMemo(()=>({width:r,height:n}),[r,n]);return xD(i)?b.createElement(vC.Provider,{value:i},t):null}var ov=()=>b.useContext(vC),yD=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:h,onResize:p,style:g={}}=e,m=b.useRef(null),v=b.useRef();v.current=p,b.useImperativeHandle(t,()=>m.current);var[x,y]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((C,T)=>{y(K=>{var V=Math.round(C),P=Math.round(T);return K.containerWidth===V&&K.containerHeight===P?K:{containerWidth:V,containerHeight:P}})},[]);b.useEffect(()=>{if(m.current==null||typeof ResizeObserver>"u")return rd;var C=P=>{var R,{width:N,height:M}=P[0].contentRect;w(N,M),(R=v.current)===null||R===void 0||R.call(v,N,M)};u>0&&(C=oD(C,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(C),{width:K,height:V}=m.current.getBoundingClientRect();return w(K,V),T.observe(m.current),()=>{T.disconnect()}},[w,u]);var{containerWidth:S,containerHeight:j}=x;_f(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:E}=yC(S,j,{width:i,height:s,aspect:r,maxHeight:c});return _f(I!=null&&I>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,E,i,s,o,l,r),b.createElement("div",{id:f?"".concat(f):void 0,className:Ve("recharts-responsive-container",h),style:Q1(Q1({},g),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:m},b.createElement("div",{style:fD({width:i,height:s})},b.createElement(bC,{width:I,height:E},d)))}),vD=b.forwardRef((e,t)=>{var r=ov();if(ii(r.width)&&ii(r.height))return e.children;var{width:n,height:i}=hD({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=yC(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ie(s)&&Ie(o)?b.createElement(bC,{width:s,height:o},e.children):b.createElement(yD,_0({},e,{width:n,height:i,ref:t}))});function wC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var pp=()=>{var e,t=zr(),r=Ce(iD),n=Ce(hp),i=(e=Ce(fp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},bD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jC=()=>{var e;return(e=Ce(nr))!==null&&e!==void 0?e:bD},lv=()=>Ce(Ki),cv=()=>Ce(Vi),wD=()=>Ce(e=>e.layout.margin),st=e=>e.layout.layoutType,ad=()=>Ce(st),jD=()=>{var e=ad();return e!==void 0},mp=e=>{var t=Ct(),r=zr(),{width:n,height:i}=e,s=ov(),o=n,l=i;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:i),b.useEffect(()=>{!r&&ii(o)&&ii(l)&&t(TL({width:o,height:l}))},[t,r,o,l]),null},SC=Symbol.for("immer-nothing"),e2=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function An(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ac=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[Qr]}function Ca(e){var t;return e?NC(e)||Array.isArray(e)||!!e[e2]||!!((t=e.constructor)!=null&&t[e2])||od(e)||xp(e):!1}var SD=Object.prototype.constructor.toString(),t2=new WeakMap;function NC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=t2.get(r);return n===void 0&&(n=Function.toString.call(r),t2.set(r,n)),n===SD}function Of(e,t,r=!0){gp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function gp(e){const t=e[Qr];return t?t.type_:Array.isArray(e)?1:od(e)?2:xp(e)?3:0}function O0(e,t){return gp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kC(e,t,r){const n=gp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ND(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function od(e){return e instanceof Map}function xp(e){return e instanceof Set}function ta(e){return e.copy_||e.base_}function M0(e,t){if(od(e))return new Map(e);if(xp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=NC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ac(e),n)}else{const n=Ac(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function dv(e,t=!1){return yp(e)||Fo(e)||!Ca(e)||(gp(e)>1&&Object.defineProperties(e,{set:ru,add:ru,clear:ru,delete:ru}),Object.freeze(e),t&&Object.values(e).forEach(r=>dv(r,!0))),e}function kD(){An(2)}var ru={value:kD};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ID={};function Pa(e){const t=ID[e];return t||An(0,e),t}var _c;function IC(){return _c}function ED(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r2(e,t){t&&(Pa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $0(e){L0(e),e.drafts_.forEach(CD),e.drafts_=null}function L0(e){e===_c&&(_c=e.parent_)}function n2(e){return _c=ED(_c,e)}function CD(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function i2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qr].modified_&&($0(t),An(4)),Ca(e)&&(e=Mf(t,e),t.parent_||$f(t,e)),t.patches_&&Pa("Patches").generateReplacementPatches_(r[Qr].base_,e,t.patches_,t.inversePatches_)):e=Mf(t,r,[]),$0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SC?e:void 0}function Mf(e,t,r){if(yp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Qr];if(!i)return Of(t,(s,o)=>s2(e,i,t,s,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return $f(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,l=!1;i.type_===3&&(o=new Set(s),s.clear(),l=!0),Of(o,(c,d)=>s2(e,i,s,c,d,r,l),n),$f(e,s,!1),r&&e.patches_&&Pa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function s2(e,t,r,n,i,s,o){if(i==null||typeof i!="object"&&!o)return;const l=yp(i);if(!(l&&!o)){if(Fo(i)){const c=s&&t&&t.type_!==3&&!O0(t.assigned_,n)?s.concat(n):void 0,d=Mf(e,i,c);if(kC(r,n,d),Fo(d))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Ca(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;Mf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(od(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$f(e,i)}}}function $f(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dv(t,r)}function PD(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:IC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=uv;r&&(i=[n],s=Oc);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=o,l}var uv={get(e,t){if(t===Qr)return e;const r=ta(e);if(!O0(r,t))return TD(e,r,t);const n=r[t];return e.finalized_||!Ca(n)?n:n===Om(e.base_,t)?(Mm(e),e.copy_[t]=B0(n,e)):n},has(e,t){return t in ta(e)},ownKeys(e){return Reflect.ownKeys(ta(e))},set(e,t,r){const n=EC(ta(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Om(ta(e),t),s=i==null?void 0:i[Qr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ND(r,i)&&(r!==void 0||O0(e.base_,t)))return!0;Mm(e),D0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Om(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mm(e),D0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ta(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){An(11)},getPrototypeOf(e){return Ac(e.base_)},setPrototypeOf(){An(12)}},Oc={};Of(uv,(e,t)=>{Oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Oc.deleteProperty=function(e,t){return Oc.set.call(this,e,t,void 0)};Oc.set=function(e,t,r){return uv.set.call(this,e[0],t,r,e[0])};function Om(e,t){const r=e[Qr];return(r?ta(r):e)[t]}function TD(e,t,r){var i;const n=EC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function EC(e,t){if(!(t in e))return;let r=Ac(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ac(r)}}function D0(e){e.modified_||(e.modified_=!0,e.parent_&&D0(e.parent_))}function Mm(e){e.copy_||(e.copy_=M0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AD=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(c=s,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&An(6),n!==void 0&&typeof n!="function"&&An(7);let i;if(Ca(t)){const s=n2(this),o=B0(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?$0(s):L0(s)}return r2(s,n),i2(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===SC&&(i=void 0),this.autoFreeze_&&dv(i,!0),n){const s=[],o=[];Pa("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else An(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ca(e)||An(8),Fo(e)&&(e=_D(e));const t=n2(this),r=B0(e,void 0);return r[Qr].isManual_=!0,L0(t),r}finishDraft(e,t){const r=e&&e[Qr];(!r||!r.isManual_)&&An(9);const{scope_:n}=r;return r2(n,t),i2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Pa("Patches").applyPatches_;return Fo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function B0(e,t){const r=od(e)?Pa("MapSet").proxyMap_(e,t):xp(e)?Pa("MapSet").proxySet_(e,t):PD(e,t);return(t?t.scope_:IC()).drafts_.push(r),r}function _D(e){return Fo(e)||An(10,e),CC(e)}function CC(e){if(!Ca(e)||yp(e))return e;const t=e[Qr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=M0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=M0(e,!0);return Of(r,(i,s)=>{kC(r,i,CC(s))},n),t&&(t.finalized_=!1),r}var OD=new AD;OD.produce;var MD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PC=Ur({name:"legend",initialState:MD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=$n(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:lt()},removeLegendPayload:{reducer(e,t){var r=$n(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:lt()}}}),{setLegendSize:a2,setLegendSettings:$D,addLegendPayload:LD,replaceLegendPayload:DD,removeLegendPayload:BD}=PC.actions,RD=PC.reducer,FD=["contextPayload"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){UD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UD(e,t,r){return(t=zD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=WD(e,"string");return typeof t=="symbol"?t:t+""}function WD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HD(e,t){if(e==null)return{};var r,n,i=KD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VD(e){return e.value}function GD(e){var{contextPayload:t}=e,r=HD(e,FD),n=wE(t,e.payloadUniqBy,VD),i=Uo(Uo({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(qM,i)}function qD(e,t,r,n,i,s){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-s.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((i||0)-s.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Uo(Uo({},d),u)}function YD(e){var t=Ct();return b.useEffect(()=>{t($D(e))},[t,e]),null}function ZD(e){var t=Ct();return b.useEffect(()=>(t(a2(e)),()=>{t(a2({width:0,height:0}))}),[t,e]),null}function XD(e,t,r,n){return e==="vertical"&&Ie(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var JD={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function TC(e){var t=fr(e,JD),r=_$(),n=z8(),i=wD(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[d,u]=OE([r]),f=lv(),h=cv();if(f==null||h==null)return null;var p=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=XD(t.layout,o,s,p),m=c?l:Uo(Uo({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||o||"auto"},qD(l,t,i,f,h,d)),l),v=c??n;if(v==null||r==null)return null;var x=b.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},b.createElement(YD,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&b.createElement(ZD,{width:d.width,height:d.height}),b.createElement(GD,R0({},t,g,{margin:i,chartWidth:f,chartHeight:h,contextPayload:r})));return Rh.createPortal(x,v)}TC.displayName="Legend";function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(null,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){QD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QD(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e){return Array.isArray(e)&&ni(e[0])&&ni(e[1])?e.join(" ~ "):e}var nB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var j={padding:0,margin:0},I=(l?ep(s,l):s).map((E,C)=>{if(E.type==="none")return null;var T=E.formatter||o||rB,{value:K,name:V}=E,P=K,R=V;if(T){var N=T(K,V,E,C,s);if(Array.isArray(N))[P,R]=N;else if(N!=null)P=N;else return null}var M=$m({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:M},ni(R)?b.createElement("span",{className:"recharts-tooltip-item-name"},R):null,ni(R)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},P),b.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:j},I)}return null},g=$m({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=$m({margin:0},i),v=!Vt(u),x=v?u:"",y=Ve("recharts-default-tooltip",c),w=Ve("recharts-tooltip-label",d);v&&f&&s!==void 0&&s!==null&&(x=f(u,s));var S=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",F0({className:y,style:g},S),b.createElement("p",{className:w,style:m},b.isValidElement(x)?x:"".concat(x)),p())},Il="recharts-tooltip-wrapper",iB={visibility:"hidden"};function sB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ve(Il,{["".concat(Il,"-right")]:Ie(r)&&t&&Ie(t.x)&&r>=t.x,["".concat(Il,"-left")]:Ie(r)&&t&&Ie(t.x)&&r<t.x,["".concat(Il,"-bottom")]:Ie(n)&&t&&Ie(t.y)&&n>=t.y,["".concat(Il,"-top")]:Ie(n)&&t&&Ie(t.y)&&n<t.y})}function c2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(s&&Ie(s[n]))return s[n];var u=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?u:f;var h=c[n];if(h==null)return 0;if(o[n]){var p=u,g=h;return p<g?Math.max(f,h):Math.max(u,h)}if(d==null)return 0;var m=f+l,v=h+d;return m>v?Math.max(u,h):Math.max(f,h)}function aB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,f;return o.height>0&&o.width>0&&r?(u=c2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=c2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=aB({translateX:u,translateY:f,useTranslate3d:l})):d=iB,{cssProperties:d,cssClasses:sB({translateX:u,translateY:f,coordinate:r})}}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U0(e,t,r){return(t=lB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dB extends b.PureComponent{constructor(){super(...arguments),U0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),U0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:m,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:y,cssProperties:w}=oB({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:p}),S=x?{}:nu(nu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=nu(nu({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:j,ref:v},s)}}var AC=()=>{var e;return(e=Ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2={curveBasisClosed:oM,curveBasisOpen:lM,curveBasis:aM,curveBumpX:V8,curveBumpY:G8,curveLinearClosed:cM,curveLinear:Kh,curveMonotoneX:dM,curveMonotoneY:uM,curveNatural:fM,curveStep:hM,curveStepAfter:mM,curveStepBefore:pM},Lf=e=>Et(e.x)&&Et(e.y),p2=e=>e.base!=null&&Lf(e.base)&&Lf(e),El=e=>e.x,Cl=e=>e.y,pB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(td(e));return(r==="curveMonotone"||r==="curveBump")&&t?h2["".concat(r).concat(t==="vertical"?"Y":"X")]:h2[r]||Kh},mB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,o=pB(t,i),l=s?r.filter(Lf):r,c;if(Array.isArray(n)){var d=r.map((p,g)=>f2(f2({},p),{},{base:n[g]}));i==="vertical"?c=Yd().y(Cl).x1(El).x0(p=>p.base.x):c=Yd().x(El).y1(Cl).y0(p=>p.base.y);var u=c.defined(p2).curve(o),f=s?d.filter(p2):d;return u(f)}i==="vertical"&&Ie(n)?c=Yd().y(Cl).x1(El).x0(n):Ie(n)?c=Yd().x(El).y1(Cl).y0(n):c=RI().x(El).y(Cl);var h=c.defined(Lf).curve(o);return h(l)},_C=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=ad();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?mB(o):n;return b.createElement("path",z0({},ti(e),Wy(e),{className:Ve("recharts-curve",t),d:l===null?void 0:l,ref:i}))},gB=["x","y","top","left","width","height","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=vB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wB(e,t){if(e==null)return{};var r,n,i=jB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SB=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),NB=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=wB(e,gB),d=xB({x:t,y:r,top:n,left:i,width:s,height:o},c);return!Ie(t)||!Ie(r)||!Ie(s)||!Ie(o)||!Ie(n)||!Ie(i)?null:b.createElement("path",W0({},jr(d),{className:Ve("recharts-cross",l),d:SB(t,r,s,o,n,i)}))};function kB(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){IB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IB(e,t,r){return(t=EB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),OC=(e,t,r)=>e.map(n=>"".concat(PB(n)," ").concat(t,"ms ").concat(r)).join(","),TB=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Mc=(e,t)=>Object.keys(t).reduce((r,n)=>x2(x2({},r),{},{[n]:e(n,t[n])}),{});function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=OB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Df=(e,t,r)=>e+(t-e)*r,H0=e=>{var{from:t,to:r}=e;return t!==r},MC=(e,t,r)=>{var n=Mc((i,s)=>{if(H0(s)){var[o,l]=e(s.from,s.to,s.velocity);return Ot(Ot({},s),{},{from:o,velocity:l})}return s},t);return r<1?Mc((i,s)=>H0(s)&&n[i]!=null?Ot(Ot({},s),{},{velocity:Df(s.velocity,n[i].velocity,r),from:Df(s.from,n[i].from,r)}):s,t):MC(e,n,r-1)};function MB(e,t,r,n,i,s){var o,l=n.reduce((h,p)=>Ot(Ot({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Mc((h,p)=>p.from,l),d=()=>!Object.values(l).filter(H0).length,u=null,f=h=>{o||(o=h);var p=h-o,g=p/r.dt;l=MC(r,l,g),i(Ot(Ot(Ot({},e),t),c())),o=h,d()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var h;(h=u)===null||h===void 0||h()})}function $B(e,t,r,n,i,s,o){var l=null,c=i.reduce((f,h)=>{var p=e[h],g=t[h];return p==null||g==null?f:Ot(Ot({},f),{},{[h]:[p,g]})},{}),d,u=f=>{d||(d=f);var h=(f-d)/n,p=Mc((m,v)=>Df(...v,r(h)),c);if(s(Ot(Ot(Ot({},e),t),p)),h<1)l=o.setTimeout(u);else{var g=Mc((m,v)=>Df(...v,r(1)),c);s(Ot(Ot(Ot({},e),t),g))}};return()=>(l=o.setTimeout(u),()=>{var f;(f=l)===null||f===void 0||f()})}const LB=(e,t,r,n,i,s)=>{var o=TB(e,t);return r==null?()=>(i(Ot(Ot({},e),t)),()=>{}):r.isStepper===!0?MB(e,t,r,o,i,s):$B(e,t,r,n,o,i,s)};var Bf=1e-4,$C=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),v2=(e,t)=>r=>{var n=$C(e,t);return LC(n,r)},DB=(e,t)=>r=>{var n=$C(e,t),i=[...n.map((s,o)=>s*o).slice(1),0];return LC(i,r)},BB=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},RB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=BB(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},FB=(e,t,r,n)=>{var i=v2(e,r),s=v2(t,n),o=DB(e,r),l=d=>d>1?1:d<0?0:d,c=d=>{for(var u=d>1?1:d,f=u,h=0;h<8;++h){var p=i(f)-u,g=o(f);if(Math.abs(p-u)<Bf||g<Bf)return s(f);f=l(f-p/g)}return s(f)};return c.isStepper=!1,c},b2=function(){return FB(...RB(...arguments))},UB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(o,l,c)=>{var d=-(o-l)*r,u=c*n,f=c+(d-u)*i/1e3,h=c*i/1e3+o;return Math.abs(h-l)<Bf&&Math.abs(f)<Bf?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},zB=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b2(e);case"spring":return UB();default:if(e.split("(")[0]==="cubic-bezier")return b2(e)}return typeof e=="function"?e:null};function WB(e){var t,r=()=>null,n=!1,i=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,d),c);return}s(c),i=e.setTimeout(s.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class HB{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function KB(){return WB(new HB)}var VB=b.createContext(KB);function GB(e,t){var r=b.useContext(VB);return b.useMemo(()=>t??r(e),[e,t,r])}var qB=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vp={isSsr:qB()},YB={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},w2={t:0},Lm={t:1};function fv(e){var t=fr(e,YB),{isActive:r,canBegin:n,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=r==="auto"?!vp.isSsr:r,f=GB(t.animationId,t.animationManager),[h,p]=b.useState(u?w2:Lm),g=b.useRef(null);return b.useEffect(()=>{u||p(Lm)},[u]),b.useEffect(()=>{if(!u||!n)return rd;var m=LB(w2,Lm,zB(s),i,p,f.getTimeoutController()),v=()=>{g.current=m()};return f.start([c,o,v,i,l]),()=>{f.stop(),g.current&&g.current(),l()}},[u,n,i,s,o,c,l,f]),d(h.t)}function hv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Ec(t)),n=b.useRef(e);return n.current!==e&&(r.current=Ec(t),n.current=e),r.current}var ZB=["radius"],XB=["radius"],j2,S2,N2,k2,I2,E2,C2,P2,T2,A2;function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){JB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function M2(e,t){if(e==null)return{};var r,n,i=t7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $2=(e,t,r,n,i)=>{var s=vs(r),o=vs(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,d=s>=0?1:-1,u=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>l?l:i[p];f=gt(j2||(j2=Hn(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=gt(S2||(S2=Hn(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,e+d*h[0],t)),f+=gt(N2||(N2=Hn(["L ",",",""])),e+r-d*h[1],t),h[1]>0&&(f+=gt(k2||(k2=Hn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],u,e+r,t+c*h[1])),f+=gt(I2||(I2=Hn(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=gt(E2||(E2=Hn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],u,e+r-d*h[2],t+n)),f+=gt(C2||(C2=Hn(["L ",",",""])),e+d*h[3],t+n),h[3]>0&&(f+=gt(P2||(P2=Hn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],u,e,t+n-c*h[3])),f+="Z"}else if(l>0&&i===+i&&i>0){var m=Math.min(l,i);f=gt(T2||(T2=Hn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*m,m,m,u,e+d*m,t,e+r-d*m,t,m,m,u,e+r,t+c*m,e+r,t+n-c*m,m,m,u,e+r-d*m,t+n,e+d*m,t+n,m,m,u,e,t+n-c*m)}else f=gt(A2||(A2=Hn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},L2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DC=e=>{var t=fr(e,L2),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&i($)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t,v=b.useRef(l),x=b.useRef(c),y=b.useRef(s),w=b.useRef(o),S=b.useMemo(()=>({x:s,y:o,width:l,height:c,radius:d}),[s,o,l,c,d]),j=hv(S,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var I=Ve("recharts-rectangle",u);if(!m){var E=jr(t),{radius:C}=E,T=M2(E,ZB);return b.createElement("path",Rf({},T,{x:vs(s),y:vs(o),width:vs(l),height:vs(c),radius:typeof d=="number"?d:void 0,className:I,d:$2(s,o,l,c,d)}))}var K=v.current,V=x.current,P=y.current,R=w.current,N="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),O=OC(["strokeDasharray"],h,typeof f=="string"?f:L2.animationEasing);return b.createElement(fv,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:m,begin:p},$=>{var z=Ar(K,l,$),_=Ar(V,c,$),q=Ar(P,s,$),H=Ar(R,o,$);r.current&&(v.current=z,x.current=_,y.current=q,w.current=H);var D;g?$>0?D={transition:O,strokeDasharray:M}:D={strokeDasharray:N}:D={strokeDasharray:M};var se=jr(t),{radius:ae}=se,ie=M2(se,XB);return b.createElement("path",Rf({},ie,{radius:typeof d=="number"?d:void 0,className:I,d:$2(q,H,z,_,d),ref:r,style:O2(O2({},D),t.style)}))})};function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return(t=n7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff=Math.PI/180,s7=e=>e*180/Math.PI,Qt=(e,t,r,n)=>({x:e+Math.cos(-Ff*n)*r,y:t+Math.sin(-Ff*n)*r}),a7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},o7=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},l7=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,o=o7({x:r,y:n},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:s7(c),angleInRadian:c}},c7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},d7=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return e+o*360},u7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=l7({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:d}=c7(t),u=s,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?B2(B2({},t),{},{radius:i,angle:d7(u,t)}):null};function BC(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,o=Qt(t,r,n,i),l=Qt(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var R2,F2,U2,z2,W2,H2,K2;function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}function aa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f7=(e,t)=>{var r=hn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},iu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Ff,f=c?i:i+s*u,h=Qt(t,r,d,f),p=Qt(t,r,n,f),g=c?i-s*u:i,m=Qt(t,r,d*Math.cos(u*Ff),g);return{center:h,circleTangency:p,lineTangency:m,theta:u}},RC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:o}=e,l=f7(s,o),c=s+l,d=Qt(t,r,i,s),u=Qt(t,r,i,c),f=gt(R2||(R2=aa(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),u.x,u.y);if(n>0){var h=Qt(t,r,n,s),p=Qt(t,r,n,c);f+=gt(F2||(F2=aa(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(l)>180),+(s<=c),h.x,h.y)}else f+=gt(U2||(U2=aa(["L ",","," Z"])),t,r);return f},h7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=hn(d-c),{circleTangency:f,lineTangency:h,theta:p}=iu({cx:t,cy:r,radius:i,angle:c,sign:u,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:m,theta:v}=iu({cx:t,cy:r,radius:i,angle:d,sign:-u,cornerRadius:s,cornerIsExternal:l}),x=l?Math.abs(c-d):Math.abs(c-d)-p-v;if(x<0)return o?gt(z2||(z2=aa(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):RC({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d});var y=gt(W2||(W2=aa(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(u<0),f.x,f.y,i,i,+(x>180),+(u<0),g.x,g.y,s,s,+(u<0),m.x,m.y);if(n>0){var{circleTangency:w,lineTangency:S,theta:j}=iu({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:I,lineTangency:E,theta:C}=iu({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=l?Math.abs(c-d):Math.abs(c-d)-j-C;if(T<0&&s===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=gt(H2||(H2=aa(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,s,s,+(u<0),I.x,I.y,n,n,+(T>180),+(u>0),w.x,w.y,s,s,+(u<0),S.x,S.y)}else y+=gt(K2||(K2=aa(["L",",","Z"])),t,r);return y},p7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FC=e=>{var t=fr(e,p7),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(s<i||d===u)return null;var h=Ve("recharts-sector",f),p=s-i,g=Ms(o,p,0,!0),m;return g>0&&Math.abs(d-u)<360?m=h7({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):m=RC({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:u}),b.createElement("path",K0({},jr(t),{className:h,d:m}))};function m7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(tE(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:o,angle:l}=t,c=Qt(n,i,s,l),d=Qt(n,i,o,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return BC(t)}}var UC={},zC={},WC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(WC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ev,r=zC;function n(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),o=o===void 0?i<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-i)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=o;return c}e.range=n})(UC);var g7=UC.range;const HC=oi(g7);function Ps(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pv(e){let t,r,n;e.length!==2?(t=Ps,r=(l,c)=>Ps(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ps||e===x7?e:y7,r=e,n=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=i(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function y7(){return 0}function KC(e){return e===null?NaN:+e}function*v7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const b7=pv(Ps),ld=b7.right;pv(KC).center;class V2 extends Map{constructor(t,r=S7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(G2(this,t))}has(t){return super.has(G2(this,t))}set(t,r){return super.set(w7(this,t),r)}delete(t){return super.delete(j7(this,t))}}function G2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function w7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function S7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N7(e=Ps){if(e===Ps)return VC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function VC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k7=Math.sqrt(50),I7=Math.sqrt(10),E7=Math.sqrt(2);function Uf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=k7?10:s>=I7?5:s>=E7?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Uf(e,t,r*2):[l,c,d]}function V0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Uf(t,e,r):Uf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function G0(e,t,r){return t=+t,e=+e,r=+r,Uf(e,t,r)[2]}function q0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?G0(t,e,r):G0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function q2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?VC:N7(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),g=Math.min(n,Math.floor(t+(c-d)*f/c+h));GC(e,t,p,g,i)}const s=e[t];let o=r,l=n;for(Pl(e,r,t),i(e[n],s)>0&&Pl(e,r,n);o<l;){for(Pl(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Pl(e,r,l):(++l,Pl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Pl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C7(e,t,r){if(e=Float64Array.from(v7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y2(e);if(t>=1)return q2(e);var n,i=(n-1)*t,s=Math.floor(i),o=q2(GC(e,s).subarray(0,s+1)),l=Y2(e.subarray(s+1));return o+(l-o)*(i-s)}}function P7(e,t,r=KC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function T7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Y0=Symbol("implicit");function mv(){var e=new V2,t=[],r=[],n=Y0;function i(s){let o=e.get(s);if(o===void 0){if(n!==Y0)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new V2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return mv(t,r).unknown(n)},wn.apply(i,arguments),i}function gv(){var e=mv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<n,g=p?i:n,m=p?n:i;s=(m-g)/Math.max(1,h-c+d*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*u,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=T7(h).map(function(x){return g+s*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return gv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},wn.apply(f(),arguments)}function qC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qC(t())},e}function A7(){return qC(gv.apply(null,arguments).paddingInner(1))}function xv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cd(){}var $c=.7,zf=1/$c,ko="\\s*([+-]?\\d+)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_7=/^#([0-9a-f]{3,8})$/,O7=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),M7=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),$7=new RegExp(`^rgba\\(${ko},${ko},${ko},${Lc}\\)$`),L7=new RegExp(`^rgba\\(${ei},${ei},${ei},${Lc}\\)$`),D7=new RegExp(`^hsl\\(${Lc},${ei},${ei}\\)$`),B7=new RegExp(`^hsla\\(${Lc},${ei},${ei},${Lc}\\)$`),Z2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xv(cd,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X2,formatHex:X2,formatHex8:R7,formatHsl:F7,formatRgb:J2,toString:J2});function X2(){return this.rgb().formatHex()}function R7(){return this.rgb().formatHex8()}function F7(){return ZC(this).formatHsl()}function J2(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Q2(t):r===3?new Mr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?su(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?su(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O7.exec(e))?new Mr(t[1],t[2],t[3],1):(t=M7.exec(e))?new Mr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$7.exec(e))?su(t[1],t[2],t[3],t[4]):(t=L7.exec(e))?su(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D7.exec(e))?rj(t[1],t[2]/100,t[3]/100,1):(t=B7.exec(e))?rj(t[1],t[2]/100,t[3]/100,t[4]):Z2.hasOwnProperty(e)?Q2(Z2[e]):e==="transparent"?new Mr(NaN,NaN,NaN,0):null}function Q2(e){return new Mr(e>>16&255,e>>8&255,e&255,1)}function su(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mr(e,t,r,n)}function U7(e){return e instanceof cd||(e=Dc(e)),e?(e=e.rgb(),new Mr(e.r,e.g,e.b,e.opacity)):new Mr}function Z0(e,t,r,n){return arguments.length===1?U7(e):new Mr(e,t,r,n??1)}function Mr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xv(Mr,Z0,YC(cd,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mr(ya(this.r),ya(this.g),ya(this.b),Wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ej,formatHex:ej,formatHex8:z7,formatRgb:tj,toString:tj}));function ej(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}`}function z7(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}${oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function tj(){const e=Wf(this.opacity);return`${e===1?"rgb(":"rgba("}${ya(this.r)}, ${ya(this.g)}, ${ya(this.b)}${e===1?")":`, ${e})`}`}function Wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ya(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oa(e){return e=ya(e),(e<16?"0":"")+e.toString(16)}function rj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _n(e,t,r,n)}function ZC(e){if(e instanceof _n)return new _n(e.h,e.s,e.l,e.opacity);if(e instanceof cd||(e=Dc(e)),!e)return new _n;if(e instanceof _n)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new _n(o,l,c,e.opacity)}function W7(e,t,r,n){return arguments.length===1?ZC(e):new _n(e,t,r,n??1)}function _n(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xv(_n,W7,YC(cd,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new _n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new _n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Mr(Dm(e>=240?e-240:e+120,i,n),Dm(e,i,n),Dm(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new _n(nj(this.h),au(this.s),au(this.l),Wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wf(this.opacity);return`${e===1?"hsl(":"hsla("}${nj(this.h)}, ${au(this.s)*100}%, ${au(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nj(e){return e=(e||0)%360,e<0?e+360:e}function au(e){return Math.max(0,Math.min(1,e||0))}function Dm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yv=e=>()=>e;function H7(e,t){return function(r){return e+r*t}}function K7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function V7(e){return(e=+e)==1?XC:function(t,r){return r-t?K7(t,r,e):yv(isNaN(t)?r:t)}}function XC(e,t){var r=t-e;return r?H7(e,r):yv(isNaN(e)?t:e)}const ij=function e(t){var r=V7(t);function n(i,s){var o=r((i=Z0(i)).r,(s=Z0(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),d=XC(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return n.gamma=e,n}(1);function G7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function q7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Y7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=rl(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function Z7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function X7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=rl(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var X0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bm=new RegExp(X0.source,"g");function J7(e){return function(){return e}}function Q7(e){return function(t){return e(t)+""}}function e9(e,t){var r=X0.lastIndex=Bm.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=X0.exec(e))&&(i=Bm.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Hf(n,i)})),r=Bm.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Q7(c[0].x):J7(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function rl(e,t){var r=typeof t,n;return t==null||r==="boolean"?yv(t):(r==="number"?Hf:r==="string"?(n=Dc(t))?(t=n,ij):e9:t instanceof Dc?ij:t instanceof Date?Z7:q7(t)?G7:Array.isArray(t)?Y7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X7:Hf)(e,t)}function vv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function t9(e,t){t===void 0&&(t=e,e=rl);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function r9(e){return function(){return e}}function Kf(e){return+e}var sj=[0,1];function xr(e){return e}function J0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:r9(isNaN(t)?NaN:.5)}function n9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function i9(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=J0(i,n),s=r(o,s)):(n=J0(n,i),s=r(s,o)),function(l){return s(n(l))}}function s9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=J0(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=ld(e,l,1,n)-1;return s[c](i[c](l))}}function dd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bp(){var e=sj,t=sj,r=rl,n,i,s,o=xr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==xr&&(o=n9(e[0],e[h-1])),l=h>2?s9:i9,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((d||(d=l(t,e.map(n),Hf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Kf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=vv,u()},f.clamp=function(h){return arguments.length?(o=h?!0:xr,u()):o!==xr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,u()}}function bv(){return bp()(xr,xr)}function a9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zo(e){return e=Vf(Math.abs(e)),e?e[1]:NaN}function o9(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function l9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var c9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bc(e){if(!(t=c9.exec(e)))throw new Error("invalid format: "+e);var t;return new wv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bc.prototype=wv.prototype;function wv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function d9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Gf;function u9(e,t){var r=Vf(e,t);if(!r)return Gf=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(Gf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vf(e,Math.max(0,t+s-1))[0]}function aj(e,t){var r=Vf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aj(e*100,t),r:aj,s:u9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lj(e){return e}var cj=Array.prototype.map,dj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function f9(e){var t=e.grouping===void 0||e.thousands===void 0?lj:o9(cj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?lj:l9(cj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f,h){f=Bc(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,x=f.zero,y=f.width,w=f.comma,S=f.precision,j=f.trim,I=f.type;I==="n"?(w=!0,I="g"):oj[I]||(S===void 0&&(S=12),j=!0,I="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),C=(v==="$"?n:/[%p]/.test(I)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),T=oj[I],K=/[defgprs%]/.test(I);S=S===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function V(P){var R=E,N=C,M,O,$;if(I==="c")N=T(P)+N,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?c:T(Math.abs(P),S),j&&(P=d9(P)),z&&+P==0&&m!=="+"&&(z=!1),R=(z?m==="("?m:l:m==="-"||m==="("?"":m)+R,N=(I==="s"&&!isNaN(P)&&Gf!==void 0?dj[8+Gf/3]:"")+N+(z&&m==="("?")":""),K){for(M=-1,O=P.length;++M<O;)if($=P.charCodeAt(M),48>$||$>57){N=($===46?i+P.slice(M+1):P.slice(M))+N,P=P.slice(0,M);break}}}w&&!x&&(P=t(P,1/0));var _=R.length+P.length+N.length,q=_<y?new Array(y-_+1).join(p):"";switch(w&&x&&(P=t(q+P,q.length?y-N.length:1/0),q=""),g){case"<":P=R+P+N+q;break;case"=":P=R+q+P+N;break;case"^":P=q.slice(0,_=q.length>>1)+R+P+N+q.slice(_);break;default:P=q+R+P+N;break}return s(P)}return V.toString=function(){return f+""},V}function u(f,h){var p=Math.max(-8,Math.min(8,Math.floor(zo(h)/3)))*3,g=Math.pow(10,-p),m=d((f=Bc(f),f.type="f",f),{suffix:dj[8+p/3]});return function(v){return m(g*v)}}return{format:d,formatPrefix:u}}var ou,jv,JC;h9({thousands:",",grouping:[3],currency:["$",""]});function h9(e){return ou=f9(e),jv=ou.format,JC=ou.formatPrefix,ou}function p9(e){return Math.max(0,-zo(Math.abs(e)))}function m9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(t)/3)))*3-zo(Math.abs(e)))}function g9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zo(t)-zo(e))+1}function QC(e,t,r,n){var i=q0(e,t,r),s;switch(n=Bc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=m9(i,o))&&(n.precision=s),JC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=g9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=p9(i))&&(n.precision=s-(n.type==="%")*2);break}}return jv(n)}function Ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return V0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return QC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);u-- >0;){if(d=G0(o,l,r),d===c)return n[i]=o,n[s]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function eP(){var e=bv();return e.copy=function(){return dd(e,eP())},wn.apply(e,arguments),Ws(e)}function tP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tP(e).unknown(t)},e=arguments.length?Array.from(e,Kf):[0,1],Ws(r)}function rP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function uj(e){return Math.log(e)}function fj(e){return Math.exp(e)}function x9(e){return-Math.log(-e)}function y9(e){return-Math.exp(-e)}function v9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b9(e){return e===10?v9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function w9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hj(e){return(t,r)=>-e(-t,r)}function Sv(e){const t=e(uj,fj),r=t.domain;let n=10,i,s;function o(){return i=w9(n),s=b9(n),r()[0]<0?(i=hj(i),s=hj(s),e(x9,y9)):e(uj,fj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=i(d),p=i(u),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<d)){if(m>u)break;x.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<d)){if(m>u)break;x.push(m)}x.length*2<v&&(x=V0(d,u,v))}else x=V0(h,p,Math.min(p-h,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bc(c)).precision==null&&(c.trim=!0),c=jv(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(rP(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function nP(){const e=Sv(bp()).domain([1,10]);return e.copy=()=>dd(e,nP()).base(e.base()),wn.apply(e,arguments),e}function pj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nv(e){var t=1,r=e(pj(t),mj(t));return r.constant=function(n){return arguments.length?e(pj(t=+n),mj(t)):t},Ws(r)}function iP(){var e=Nv(bp());return e.copy=function(){return dd(e,iP()).constant(e.constant())},wn.apply(e,arguments)}function gj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S9(e){return e<0?-e*e:e*e}function kv(e){var t=e(xr,xr),r=1;function n(){return r===1?e(xr,xr):r===.5?e(j9,S9):e(gj(r),gj(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ws(t)}function Iv(){var e=kv(bp());return e.copy=function(){return dd(e,Iv()).exponent(e.exponent())},wn.apply(e,arguments),e}function N9(){return Iv.apply(null,arguments).exponent(.5)}function xj(e){return Math.sign(e)*e*e}function k9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sP(){var e=bv(),t=[0,1],r=!1,n;function i(s){var o=k9(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(xj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Kf)).map(xj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return sP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wn.apply(i,arguments),Ws(i)}function aP(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=P7(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ld(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ps),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return aP().domain(e).range(t).unknown(n)},wn.apply(s,arguments)}function oP(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[ld(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return oP().domain([e,t]).range(i).unknown(s)},wn.apply(Ws(o),arguments)}function lP(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[ld(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return lP().domain(e).range(t).unknown(r)},wn.apply(i,arguments)}const Rm=new Date,Fm=new Date;function $t(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<o);return c},i.filter=s=>$t(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Rm.setTime(+s),Fm.setTime(+o),e(Rm),e(Fm),Math.floor(r(Rm,Fm))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const qf=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qf);qf.range;const Si=1e3,pn=Si*60,Ni=pn*60,Di=Ni*24,Ev=Di*7,yj=Di*30,Um=Di*365,la=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCSeconds());la.range;const Cv=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Si)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getMinutes());Cv.range;const Pv=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getUTCMinutes());Pv.range;const Tv=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Si-e.getMinutes()*pn)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getHours());Tv.range;const Av=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCHours());Av.range;const ud=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/Di,e=>e.getDate()-1);ud.range;const wp=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);wp.range;const cP=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));cP.range;function Da(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pn)/Ev)}const jp=Da(0),Yf=Da(1),I9=Da(2),E9=Da(3),Wo=Da(4),C9=Da(5),P9=Da(6);jp.range;Yf.range;I9.range;E9.range;Wo.range;C9.range;P9.range;function Ba(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ev)}const Sp=Ba(0),Zf=Ba(1),T9=Ba(2),A9=Ba(3),Ho=Ba(4),_9=Ba(5),O9=Ba(6);Sp.range;Zf.range;T9.range;A9.range;Ho.range;_9.range;O9.range;const _v=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_v.range;const Ov=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ov.range;const Bi=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bi.range;const Ri=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function dP(e,t,r,n,i,s){const o=[[la,1,Si],[la,5,5*Si],[la,15,15*Si],[la,30,30*Si],[s,1,pn],[s,5,5*pn],[s,15,15*pn],[s,30,30*pn],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[n,1,Di],[n,2,2*Di],[r,1,Ev],[t,1,yj],[t,3,3*yj],[e,1,Um]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),g=p?p.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,f){const h=Math.abs(u-d)/f,p=pv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(q0(d/Um,u/Um,f));if(p===0)return qf.every(Math.max(q0(d,u,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[M9,$9]=dP(Ri,Ov,Sp,cP,Av,Pv),[L9,D9]=dP(Bi,_v,jp,ud,Tv,Cv);function zm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function B9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Al(i),u=_l(i),f=Al(s),h=_l(s),p=Al(o),g=_l(o),m=Al(l),v=_l(l),x=Al(c),y=_l(c),w={a:$,A:z,b:_,B:q,c:null,d:Nj,e:Nj,f:oR,g:xR,G:vR,H:iR,I:sR,j:aR,L:uP,m:lR,M:cR,p:H,q:D,Q:Ej,s:Cj,S:dR,u:uR,U:fR,V:hR,w:pR,W:mR,x:null,X:null,y:gR,Y:yR,Z:bR,"%":Ij},S={a:se,A:ae,b:ie,B:ce,c:null,d:kj,e:kj,f:NR,g:MR,G:LR,H:wR,I:jR,j:SR,L:hP,m:kR,M:IR,p:xe,q:ve,Q:Ej,s:Cj,S:ER,u:CR,U:PR,V:TR,w:AR,W:_R,x:null,X:null,y:OR,Y:$R,Z:DR,"%":Ij},j={a:K,A:V,b:P,B:R,c:N,d:jj,e:jj,f:eR,g:wj,G:bj,H:Sj,I:Sj,j:Z9,L:Q9,m:Y9,M:X9,p:T,q:q9,Q:rR,s:nR,S:J9,u:W9,U:H9,V:K9,w:z9,W:V9,x:M,X:O,y:wj,Y:bj,Z:G9,"%":tR};w.x=I(r,w),w.X=I(n,w),w.c=I(t,w),S.x=I(r,S),S.X=I(n,S),S.c=I(t,S);function I(ee,F){return function(re){var W=[],le=-1,k=0,Y=ee.length,X,U,B;for(re instanceof Date||(re=new Date(+re));++le<Y;)ee.charCodeAt(le)===37&&(W.push(ee.slice(k,le)),(U=vj[X=ee.charAt(++le)])!=null?X=ee.charAt(++le):U=X==="e"?" ":"0",(B=F[X])&&(X=B(re,U)),W.push(X),k=le+1);return W.push(ee.slice(k,le)),W.join("")}}function E(ee,F){return function(re){var W=Tl(1900,void 0,1),le=C(W,ee,re+="",0),k,Y;if(le!=re.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(F&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(k=Wm(Tl(W.y,0,1)),Y=k.getUTCDay(),k=Y>4||Y===0?Zf.ceil(k):Zf(k),k=wp.offset(k,(W.V-1)*7),W.y=k.getUTCFullYear(),W.m=k.getUTCMonth(),W.d=k.getUTCDate()+(W.w+6)%7):(k=zm(Tl(W.y,0,1)),Y=k.getDay(),k=Y>4||Y===0?Yf.ceil(k):Yf(k),k=ud.offset(k,(W.V-1)*7),W.y=k.getFullYear(),W.m=k.getMonth(),W.d=k.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Y="Z"in W?Wm(Tl(W.y,0,1)).getUTCDay():zm(Tl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Y+5)%7:W.w+W.U*7-(Y+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Wm(W)):zm(W)}}function C(ee,F,re,W){for(var le=0,k=F.length,Y=re.length,X,U;le<k;){if(W>=Y)return-1;if(X=F.charCodeAt(le++),X===37){if(X=F.charAt(le++),U=j[X in vj?F.charAt(le++):X],!U||(W=U(ee,re,W))<0)return-1}else if(X!=re.charCodeAt(W++))return-1}return W}function T(ee,F,re){var W=d.exec(F.slice(re));return W?(ee.p=u.get(W[0].toLowerCase()),re+W[0].length):-1}function K(ee,F,re){var W=p.exec(F.slice(re));return W?(ee.w=g.get(W[0].toLowerCase()),re+W[0].length):-1}function V(ee,F,re){var W=f.exec(F.slice(re));return W?(ee.w=h.get(W[0].toLowerCase()),re+W[0].length):-1}function P(ee,F,re){var W=x.exec(F.slice(re));return W?(ee.m=y.get(W[0].toLowerCase()),re+W[0].length):-1}function R(ee,F,re){var W=m.exec(F.slice(re));return W?(ee.m=v.get(W[0].toLowerCase()),re+W[0].length):-1}function N(ee,F,re){return C(ee,t,F,re)}function M(ee,F,re){return C(ee,r,F,re)}function O(ee,F,re){return C(ee,n,F,re)}function $(ee){return o[ee.getDay()]}function z(ee){return s[ee.getDay()]}function _(ee){return c[ee.getMonth()]}function q(ee){return l[ee.getMonth()]}function H(ee){return i[+(ee.getHours()>=12)]}function D(ee){return 1+~~(ee.getMonth()/3)}function se(ee){return o[ee.getUTCDay()]}function ae(ee){return s[ee.getUTCDay()]}function ie(ee){return c[ee.getUTCMonth()]}function ce(ee){return l[ee.getUTCMonth()]}function xe(ee){return i[+(ee.getUTCHours()>=12)]}function ve(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var F=I(ee+="",w);return F.toString=function(){return ee},F},parse:function(ee){var F=E(ee+="",!1);return F.toString=function(){return ee},F},utcFormat:function(ee){var F=I(ee+="",S);return F.toString=function(){return ee},F},utcParse:function(ee){var F=E(ee+="",!0);return F.toString=function(){return ee},F}}}var vj={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,R9=/^%/,F9=/[\\^$*+?|[\]().{}]/g;function Be(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function U9(e){return e.replace(F9,"\\$&")}function Al(e){return new RegExp("^(?:"+e.map(U9).join("|")+")","i")}function _l(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function z9(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function W9(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function H9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function V9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bj(e,t,r){var n=Gt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function wj(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function G9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function q9(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Y9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jj(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Z9(e,t,r){var n=Gt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Sj(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function X9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function J9(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=Gt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eR(e,t,r){var n=Gt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tR(e,t,r){var n=R9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rR(e,t,r){var n=Gt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nR(e,t,r){var n=Gt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nj(e,t){return Be(e.getDate(),t,2)}function iR(e,t){return Be(e.getHours(),t,2)}function sR(e,t){return Be(e.getHours()%12||12,t,2)}function aR(e,t){return Be(1+ud.count(Bi(e),e),t,3)}function uP(e,t){return Be(e.getMilliseconds(),t,3)}function oR(e,t){return uP(e,t)+"000"}function lR(e,t){return Be(e.getMonth()+1,t,2)}function cR(e,t){return Be(e.getMinutes(),t,2)}function dR(e,t){return Be(e.getSeconds(),t,2)}function uR(e){var t=e.getDay();return t===0?7:t}function fR(e,t){return Be(jp.count(Bi(e)-1,e),t,2)}function fP(e){var t=e.getDay();return t>=4||t===0?Wo(e):Wo.ceil(e)}function hR(e,t){return e=fP(e),Be(Wo.count(Bi(e),e)+(Bi(e).getDay()===4),t,2)}function pR(e){return e.getDay()}function mR(e,t){return Be(Yf.count(Bi(e)-1,e),t,2)}function gR(e,t){return Be(e.getFullYear()%100,t,2)}function xR(e,t){return e=fP(e),Be(e.getFullYear()%100,t,2)}function yR(e,t){return Be(e.getFullYear()%1e4,t,4)}function vR(e,t){var r=e.getDay();return e=r>=4||r===0?Wo(e):Wo.ceil(e),Be(e.getFullYear()%1e4,t,4)}function bR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function kj(e,t){return Be(e.getUTCDate(),t,2)}function wR(e,t){return Be(e.getUTCHours(),t,2)}function jR(e,t){return Be(e.getUTCHours()%12||12,t,2)}function SR(e,t){return Be(1+wp.count(Ri(e),e),t,3)}function hP(e,t){return Be(e.getUTCMilliseconds(),t,3)}function NR(e,t){return hP(e,t)+"000"}function kR(e,t){return Be(e.getUTCMonth()+1,t,2)}function IR(e,t){return Be(e.getUTCMinutes(),t,2)}function ER(e,t){return Be(e.getUTCSeconds(),t,2)}function CR(e){var t=e.getUTCDay();return t===0?7:t}function PR(e,t){return Be(Sp.count(Ri(e)-1,e),t,2)}function pP(e){var t=e.getUTCDay();return t>=4||t===0?Ho(e):Ho.ceil(e)}function TR(e,t){return e=pP(e),Be(Ho.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function AR(e){return e.getUTCDay()}function _R(e,t){return Be(Zf.count(Ri(e)-1,e),t,2)}function OR(e,t){return Be(e.getUTCFullYear()%100,t,2)}function MR(e,t){return e=pP(e),Be(e.getUTCFullYear()%100,t,2)}function $R(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function LR(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ho(e):Ho.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function DR(){return"+0000"}function Ij(){return"%"}function Ej(e){return+e}function Cj(e){return Math.floor(+e/1e3)}var Ga,mP,gP;BR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BR(e){return Ga=B9(e),mP=Ga.format,Ga.parse,gP=Ga.utcFormat,Ga.utcParse,Ga}function RR(e){return new Date(e)}function FR(e){return e instanceof Date?+e:+new Date(+e)}function Mv(e,t,r,n,i,s,o,l,c,d){var u=bv(),f=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),m=d("%I:%M"),v=d("%I %p"),x=d("%a %d"),y=d("%b %d"),w=d("%B"),S=d("%Y");function j(I){return(c(I)<I?p:l(I)<I?g:o(I)<I?m:s(I)<I?v:n(I)<I?i(I)<I?x:y:r(I)<I?w:S)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,FR)):h().map(RR)},u.ticks=function(I){var E=h();return e(E[0],E[E.length-1],I??10)},u.tickFormat=function(I,E){return E==null?j:d(E)},u.nice=function(I){var E=h();return(!I||typeof I.range!="function")&&(I=t(E[0],E[E.length-1],I??10)),I?h(rP(E,I)):u},u.copy=function(){return dd(u,Mv(e,t,r,n,i,s,o,l,c,d))},u}function UR(){return wn.apply(Mv(L9,D9,Bi,_v,jp,ud,Tv,Cv,la,mP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zR(){return wn.apply(Mv(M9,$9,Ri,Ov,Sp,wp,Av,Pv,la,gP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Np(){var e=0,t=1,r,n,i,s,o=xr,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),d):[o(0),o(1)]}}return d.range=u(rl),d.rangeRound=u(vv),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),d}}function Hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xP(){var e=Ws(Np()(xr));return e.copy=function(){return Hs(e,xP())},Gi.apply(e,arguments)}function yP(){var e=Sv(Np()).domain([1,10]);return e.copy=function(){return Hs(e,yP()).base(e.base())},Gi.apply(e,arguments)}function vP(){var e=Nv(Np());return e.copy=function(){return Hs(e,vP()).constant(e.constant())},Gi.apply(e,arguments)}function $v(){var e=kv(Np());return e.copy=function(){return Hs(e,$v()).exponent(e.exponent())},Gi.apply(e,arguments)}function WR(){return $v.apply(null,arguments).exponent(.5)}function bP(){var e=[],t=xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((ld(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ps),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>C7(e,s/n))},r.copy=function(){return bP(t).domain(e)},Gi.apply(r,arguments)}function kp(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,d=xr,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-s)*(n*m<n*s?l:c),d(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),s=u(t=+t),o=u(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(d=m,p):d};function g(m){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,d=t9(m,[x,y,w]),p):[d(0),d(.5),d(1)]}}return p.range=g(rl),p.rangeRound=g(vv),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,i=m(e),s=m(t),o=m(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function wP(){var e=Ws(kp()(xr));return e.copy=function(){return Hs(e,wP())},Gi.apply(e,arguments)}function jP(){var e=Sv(kp()).domain([.1,1,10]);return e.copy=function(){return Hs(e,jP()).base(e.base())},Gi.apply(e,arguments)}function SP(){var e=Nv(kp());return e.copy=function(){return Hs(e,SP()).constant(e.constant())},Gi.apply(e,arguments)}function Lv(){var e=kv(kp());return e.copy=function(){return Hs(e,Lv()).exponent(e.exponent())},Gi.apply(e,arguments)}function HR(){return Lv.apply(null,arguments).exponent(.5)}const Hl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gv,scaleDiverging:wP,scaleDivergingLog:jP,scaleDivergingPow:Lv,scaleDivergingSqrt:HR,scaleDivergingSymlog:SP,scaleIdentity:tP,scaleImplicit:Y0,scaleLinear:eP,scaleLog:nP,scaleOrdinal:mv,scalePoint:A7,scalePow:Iv,scaleQuantile:aP,scaleQuantize:oP,scaleRadial:sP,scaleSequential:xP,scaleSequentialLog:yP,scaleSequentialPow:$v,scaleSequentialQuantile:bP,scaleSequentialSqrt:WR,scaleSequentialSymlog:vP,scaleSqrt:N9,scaleSymlog:iP,scaleThreshold:lP,scaleTime:UR,scaleUtc:zR,tickFormat:QC},Symbol.toStringTag,{value:"Module"}));var Ks=e=>e.chartData,KR=oe([Ks],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Dv=(e,t,r,n)=>n?KR(e):Ks(e);function $s(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Et(t)&&Et(r))return!0}return!1}function Pj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Et(r))i=r;else if(typeof r=="function")return;if(Et(n))s=n;else if(typeof n=="function")return;var o=[i,s];if($s(o))return o}}function VR(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($s(n))return Pj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Ie(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&q1.test(i)){var c=q1.exec(i);if(c==null||c[1]==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(Ie(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Y1.test(s)){var u=Y1.exec(s);if(u==null||u[1]==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($s(h))return t==null?h:Pj(h,t,r)}}}var nl=1e9,GR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rv,dt=!0,bn="[DecimalError] ",va=bn+"Invalid argument: ",Bv=bn+"Exponent out of range: ",il=Math.floor,ra=Math.pow,qR=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Wt=1e7,rt=7,kP=9007199254740991,Xf=il(kP/rt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Ei(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return qe(Ei(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return It(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vr))throw Error(bn+"NaN");if(r.s<1)throw Error(bn+(r.s?"NaN":"-Infinity"));return r.eq(Vr)?new n(0):(dt=!1,t=Ei(Rc(r,s),Rc(e,s),s),dt=!0,qe(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CP(t,e):IP(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bn+"NaN");return r.s?(dt=!1,t=Ei(r,e,0,1).times(e),dt=!0,r.minus(t)):qe(new n(r),i)};we.naturalExponential=we.exp=function(){return EP(this)};we.naturalLogarithm=we.ln=function(){return Rc(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IP(t,e):CP(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(va+e);if(t=It(i)+1,n=i.d.length-1,r=n*rt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(bn+"NaN")}for(e=It(l),dt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Zn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=il((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Ei(l,s,o+2)).times(.5),Zn(s.d).slice(0,o)===(t=Zn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(qe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return dt=!0,qe(n,r)};we.times=we.mul=function(e){var t,r,n,i,s,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(s=h,h=p,p=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*h[i-n-1]+t,s[i--]=l%Wt|0,t=l/Wt|0;s[i]=(s[i]+t)%Wt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,dt?qe(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(si(e,0,nl),t===void 0?t=n.rounding:si(t,0,8),qe(r,e+It(r)+1,t))};we.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ta(n,!0):(si(e,0,nl),t===void 0?t=i.rounding:si(t,0,8),n=qe(new i(n),e+1,t),r=Ta(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ta(i):(si(e,0,nl),t===void 0?t=s.rounding:si(t,0,8),n=qe(new s(i),e+It(i)+1,t),r=Ta(n.abs(),!1,e+It(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return qe(new t(e),It(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Vr);if(l=new c(l),!l.s){if(e.s<1)throw Error(bn+"Infinity");return l}if(l.eq(Vr))return l;if(n=c.precision,e.eq(Vr))return qe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=u<0?-u:u)<=kP){for(i=new c(Vr),t=Math.ceil(n/rt+4),dt=!1;r%2&&(i=i.times(l),Aj(i.d,t)),r=il(r/2),r!==0;)l=l.times(l),Aj(l.d,t);return dt=!0,e.s<0?new c(Vr).div(i):qe(i,n)}}else if(s<0)throw Error(bn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,dt=!1,i=e.times(Rc(l,n+d)),dt=!0,i=EP(i),i.s=s,i};we.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=It(i),n=Ta(i,r<=s.toExpNeg||r>=s.toExpPos)):(si(e,1,nl),t===void 0?t=s.rounding:si(t,0,8),i=qe(new s(i),e,t),r=It(i),n=Ta(i,e<=r||r<=s.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(si(e,1,nl),t===void 0?t=n.rounding:si(t,0,8)),qe(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=It(e),r=e.constructor;return Ta(e,t<=r.toExpNeg||t>=r.toExpPos)};function IP(e,t){var r,n,i,s,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),dt?qe(t,f):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(f/rt),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/Wt|0,c[s]%=Wt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,dt?qe(t,f):t}function si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(va+e)}function Zn(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=rt-n.length,r&&(s+=cs(r)),s+=n;o=e[t],n=o+"",r=rt-n.length,r&&(s+=cs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ei=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Wt|0,o=s/Wt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Wt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,d,u,f,h,p,g,m,v,x,y,w,S,j,I,E,C,T=n.constructor,K=n.s==i.s?1:-1,V=n.d,P=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(bn+"Division by zero");for(c=n.e-i.e,E=P.length,j=V.length,p=new T(K),g=p.d=[],d=0;P[d]==(V[d]||0);)++d;if(P[d]>(V[d]||0)&&--c,s==null?y=s=T.precision:o?y=s+(It(n)-It(i))+1:y=s,y<0)return new T(0);if(y=y/rt+2|0,d=0,E==1)for(u=0,P=P[0],y++;(d<j||u)&&y--;d++)w=u*Wt+(V[d]||0),g[d]=w/P|0,u=w%P|0;else{for(u=Wt/(P[0]+1)|0,u>1&&(P=e(P,u),V=e(V,u),E=P.length,j=V.length),S=E,m=V.slice(0,E),v=m.length;v<E;)m[v++]=0;C=P.slice(),C.unshift(0),I=P[0],P[1]>=Wt/2&&++I;do u=0,l=t(P,m,E,v),l<0?(x=m[0],E!=v&&(x=x*Wt+(m[1]||0)),u=x/I|0,u>1?(u>=Wt&&(u=Wt-1),f=e(P,u),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(u--,r(f,E<h?C:P,h))):(u==0&&(l=u=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(P,m,E,v),l<1&&(u++,r(m,E<v?C:P,v))),v=m.length):l===0&&(u++,m=[0]),g[d++]=u,l&&m[0]?m[v++]=V[S]||0:(m=[V[S]],v=1);while((S++<j||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,qe(p,o?s+It(p)+1:s)}}();function EP(e,t){var r,n,i,s,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(It(e)>16)throw Error(Bv+It(e));if(!e.s)return new u(Vr);for(dt=!1,l=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(ra(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new u(Vr),u.precision=l;;){if(i=qe(i.times(e),l),r=r.times(++c),o=s.plus(Ei(i,r,l)),Zn(o.d).slice(0,l)===Zn(s.d).slice(0,l)){for(;d--;)s=qe(s.times(s),l);return u.precision=f,t==null?(dt=!0,qe(s,f)):s}s=o}}function It(e){for(var t=e.e*rt,r=e.d[0];r>=10;r/=10)t++;return t}function Hm(e,t,r){if(t>e.LN10.sd())throw dt=!0,r&&(e.precision=r),Error(bn+"LN10 precision limit exceeded");return qe(new e(e.LN10),t)}function cs(e){for(var t="";e--;)t+="0";return t}function Rc(e,t){var r,n,i,s,o,l,c,d,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(bn+(p.s?"NaN":"-Infinity"));if(p.eq(Vr))return new m(0);if(t==null?(dt=!1,d=v):d=t,p.eq(10))return t==null&&(dt=!0),Hm(m,d);if(d+=h,m.precision=d,r=Zn(g),n=r.charAt(0),s=It(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zn(p.d),n=r.charAt(0),f++;s=It(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=Hm(m,d+2,v).times(s+""),p=Rc(new m(n+"."+r.slice(1)),d-h).plus(c),m.precision=v,t==null?(dt=!0,qe(p,v)):p;for(l=o=p=Ei(p.minus(Vr),p.plus(Vr),d),u=qe(p.times(p),d),i=3;;){if(o=qe(o.times(u),d),c=l.plus(Ei(o,new m(i),d)),Zn(c.d).slice(0,d)===Zn(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(Hm(m,d+2,v).times(s+""))),l=Ei(l,new m(f),d),m.precision=v,t==null?(dt=!0,qe(l,v)):l;l=c,i+=2}}function Tj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=il(r/rt),e.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=rt;n<i;)e.d.push(+t.slice(n,n+=rt));t=t.slice(n),n=rt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),dt&&(e.e>Xf||e.e<-Xf))throw Error(Bv+r)}else e.s=0,e.e=0,e.d=[0];return e}function qe(e,t,r){var n,i,s,o,l,c,d,u,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=rt,i=t,d=f[u=0];else{if(u=Math.ceil((n+1)/rt),s=f.length,u>=s)return e;for(d=s=f[u],o=1;s>=10;s/=10)o++;n%=rt,i=n-rt+o}if(r!==void 0&&(s=ra(10,o-i-1),l=d/s%10|0,c=t<0||f[u+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/ra(10,o-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=It(e),f.length=1,t=t-s-1,f[0]=ra(10,(rt-t%rt)%rt),e.e=il(-t/rt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=ra(10,rt-n),f[u]=i>0?(d/ra(10,o-i)%ra(10,i)|0)*s:0),c)for(;;)if(u==0){(f[0]+=s)==Wt&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=Wt)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(dt&&(e.e>Xf||e.e<-Xf))throw Error(Bv+It(e));return e}function CP(e,t){var r,n,i,s,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dt?qe(t,p):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),i=Math.max(Math.ceil(p/rt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){u=c[i]<f[i];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Wt-1;--c[s],c[i]+=Wt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,dt?qe(t,p):t):new h(0)}function Ta(e,t,r){var n,i=It(e),s=Zn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+cs(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+cs(-i-1)+s,r&&(n=r-o)>0&&(s+=cs(n))):i>=o?(s+=cs(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+cs(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=cs(n))),e.s<0?"-"+s:s}function Aj(e,t){if(e.length>t)return e.length=t,!0}function PP(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(va+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Tj(o,s.toString())}else if(typeof s!="string")throw Error(va+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,qR.test(s))Tj(o,s);else throw Error(va+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PP,i.config=i.set=YR,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function YR(e){if(!e||typeof e!="object")throw Error(bn+"Object expected");var t,r,n,i=["precision",1,nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(il(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(va+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(va+r+": "+n);return this}var Rv=PP(GR);Vr=new Rv(1);const We=Rv;var ZR=e=>e,TP={},AP=e=>e===TP,_j=e=>function t(){return arguments.length===0||arguments.length===1&&AP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_P=(e,t)=>e===1?t:_j(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(o=>o!==TP).length;return s>=e?t(...n):_P(e-s,_j(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>AP(u)?l.shift():u);return t(...d,...l)}))}),XR=e=>_P(e.length,e),Q0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},JR=XR((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZR;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}};function OP(e){var t;return e===0?t=1:t=Math.floor(new We(e).abs().log(10).toNumber())+1,t}function MP(e,t,r){for(var n=new We(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var $P=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},LP=(e,t,r)=>{if(e.lte(0))return new We(0);var n=OP(e.toNumber()),i=new We(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new We(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?new We(c.toNumber()):new We(Math.ceil(c.toNumber()))},eF=(e,t,r)=>{var n=new We(1),i=new We(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new We(10).pow(OP(e)-1),i=new We(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new We(Math.floor(e)))}else e===0?i=new We(Math.floor((t-1)/2)):r||(i=new We(Math.floor(e)));var o=Math.floor((t-1)/2),l=QR(JR(c=>i.add(new We(c-o).mul(n)).toNumber()),Q0);return l(0,t)},DP=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var o=LP(new We(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new We(0):(l=new We(t).add(r).div(2),l=l.sub(new We(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new We(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?DP(t,r,n,i,s+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new We(c).mul(o)),tickMax:l.add(new We(d).mul(o))})},tF=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,c]=$P([r,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Q0(0,i-1).map(()=>1/0)]:[...Q0(0,i-1).map(()=>-1/0),c];return r>n?d.reverse():d}if(l===c)return eF(l,i,s);var{step:u,tickMin:f,tickMax:h}=DP(l,c,o,s,0),p=MP(f,h.add(new We(.1).mul(u)),u);return r>n?p.reverse():p},rF=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=$P([n,i]);if(o===-1/0||l===1/0)return[n,i];if(o===l)return[o];var c=Math.max(r,2),d=LP(new We(l).sub(o).div(c-1),s,0),u=[...MP(new We(o),new We(l),d),l];return s===!1&&(u=u.map(f=>Math.round(f))),n>i?u.reverse():u},nF=e=>e.rootProps.barCategoryGap,Ip=e=>e.rootProps.stackOffset,BP=e=>e.rootProps.reverseStackOrder,Fv=e=>e.options.chartName,Uv=e=>e.rootProps.syncId,RP=e=>e.rootProps.syncMethod,zv=e=>e.options.eventEmitter,yr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ep=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:vi.reversed,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:vi.type,unit:void 0},sF={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:Kr.type,unit:void 0},aF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oF={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:"category",unit:void 0},Wv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?aF:iF,Hv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oF:sF,Cp=e=>e.polarOptions,Kv=oe([Ki,Vi,nr],a7),FP=oe([Cp,Kv],(e,t)=>{if(e!=null)return Ms(e.innerRadius,t,0)}),UP=oe([Cp,Kv],(e,t)=>{if(e!=null)return Ms(e.outerRadius,t,t*.8)}),lF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},zP=oe([Cp],lF);oe([Wv,zP],Ep);var WP=oe([Kv,FP,UP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});oe([Hv,WP],Ep);var HP=oe([st,Cp,FP,UP,Ki,Vi],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Ms(o,i,i/2),cy:Ms(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Lt=(e,t)=>t,Pp=(e,t,r)=>r;function KP(e){return e==null?void 0:e.id}function VP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=KP(l);d.forEach((f,h)=>{var p=s==null||i?h:String(tr(f,s,null)),g=tr(f,l.dataKey,0),m;o.has(p)?m=o.get(p):m={},Object.assign(m,{[u]:g}),o.set(p,m)})}}),Array.from(o.values())}function Vv(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Tp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ap(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function cF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Dt=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sl=e=>e.tooltip.settings.axisId;function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ex=[0,"auto"],Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GP=(e,t)=>e.cartesianAxis.xAxis[t],qi=(e,t)=>{var r=GP(e,t);return r??Rt},Ft={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ex,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sd},qP=(e,t)=>e.cartesianAxis.yAxis[t],Yi=(e,t)=>{var r=qP(e,t);return r??Ft},hF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??hF},Ir=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Yi(e,r);case"zAxis":return Gv(e,r);case"angleAxis":return Wv(e,r);case"radiusAxis":return Hv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pF=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Yi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fd=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Yi(e,r);case"angleAxis":return Wv(e,r);case"radiusAxis":return Hv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var XP=e=>e.graphicalItems.cartesianItems,mF=oe([Lt,Pp],ZP),JP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),hd=oe([XP,Ir,mF],JP,{memoizeOptions:{resultEqualityCheck:Ap}}),QP=oe([hd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vv)),e3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gF=oe([hd],e3),t3=e=>e.map(t=>t.data).filter(Boolean).flat(1),xF=oe([hd],t3,{memoizeOptions:{resultEqualityCheck:Ap}}),r3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},qv=oe([xF,Dv],r3),n3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:tr(i,n)}))):e.map(n=>({value:n})),_p=oe([qv,Ir,hd],n3);function i3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mu(e){if(ni(e)||e instanceof Date){var t=Number(e);if(Et(t))return t}}function Mj(e){if(Array.isArray(e)){var t=[Mu(e[0]),Mu(e[1])];return $s(t)?t:void 0}var r=Mu(e);if(r!=null)return[r,r]}function Fi(e){return e.map(Mu).filter(kM)}function yF(e,t,r){return!r||typeof t!="number"||ri(t)?[]:r.length?Fi(r.flatMap(n=>{var i=tr(e,n.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Et(s)||!Et(o)))return[t-s,t+o]})):[]}var Bt=e=>{var t=Dt(e),r=sl(e);return fd(e,t,r)},pd=oe([Bt],e=>e==null?void 0:e.dataKey),vF=oe([QP,Dv,Bt],VP),s3=(e,t,r,n)=>{var i={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},i);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,d=n?[...c].reverse():c,u=d.map(KP);return[l,{stackedData:UL(e,u,r),graphicalItems:d}]}))},bF=oe([vF,QP,Ip,BP],s3),a3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=HL(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},wF=oe([Ir],e=>e.allowDataOverflow),Yv=e=>{var t;if(e==null||!("domain"in e))return ex;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Fi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ex},o3=oe([Ir],Yv),l3=oe([o3,wF],NP),jF=oe([bF,Ks,Lt,l3],a3,{memoizeOptions:{resultEqualityCheck:Tp}}),Zv=e=>e.errorBars,SF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>i3(r,n)),Qf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},c3=(e,t,r,n,i)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var d,u,f=(d=n[c.id])===null||d===void 0?void 0:d.filter(x=>i3(i,x)),h=tr(l,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),p=yF(l,h,f);if(p.length>=2){var g=Math.min(...p),m=Math.max(...p);(s==null||g<s)&&(s=g),(o==null||m>o)&&(o=m)}var v=Mj(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=Mj(tr(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Et(s)&&Et(o))return[s,o]},NF=oe([qv,Ir,gF,Zv,Lt],c3,{memoizeOptions:{resultEqualityCheck:Tp}});function kF(e){var{value:t}=e;if(ni(t)||t instanceof Date)return t}var IF=(e,t,r)=>{var n=e.map(kF).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&JI(n))?HC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},d3=e=>e.referenceElements.dots,al=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),EF=oe([d3,Lt,Pp],al),u3=e=>e.referenceElements.areas,CF=oe([u3,Lt,Pp],al),f3=e=>e.referenceElements.lines,PF=oe([f3,Lt,Pp],al),h3=(e,t)=>{if(e!=null){var r=Fi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},TF=oe(EF,Lt,h3),p3=(e,t)=>{if(e!=null){var r=Fi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},AF=oe([CF,Lt],p3);function _F(e){var t;if(e.x!=null)return Fi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Fi(r)}function OF(e){var t;if(e.y!=null)return Fi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Fi(r)}var m3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?_F(n):OF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MF=oe([PF,Lt],m3),$F=oe(TF,MF,AF,(e,t,r)=>Qf(e,r,t)),g3=(e,t,r,n,i,s,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=c?Qf(n,s,i):Qf(s,i);return VR(t,d,e.allowDataOverflow)},LF=oe([Ir,o3,l3,jF,NF,$F,st,Lt],g3,{memoizeOptions:{resultEqualityCheck:Tp}}),DF=[0,1],x3=(e,t,r,n,i,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=zs(t,s);if(d&&l==null){var u;return HC(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return c==="category"?IF(n,e,d):i==="expand"?DF:o}},Xv=oe([Ir,st,qv,_p,Ip,Lt,LF],x3),y3=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(td(s));return l in Hl?l:"point"}}},md=oe([Ir,st,YP,Fv,Lt],y3);function BF(e){if(e!=null){if(e in Hl)return Hl[e]();var t="scale".concat(td(e));if(t in Hl)return Hl[t]()}}function Jv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=BF(t);if(i!=null){var s=i.domain(r).range(n);return DL(s),s}}}var v3=(e,t,r)=>{var n=Yv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$s(e))return tF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$s(e))return rF(e,t.tickCount,t.allowDecimals)}},Qv=oe([Xv,fd,md],v3),b3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$s(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(o,l)]}return t},RF=oe([Ir,Xv,Qv,Lt],b3),FF=oe(_p,Ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Fi(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var o=s-i;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],d=n[l+1];if(!(c==null||d==null)){var u=d-c;r=Math.min(r,u)}}return r/o}}),w3=oe(FF,st,nF,nr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Et(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=Ms(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),UF=(e,t,r)=>{var n=qi(e,t);return n==null||typeof n.padding!="string"?0:w3(e,"xAxis",t,r,n.padding)},zF=(e,t,r)=>{var n=Yi(e,t);return n==null||typeof n.padding!="string"?0:w3(e,"yAxis",t,r,n.padding)},WF=oe(qi,UF,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),HF=oe(Yi,zF,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),KF=oe([nr,WF,hp,fp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),VF=oe([nr,st,HF,hp,fp,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:o}=i;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return KF(e,r,n);case"yAxis":return VF(e,r,n);case"zAxis":return(i=Gv(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return zP(e);case"radiusAxis":return WP(e,r);default:return}},j3=oe([Ir,gd],Ep),Op=oe([Ir,md,RF,j3],Jv);oe([hd,Zv,Lt],SF);function S3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mp=(e,t)=>t,$p=(e,t,r)=>r,GF=oe(dp,Mp,$p,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(S3)),qF=oe(up,Mp,$p,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(S3)),N3=(e,t)=>({width:e.width,height:t.height}),YF=(e,t)=>{var r=typeof t.width=="number"?t.width:sd;return{width:r,height:e.height}},ZF=oe(nr,qi,N3),XF=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},JF=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},QF=oe(Vi,nr,GF,Mp,$p,(e,t,r,n,i)=>{var s={},o;return r.forEach(l=>{var c=N3(t,l);o==null&&(o=XF(t,n,e));var d=n==="top"&&!i||n==="bottom"&&i;s[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),s}),eU=oe(Ki,nr,qF,Mp,$p,(e,t,r,n,i)=>{var s={},o;return r.forEach(l=>{var c=YF(t,l);o==null&&(o=JF(t,n,e));var d=n==="left"&&!i||n==="right"&&i;s[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),s}),tU=(e,t)=>{var r=qi(e,t);if(r!=null)return QF(e,r.orientation,r.mirror)},rU=oe([nr,qi,tU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),nU=(e,t)=>{var r=Yi(e,t);if(r!=null)return eU(e,r.orientation,r.mirror)},iU=oe([nr,Yi,nU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),sU=oe(nr,Yi,(e,t)=>{var r=typeof t.width=="number"?t.width:sd;return{width:r,height:e.height}}),k3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=r,l=zs(e,n),c=t.map(d=>d.value);if(o&&l&&s==="category"&&i&&JI(c))return c}},eb=oe([st,_p,Ir,Lt],k3),I3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,o=zs(e,n);if(o&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},tb=oe([st,_p,fd,Lt],I3),$j=oe([st,pF,md,Op,eb,tb,gd,Qv,Lt],(e,t,r,n,i,s,o,l,c)=>{if(t!=null){var d=zs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}}),aU=(e,t,r,n,i,s,o,l,c)=>{if(!(t==null||n==null)){var d=zs(e,c),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&s!=null&&s.length>=2?hn(s[0]-s[1])*2*g:g;var m=f||i;if(m){var v=m.map((x,y)=>{var w=o?o.indexOf(x):x;return{index:y,coordinate:n(w)+g,value:x,offset:g}});return v.filter(x=>Et(x.coordinate))}return d&&l?l.map((x,y)=>({coordinate:n(x)+g,value:x,index:y,offset:g})).filter(x=>Et(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,y)=>({coordinate:n(x)+g,value:o?o[x]:x,index:y,offset:g}))}},E3=oe([st,fd,md,Op,Qv,gd,eb,tb,Lt],aU),oU=(e,t,r,n,i,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=zs(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?hn(n[0]-n[1])*2*d:d,l&&s?s.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:i?i[u]:u,index:f,offset:d}))}},C3=oe([st,fd,Op,gd,eb,tb,Lt],oU),P3=oe(Ir,Op,(e,t)=>{if(!(e==null||t==null))return Jf(Jf({},e),{},{scale:t})}),lU=oe([Ir,md,Xv,j3],Jv);oe((e,t,r)=>Gv(e,r),lU,(e,t)=>{if(!(e==null||t==null))return Jf(Jf({},e),{},{scale:t})});var cU=oe([st,dp,up],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),T3=e=>e.options.defaultTooltipEventType,A3=e=>e.options.validateTooltipEventTypes;function _3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function rb(e,t){var r=T3(e),n=A3(e);return _3(t,r,n)}function dU(e){return Ce(t=>rb(t,e))}var O3=(e,t)=>{var r,n=Number(t);if(!(ri(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},uU=e=>e.tooltip.settings,ps={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fU={itemInteraction:{click:ps,hover:ps},axisInteraction:{click:ps,hover:ps},keyboardInteraction:ps,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},M3=Ur({name:"tooltip",initialState:fU,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=$n(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:lt()},removeTooltipEntrySettings:{reducer(e,t){var r=$n(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:lt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:hU,replaceTooltipEntrySettings:pU,removeTooltipEntrySettings:mU,setTooltipSettingsState:gU,setActiveMouseOverItemIndex:xU,mouseLeaveItem:eQ,mouseLeaveChart:$3,setActiveClickItemIndex:tQ,setMouseOverAxisIndex:L3,setMouseClickAxisIndex:yU,setSyncInteraction:tx,setKeyboardInteraction:rx}=M3.actions,vU=M3.reducer;function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function NU(e){return e.index!=null}var D3=(e,t,r,n)=>{if(t==null)return ps;var i=SU(e,t,r);if(i==null)return ps;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(NU(i)){if(s)return lu(lu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return lu(lu({},ps),{},{coordinate:i.coordinate})};function kU(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function IU(e,t){var r=kU(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),o=Math.max(n,i);return r>=s&&r<=o}function EU(e,t,r){if(r==null||t==null)return!0;var n=tr(e,t);return n==null||!$s(r)?!0:IU(n,r)}var nb=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Et(s))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),d=t[c];return d==null||EU(d,r,n)?String(c):null},B3=(e,t,r,n,i,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,s);if(d!=null)return d;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},R3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},xd=e=>e.options.tooltipPayloadSearcher,ol=e=>e.tooltip;function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=PU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AU(e,t){return e??t}var F3=(e,t,r,n,i,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:m,settings:v}=p,x=AU(m,l),y=Array.isArray(x)?cC(x,d,u):x,w=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,S=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?j=QI(y,n,i):j=s(y,t,c,S),Array.isArray(j))j.forEach(E=>{var C=Bj(Bj({},v),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(Z1({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:tr(E.payload,E.dataKey),name:E.name}))});else{var I;h.push(Z1({tooltipEntrySettings:v,dataKey:w,payload:j,value:tr(j,w),name:(I=tr(j,S))!==null&&I!==void 0?I:v==null?void 0:v.name}))}return h},f)}},ib=oe([Bt,st,YP,Fv,Dt],y3),_U=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),OU=oe([Dt,sl],ZP),ll=oe([_U,Bt,OU],JP,{memoizeOptions:{resultEqualityCheck:Ap}}),MU=oe([ll],e=>e.filter(Vv)),$U=oe([ll],t3,{memoizeOptions:{resultEqualityCheck:Ap}}),cl=oe([$U,Ks],r3),LU=oe([MU,Ks,Bt],VP),sb=oe([cl,Bt,ll],n3),U3=oe([Bt],Yv),DU=oe([Bt],e=>e.allowDataOverflow),z3=oe([U3,DU],NP),BU=oe([ll],e=>e.filter(Vv)),RU=oe([LU,BU,Ip,BP],s3),FU=oe([RU,Ks,Dt,z3],a3),UU=oe([ll],e3),zU=oe([cl,Bt,UU,Zv,Dt],c3,{memoizeOptions:{resultEqualityCheck:Tp}}),WU=oe([d3,Dt,sl],al),HU=oe([WU,Dt],h3),KU=oe([u3,Dt,sl],al),VU=oe([KU,Dt],p3),GU=oe([f3,Dt,sl],al),qU=oe([GU,Dt],m3),YU=oe([HU,qU,VU],Qf),ZU=oe([Bt,U3,z3,FU,zU,YU,st,Dt],g3),yd=oe([Bt,st,cl,sb,Ip,Dt,ZU],x3),XU=oe([yd,Bt,ib],v3),JU=oe([Bt,yd,XU,Dt],b3),W3=e=>{var t=Dt(e),r=sl(e),n=!1;return gd(e,t,r,n)},H3=oe([Bt,W3],Ep),K3=oe([Bt,ib,JU,H3],Jv),QU=oe([st,sb,Bt,Dt],k3),ez=oe([st,sb,Bt,Dt],I3),tz=(e,t,r,n,i,s,o,l)=>{if(t){var{type:c}=t,d=zs(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hn(i[0]-i[1])*2*f:f,d&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},Zi=oe([st,Bt,ib,K3,W3,QU,ez,Dt],tz),ab=oe([T3,A3,uU],(e,t,r)=>_3(r.shared,e,t)),V3=e=>e.tooltip.settings.trigger,ob=e=>e.tooltip.settings.defaultIndex,vd=oe([ol,ab,V3,ob],D3),Fc=oe([vd,cl,pd,yd],nb),G3=oe([Zi,Fc],O3),rz=oe([vd],e=>{if(e)return e.dataKey});oe([vd],e=>{if(e)return e.graphicalItemId});var q3=oe([ol,ab,V3,ob],R3),nz=oe([Ki,Vi,st,nr,Zi,ob,q3,xd],B3),iz=oe([vd,nz],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),sz=oe([vd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),az=oe([q3,Fc,Ks,pd,G3,xd,ab],F3),oz=oe([az],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){lz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lz(e,t,r){return(t=cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uz=()=>Ce(Bt),fz=()=>{var e=uz(),t=Ce(Zi),r=Ce(K3);return Af(!e||!r?void 0:Fj(Fj({},e),{},{scale:r}),t)};function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e,t,r){return(t=pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var t=mz(e,"string");return typeof t=="symbol"?t:t+""}function mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gz=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},xz=(e,t,r,n)=>{var i=t.find(d=>d&&d.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=n;return qa(qa(qa({},n),Qt(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,{angle:c}=n;return qa(qa(qa({},n),Qt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yz(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Y3=(e,t,r,n,i)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,d,u,f,h,p=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(d=r[o-1])===null||d===void 0?void 0:d.coordinate,g=(u=r[l])===null||u===void 0?void 0:u.coordinate,m=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(p==null||g==null||m==null))if(hn(g-p)!==hn(m-g)){var x=[];if(hn(m-g)===hn(i[1]-i[0])){v=m;var y=g+i[1]-i[0];x[0]=Math.min(y,(y+p)/2),x[1]=Math.max(y,(y+p)/2)}else{v=p;var w=m+i[1]-i[0];x[0]=Math.min(g,(w+g)/2),x[1]=Math.max(g,(w+g)/2)}var S=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>S[0]&&e<=S[1]||e>=x[0]&&e<=x[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var I=Math.min(p,m),E=Math.max(p,m);if(e>(I+g)/2&&e<=(E+g)/2){var C;return(C=r[l])===null||C===void 0?void 0:C.index}}}else if(t)for(var T=0;T<o;T++){var K=t[T];if(K!=null){var V=t[T+1],P=t[T-1];if(T===0&&V!=null&&e<=(K.coordinate+V.coordinate)/2||T===o-1&&P!=null&&e>(K.coordinate+P.coordinate)/2||T>0&&T<o-1&&P!=null&&V!=null&&e>(K.coordinate+P.coordinate)/2&&e<=(K.coordinate+V.coordinate)/2)return K.index}}return-1},vz=()=>Ce(Fv),lb=(e,t)=>t,Z3=(e,t,r)=>r,cb=(e,t,r,n)=>n,bz=oe(Zi,e=>ep(e,t=>t.coordinate)),db=oe([ol,lb,Z3,cb],D3),ub=oe([db,cl,pd,yd],nb),wz=(e,t,r)=>{if(t!=null){var n=ol(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},X3=oe([ol,lb,Z3,cb],R3),eh=oe([Ki,Vi,st,nr,Zi,cb,X3,xd],B3),jz=oe([db,eh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),J3=oe([Zi,ub],O3),Sz=oe([X3,ub,Ks,pd,J3,xd,lb],F3),Nz=oe([db,ub],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),kz=(e,t,r,n,i,s,o)=>{if(!(!e||!r||!n||!i)&&yz(e,o)){var l=KL(e,t),c=Y3(l,s,i,r,n),d=gz(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},Iz=(e,t,r,n,i,s,o)=>{if(!(!e||!n||!i||!s||!r)){var l=u7(e,r);if(l){var c=VL(l,t),d=Y3(c,o,s,n,i),u=xz(t,s,d,l);return{activeIndex:String(d),activeCoordinate:u}}}},Ez=(e,t,r,n,i,s,o,l)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?kz(e,t,n,i,s,o,l):Iz(e,t,r,n,i,s,o)},Cz=oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Pz=oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(yr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:cF}});function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tz(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oz={},Mz={zIndexMap:Object.values(yr).reduce((e,t)=>Wj(Wj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Oz)},$z=new Set(Object.values(yr));function Lz(e){return $z.has(e)}var Q3=Ur({name:"zIndex",initialState:Mz,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Lz(r)&&delete e.zIndexMap[r])},prepare:lt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:lt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:lt()}}}),{registerZIndexPortal:Dz,unregisterZIndexPortal:Bz,registerZIndexPortalElement:Rz,unregisterZIndexPortalElement:Fz}=Q3.actions,Uz=Q3.reducer;function Xi(e){var{zIndex:t,children:r}=e,n=jD(),i=n&&t!==void 0&&t!==0,s=zr(),o=Ct();b.useLayoutEffect(()=>i?(o(Dz({zIndex:t})),()=>{o(Bz({zIndex:t}))}):rd,[o,t,i]);var l=Ce(c=>Cz(c,t,s));return i?l?Rh.createPortal(r,l):null:r}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(null,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Hz(e,"string");return typeof t=="symbol"?t:t+""}function Hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kz(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function Vz(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:u}=e,f=r,h=n,p=i;if(!c||!f||u!=="ScatterChart"&&d!=="axis")return null;var g,m,v;if(u==="ScatterChart")g=f,m=NB,v=yr.cursorLine;else if(u==="BarChart")g=kB(l,f,s,o),m=DC,v=yr.cursorRectangle;else if(l==="radial"&&tE(f)){var{cx:x,cy:y,radius:w,startAngle:S,endAngle:j}=BC(f);g={cx:x,cy:y,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},m=FC,v=yr.cursorLine}else g={points:m7(l,f,s)},m=_C,v=yr.cursorLine;var I=typeof c=="object"&&"className"in c?c.className:void 0,E=cu(cu(cu(cu({stroke:"#ccc",pointerEvents:"none"},s),g),Wh(c)),{},{payload:h,payloadIndex:p,className:Ve("recharts-tooltip-cursor",I)});return b.createElement(Xi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},b.createElement(Kz,{cursor:c,cursorComp:m,cursorProps:E}))}function Gz(e){var t=fz(),r=jC(),n=ad(),i=vz();return t==null||r==null||n==null||i==null?null:b.createElement(Vz,nx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var eT=b.createContext(null),qz=()=>b.useContext(eT),tT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function s(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,g){var m=r?r+d:d;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return s(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return s(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(tT);var Yz=tT.exports;const Zz=oi(Yz);var Uc=new Zz,ix="recharts.syncEvent.tooltip",Kj="recharts.syncEvent.brush";function Xz(e,t){if(t){var r=Number.parseInt(t,10);if(!ri(r))return e==null?void 0:e[r]}}var Jz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rT=Ur({name:"options",initialState:Jz,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qz=rT.reducer,{createEventEmitter:eW}=rT.actions;function tW(e){return e.tooltip.syncInteraction}var rW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nT=Ur({name:"chartData",initialState:rW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Vj,setDataStartEndIndexes:nW,setComputedData:rQ}=nT.actions,iW=nT.reducer,sW=["x","y"];function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=oW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e,t){if(e==null)return{};var r,n,i=dW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uW(){var e=Ce(Uv),t=Ce(zv),r=Ct(),n=Ce(RP),i=Ce(Zi),s=ad(),o=pp(),l=Ce(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return rd;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:g,y:m}=p,v=cW(p,sW),{x,y,width:w,height:S}=u.payload.sourceViewBox,j=Ya(Ya({},v),{},{x:o.x+(w?(g-x)/w:0)*o.width,y:o.y+(S?(m-y)/S:0)*o.height});r(Ya(Ya({},u),{},{payload:Ya(Ya({},u.payload),{},{coordinate:j})}))}else r(u);return}if(i!=null){var I;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(i,E);I=i[C]}else n==="value"&&(I=i.find(O=>String(O.value)===u.payload.label));var{coordinate:T}=u.payload;if(I==null||u.payload.active===!1||T==null||o==null){r(tx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=T,P=Math.min(K,o.x+o.width),R=Math.min(V,o.y+o.height),N={x:s==="horizontal"?I.coordinate:P,y:s==="horizontal"?R:I.coordinate},M=tx({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(I.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(M)}}};return Uc.on(ix,c),()=>{Uc.off(ix,c)}},[l,r,t,e,n,i,s,o])}function fW(){var e=Ce(Uv),t=Ce(zv),r=Ct();b.useEffect(()=>{if(e==null)return rd;var n=(i,s,o)=>{t!==o&&e===i&&r(nW(s))};return Uc.on(Kj,n),()=>{Uc.off(Kj,n)}},[r,t,e])}function hW(){var e=Ct();b.useEffect(()=>{e(eW())},[e]),uW(),fW()}function pW(e,t,r,n,i,s){var o=Ce(p=>wz(p,e,t)),l=Ce(zv),c=Ce(Uv),d=Ce(RP),u=Ce(tW),f=u==null?void 0:u.active,h=pp();b.useEffect(()=>{if(!f&&c!=null&&l!=null){var p=tx({active:s,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Uc.emit(ix,c,p,l)}},[f,r,o,i,n,l,c,d,s,h])}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){mW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yW(e){return e.dataKey}function vW(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(nB,t)}var Zj=[],bW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wW(e){var t,r,n=fr(e,bW),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:d,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:m,wrapperStyle:v,cursor:x,shared:y,trigger:w,defaultIndex:S,portal:j,axisId:I}=n,E=Ct(),C=typeof S=="number"?String(S):S;b.useEffect(()=>{E(gU({shared:y,trigger:w,axisId:I,active:i,defaultIndex:C}))},[E,y,w,I,i,C]);var T=pp(),K=AC(),V=dU(y),{activeIndex:P,isActive:R}=(t=Ce(xe=>Nz(xe,V,w,C)))!==null&&t!==void 0?t:{},N=Ce(xe=>Sz(xe,V,w,C)),M=Ce(xe=>J3(xe,V,w,C)),O=Ce(xe=>jz(xe,V,w,C)),$=N,z=qz(),_=(r=i??R)!==null&&r!==void 0?r:!1,[q,H]=OE([$,_]),D=V==="axis"?M:void 0;pW(V,w,O,D,P,_);var se=j??z;if(se==null||T==null||V==null)return null;var ae=$??Zj;_||(ae=Zj),d&&ae.length&&(ae=wE(ae.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),h,yW));var ie=ae.length>0,ce=b.createElement(dB,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:u,active:_,coordinate:O,hasPayload:ie,offset:f,position:p,reverseDirection:g,useTranslate3d:m,viewBox:T,wrapperStyle:v,lastBoundingBox:q,innerRef:H,hasPortalFromProps:!!j},vW(c,Yj(Yj({},n),{},{payload:ae,label:D,active:_,activeIndex:P,coordinate:O,accessibilityLayer:K})));return b.createElement(b.Fragment,null,Rh.createPortal(ce,se),_&&b.createElement(Gz,{cursor:x,tooltipEventType:V,coordinate:O,payload:ae,index:P}))}function jW(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kW{constructor(t){jW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TW={cacheSize:2e3,enableCache:!0},iT=IW({},TW),Jj=new kW(iT.cacheSize),AW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Qj="recharts_measurement_span";function _W(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(l)}var eS=(e,t)=>{try{var r=document.getElementById(Qj);r||(r=document.createElement("span"),r.setAttribute("id",Qj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,AW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},rc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vp.isSsr)return{width:0,height:0};if(!iT.enableCache)return eS(t,r);var n=_W(t,r),i=Jj.get(n);if(i)return i;var s=eS(t,r);return Jj.set(n,s),s},sT;function OW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RW=["cm","mm","pt","pc","in","Q","px"];function FW(e){return RW.includes(e)}var po="NaN";function UW(e,t){return e*BW[t]}class Xt{static parse(t){var r,[,n,i]=(r=DW.exec(t))!==null&&r!==void 0?r:[];return n==null?Xt.NaN:new Xt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ri(t)&&(this.unit=""),r!==""&&!LW.test(r)&&(this.num=NaN,this.unit=""),FW(r)&&(this.num=UW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ri(this.num)}}sT=Xt;OW(Xt,"NaN",new sT(NaN,""));function aT(e){if(e==null||e.includes(po))return po;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=tS.exec(t))!==null&&r!==void 0?r:[],o=Xt.parse(n??""),l=Xt.parse(s??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return po;t=t.replace(tS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,h]=(d=rS.exec(t))!==null&&d!==void 0?d:[],p=Xt.parse(u??""),g=Xt.parse(h??""),m=f==="+"?p.add(g):p.subtract(g);if(m.isNaN())return po;t=t.replace(rS,m.toString())}return t}var nS=/\(([^()]*)\)/;function zW(e){for(var t=e,r;(r=nS.exec(t))!=null;){var[,n]=r;t=t.replace(nS,aT(n))}return t}function WW(e){var t=e.replace(/\s+/g,"");return t=zW(t),t=aT(t),t}function HW(e){try{return WW(e)}catch{return po}}function Km(e){var t=HW(e.slice(5,-1));return t===po?"":t}var KW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],VW=["dx","dy","angle","className","breakAll"];function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(null,arguments)}function iS(e,t){if(e==null)return{};var r,n,i=GW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oT=/[ \f\n\r\t\v\u2028\u2029]+/,lT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Vt(t)||(r?i=t.toString().split(""):i=t.toString().split(oT));var s=i.map(l=>({word:l,width:rc(l,n).width})),o=r?0:rc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function qW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var cT=(e,t,r,n)=>e.reduce((i,s)=>{var{word:o,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var d={words:[o],width:l};i.push(d)}return i},[]),dT=e=>e.reduce((t,r)=>t.width>r.width?t:r),YW="",sS=(e,t,r,n,i,s,o,l)=>{var c=e.slice(0,t),d=lT({breakAll:r,style:n,children:c+YW});if(!d)return[!1,[]];var u=cT(d.wordsWithComputedWidth,s,o,l),f=u.length>i||dT(u).width>Number(s);return[f,u]},ZW=(e,t,r,n,i)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,d=Ie(s),u=String(o),f=cT(t,n,r,i);if(!d||i)return f;var h=f.length>s||dT(f).width>Number(n);if(!h)return f;for(var p=0,g=u.length-1,m=0,v;p<=g&&m<=u.length-1;){var x=Math.floor((p+g)/2),y=x-1,[w,S]=sS(u,y,c,l,s,n,r,i),[j]=sS(u,x,c,l,s,n,r,i);if(!w&&!j&&(p=x+1),w&&j&&(g=x-1),!w&&j){v=S;break}m++}return v||f},aS=e=>{var t=Vt(e)?[]:e.toString().split(oT);return[{words:t,width:void 0}]},XW=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:o}=e;if((t||r)&&!vp.isSsr){var l,c,d=lT({breakAll:s,children:n,style:i});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return aS(n);return ZW({breakAll:s,children:n,maxLines:o,style:i},l,c,t,!!r)}return aS(n)},uT="#808080",JW={angle:0,breakAll:!1,capHeight:"0.71em",fill:uT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fb=b.forwardRef((e,t)=>{var r=fr(e,JW),{x:n,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:u}=r,f=iS(r,KW),h=b.useMemo(()=>XW({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:p,dy:g,angle:m,className:v,breakAll:x}=f,y=iS(f,VW);if(!ni(n)||!ni(i)||h.length===0)return null;var w=Number(n)+(Ie(p)?p:0),S=Number(i)+(Ie(g)?g:0);if(!Et(w)||!Et(S))return null;var j;switch(u){case"start":j=Km("calc(".concat(o,")"));break;case"middle":j=Km("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=Km("calc(".concat(h.length-1," * -").concat(s,")"));break}var I=[];if(c){var E=h[0].width,{width:C}=f;I.push("scale(".concat(Ie(C)&&Ie(E)?C/E:1,")"))}return m&&I.push("rotate(".concat(m,", ").concat(w,", ").concat(S,")")),I.length&&(y.transform=I.join(" ")),b.createElement("text",sx({},jr(y),{ref:t,x:w,y:S,className:Ve("recharts-text",v),textAnchor:d,fill:l.includes("url")?uT:l}),h.map((T,K)=>{var V=T.words.join(x?"":" ");return b.createElement("tspan",{x:w,dy:K===0?j:s,key:"".concat(V,"-").concat(K)},V)}))});fb.displayName="Text";var QW=["labelRef"],eH=["content"];function oS(e,t){if(e==null)return{};var r,n,i=tH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}var fT=b.createContext(null),sH=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:o,children:l}=e,c=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:o}),[t,r,n,i,s,o]);return b.createElement(fT.Provider,{value:c},l)},hT=()=>{var e=b.useContext(fT),t=pp();return e||wC(t)},aH=b.createContext(null),oH=()=>{var e=b.useContext(aH),t=Ce(HP);return e||t},lH=e=>{var{value:t,formatter:r}=e,n=Vt(e.children)?t:e.children;return typeof r=="function"?r(n):n},hb=e=>e!=null&&typeof e=="function",cH=(e,t)=>{var r=hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dH=(e,t,r,n,i)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=i,g=(d+u)/2,m=cH(f,h),v=m>=0?1:-1,x,y;switch(t){case"insideStart":x=f+v*s,y=p;break;case"insideEnd":x=h-v*s,y=!p;break;case"end":x=h+v*s,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=m<=0?y:!y;var w=Qt(l,c,g,x),S=Qt(l,c,g,x+(y?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),I=Vt(e.id)?Ec("recharts-radial-line-"):e.id;return b.createElement("text",bi({},n,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:I,d:j})),b.createElement("textPath",{xlinkHref:"#".concat(I)},r))},uH=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=Qt(n,i,o+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:p,y:g}=Qt(n,i,h,d);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},ax=e=>"cx"in e&&Ie(e.cx),fH=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!ax(r)&&(s=r);var{x:o,y:l,upperWidth:c,lowerWidth:d,height:u}=t,f=o,h=o+(c-d)/2,p=(f+h)/2,g=(c+d)/2,m=f+c/2,v=u>=0?1:-1,x=v*n,y=v>0?"end":"start",w=v>0?"start":"end",S=c>=0?1:-1,j=S*n,I=S>0?"end":"start",E=S>0?"start":"end";if(i==="top"){var C={x:f+c/2,y:l-x,textAnchor:"middle",verticalAnchor:y};return bt(bt({},C),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var T={x:h+d/2,y:l+u+x,textAnchor:"middle",verticalAnchor:w};return bt(bt({},T),s?{height:Math.max(s.y+s.height-(l+u),0),width:d}:{})}if(i==="left"){var K={x:p-j,y:l+u/2,textAnchor:I,verticalAnchor:"middle"};return bt(bt({},K),s?{width:Math.max(K.x-s.x,0),height:u}:{})}if(i==="right"){var V={x:p+g+j,y:l+u/2,textAnchor:E,verticalAnchor:"middle"};return bt(bt({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:u}:{})}var P=s?{width:g,height:u}:{};return i==="insideLeft"?bt({x:p+j,y:l+u/2,textAnchor:E,verticalAnchor:"middle"},P):i==="insideRight"?bt({x:p+g-j,y:l+u/2,textAnchor:I,verticalAnchor:"middle"},P):i==="insideTop"?bt({x:f+c/2,y:l+x,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?bt({x:h+d/2,y:l+u-x,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?bt({x:f+j,y:l+x,textAnchor:E,verticalAnchor:w},P):i==="insideTopRight"?bt({x:f+c-j,y:l+x,textAnchor:I,verticalAnchor:w},P):i==="insideBottomLeft"?bt({x:h+j,y:l+u-x,textAnchor:E,verticalAnchor:y},P):i==="insideBottomRight"?bt({x:h+d-j,y:l+u-x,textAnchor:I,verticalAnchor:y},P):i&&typeof i=="object"&&(Ie(i.x)||$i(i.x))&&(Ie(i.y)||$i(i.y))?bt({x:o+Ms(i.x,g),y:l+Ms(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):bt({x:m,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hH={angle:0,offset:5,zIndex:yr.label,position:"middle",textBreakAll:!1};function ds(e){var t=fr(e,hH),{viewBox:r,position:n,value:i,children:s,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=oH(),f=hT(),h=n==="center"?f:u??f,p,g,m;if(r==null?p=h:ax(r)?p=r:p=wC(r),!p||Vt(i)&&Vt(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var v=bt(bt({},t),{},{viewBox:p});if(b.isValidElement(o)){var{labelRef:x}=v,y=oS(v,QW);return b.cloneElement(o,y)}if(typeof o=="function"){var{content:w}=v,S=oS(v,eH);if(g=b.createElement(o,S),b.isValidElement(g))return g}else g=lH(t);var j=jr(t);if(ax(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return dH(t,n,g,j,p);m=uH(p,t.offset,t.position)}else m=fH(t,p);return b.createElement(Xi,{zIndex:t.zIndex},b.createElement(fb,bi({ref:d,className:Ve("recharts-label",l)},j,m,{textAnchor:qW(j.textAnchor)?j.textAnchor:m.textAnchor,breakAll:c}),g))}ds.displayName="Label";var pH=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(ds,bi({key:"label-implicit"},n)):ni(e)?b.createElement(ds,bi({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===ds?b.cloneElement(e,bt({key:"label-implicit"},n)):b.createElement(ds,bi({key:"label-implicit",content:e},n)):hb(e)?b.createElement(ds,bi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(ds,bi({},e,{key:"label-implicit"},n)):null};function mH(e){var{label:t,labelRef:r}=e,n=hT();return pH(t,n,r)||null}var pT={},mT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(mT);var gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT,r=gT,n=Xh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(pT);var gH=pT.last;const xH=oi(gH);var yH=["valueAccessor"],vH=["dataKey","clockWise","id","textBreakAll","zIndex"];function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(null,arguments)}function cS(e,t){if(e==null)return{};var r,n,i=bH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wH=e=>Array.isArray(e.value)?xH(e.value):e.value,xT=b.createContext(void 0),jH=xT.Provider,yT=b.createContext(void 0);yT.Provider;function SH(){return b.useContext(xT)}function NH(){return b.useContext(yT)}function $u(e){var{valueAccessor:t=wH}=e,r=cS(e,yH),{dataKey:n,clockWise:i,id:s,textBreakAll:o,zIndex:l}=r,c=cS(r,vH),d=SH(),u=NH(),f=d||u;return!f||!f.length?null:b.createElement(Xi,{zIndex:l??yr.label},b.createElement(Os,{className:"recharts-label-list"},f.map((h,p)=>{var g,m=Vt(n)?t(h,p):tr(h&&h.payload,n),v=Vt(s)?{}:{id:"".concat(s,"-").concat(p)};return b.createElement(ds,th({key:"label-".concat(p)},jr(h),c,v,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:m,textBreakAll:o,viewBox:h.viewBox,index:p,zIndex:0}))})))}$u.displayName="LabelList";function kH(e){var{label:t}=e;return t?t===!0?b.createElement($u,{key:"labelList-implicit"}):b.isValidElement(t)||hb(t)?b.createElement($u,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement($u,th({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}var vT=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=Ve("recharts-dot",i);return Ie(t)&&Ie(r)&&Ie(n)?b.createElement("circle",ox({},ti(e),Wy(e),{className:s,cx:t,cy:r,r:n})):null},IH={radiusAxis:{},angleAxis:{}},bT=Ur({name:"polarAxis",initialState:IH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nQ,removeRadiusAxis:iQ,addAngleAxis:sQ,removeAngleAxis:aQ}=bT.actions,EH=bT.reducer,wT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(jT);var CH=jT.isPlainObject;const PH=oi(CH);var dS,uS,fS,hS,pS;function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function Ol(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xS=(e,t,r,n,i)=>{var s=r-n,o;return o=gt(dS||(dS=Ol(["M ",",",""])),e,t),o+=gt(uS||(uS=Ol(["L ",",",""])),e+r,t),o+=gt(fS||(fS=Ol(["L ",",",""])),e+r-s/2,t+i),o+=gt(hS||(hS=Ol(["L ",",",""])),e+r-s/2-n,t+i),o+=gt(pS||(pS=Ol(["L ",","," Z"])),e,t),o},OH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MH=e=>{var t=fr(e,OH),{x:r,y:n,upperWidth:i,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,h=b.useRef(null),[p,g]=b.useState(-1),m=b.useRef(i),v=b.useRef(s),x=b.useRef(o),y=b.useRef(r),w=b.useRef(n),S=hv(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var N=h.current.getTotalLength();N&&g(N)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var j=Ve("recharts-trapezoid",l);if(!f)return b.createElement("g",null,b.createElement("path",rh({},jr(t),{className:j,d:xS(r,n,i,s,o)})));var I=m.current,E=v.current,C=x.current,T=y.current,K=w.current,V="0px ".concat(p===-1?1:p,"px"),P="".concat(p,"px 0px"),R=OC(["strokeDasharray"],d,c);return b.createElement(fv,{animationId:S,key:S,canBegin:p>0,duration:d,easing:c,isActive:f,begin:u},N=>{var M=Ar(I,i,N),O=Ar(E,s,N),$=Ar(C,o,N),z=Ar(T,r,N),_=Ar(K,n,N);h.current&&(m.current=M,v.current=O,x.current=$,y.current=z,w.current=_);var q=N>0?{transition:R,strokeDasharray:P}:{strokeDasharray:V};return b.createElement("path",rh({},jr(t),{className:j,d:xS(z,_,M,O,$),ref:h,style:gS(gS({},q),t.style)}))})},$H=["option","shapeType","activeClassName"];function LH(e,t){if(e==null)return{};var r,n,i=DH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){return nh(nh({},t),e)}function zH(e,t){return e==="symbols"}function vS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(DC,r);case"trapezoid":return b.createElement(MH,r);case"sector":return b.createElement(FC,r);case"symbols":if(zH(t))return b.createElement(zy,r);break;case"curve":return b.createElement(_C,r);default:return null}}function WH(e){return b.isValidElement(e)?e.props:e}function HH(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=LH(e,$H),s;if(b.isValidElement(t))s=b.cloneElement(t,nh(nh({},i),WH(t)));else if(typeof t=="function")s=t(i,i.index);else if(PH(t)&&typeof t!="boolean"){var o=UH(t,i);s=b.createElement(vS,{shapeType:r,elementProps:o})}else{var l=i;s=b.createElement(vS,{shapeType:r,elementProps:l})}return i.isActive?b.createElement(Os,{className:n},s):s}function KH(e){var{tooltipEntrySettings:t}=e,r=Ct(),n=zr(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(hU(t)):i.current!==t&&r(pU({prev:i.current,next:t})),i.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{i.current&&(r(mU(i.current)),i.current=null)},[r]),null}function VH(e){var{legendPayload:t}=e,r=Ct(),n=zr(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(LD(t)):i.current!==t&&r(DD({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(BD(i.current)),i.current=null)},[r]),null}var Vm,GH=()=>{var[e]=b.useState(()=>Ec("uid-"));return e},qH=(Vm=XN.useId)!==null&&Vm!==void 0?Vm:GH;function YH(e,t){var r=qH();return t||(e?"".concat(e,"-").concat(r):r)}var ZH=b.createContext(void 0),XH=e=>{var{id:t,type:r,children:n}=e,i=YH("recharts-".concat(r),t);return b.createElement(ZH.Provider,{value:i},n(i))},JH={cartesianItems:[],polarItems:[]},ST=Ur({name:"graphicalItems",initialState:JH,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=$n(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:lt()},removeCartesianGraphicalItem:{reducer(e,t){var r=$n(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:lt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lt()},removePolarGraphicalItem:{reducer(e,t){var r=$n(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:lt()}}}),{addCartesianGraphicalItem:QH,replaceCartesianGraphicalItem:eK,removeCartesianGraphicalItem:tK,addPolarGraphicalItem:oQ,removePolarGraphicalItem:lQ}=ST.actions,rK=ST.reducer,nK=e=>{var t=Ct(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(QH(e)):r.current!==e&&t(eK({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(tK(r.current)),r.current=null)},[t]),null},iK=b.memo(nK),sK=["points"];function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=oK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(null,arguments)}function cK(e,t){if(e==null)return{};var r,n,i=dK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uK(e){var{option:t,dotProps:r,className:n}=e;if(b.isValidElement(t))return b.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Ve(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=cK(s,sK);return b.createElement(vT,ih({},l,{className:i}))}function fK(e,t){return e==null?!1:t?!0:e.length===1}function hK(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:d=yr.scatter}=e;if(!fK(t,r))return null;var u=wT(r),f=$8(r),h=t.map((g,m)=>{var v,x,y=Gm(Gm(Gm({r:3},o),f),{},{index:m,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return b.createElement(uK,{key:"dot-".concat(m),option:r,dotProps:y,className:i})}),p={};return l&&c!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),b.createElement(Xi,{zIndex:d},b.createElement(Os,ih({className:n},p),h))}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xK={xAxis:{},yAxis:{},zAxis:{}},NT=Ur({name:"cartesianAxis",initialState:xK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:lt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:lt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:lt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=jS(jS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:yK,replaceXAxis:vK,removeXAxis:bK,addYAxis:wK,replaceYAxis:jK,removeYAxis:SK,addZAxis:cQ,replaceZAxis:dQ,removeZAxis:uQ,updateYAxisWidth:NK}=NT.actions,kK=NT.reducer,IK=oe([nr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),EK=oe([IK,Ki,Vi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),pb=()=>Ce(EK),CK=()=>Ce(oz);function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _K=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=qm(qm(qm({},l),Wh(i)),Wy(i)),d;return b.isValidElement(i)?d=b.cloneElement(i,c):typeof i=="function"?d=i(c):d=b.createElement(vT,c),b.createElement(Os,{className:"recharts-active-dot",clipPath:o},d)};function OK(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:o=yr.activeDot}=e,l=Ce(Fc),c=CK();if(t==null||c==null)return null;var d=t.find(u=>c.includes(u.payload));return Vt(d)?null:b.createElement(Xi,{zIndex:o},b.createElement(_K,{point:d,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var MK=e=>{var{chartData:t}=e,r=Ct(),n=zr();return b.useEffect(()=>n?()=>{}:(r(Vj(t)),()=>{r(Vj(void 0))}),[t,r,n]),null},NS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kT=Ur({name:"brush",initialState:NS,reducers:{setBrushSettings(e,t){return t.payload==null?NS:t.payload}}}),{setBrushSettings:fQ}=kT.actions,$K=kT.reducer;function LK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mb{static create(t){return new mb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}LK(mb,"EPS",1e-4);function RK(e){return(e%180+180)%180}var FK=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=RK(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},UK={dots:[],areas:[],lines:[]},IT=Ur({name:"referenceElements",initialState:UK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=$n(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=$n(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=$n(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:hQ,removeDot:pQ,addArea:mQ,removeArea:gQ,addLine:xQ,removeLine:yQ}=IT.actions,zK=IT.reducer,WK=b.createContext(void 0),HK=e=>{var{children:t}=e,[r]=b.useState("".concat(Ec("recharts"),"-clip")),n=pb();if(n==null)return null;var{x:i,y:s,width:o,height:l}=n;return b.createElement(WK.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:s,height:l,width:o}))),t)};function ET(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function KK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return FK(n,r)}function VK(e,t,r){var n=r==="width",{x:i,y:s,width:o,height:l}=e;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function zc(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function GK(e,t){return ET(e,t+1)}function qK(e,t,r,n,i){for(var s=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:ET(n,d)};var m=c,v,x=()=>(v===void 0&&(v=r(g,m)),v),y=g.coordinate,w=c===0||zc(e,y,x,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(x()/2+i),c+=d)},h;d<=s.length;)if(h=f(),h)return h.v;return[]}function YK(e,t,r,n,i){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:c}=t,d=1;d<=o;d++){for(var u=(o-1)%d,f=l,h=!0,p=function(){var y=n[g],w=g,S,j=()=>(S===void 0&&(S=r(y,w)),S),I=y.coordinate,E=g===u||zc(e,I,j,f,c);if(!E)return h=!1,1;E&&(f=I+e*(j()/2+i))},g=u;g<o&&!p();g+=d);if(h){for(var m=[],v=u;v<o;v+=d)m.push(n[v]);return m}}return[]}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,d=function(h){var p=s[h],g,m=()=>(g===void 0&&(g=r(p,h)),g);if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=ar(ar({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=ar(ar({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=zc(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+i),s[h]=ar(ar({},p),{},{isShow:!0}))}},u=o-1;u>=0;u--)d(u);return s}function eV(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(s){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);if(o[l-1]=u=ar(ar({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var p=zc(e,u.tickCoord,()=>f,c,d);p&&(d=u.tickCoord-e*(f/2+i),o[l-1]=ar(ar({},u),{},{isShow:!0}))}}for(var g=s?l-1:l,m=function(y){var w=o[y],S,j=()=>(S===void 0&&(S=r(w,y)),S);if(y===0){var I=e*(w.coordinate-e*j()/2-c);o[y]=w=ar(ar({},w),{},{tickCoord:I<0?w.coordinate-I*e:w.coordinate})}else o[y]=w=ar(ar({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=zc(e,w.tickCoord,j,c,d);E&&(c=w.tickCoord+e*(j()/2+i),o[y]=ar(ar({},w),{},{isShow:!0}))}},v=0;v<g;v++)m(v);return o}function gb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!i||!i.length||!n)return[];if(Ie(c)||vp.isSsr){var h;return(h=GK(i,Ie(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",m=u&&g==="width"?rc(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,S)=>{var j=typeof d=="function"?d(w.value,S):w.value;return g==="width"?KK(rc(j,{fontSize:t,letterSpacing:r}),m,f):rc(j,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,y=VK(s,x,g);return c==="equidistantPreserveStart"?qK(x,y,v,i,o):c==="equidistantPreserveEnd"?YK(x,y,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=eV(x,y,v,i,o,c==="preserveStartEnd"):p=QK(x,y,v,i,o),p.filter(w=>w.isShow))}var tV=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,d=o+c+l+(r?n:0);return Math.round(d)}return 0},rV=["axisLine","width","height","className","hide","ticks","axisType"];function nV(e,t){if(e==null)return{};var r,n,i=iV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return(t=aV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ci={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yr.axis};function lV(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=St(St(St({},c),ti(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!o||s==="bottom"&&o);d=St(St({},d),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var f=+(s==="left"&&!o||s==="right"&&o);d=St(St({},d),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return b.createElement("line",Aa({},d,{className:Ve("recharts-cartesian-axis-line",Zh(l,"className"))}))}function cV(e,t,r,n,i,s,o,l,c){var d,u,f,h,p,g,m=l?-1:1,v=e.tickSize||o,x=Ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=u=e.coordinate,h=r+ +!l*i,f=h-m*v,g=f-m*c,p=x;break;case"left":f=h=e.coordinate,u=t+ +!l*n,d=u-m*v,p=d-m*c,g=x;break;case"right":f=h=e.coordinate,u=t+ +l*n,d=u+m*v,p=d+m*c,g=x;break;default:d=u=e.coordinate,h=r+ +l*i,f=h+m*v,g=f+m*c,p=x;break}return{line:{x1:d,y1:f,x2:u,y2:h},tick:{x:p,y:g}}}function dV(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function uV(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function fV(e){var{option:t,tickProps:r,value:n}=e,i,s=Ve(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,St(St({},r),{},{className:s}));else if(typeof t=="function")i=t(St(St({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ve(o,t==null?void 0:t.className)),i=b.createElement(fb,Aa({},r,{className:o}),n)}return i}var hV=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:u,mirror:f,x:h,y:p,width:g,height:m,tickSize:v,tickMargin:x,fontSize:y,letterSpacing:w,getTicksConfig:S,events:j,axisType:I}=e,E=gb(St(St({},S),{},{ticks:r}),y,w),C=dV(u,f),T=uV(u,f),K=ti(S),V=Wh(n),P={};typeof i=="object"&&(P=i);var R=St(St({},K),{},{fill:"none"},P),N=E.map($=>St({entry:$},cV($,h,p,g,m,u,v,f,x))),M=N.map($=>{var{entry:z,line:_}=$;return b.createElement(Os,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&b.createElement("line",Aa({},R,_,{className:Ve("recharts-cartesian-axis-tick-line",Zh(i,"className"))})))}),O=N.map(($,z)=>{var{entry:_,tick:q}=$,H=St(St(St(St({textAnchor:C,verticalAnchor:T},K),{},{stroke:"none",fill:s},V),q),{},{index:z,payload:_,visibleTicksCount:E.length,tickFormatter:o,padding:c},d);return b.createElement(Os,Aa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},rE(j,_,z)),n&&b.createElement(fV,{option:n,tickProps:H,value:"".concat(typeof o=="function"?o(_.value,z):_.value).concat(l||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},O.length>0&&b.createElement(Xi,{zIndex:yr.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},O)),M.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},M))}),pV=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:o,ticks:l,axisType:c}=e,d=nV(e,rV),[u,f]=b.useState(""),[h,p]=b.useState(""),g=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return tV({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=b.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var y=x[0];if(y){var w=window.getComputedStyle(y),S=w.fontSize,j=w.letterSpacing;(S!==u||j!==h)&&(f(S),p(j))}}},[u,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(Xi,{zIndex:e.zIndex},b.createElement(Os,{className:Ve("recharts-cartesian-axis",s)},b.createElement(lV,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ti(e)}),b.createElement(hV,{ref:m,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(sH,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(mH,{label:e.label,labelRef:e.labelRef}),e.children)))}),xb=b.forwardRef((e,t)=>{var r=fr(e,Ci);return b.createElement(pV,Aa({},r,{ref:t}))});xb.displayName="CartesianAxis";var mV=["x1","y1","x2","y2","key"],gV=["offset"],xV=["xAxisId","yAxisId"],yV=["xAxisId","yAxisId"];function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){vV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}function sh(e,t){if(e==null)return{};var r,n,i=jV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SV=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:o,ry:l}=e;return b.createElement("rect",{x:n,y:i,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CT(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:o,x2:l,y2:c,key:d}=r,u=sh(r,mV),f=(i=ti(u))!==null&&i!==void 0?i:{},{offset:h}=f,p=sh(f,gV);n=b.createElement("line",ca({},p,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:d}))}return n}function NV(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=sh(e,xV),c=i.map((d,u)=>{var f=lr(lr({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return b.createElement(CT,{key:"line-".concat(u),option:n,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function kV(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=sh(e,yV),c=i.map((d,u)=>{var f=lr(lr({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return b.createElement(CT,{option:n,lineItemProps:f,key:"line-".concat(u)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function IV(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var d=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],g=p?i+o-f:d[h+1]-f;if(g<=0)return null;var m=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function EV(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],g=p?i+o-f:d[h+1]-f;if(g<=0)return null;var m=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var CV=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return dC(gb(lr(lr(lr({},Ci),r),{},{ticks:uC(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},PV=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return dC(gb(lr(lr(lr({},Ci),r),{},{ticks:uC(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},TV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yr.grid};function PT(e){var t=lv(),r=cv(),n=jC(),i=lr(lr({},fr(e,TV)),{},{x:Ie(e.x)?e.x:n.left,y:Ie(e.y)?e.y:n.top,width:Ie(e.width)?e.width:n.width,height:Ie(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,g=zr(),m=Ce(T=>$j(T,"xAxis",s,g)),v=Ce(T=>$j(T,"yAxis",o,g));if(!ii(d)||!ii(u)||!Ie(l)||!Ie(c))return null;var x=i.verticalCoordinatesGenerator||CV,y=i.horizontalCoordinatesGenerator||PV,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof y=="function"){var j=h&&h.length,I=y({yAxis:v?lr(lr({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??d,height:r??u,offset:n},j?!0:f);_f(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(w=I)}if((!S||!S.length)&&typeof x=="function"){var E=p&&p.length,C=x({xAxis:m?lr(lr({},m),{},{ticks:E?p:m.ticks}):void 0,width:t??d,height:r??u,offset:n},E?!0:f);_f(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(S=C)}return b.createElement(Xi,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(SV,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(IV,ca({},i,{horizontalPoints:w})),b.createElement(EV,ca({},i,{verticalPoints:S})),b.createElement(NV,ca({},i,{offset:n,horizontalPoints:w,xAxis:m,yAxis:v})),b.createElement(kV,ca({},i,{offset:n,verticalPoints:S,xAxis:m,yAxis:v}))))}PT.displayName="CartesianGrid";var AV={},TT=Ur({name:"errorBars",initialState:AV,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:vQ,replaceErrorBar:bQ,removeErrorBar:wQ}=TT.actions,_V=TT.reducer,OV=["children"];function MV(e,t){if(e==null)return{};var r,n,i=$V(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LV={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DV=b.createContext(LV);function BV(e){var{children:t}=e,r=MV(e,OV);return b.createElement(DV.Provider,{value:r},t)}function AT(e,t){var r,n,i=Ce(d=>qi(d,e)),s=Ce(d=>Yi(d,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Rt.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ft.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function RV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=pb(),{needClipX:s,needClipY:o,needClip:l}=AT(t,r);if(!l||!i)return null;var{x:c,y:d,width:u,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:s?c:c-u/2,y:o?d:d-f/2,width:s?u:u*2,height:o?f:f*2}))}var _T=(e,t,r,n)=>P3(e,"xAxis",t,n),OT=(e,t,r,n)=>C3(e,"xAxis",t,n),MT=(e,t,r,n)=>P3(e,"yAxis",r,n),$T=(e,t,r,n)=>C3(e,"yAxis",r,n),FV=oe([st,_T,MT,OT,$T],(e,t,r,n,i)=>zs(e,"xAxis")?Af(t,n,!1):Af(r,i,!1)),UV=(e,t,r,n,i)=>i;function zV(e){return e.type==="line"}var WV=oe([XP,UV],(e,t)=>e.filter(zV).find(r=>r.id===t)),HV=oe([st,_T,MT,OT,$T,WV,FV,Dv],(e,t,r,n,i,s,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(d,u+1),p!=null)return $G({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:p})}});function KV(e){var t=Wh(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,o=Number(i),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var VV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=b;function GV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qV=typeof Object.is=="function"?Object.is:GV,YV=bd.useSyncExternalStore,ZV=bd.useRef,XV=bd.useEffect,JV=bd.useMemo,QV=bd.useDebugValue;VV.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=ZV(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=JV(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return f=g}return f=p}if(g=f,qV(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,f=m)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=YV(e,s[0],s[1]);return XV(function(){o.hasValue=!0,o.value=l},[l]),QV(l),l};function eG(e){e()}function tG(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eG(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var CS={notify(){},get:()=>[]};function rG(e,t){let r,n=CS,i=0,s=!1;function o(m){u();const v=n.subscribe(m);let x=!1;return()=>{x||(x=!0,v(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return s}function u(){i++,r||(r=e.subscribe(c),n=tG())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=CS)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var nG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iG=nG(),sG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aG=sG(),oG=()=>iG||aG?b.useLayoutEffect:b.useEffect,lG=oG();function PS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cG(e,t){if(PS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!PS(e[r[i]],t[r[i]]))return!1;return!0}var Ym=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function dG(){if(!b.createContext)return{};const e=Zm[Ym]??(Zm[Ym]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var uG=dG();function fG(e){const{children:t,context:r,serverState:n,store:i}=e,s=b.useMemo(()=>{const c=rG(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=b.useMemo(()=>i.getState(),[i]);lG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=r||uG;return b.createElement(l.Provider,{value:s},t)}var hG=fG,pG=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function mG(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function yb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(pG.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cG(e[n],t[n]))return!1}else if(!mG(e[n],t[n]))return!1;return!0}var gG=["id"],xG=["type","layout","connectNulls","needClip","shape"],yG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vb(e,t){if(e==null)return{};var r,n,i=jG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SG=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:fC(r,t),payload:e}]},NG=b.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:o,hide:l,unit:c,tooltipType:d,id:u}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:fC(o,t),hide:l,type:d,color:n,unit:c,graphicalItemId:u}};return b.createElement(KH,{tooltipEntrySettings:f})}),LT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function kG(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var IG=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return LT(t,e);for(var i=Math.floor(e/n),s=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>s){l=[...r.slice(0,c),s-d];break}var u=l.length%2===0?[0,o]:[o];return[...kG(r,i),...l,...u].map(f=>"".concat(f,"px")).join(", ")};function EG(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:o}=n,{id:l}=n,c=vb(n,gG),d=ti(c);return b.createElement(hK,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:o,clipPathId:t})}function CG(e){var{showLabels:t,children:r,points:n}=e,i=b.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qn(qn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(jH,{value:t?i:void 0},r)}function AS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:d,shape:u}=s,f=vb(s,xG),h=qn(qn({},jr(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(HH,Wc({shapeType:"curve",option:u},h,{pathRef:r})),b.createElement(EG,{points:n,clipPathId:t,props:s}))}function PG(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function TG(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:m,onAnimationStart:v}=r,x=i.current,y=hv(o,"recharts-line-"),w=b.useRef(y),[S,j]=b.useState(!1),I=!S,E=b.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),C=b.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),T=PG(n.current),K=b.useRef(0);w.current!==y&&(K.current=s.current,w.current=y);var V=K.current;return b.createElement(CG,{points:o,showLabels:I},r.children,b.createElement(fv,{animationId:y,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:E,onAnimationStart:C,key:y},P=>{var R=Ar(V,T+V,P),N=Math.min(R,T),M;if(c)if(l){var O="".concat(l).split(/[,\s]+/gim).map(_=>parseFloat(_));M=IG(N,T,O)}else M=LT(T,N);else M=l==null?void 0:String(l);if(P>0&&T>0&&(i.current=o,s.current=Math.max(s.current,N)),x){var $=x.length/o.length,z=P===1?o:o.map((_,q)=>{var H=Math.floor(q*$);if(x[H]){var D=x[H];return qn(qn({},_),{},{x:Ar(D.x,_.x,P),y:Ar(D.y,_.y,P)})}return h?qn(qn({},_),{},{x:Ar(p*2,_.x,P),y:Ar(g/2,_.y,P)}):qn(qn({},_),{},{x:_.x,y:_.y})});return i.current=z,b.createElement(AS,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:M})}return b.createElement(AS,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),b.createElement(kH,{label:r.label}))}function AG(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),i=b.useRef(0),s=b.useRef(null);return b.createElement(TG,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var _G=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:tr(e.payload,t)}};class OG extends b.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:d,height:u,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var g=Ve("recharts-line",i),m=f,{r:v,strokeWidth:x}=KV(r),y=wT(r),w=v*2+x,S=h?"url(#clipPath-".concat(y?"":"dots-").concat(m,")"):void 0;return b.createElement(Xi,{zIndex:p},b.createElement(Os,{className:g},h&&b.createElement("defs",null,b.createElement(RV,{clipPathId:m,xAxisId:s,yAxisId:o}),!y&&b.createElement("clipPath",{id:"clipPath-dots-".concat(m)},b.createElement("rect",{x:c-w/2,y:l-w/2,width:d+w,height:u+w}))),b.createElement(BV,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:_G,errorBarOffset:0},b.createElement(AG,{props:this.props,clipPathId:m}))),b.createElement(OK,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var DT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yr.line,type:"linear"};function MG(e){var t=fr(e,DT),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:g,id:m}=t,v=vb(t,yG),{needClip:x}=AT(p,g),y=pb(),w=ad(),S=zr(),j=Ce(K=>HV(K,p,g,S,m));if(w!=="horizontal"&&w!=="vertical"||j==null||y==null)return null;var{height:I,width:E,x:C,y:T}=y;return b.createElement(OG,Wc({},v,{id:m,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:u,hide:d,label:f,legendType:h,xAxisId:p,yAxisId:g,points:j,layout:w,height:I,width:E,left:C,top:T,needClip:x}))}function $G(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var f=tr(d,o);if(t==="horizontal"){var h=G1({axis:r,ticks:i,bandSize:l,entry:d,index:u}),p=Vt(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:d}}var g=Vt(f)?null:r.scale(f),m=G1({axis:n,ticks:s,bandSize:l,entry:d,index:u});return g==null||m==null?null:{x:g,y:m,value:f,payload:d}}).filter(Boolean)}function LG(e){var t=fr(e,DT),r=zr();return b.createElement(XH,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(VH,{legendPayload:SG(t)}),b.createElement(NG,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),b.createElement(iK,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(MG,Wc({},t,{id:n}))))}var BT=b.memo(LG,yb);BT.displayName="Line";var DG=["domain","range"],BG=["domain","range"];function _S(e,t){if(e==null)return{};var r,n,i=RG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function RT(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=_S(e,DG),{domain:s,range:o}=t,l=_S(t,BG);return!OS(r,s)||!OS(n,o)?!1:yb(i,l)}var FG=["dangerouslySetInnerHTML","ticks","scale"],UG=["id","scale"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}function MS(e,t){if(e==null)return{};var r,n,i=zG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WG(e){var t=Ct(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(yK(e)):r.current!==e&&t(vK({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(bK(r.current)),r.current=null)},[t]),null}var HG=e=>{var{xAxisId:t,className:r}=e,n=Ce(pC),i=zr(),s="xAxis",o=Ce(x=>E3(x,s,t,i)),l=Ce(x=>ZF(x,t)),c=Ce(x=>rU(x,t)),d=Ce(x=>GP(x,t));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:h}=e,p=MS(e,FG),{id:g,scale:m}=d,v=MS(d,UG);return b.createElement(xb,lx({},p,v,{x:c.x,y:c.y,width:l.width,height:l.height,className:Ve("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},KG={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:Ci.axisLine,height:Rt.height,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:Ci.tickLine,tickSize:Ci.tickSize,type:Rt.type,xAxisId:0},VG=e=>{var t=fr(e,KG);return b.createElement(b.Fragment,null,b.createElement(WG,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(HG,t))},FT=b.memo(VG,RT);FT.displayName="XAxis";var GG=["dangerouslySetInnerHTML","ticks","scale"],qG=["id","scale"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function $S(e,t){if(e==null)return{};var r,n,i=YG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZG(e){var t=Ct(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(wK(e)):r.current!==e&&t(jK({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(SK(r.current)),r.current=null)},[t]),null}var XG=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=b.useRef(null),o=b.useRef(null),l=Ce(pC),c=zr(),d=Ct(),u="yAxis",f=Ce(I=>sU(I,t)),h=Ce(I=>iU(I,t)),p=Ce(I=>E3(I,u,t,c)),g=Ce(I=>qP(I,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!f||hb(i)||b.isValidElement(i)||g==null)){var I=s.current;if(I){var E=I.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&d(NK({id:t,width:E}))}}},[p,f,d,i,t,n,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:m,ticks:v,scale:x}=e,y=$S(e,GG),{id:w,scale:S}=g,j=$S(g,qG);return b.createElement(xb,cx({},y,j,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Ve("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:p,axisType:u}))},JG={allowDataOverflow:Ft.allowDataOverflow,allowDecimals:Ft.allowDecimals,allowDuplicatedCategory:Ft.allowDuplicatedCategory,angle:Ft.angle,axisLine:Ci.axisLine,hide:!1,includeHidden:Ft.includeHidden,interval:Ft.interval,minTickGap:Ft.minTickGap,mirror:Ft.mirror,orientation:Ft.orientation,padding:Ft.padding,reversed:Ft.reversed,scale:Ft.scale,tick:Ft.tick,tickCount:Ft.tickCount,tickLine:Ci.tickLine,tickSize:Ci.tickSize,type:Ft.type,width:Ft.width,yAxisId:0},QG=e=>{var t=fr(e,JG);return b.createElement(b.Fragment,null,b.createElement(ZG,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(XG,t))},UT=b.memo(QG,RT);UT.displayName="YAxis";var eq=(e,t)=>t,bb=oe([eq,st,HP,Dt,H3,Zi,bz,nr],Ez),wb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},zT=vn("mouseClick"),WT=id();WT.startListening({actionCreator:zT,effect:(e,t)=>{var r=e.payload,n=bb(t.getState(),wb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(yU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dx=vn("mouseMove"),HT=id(),du=null;HT.startListening({actionCreator:dx,effect:(e,t)=>{var r=e.payload;du!==null&&cancelAnimationFrame(du);var n=wb(r);du=requestAnimationFrame(()=>{var i=t.getState(),s=rb(i,i.tooltip.settings.shared);if(s==="axis"){var o=bb(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(L3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch($3())}du=null})}});function tq(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var LS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KT=Ur({name:"rootProps",initialState:LS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rq=KT.reducer,{updateOptions:nq}=KT.actions,VT=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:jQ}=VT.actions,iq=VT.reducer,GT=vn("keyDown"),qT=vn("focus"),jb=id();jb.startListening({actionCreator:GT,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=nb(i,cl(r),pd(r),yd(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Zi(r);if(s==="Enter"){var d=eh(r,"axis","hover",String(i.index));t.dispatch(rx({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var u=cU(r),f=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=l+h*f;if(!(c==null||p>=c.length||p<0)){var g=eh(r,"axis","hover",String(p));t.dispatch(rx({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});jb.startListening({actionCreator:qT,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",o=eh(r,"axis","hover",String(s));t.dispatch(rx({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ln=vn("externalEvent"),YT=id(),Xm=new Map;YT.startListening({actionCreator:ln,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Xm.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:iz(l),activeDataKey:rz(l),activeIndex:Fc(l),activeLabel:G3(l),activeTooltipIndex:Fc(l),isTooltipActive:sz(l)};r(c,n)}finally{Xm.delete(i)}});Xm.set(i,o)}}});var sq=oe([ol],e=>e.tooltipItemPayloads),aq=oe([sq,xd,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,r);return o}}}),ZT=vn("touchMove"),XT=id();XT.startListening({actionCreator:ZT,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=rb(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var o=bb(n,wb({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(L3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(qL),f=(l=d.getAttribute(YL))!==null&&l!==void 0?l:void 0,h=ll(n).find(m=>m.id===f);if(u==null||h==null||f==null)return;var{dataKey:p}=h,g=aq(n,u,f);t.dispatch(xU({activeDataKey:p,activeIndex:u,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var oq=$E({brush:$K,cartesianAxis:kK,chartData:iW,errorBars:_V,graphicalItems:rK,layout:_L,legend:RD,options:Qz,polarAxis:EH,polarOptions:iq,referenceElements:zK,rootProps:rq,tooltip:vU,zIndex:Uz}),lq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nL({reducer:oq,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([WT.middleware,HT.middleware,jb.middleware,YT.middleware,XT.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(ZE({type:"raf"}))},devTools:{serialize:{replacer:tq},name:"recharts-".concat(r)}})};function cq(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=zr(),s=b.useRef(null);if(i)return r;s.current==null&&(s.current=lq(t,n));var o=Jy;return b.createElement(hG,{context:o,store:s.current},r)}function dq(e){var{layout:t,margin:r}=e,n=Ct(),i=zr();return b.useEffect(()=>{i||(n(PL(t)),n(CL(r)))},[n,i,t,r]),null}var uq=b.memo(dq,yb);function fq(e){var t=Ct();return b.useEffect(()=>{t(nq(e))},[t,e]),null}function DS(e){var{zIndex:t,isPanorama:r}=e,n=b.useRef(null),i=Ct();return b.useLayoutEffect(()=>(n.current&&i(Rz({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Fz({zIndex:t,isPanorama:r}))}),[i,t,r]),b.createElement("g",{tabIndex:-1,ref:n})}function BS(e){var{children:t,isPanorama:r}=e,n=Ce(Pz);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),s=n.filter(o=>o>0);return b.createElement(b.Fragment,null,i.map(o=>b.createElement(DS,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>b.createElement(DS,{key:o,zIndex:o,isPanorama:r})))}var hq=["children"];function pq(e,t){if(e==null)return{};var r,n,i=mq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}var gq={width:"100%",height:"100%",display:"block"},xq=b.forwardRef((e,t)=>{var r=lv(),n=cv(),i=AC();if(!ii(r)||!ii(n))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,d,u;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0),b.createElement(Dy,ah({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:gq,ref:t}),s)}),yq=e=>{var{children:t}=e,r=Ce(hp);if(!r)return null;var{width:n,height:i,y:s,x:o}=r;return b.createElement(Dy,{width:n,height:i,x:o,y:s},t)},RS=b.forwardRef((e,t)=>{var{children:r}=e,n=pq(e,hq),i=zr();return i?b.createElement(yq,null,b.createElement(BS,{isPanorama:!0},r)):b.createElement(xq,ah({ref:t},n),b.createElement(BS,{isPanorama:!1},r))});function vq(){var e=Ct(),[t,r]=b.useState(null),n=Ce(GL);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Et(s)&&s!==n&&e(AL(s))}},[t,e,n]),r}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}var Nq=()=>(hW(),null);function oh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var kq=b.forwardRef((e,t)=>{var r,n,i=b.useRef(null),[s,o]=b.useState({containerWidth:oh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:oh((n=e.style)===null||n===void 0?void 0:n.height)}),l=b.useCallback((d,u)=>{o(f=>{var h=Math.round(d),p=Math.round(u);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),c=b.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=d.getBoundingClientRect();l(u,f);var h=g=>{var{width:m,height:v}=g[0].contentRect;l(m,v)},p=new ResizeObserver(h);p.observe(d),i.current=p}},[t,l]);return b.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),b.createElement(b.Fragment,null,b.createElement(mp,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",_a({ref:c},e)))}),Iq=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=b.useState({containerWidth:oh(r),containerHeight:oh(n)}),o=b.useCallback((c,d)=>{s(u=>{var f=Math.round(c),h=Math.round(d);return u.containerWidth===f&&u.containerHeight===h?u:{containerWidth:f,containerHeight:h}})},[]),l=b.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();o(d,u)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(mp,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",_a({ref:l},e)))}),Eq=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(mp,{width:r,height:n}),b.createElement("div",_a({ref:t},e)))}),Cq=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return $i(r)||$i(n)?b.createElement(Iq,_a({},e,{ref:t})):b.createElement(Eq,_a({},e,{ref:t}))});function Pq(e){return e===!0?kq:Cq}var Tq=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:v,width:x,responsive:y,dispatchTouchEvents:w=!0}=e,S=b.useRef(null),j=Ct(),[I,E]=b.useState(null),[C,T]=b.useState(null),K=vq(),V=ov(),P=(V==null?void 0:V.width)>0?V.width:x,R=(V==null?void 0:V.height)>0?V.height:i,N=b.useCallback(ee=>{K(ee),typeof t=="function"&&t(ee),E(ee),T(ee),ee!=null&&(S.current=ee)},[K,t,E,T]),M=b.useCallback(ee=>{j(zT(ee)),j(ln({handler:s,reactEvent:ee}))},[j,s]),O=b.useCallback(ee=>{j(dx(ee)),j(ln({handler:d,reactEvent:ee}))},[j,d]),$=b.useCallback(ee=>{j($3()),j(ln({handler:u,reactEvent:ee}))},[j,u]),z=b.useCallback(ee=>{j(dx(ee)),j(ln({handler:f,reactEvent:ee}))},[j,f]),_=b.useCallback(()=>{j(qT())},[j]),q=b.useCallback(ee=>{j(GT(ee.key))},[j]),H=b.useCallback(ee=>{j(ln({handler:o,reactEvent:ee}))},[j,o]),D=b.useCallback(ee=>{j(ln({handler:l,reactEvent:ee}))},[j,l]),se=b.useCallback(ee=>{j(ln({handler:c,reactEvent:ee}))},[j,c]),ae=b.useCallback(ee=>{j(ln({handler:h,reactEvent:ee}))},[j,h]),ie=b.useCallback(ee=>{j(ln({handler:m,reactEvent:ee}))},[j,m]),ce=b.useCallback(ee=>{w&&j(ZT(ee)),j(ln({handler:g,reactEvent:ee}))},[j,w,g]),xe=b.useCallback(ee=>{j(ln({handler:p,reactEvent:ee}))},[j,p]),ve=Pq(y);return b.createElement(eT.Provider,{value:I},b.createElement(OI.Provider,{value:C},b.createElement(ve,{width:P??(v==null?void 0:v.width),height:R??(v==null?void 0:v.height),className:Ve("recharts-wrapper",n),style:bq({position:"relative",cursor:"default",width:P,height:R},v),onClick:M,onContextMenu:H,onDoubleClick:D,onFocus:_,onKeyDown:q,onMouseDown:se,onMouseEnter:O,onMouseLeave:$,onMouseMove:z,onMouseUp:ae,onTouchEnd:xe,onTouchMove:ce,onTouchStart:ie,ref:N},b.createElement(Nq,null),r)))}),Aq=["width","height","responsive","children","className","style","compact","title","desc"];function _q(e,t){if(e==null)return{};var r,n,i=Oq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mq=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:o,style:l,compact:c,title:d,desc:u}=e,f=_q(e,Aq),h=ti(f);return c?b.createElement(b.Fragment,null,b.createElement(mp,{width:r,height:n}),b.createElement(RS,{otherAttributes:h,title:d,desc:u},s)):b.createElement(Tq,{className:o,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(RS,{otherAttributes:h,title:d,desc:u,ref:t},b.createElement(HK,null,s)))});function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(null,arguments)}var $q={top:5,right:5,bottom:5,left:5},Lq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:$q,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Dq=b.forwardRef(function(t,r){var n,i=fr(t.categoricalChartProps,Lq),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(cq,{preloadedState:{options:u},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:s},b.createElement(MK,{chartData:d.data}),b.createElement(uq,{layout:i.layout,margin:i.margin}),b.createElement(fq,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(Mq,ux({},i,{ref:r})))}),Bq=["axis"],Rq=b.forwardRef((e,t)=>b.createElement(Dq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bq,tooltipPayloadSearcher:Xz,categoricalChartProps:e,ref:t}));const Fq=({isOpen:e,onClose:t})=>{const[r,n]=b.useState(null),[i,s]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState(0),[u,f]=b.useState(!0);if(b.useEffect(()=>{if(!e)return;(async()=>{f(!0);try{const[y,w,S,j]=await Promise.all([C8(),P8(),PI(),T8()]);n(y),s(w),l(S),d(j)}catch(y){console.error("[MempoolModal] Error fetching data:",y)}finally{f(!1)}})()},[e]),!e)return null;const h=o.map(x=>({time:new Date(x.timestamp*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),fee:Number(x.avgFee.toFixed(2)),timestamp:x.timestamp})),p=h.map(x=>x.fee),g=Math.min(...p),m=Math.max(...p),v=(m-g)*.1||.5;return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:t,children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-6 flex items-center justify-between z-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-500",children:""}),"Bitcoin Network Status"]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Live data from mempool.space"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-800 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u?a.jsx("div",{className:"p-12 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-400 animate-pulse",children:"Loading network data..."})}):a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" High Priority"}),a.jsx("div",{className:"text-3xl font-bold",style:{color:qd(r.fastestFee)},children:r.fastestFee<1?r.fastestFee.toFixed(2):r.fastestFee}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"sat/vB  ~10 min"})]}),a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Medium Priority"}),a.jsx("div",{className:"text-3xl font-bold",style:{color:qd(r.halfHourFee)},children:r.halfHourFee<1?r.halfHourFee.toFixed(2):r.halfHourFee}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"sat/vB  ~30 min"})]}),a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Low Priority"}),a.jsx("div",{className:"text-3xl font-bold",style:{color:qd(r.hourFee)},children:r.hourFee<1?r.hourFee.toFixed(2):r.hourFee}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"sat/vB  ~1h"})]}),a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Economy"}),a.jsx("div",{className:"text-3xl font-bold",style:{color:qd(r.economyFee)},children:r.economyFee<1?r.economyFee.toFixed(2):r.economyFee}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"sat/vB  ~2-4h"})]}),a.jsxs("div",{className:"bg-gray-800 border border-orange-500/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Minimum"}),a.jsx("div",{className:"text-3xl font-bold text-orange-400",children:r.minimumFee<1?r.minimumFee.toFixed(2):r.minimumFee}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"sat/vB  lowest"})]})]}),h.length>0&&a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Fee History (24 Hours)"}),a.jsx(vD,{width:"100%",height:300,children:a.jsxs(Rq,{data:h,children:[a.jsx(PT,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(FT,{dataKey:"time",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},interval:"preserveStartEnd"}),a.jsx(UT,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},label:{value:"sat/vB",angle:-90,position:"insideLeft",fill:"#9ca3af"},domain:[g-v,m+v],tickFormatter:x=>x.toFixed(2)}),a.jsx(wW,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"},labelStyle:{color:"#9ca3af"},formatter:x=>[`${x.toFixed(2)} sat/vB`,"Fee"]}),a.jsx(TC,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(BT,{type:"monotone",dataKey:"fee",stroke:"#f97316",strokeWidth:3,dot:!1,name:"Average Fee",animationDuration:1e3})]})})]}),i&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Unconfirmed TXs"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:i.count.toLocaleString("en-US")}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Transactions in mempool"})]}),a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Mempool Size"}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[(i.vsize/1e6).toFixed(1)," MB"]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Virtual Bytes"})]}),a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400 mb-1",children:" Block Height"}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["#",c.toLocaleString("en-US")]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current block"})]})]}),r&&a.jsx("div",{className:`border rounded-lg p-4 ${r.halfHourFee<=15?"bg-green-500/10 border-green-500/30":r.halfHourFee<=30?"bg-amber-500/10 border-amber-500/30":"bg-red-500/10 border-red-500/30"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:r.halfHourFee<=15?"":r.halfHourFee<=30?"":""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white mb-1",children:r.halfHourFee<=15?" Great time to mint!":r.halfHourFee<=30?" Moderate Fees":" High Fees - Consider waiting"}),a.jsx("div",{className:"text-sm text-gray-300",children:r.halfHourFee<=15?"Network fees are low. Perfect for inscriptions!":r.halfHourFee<=30?"Fees are slightly elevated but still acceptable.":"The network is currently congested. Better to wait for lower fees."})]})]})}),a.jsx("div",{className:"text-center text-xs text-gray-500 pt-4 border-t border-gray-800",children:"Data updates automatically every 60 seconds  Powered by mempool.space"})]})]})})},Uq=["8f5fc247bf80511bd5b175b1f527cef1098d5e908c34acf81e986bfb99dcfa80i0","b1776bc34762f7a6ef0122276e7cbd2922dfe6d5301a57bf7eb105bac167a364i0","3c6549906170fe529005d201f77fa5a4f0cab7bfa283ed2c3e4c44d57887921fi0","64abdaab518f553ef692fb59fb1244dd7c4833c2ae085b40fe71a14c253b9600i0","397e179ca9c6b62c7982fd3426c569fcc52ff0e3f7c97a68b5dd9c89ea0bbb5di0","8e26e5823d7fc3cd092b605feec7d1e7ce6e8908ca320d702a75f6160a552a89i0"],zq=()=>{var w;const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(null),[i,s]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState([]),[u,f]=b.useState(!0),[h,p]=b.useState(!1),g=[{id:"bitcoin-mixtape",name:"Bitcoin Mix Tape",thumbnail:"/mixtape.png",description:"On-Chain Music Experience",order:1},{id:"smile-a-bit",name:"SMILE A IT",thumbnail:"/images/smile-collection.png",description:"222 Unique Bitcoin Smiley Ordinals",order:2},{id:"slums",name:"SLUMS",thumbnail:i||"",description:"333 Unique Pixel Ordinals",order:3},{id:"black-wild",name:"Black & Wild",thumbnail:"/thumbnail_Unbenanntes_Projekt-2026-01-01T222604.577-ezgif.com-apng-to-avif-converter - Kopie.avif",description:"Bitcoin Ordinals Card Game",order:4},{id:"tech-games",name:"TECH & GAMES",thumbnail:"/techgame.png",description:"Interactive games and tech tools",order:5},{id:"point-shop",name:"Point Shop",thumbnail:"/pointshop.png",description:"Mint exclusive Ordinals with your points",order:6},{id:"1984",name:"1984",thumbnail:"https://ordinals.com/content/5c50d2e25d833e1357de824184e9d7859945c62f3b6af54c0f2f2a03caf5fd74i0",description:"Orwell on Bitcoin",order:7},{id:"free-stuff",name:"Free Stuff",thumbnail:"https://ordinals.com/content/4a019b00eaed13dce49df0ba18d1f82c95a276ca09a4b16c6990336ae7bc189bi0",description:"Free Ordinals Mints",order:8},{id:"random-stuff",name:"Random Stuff",thumbnail:"https://ordinals.com/content/c46de6b56a28fc5c9da4d22a8a15825e604418c1ad1e4eea6650afdebff0e670i0",description:"Random Ordinals Collection",order:9}],m=c.filter(S=>!S.page||S.page==="").map(S=>{const j=S.id.replace(/[^a-z0-9-]/gi,"-").toLowerCase(),I=S.name.toLowerCase().includes("sons of satoshi")?2:5;return{id:j,name:S.name,thumbnail:S.thumbnail||"/images/RichArt.png",description:S.description||"Collection",order:I,collectionId:S.id}});[...g.map(S=>S.id),...m.map(S=>S.id)];const v=[...g,...m.filter(S=>!g.some(j=>j.id===S.id))].sort((S,j)=>(S.order||999)-(j.order||999));b.useEffect(()=>{y()},[]),b.useEffect(()=>{let S=!1;return(async()=>{try{const E=document.createElement("canvas");E.width=400,E.height=400;const C=E.getContext("2d");if(!C)return;for(const T of Uq){const K=await new Promise((V,P)=>{const R=new Image;R.crossOrigin="anonymous",R.onload=()=>V(R),R.onerror=()=>P(new Error("load failed")),R.src=`https://ordinals.com/content/${T}`});if(S)return;C.drawImage(K,0,0,400,400)}S||s(E.toDataURL("image/png"))}catch{console.warn("[HomePage] SLUMS preview render failed")}})(),()=>{S=!0}},[]),b.useEffect(()=>{t.connected&&t.accounts[0]?x():n(null)},[t.connected,t.accounts]);const x=async()=>{if(t.accounts[0]){l(!0);try{const S=await $y(t.accounts[0].address);n(S)}catch(S){console.error("Error loading points:",S),n(null)}finally{l(!1)}}},y=async()=>{f(!0);try{const S=await d8();d(S)}catch(S){console.error("Error loading collections:",S),d([])}finally{f(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(A8,{onDetailsClick:()=>p(!0)}),a.jsx(Fq,{isOpen:h,onClose:()=>p(!1)}),a.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center p-4 md:p-8 pt-16 md:pt-20 pb-24 md:pb-8 relative",children:[a.jsxs("div",{className:"fixed top-2 md:top-4 left-2 md:left-4 z-40 flex items-center gap-2 md:gap-4",children:[a.jsx("a",{href:"/link-gallery",onClick:S=>{S.preventDefault(),e("/link-gallery")},className:"inline-block hover:opacity-80 transition-opacity",title:"Link Gallery",children:a.jsx("img",{src:"/images/RichArt.png",alt:"RichArt - Link Gallery",className:"h-10 cursor-pointer",onError:S=>{console.warn("[HomePage] Could not load RichArt logo"),S.currentTarget.style.display="none"}})}),t.connected&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Your Points"}),o?a.jsx("p",{className:"text-2xl font-bold text-white",children:"Loading..."}):a.jsx("p",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.points)||0})]})]}),a.jsx("div",{className:"mb-6 text-center",children:a.jsx("img",{src:"/richartlogo.png",alt:"Atelier RichART",className:"max-w-md mx-auto h-auto",onError:S=>{console.warn("[HomePage] Could not load logo, falling back to text"),S.currentTarget.style.display="none"}})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 max-w-5xl w-full items-stretch",children:v.map((S,j)=>{const I=S.collectionId?`/collection/${S.collectionId}`:`/${S.id}`;return a.jsxs("div",{onClick:()=>e(I),className:`w-full cursor-pointer transition-all duration-300 flex flex-col items-center h-full group relative touch-manipulation ${S.id==="bitcoin-mixtape"?"md:order-1":S.id==="smile-a-bit"?"md:order-2":S.id==="slums"?"md:order-3":S.id==="black-wild"?"md:order-4":S.collectionId?"md:order-5":S.id==="tech-games"?"md:order-6":S.id==="point-shop"?"md:order-7":S.id==="free-stuff"?"md:order-8":S.id==="random-stuff"?"md:order-9":S.order>=7?"md:order-10":"md:order-11"} active:scale-95 md:hover:scale-105 hover:shadow-lg hover:shadow-red-600/20`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/0 via-red-600/0 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-lg"}),a.jsx("div",{className:`w-full mx-auto flex-1 flex flex-col justify-start min-h-0 relative z-10 ${S.id==="bitcoin-mixtape"?"md:mt-8":S.id==="smile-a-bit"?"md:-mt-2":S.id==="slums"?"md:mt-4":S.id==="black-wild"?"md:mt-16":S.collectionId?"md:mt-20":S.id==="point-shop"||S.id==="tech-games"?"md:mt-8":""} ${S.id==="black-wild"?"max-w-32":S.id==="smile-a-bit"?"max-w-[210px]":S.id==="slums"?"max-w-[180px]":"max-w-48"}`,children:S.id==="slums"?a.jsx("div",{className:"overflow-hidden rounded",children:i?a.jsx("img",{src:i,alt:"SLUMS",className:"w-full h-auto object-contain transition-all duration-300 group-hover:scale-110 group-hover:drop-shadow-lg group-hover:drop-shadow-red-600/50",style:{imageRendering:"pixelated"}}):a.jsx("div",{className:"w-full aspect-square bg-gray-900 rounded flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"})})}):S.thumbnail?a.jsx("div",{className:S.id==="smile-a-bit"?"overflow-hidden rounded":"",children:a.jsx(CI,{src:S.thumbnail,alt:S.name,className:`w-full h-auto object-contain transition-all duration-300 group-hover:scale-110 group-hover:drop-shadow-lg group-hover:drop-shadow-red-600/50 ${S.id==="smile-a-bit"?"scale-[1.08]":""}`,loading:"lazy"})}):a.jsx("div",{className:"w-full aspect-[2/3] bg-gray-900 border border-red-600 rounded flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-white text-lg font-bold",children:S.name})]})})}),a.jsxs("div",{className:`mt-auto ${S.id==="tech-games"?"-mt-8":S.id==="bitcoin-mixtape"?"-mt-7":"-mt-2"} text-center w-full relative z-10 transition-all duration-300 group-hover:translate-y-[-4px]`,children:[S.id==="black-wild"?a.jsxs("h2",{className:"text-xl font-bold mb-1 transition-colors duration-300 group-hover:text-red-600",children:[a.jsx("span",{className:"text-black transition-all duration-300",style:{textShadow:"-1px -1px 1px rgba(255, 255, 255, 0.5), 1px -1px 1px rgba(255, 255, 255, 0.5), -1px 1px 1px rgba(255, 255, 255, 0.5), 1px 1px 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(255, 255, 255, 0.3)"},children:"BLACK"}),a.jsx("span",{className:"text-red-600 mx-1",children:"&"}),a.jsx("span",{className:"text-white",children:"WILD"})]}):a.jsx("h2",{className:"text-xl font-bold text-white mb-1 transition-colors duration-300 group-hover:text-red-400",children:S.name}),S.collectionId?a.jsx("p",{className:"text-xs text-gray-400 opacity-0 pointer-events-none h-4",children:"Placeholder"}):a.jsx("p",{className:"text-xs text-gray-400 transition-colors duration-300 group-hover:text-gray-300",children:S.description})]})]},S.id)})}),t.connected&&((w=t.accounts)==null?void 0:w.some(S=>["bc1p8mex3g66tsrqlura04ts6xgxlfwhf23adrxpc5g6c0zmqdgqtq3syq0elu","bc1p9j4g6r27yqhmp4c403vn33mz7uug439sthqngkkrylu7d7uq7d6qvz39jj"].includes(S.address)))&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx("div",{onClick:()=>e("/palindrom-sound-box"),className:"cursor-pointer transition-all duration-300 hover:scale-105 hover:drop-shadow-lg hover:drop-shadow-purple-500/50",children:a.jsx("img",{src:"/images/palindrom-link.png",alt:"Palindrom Sound Box",className:"max-w-xs h-auto rounded-lg",loading:"lazy"})})}),a.jsx("div",{className:"mt-12 w-full",children:a.jsx(I8,{})})]})]})},ci=({selectedFeeRate:e,onFeeRateChange:t})=>{const[r,n]=b.useState(null),[i,s]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(!1);b.useEffect(()=>{(async()=>{s(!0);try{const g=await p0();g&&(n(g),!c&&(!e||e===1)&&(t(g.halfHourFee),d(!0)))}catch(g){console.warn("Failed to load fee rates:",g)}finally{s(!1)}})();const p=setInterval(()=>{p0().then(g=>{g&&n(g)})},6e4);return()=>clearInterval(p)},[]),b.useEffect(()=>{e&&!c&&d(!0)},[e,c]);const u=h=>{if(!(!r&&h!=="custom"))switch(h){case"economy":t(r.economyFee),l("");break;case"medium":t(r.halfHourFee),l("");break;case"fast":t(r.fastestFee),l("");break}};if(i||!r)return a.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded p-3",children:a.jsx("p",{className:"text-xs text-gray-400",children:"Loading fee rates..."})});const f=o!==""||e!==r.economyFee&&e!==r.halfHourFee&&e!==r.fastestFee;return a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-white uppercase block",children:"Inscription Fee Rate"}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-0.5",children:"Current Mempool rates  Auto-updates every 60s"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-xs text-white font-mono font-bold",children:[e," sat/vB"]}),a.jsx("p",{className:"text-[8px] text-gray-500 mt-0.5",children:"Selected"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>u("economy"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===r.economyFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Economy",a.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[r.economyFee," sat/vB"]}),a.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~1h+"})]}),a.jsxs("button",{onClick:()=>u("medium"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===r.halfHourFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Medium",a.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[r.halfHourFee," sat/vB"]}),a.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~30min"}),e===r.halfHourFee&&!f&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-white text-black text-[7px] px-1 rounded font-bold",children:""})]}),a.jsxs("button",{onClick:()=>u("fast"),className:`px-2 py-1.5 text-[10px] font-bold rounded border transition relative ${e===r.fastestFee&&!f?"bg-red-600 text-white border-red-600":"bg-gray-800 text-gray-300 border-gray-700 hover:border-red-600"}`,children:["Fast",a.jsxs("div",{className:"text-[8px] text-gray-400 mt-0.5",children:[r.fastestFee," sat/vB"]}),a.jsx("div",{className:"text-[7px] text-gray-500 mt-0.5",children:"~10min"})]})]}),a.jsx("div",{className:"text-center pt-2",children:a.jsxs("p",{className:"text-[9px] text-gray-400",children:[" ",a.jsx("span",{className:"font-semibold",children:"Recommended:"})," Medium (",r.halfHourFee," sat/vB) - Best balance"]})}),a.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[a.jsx("label",{className:"text-[10px] text-gray-400 block mb-1",children:"Custom (sat/vB):"}),a.jsx("input",{type:"number",min:"1",step:"1",value:o||(f?String(e):""),onChange:h=>{const p=h.target.value;l(p);const g=parseInt(p,10);!isNaN(g)&&g>=1&&t(g)},onBlur:h=>{h.target.value===""&&l("")},placeholder:"Min: 1, z.B. 1 oder 2",className:"w-full px-2 py-1 bg-black border border-gray-700 rounded text-xs text-white font-mono focus:border-red-600 focus:outline-none"}),a.jsx("p",{className:"text-[8px] text-gray-500 mt-1",children:"Lower fees = slower confirmation. You can enter any value  1 sat/vB"})]})]})},Wq=({pack:e,onMint:t,isMinting:r,availability:n,isSoldOut:i=!1,inscriptionFeeRate:s,onFeeRateChange:o})=>{const l=(n==null?void 0:n.remaining)??(e.totalSupply?e.totalSupply-(e.soldCount||0):null),c=E8(e.cardCount,s),d=e.price+c,u=e.isPremium===!0;return a.jsxs("div",{className:"relative bg-black border border-red-600 rounded overflow-hidden hover:border-red-500 transition-all shadow-lg w-full flex flex-col h-full",children:[u&&a.jsxs("div",{className:"absolute inset-0 bg-black/90 rounded flex flex-col items-center justify-center z-20 border border-red-600",children:[a.jsx("span",{className:"text-red-600 text-2xl font-bold tracking-wider mb-2",children:"COMING SOON"}),a.jsx("span",{className:"text-gray-400 text-sm",children:"Premium Pack"})]}),i&&!u&&a.jsx("div",{className:"absolute inset-0 bg-black/90 rounded flex items-center justify-center z-20 border border-red-600",children:a.jsx("span",{className:"text-white text-xl font-bold tracking-wider",children:"SOLD OUT"})}),e.isPremium&&a.jsx("div",{className:"absolute top-1.5 left-1.5 bg-red-600 text-white px-1.5 py-0.5 rounded border border-white text-[10px] font-bold z-10",children:" PREMIUM"}),l!==null&&!i&&a.jsxs("div",{className:"absolute top-1.5 right-1.5 bg-white text-black px-1.5 py-0.5 rounded border border-red-600 text-[10px] font-bold z-10",children:[(n==null?void 0:n.sold)??(e.soldCount||0),"/",(n==null?void 0:n.total)??e.totalSupply]}),a.jsx("div",{className:"aspect-[2/3] bg-black flex items-center justify-center p-2 border-b border-red-600 relative min-h-[200px]",children:a.jsx("img",{src:e.imageUrl||"/images/pack-thumbnail.png",alt:e.name,className:"max-w-full max-h-full object-contain",style:{width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%"},loading:"eager",onError:f=>{console.error(" Bild-Fehler - URL:",f.currentTarget.src),console.error("Vollstndige URL:",new URL(f.currentTarget.src,window.location.origin).href),f.currentTarget.src.includes("data:image")||(console.log(" Verwende Fallback-Bild (SVG)"),f.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 300"%3E%3Crect fill="%23000" width="200" height="300"/%3E%3Ctext fill="%23fff" font-family="sans-serif" font-size="14" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3EKartenpack%3C/text%3E%3C/svg%3E')},onLoad:f=>{console.log(" Bild erfolgreich geladen:",f.currentTarget.src),console.log("Bild-Gre:",f.currentTarget.naturalWidth,"x",f.currentTarget.naturalHeight)}})}),a.jsxs("div",{className:"p-2.5 bg-black text-white flex-1 flex flex-col",children:[a.jsx("h3",{className:"text-sm font-bold mb-1 text-white border-b border-red-600 pb-1 line-clamp-1",children:e.name}),a.jsx("p",{className:"text-gray-300 mb-2 text-[10px] leading-tight line-clamp-2 flex-1",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] text-gray-400 uppercase",children:"Cards"}),a.jsx("p",{className:"text-xs font-bold text-white",children:e.cardCount})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] text-gray-400 uppercase",children:"Price"}),a.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:[e.price.toFixed(8)," BTC"]}),a.jsx("p",{className:"text-[8px] text-gray-500 uppercase mt-0.5",children:"+ Inscription Fees"}),a.jsxs("p",{className:"text-[10px] text-gray-400 font-mono",children:["~",y1(c)]}),a.jsxs("p",{className:"text-[7px] text-gray-500 mt-0.5 leading-tight",children:["(Estimated: ~",Math.round(c*1e8/e.cardCount)," sats per inscription)"]}),a.jsx("p",{className:"text-[6px] text-gray-600 mt-0.5 leading-tight italic",children:"UniSat calculates the actual fees"}),a.jsx("p",{className:"text-[8px] text-red-500 uppercase mt-1 border-t border-gray-700 pt-0.5",children:"Total"}),a.jsx("p",{className:"text-xs font-bold text-red-600 font-mono",children:y1(d)})]})]}),e.isPremium&&e.guaranteedRarities&&a.jsxs("div",{className:"mb-2 p-1.5 bg-gray-900 border border-red-600 rounded",children:[a.jsx("p",{className:"text-[9px] font-semibold text-red-600 mb-1 uppercase",children:"Guaranteed:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.guaranteedRarities.map(f=>a.jsx("span",{className:"px-1 py-0.5 bg-black text-white border border-red-600 rounded text-[9px] font-semibold",children:f==="mystic-legendary"?"Mystic":f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),a.jsx("div",{className:"mb-2",children:a.jsx(ci,{selectedFeeRate:s,onFeeRateChange:o})}),a.jsx("button",{onClick:()=>t(e.id),disabled:r||i||u,className:"w-full py-1.5 text-xs bg-white text-black border border-red-600 rounded font-bold hover:bg-red-600 hover:text-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Minting...":u?"Coming Soon":i?"Sold Out":"Mint Pack"})]})]})},US="/images/pack-thumbnail.png",fx=[{id:"starter-pack",name:"Starter Pack",description:"5 random cards - Chance for Mystic Legendary!",price:25e-6,cardCount:5,totalSupply:600,soldCount:0,imageUrl:US,isPremium:!1},{id:"premium-pack",name:"Premium Pack - Complete Deck",description:"The complete deck with all 46 cards (26 Animal + 12 Action + 8 Status)! Guaranteed to contain all Epic, Legendary & Mystic Legendary!",price:25e-5,cardCount:46,totalSupply:25,soldCount:0,imageUrl:US,isPremium:!0,guaranteedRarities:["epic","legendary","mystic-legendary"]}],Sb="http://localhost:3003",Hq=async e=>{try{const t=new AbortController,r=setTimeout(()=>t.abort(),2e3),n=await fetch(`${Sb}/api/packs/${e}/availability`,{signal:t.signal});if(clearTimeout(r),!n.ok)throw new Error("Backend response not ok");return await n.json()}catch{console.warn("Backend nicht verfgbar, verwende lokale Konfiguration fr",e);const r=fx.find(i=>i.id===e);if(!r)return null;const n=r.totalSupply-r.soldCount;return{packId:r.id,sold:r.soldCount,total:r.totalSupply,remaining:n,soldOut:n<=0}}},Kq=async()=>{try{const e=await fetch(`${Sb}/api/packs/availability`);return e.ok?await e.json():{}}catch{return{}}},Vq=async e=>{try{return(await fetch(`${Sb}/api/packs/${e}/increment`,{method:"POST"})).ok}catch(t){return console.warn("Fehler beim Aktualisieren der Pack-Verfgbarkeit:",t),!1}},Gq=({packs:e,onMint:t,mintingPackId:r,inscriptionFeeRate:n,onFeeRateChange:i})=>{const[s,o]=b.useState({});return b.useEffect(()=>{const l=async()=>{const d=await Kq();o(d)};l();const c=setInterval(l,3e4);return()=>clearInterval(c)},[]),a.jsxs("div",{className:"bg-black border border-red-600 rounded shadow-lg p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4 border-b border-red-600 pb-1",children:"Available Card Packs"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:e.length===0?a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-400 text-sm",children:"No packs available"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 justify-items-stretch",children:e.map(l=>{const c=s[l.id],d=(c==null?void 0:c.remaining)??(l.totalSupply?l.totalSupply-(l.soldCount||0):null),u=(c==null?void 0:c.soldOut)||d!==null&&d<=0;return a.jsx(Wq,{pack:l,onMint:t,isMinting:r===l.id,availability:c,isSoldOut:u,inscriptionFeeRate:n,onFeeRateChange:i},l.id)})})}),a.jsx("div",{className:"lg:col-span-1 border-l border-red-600 pl-6",children:a.jsxs("div",{className:"space-y-4 text-white text-center pt-12",children:[a.jsx("div",{children:a.jsxs("h3",{className:"text-lg font-bold mb-2",children:[a.jsx("span",{className:"text-black",style:{textShadow:"0 0 8px rgba(255,255,255,0.6)"},children:"BLACK"})," ",a.jsx("span",{className:"text-red-600",children:"&"})," ",a.jsx("span",{className:"text-white",children:"WILD"})," ",a.jsx("span",{className:"text-white text-sm",children:" Card Pack"})]})}),a.jsxs("div",{className:"space-y-3 text-sm leading-relaxed",children:[a.jsx("p",{className:"text-white font-bold",children:"No heroes."}),a.jsx("p",{className:"text-white font-bold",children:"No magic."}),a.jsx("p",{className:"text-white font-bold",children:"Just animals with problems."}),a.jsxs("p",{className:"text-gray-300 mt-4",children:[a.jsx("span",{className:"text-white font-bold",children:"BLACK & WILD"})," is a minimalist animal card game built on instinct, chaos, and bad decisions. Each pack contains a mix of unique animal cards, actions, and status effects  designed to be played, collected, and misused."]}),a.jsxs("p",{className:"text-gray-300",children:["No lore to memorize.",a.jsx("br",{}),"No hand-holding.",a.jsx("br",{}),"Just sharp design, direct interaction, and fast, uncomfortable games."]}),a.jsxs("p",{className:"text-white font-bold mt-4",children:["Black ink.",a.jsx("br",{}),"White space.",a.jsx("br",{}),"Everything else is your problem."]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 space-y-2 text-sm",children:[a.jsx("p",{className:"text-white",children:"Black & white vector artwork"}),a.jsx("p",{className:"text-white",children:"Animal-based characters"}),a.jsx("p",{className:"text-white",children:"Fast, aggressive gameplay"}),a.jsx("p",{className:"text-white",children:"Chaos > balance"}),a.jsx("p",{className:"text-white font-bold mt-3",children:"Playable. Collectible. Uncomfortable."})]})]})})]})]})},qq={common:30,uncommon:25,rare:25,epic:15,legendary:4,"mystic-legendary":1},pr={common:"#9CA3AF",uncommon:"#10B981",rare:"#3B82F6",epic:"#8B5CF6",legendary:"#F59E0B","mystic-legendary":"#EF4444"},bs={common:"Common",uncommon:"Uncommon",rare:"Rare",epic:"Epic",legendary:"Legendary","mystic-legendary":"Mystic Legendary"},Yq=({card:e,showRarity:t=!0})=>{const r=e.cardType==="action",n=e.cardType==="status",i=r?"ACTION":n?"STATUS":"ANIMAL";return a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg overflow-hidden border-2",style:{borderColor:t&&pr[e.rarity]||"#9CA3AF"},children:[a.jsxs("div",{className:"p-3 border-b border-gray-700",children:[a.jsx("h3",{className:"text-lg font-bold text-white text-center mb-1",children:e.name}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-gray-700 text-gray-200",children:i}),t&&a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded",style:{backgroundColor:pr[e.rarity]||"#9CA3AF",color:"white"},children:bs[e.rarity]})]})]}),(r||n)&&e.svgIcon&&a.jsx("div",{className:"p-6 flex items-center justify-center bg-white min-h-[200px]",children:a.jsx("div",{className:"w-full max-w-xs flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon},style:{filter:"none",WebkitFilter:"none",display:"flex",alignItems:"center",justifyContent:"center"}})}),e.cardType==="animal"&&a.jsx("div",{className:"p-6 flex items-center justify-center bg-gray-800",children:a.jsx("div",{className:"w-24 h-24 flex items-center justify-center text-6xl",children:""})})]})},Hc=({card:e,showRarity:t=!0,autoReveal:r=!1,onReveal:n})=>{var h;const[i,s]=b.useState(e.revealed||!1),[o,l]=b.useState(!1),[c,d]=b.useState(()=>{if(e.originalInscriptionId&&!e.originalInscriptionId.startsWith("mock-")&&!e.originalInscriptionId.startsWith("pending-"))return console.log(`[CardReveal]  Using originalInscriptionId: ${e.originalInscriptionId}`),`https://ordinals.com/content/${e.originalInscriptionId}`;if(e.inscriptionId&&e.inscriptionId.startsWith("pending-")){const p="http://localhost:3003";return console.log(`[CardReveal]  Using pending ID with backend: ${e.inscriptionId}`),`${p}/api/inscription/image/${e.inscriptionId}`}if(e.inscriptionId&&!e.inscriptionId.startsWith("mock-")){const p="http://localhost:3003";return console.log(`[CardReveal]  Using delegate ID with backend: ${e.inscriptionId}`),`${p}/api/inscription/image/${e.inscriptionId}`}return console.warn(`[CardReveal]  No valid inscription ID found for card: ${e.name}`),""});b.useEffect(()=>{if(r&&!i){const p=setTimeout(()=>{f()},1e3);return()=>clearTimeout(p)}},[r,i]);const u=p=>{const m=p.target.src;if(console.error(`[CardReveal] Image load error for ${e.name} from ${m}`),m.includes("/api/inscription/image/")){const v=`https://ordinals.com/content/${e.inscriptionId}`;console.log(`[CardReveal] Backend failed, trying direct URL: ${v}`),d(v)}else if(m.includes("ordinals.com/content")){const v=`https://ordinals.com/preview/${e.inscriptionId}`;console.log(`[CardReveal] Trying preview URL: ${v}`),d(v)}else if(m.includes("ordinals.com/preview")){const v=`https://ordiscan.com/content/${e.inscriptionId}`;console.log(`[CardReveal] Trying ordiscan URL: ${v}`),d(v)}else console.error(`[CardReveal] All image sources failed for ${e.name}`),l(!0)},f=()=>{i||(s(!0),n&&n())};return i?i?a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg overflow-hidden border-2",style:{borderColor:t&&pr[e.rarity]||"#9CA3AF",maxHeight:"280px"},children:[a.jsxs("div",{className:"p-2 border-b border-gray-700 bg-gradient-to-r from-gray-800 to-gray-900",children:[a.jsx("h3",{className:"text-sm font-bold text-white text-center mb-1",children:e.name}),t&&a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("span",{className:"text-[9px] font-semibold px-1 py-0.5 rounded bg-gray-700 text-gray-200",children:((h=e.cardType)==null?void 0:h.toUpperCase())||"CARD"}),a.jsx("span",{className:"text-[9px] font-semibold px-1 py-0.5 rounded",style:{backgroundColor:pr[e.rarity]||"#9CA3AF",color:"white"},children:bs[e.rarity]})]})]}),a.jsx("div",{className:"p-3 flex items-center justify-center bg-white min-h-[100px] max-h-[150px]",children:e.inscriptionId&&!e.inscriptionId.startsWith("mock-")?o?a.jsxs("div",{className:"text-red-500 text-xs text-center p-2",children:[a.jsx("p",{children:"Error loading image"}),a.jsx("p",{className:"text-gray-500 mt-1 text-[10px] break-all",children:e.inscriptionId}),e.svgIcon&&a.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 mt-2",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):a.jsx("img",{src:c,alt:e.name,className:"w-full h-full object-contain",onError:u,onLoad:()=>{console.log(`[CardReveal]  Image loaded successfully for ${e.name} (${e.cardType}) from ${c}`)}},c):e.svgIcon?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",dangerouslySetInnerHTML:{__html:e.svgIcon}}):a.jsx("div",{className:"text-gray-500 text-xs",children:"No preview"})}),e.inscriptionId&&!e.inscriptionId.startsWith("mock-")&&a.jsx("div",{className:"p-1 bg-gray-900 border-t border-gray-700",children:a.jsx("p",{className:"text-[8px] font-mono text-gray-400 text-center truncate",title:e.inscriptionId,children:e.inscriptionId})})]}):a.jsx(Yq,{card:e,showRarity:t}):a.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-lg overflow-hidden border-2 cursor-pointer hover:scale-105 transition-transform duration-200",style:{borderColor:t&&pr[e.rarity]||"#9CA3AF",minHeight:"120px",maxHeight:"160px"},onClick:f,children:a.jsx("div",{className:"h-full flex flex-col items-center justify-center p-3 bg-gray-950",children:a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 rounded-lg opacity-20 blur-sm",style:{boxShadow:`0 0 20px ${pr[e.rarity]||"#9CA3AF"}`}}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"text-5xl mb-2 opacity-50",children:"?"}),a.jsx("p",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"Click"})]}),a.jsx("div",{className:"absolute bottom-1 left-1 right-1",children:a.jsx("div",{className:"text-[9px] font-bold px-1 py-0.5 rounded text-center opacity-50",style:{backgroundColor:pr[e.rarity]||"#9CA3AF",color:"white"},children:bs[e.rarity]})})]})})})},Ji=({status:e})=>{const[t,r]=b.useState(new Set),n=()=>{switch(e.status){case"completed":return"bg-white text-black";case"failed":return"bg-red-600 text-white";case"processing":return"bg-white text-black border-2 border-red-600";default:return"bg-gray-800 text-white border-2 border-red-600"}},i=()=>{switch(e.status){case"pending":return"Waiting...";case"processing":return"Minting...";case"completed":return"Completed!";case"failed":return"Failed";default:return"Unknown"}};return a.jsxs("div",{className:"bg-black border border-red-600 rounded shadow-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-red-600 pb-2",children:[a.jsx("h3",{className:"text-sm font-bold text-white",children:"Minting-Status"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${n()}`,children:i()})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{className:"font-bold text-white",children:[e.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-900 rounded-full h-2 border border-gray-700",children:a.jsx("div",{className:"h-2 rounded-full transition-all bg-red-600",style:{width:`${e.progress}%`}})})]}),e.status==="completed"&&e.inscriptionIds&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-900 border border-white rounded",children:[a.jsx("p",{className:"text-xs font-bold text-white mb-1",children:" Minting successful!"}),e.cards&&e.cards.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-300 mb-2 uppercase",children:"Your Cards:"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:e.cards.map((s,o)=>{const l=t.has(o);return a.jsx("div",{children:a.jsx(Hc,{card:{...s,revealed:l},showRarity:!0,autoReveal:!1,onReveal:()=>{r(c=>new Set(c).add(o))}})},o)})}),t.size<e.cards.length&&a.jsx("p",{className:"text-[10px] text-gray-400 mt-2 text-center",children:"Click on cards to reveal them"})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mb-1 uppercase",children:"Inscription IDs:"}),a.jsx("div",{className:"space-y-0.5 max-h-24 overflow-y-auto",children:e.inscriptionIds.map((s,o)=>a.jsx("p",{className:"text-[10px] font-mono text-white break-all bg-black p-0.5 rounded",children:s},o))})]}),e.status==="failed"&&e.error&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-900 border border-red-600 rounded",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 mb-1",children:" Minting Error"}),a.jsx("p",{className:"text-[10px] text-gray-300",children:e.error})]}),e.status==="processing"&&a.jsxs("div",{className:"mt-2 text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"}),a.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Please wait..."})]})]})},JT="http://localhost:3003",QT="minting_logs",Nb=async e=>{const t={...e,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};try{await fetch(`${JT}/api/minting/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(r){console.warn("Backend-Logging fehlgeschlagen, verwende LocalStorage:",r)}try{const r=eA(),i=[t,...r].slice(0,1e3);localStorage.setItem(QT,JSON.stringify(i))}catch(r){console.error("LocalStorage-Logging fehlgeschlagen:",r)}},eA=()=>{try{const e=localStorage.getItem(QT);return e?JSON.parse(e):[]}catch{return[]}},Zq=async e=>{try{const r=await fetch(`${JT}/api/minting/logs/${e}`);if(r.ok)return(await r.json()).logs||[]}catch(r){console.warn("Backend-Abfrage fehlgeschlagen, verwende LocalStorage:",r)}return eA().filter(r=>r.walletAddress.toLowerCase()===e.toLowerCase())},Xq="http://localhost:3003",Jq=async(e,t=!1)=>{const r=`${Xq}/api/delegates/${e}`,n=await fetch(r);if(!n.ok)throw new Error("Failed to fetch delegates");return(await n.json()).delegates||[]},Lp=async e=>{const t="http://localhost:3003";let r=[],n="unknown";try{const i=`${t}/api/delegates/${e}`;console.log(`[Gallery]  Trying DB first (instant) for ${e}...`);const s=await fetch(i);if(s.ok){const o=await s.json();if(r=o.delegates||[],n=o.source||"database",console.log(`[Gallery]  DB response: ${r.length} cards, source: ${n}`),r.length>0)return console.log(`[Gallery]  DB hit! Returning ${r.length} cards instantly`),Jm(r);console.log("[Gallery]  DB empty, falling back to blockchain scan...")}}catch(i){console.warn("[Gallery]  DB fetch failed:",i.message)}try{const i=`${t}/api/delegates/${e}?hybrid=true`;console.log("[Gallery]  Fetching from blockchain (may take 5-10 min)..."),console.log(`[Gallery]  API URL: ${i}`);const s=await fetch(i);if(console.log(`[Gallery]  Blockchain response: ${s.status}`),s.ok){const o=await s.json();if(r=o.delegates||[],n=o.source||"blockchain-hybrid",console.log(`[Gallery]  Blockchain: ${r.length} cards found`),console.log("[Gallery]  Auto-sync: Cards werden automatisch in DB gespeichert fr nchste Abfrage!"),r.length>0)return Jm(r)}else{const o=await s.text().catch(()=>"Unknown error");console.warn(`[Gallery]  Blockchain fetch failed: ${s.status}`,o)}}catch(i){console.error("[Gallery]  Blockchain fetch error:",i)}try{console.log("[Gallery]  Trying registry as last fallback..."),r=await Jq(e,!1),console.log(`[Gallery]  Registry: ${r.length} cards found (cache)`)}catch(i){console.error("[Gallery]  Registry fetch failed:",i)}return r.length===0?(console.log(`[Gallery]  No cards found for wallet ${e}`),[]):Jm(r,e)};async function Jm(e,t){console.log(`[Gallery]  Processing ${e.length} delegates to WalletCard format...`);const r=["5e6f59c6e871f5ccf7ccc09e3e8ae73ac2e63c78a64e66a3ca9a5c8f7e5d35b6i0","e6805a3c68fd1abb1904dfb8193b2a01ef2ccbd96d6b8be2c4b9aba4332c413di0","44740a1f30efb247ef41de3355133e12d6f58ab4dc8a3146648e2249fa9c6a39i0","5be3dfb109321291c0469ab1253be7b5c9d023e694945dbbd71a1dfe7518a4bfi0","446045d1613fb57610840eb1c6ba1491d5b0ea9624f7bda585e5f52e256f91e1i0","3aef296ead63f20a39c06ca04fc696dd98c532d6b595088fc58176cb46d1beaai0","8564dd1ffef7bb5e2501819e562d4f98d123959899a3348a8def8dc4e3c7409di0","433c855aa38cc7b142dacaff65cfe9d58f2a79c40c87ddff56c3a283972a6a52i0","f56c0801566cb9e46e1465f1d760f8976ba0bad328e39e84fa2e2209a4d6c540i0","c907865db233272d06a262c19da7379d4d36f1088dd825375b29a73686a3a184i0","d021efd186eb10c45fbdf043bf974e211772fce336d8287f02f85b6a06b2d8d9i0","7f2a4963ed0c4e341db74d82dcc8c8fc0cdf4c84d7c1558f13b33b9ca6ef7251i0","195209f7e21b768fd7ca18a905ddac9ec4986412f4f8aa716290fbb743db6feai0","a0b9f4f33913f512ba4de73b1e4982cf5be76874062287fcd05efdd76a220a7fi0","d67b09d7ac06aa9c217f95c69bf5c76f7f1634cad92fff5829546a22a279072ci0","a831e75a67d49d6e98594991cde68da3bf5f328ff49cc94a4a6bc05887ff8523i0","3099b73fd35e81a8bf53a02af99f436d88b73b54945aaa97dfde155a08e174bdi0","4d2d4a2b258b18b95bfc55dc3c31cbcd4b204a4f001c9861793b993487af4560i0","3135eb862f9c56bf1884c05dd80bb28107ba9af82bed83fd39a1ff28e303a8a7i0","2cd0572f35441d5b443ad9c78ec62f84f9b6c77528903c86b8b23b9213f0e7c4i0","d52730b2f4b8c0095ad82853e3e27d72adaa65796dbb666d929d7ca36f570ad2i0","3898219212c8a1c66564e60734ab01872315c3900ef782b466caf4ae58c2afdbi0","ef41bd80183a3d557cfba127b55bee1330ceb6d05e8b4746921b23b55ce133c9i0","d7e6610d2dcaed7bf6fb0923e5a8dbe0776dbe07a966b19d9bbbab4eaf298d50i0","7d6ffeb90550adb8994e52eb6ca56ec42d19b20401a22af9ed959684b9c83ec4i0","d1abdfb5c6318bdc45948cd88b03ae8057cf20bf955a6ed7fe7e011a6f895df9i0","37b9fb329a6cf26de3e701da20c0217de97bcd839f18bceac3f43fea563f6b71i0","fe1490d29120f1277596650462f33341a06a165bc037bb13e93af050935e4d75i0","9c1637a13a9f9c18bc232daefebab50033d14550afc51ea80dce4a6ae8b9d03ai0","39367bda5c67a2a628261c2b0a3432c23929e864c7c12c5264b77d53341ecce0i0","bb48c48089f36680ac736fbb675dc29b9965a2e41a1ecd60dc70b70f9729df51i0","8da26d78071401ea4e69f16751612ae879543b438064a05ea89b17d0e7a92d99i0","5687d374883dddcc97913fd286e180351443f9fd8f98af0f9e0f6bf199f5cde5i0","e6ac9fab61f8e30fb58c5d9224681ad2c1a9f064eb523c4a264a562648a486f9i0","70b7048c1567f00c77aa05aa95db48d6838c4592a7d5c6d37e127667f9275050i0","f11b5ddc8a0a25a7cec94bc15c3fa32311808fe2cb87c2cea763f0d50c8b8e83i0","1656be81e09e210983360e549155c9115ff9411019ca24692ea77f4991a2afa5i0","27442fdd682add2aa8d10846e506ed29891b76cb09e4923d640bf83f392241a0i0","cf331de8d1d45a3759c80d6ca20409ac80bf4602c855396a101d1eb08cb36fc5i0","d226c067ad6f7e083a7612d8b357051b824bdd63ca7bee7080611634abd28a1ai0","0c7d863936f3c02134c472de45c7f5a2a0bce437a9914f2bd3a177c5c7a7efd4i0","c68924eb89713ae2b169f3cf65c94c7f01d67130eb59987f861a5ace93733c11i0"];let n=new Map;if(t)try{(await Zq(t)).forEach(d=>{d.cards.forEach(u=>{n.set(u.inscriptionId,u)})})}catch(c){console.warn("[Gallery]  Could not load logs:",c)}const i=e.filter(c=>{if(!!c.delegateInscriptionId.startsWith("mock-"))return console.log(`[Gallery]  Skipping mock inscription: ${c.delegateInscriptionId}`),!1;const u=c.originalInscriptionId&&r.includes(c.originalInscriptionId);return u||console.log(`[Gallery]  Not a Black & Wild card: ${c.name} (${c.originalInscriptionId||"no original ID"})`),u}).map(c=>{const d=n.get(c.delegateInscriptionId);return{name:c.name,rarity:c.rarity,inscriptionId:c.delegateInscriptionId,originalInscriptionId:c.originalInscriptionId,mintedAt:new Date(c.timestamp).getTime(),packName:(d==null?void 0:d.packName)||"Unknown",cardType:c.cardType,effect:c.effect,svgIcon:c.svgIcon}}),s=i.filter(c=>c.inscriptionId.startsWith("pending-")).length,o=i.filter(c=>!c.inscriptionId.startsWith("pending-")).length;console.log(`[Gallery]  Processed: ${i.length} cards (${o} confirmed, ${s} pending)`);const l={"mystic-legendary":0,legendary:1,epic:2,rare:3,uncommon:4,common:5};return i.sort((c,d)=>{const u=l[c.rarity]-l[d.rarity];return u!==0?u:d.mintedAt-c.mintedAt})}const Qq=async e=>{try{if(e.startsWith("mock-")||e.startsWith("txid-"))return console.warn(`Skipping mock inscription: ${e}`),null;const t=e.replace(/i\d+$/,""),r=[`https://ordinals.com/content/${e}`,`https://ordinals.com/preview/${e}`,`https://api.hiro.so/ordinals/v1/inscriptions/${e}/content`,`https://ordinalsbot.com/api/files/${e}`,`https://api.unisat.io/v1/indexer/inscription/${e}/content`];for(const n of r)try{console.log(`[InscriptionImage] Trying: ${n}`);const i=await fetch(n,{method:"GET",headers:{Accept:"image/svg+xml,image/*,*/*,text/html,application/xhtml+xml"},mode:"cors",cache:"default"});if(console.log(`[InscriptionImage] Response status for ${n}: ${i.status} ${i.statusText}`),console.log(`[InscriptionImage] Content-Type: ${i.headers.get("content-type")}`),i.ok){const s=i.headers.get("content-type")||"",o=i.clone();if(n.includes("unisat.io"))try{const l=await i.json();if(l.data&&typeof l.data=="string"){if(l.data.startsWith("data:"))return console.log("[InscriptionImage] UniSat returned data URL"),l.data;if(l.data.trim().startsWith("<svg"))return console.log("[InscriptionImage] UniSat returned SVG string"),l.data;try{const c=atob(l.data);if(c.trim().startsWith("<svg"))return console.log("[InscriptionImage] UniSat returned Base64 SVG"),c}catch{}}}catch{}if(n.includes("ordinals.com/preview"))try{const c=(await i.text()).match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage] Extracted SVG from preview page"),c[0]}catch{}if(s.includes("svg")||s.includes("text")||s.includes("xml")||s.includes("html")){const l=await i.text();if(console.log(`[InscriptionImage] Response text length: ${l.length}, starts with: ${l.substring(0,50)}`),l.trim().startsWith("<svg")||l.trim().startsWith("<?xml")){let c=l.trim();if(c.includes("<svg")&&!c.includes("viewBox")&&c.includes("width")&&c.includes("height")){const d=c.match(/width=["'](\d+)["']/),u=c.match(/height=["'](\d+)["']/);if(d&&u){const f=d[1],h=u[1];c=c.replace(/<svg/,`<svg viewBox="0 0 ${f} ${h}"`)}}return console.log(`[InscriptionImage]  Successfully loaded SVG from ${n}`),c}if(l.includes("<svg")){const c=l.match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage]  Extracted SVG from HTML"),c[0]}}if(s.startsWith("image/")){const l=await i.blob();return new Promise(c=>{const d=new FileReader;d.onloadend=()=>c(d.result),d.readAsDataURL(l)})}try{const l=await o.text();if(l.trim().startsWith("<svg")||l.trim().startsWith("<?xml"))return console.log("[InscriptionImage]  Found SVG in fallback text parsing"),l.trim();if(l.includes("<svg")){const c=l.match(/<svg[\s\S]*?<\/svg>/i);if(c)return console.log("[InscriptionImage]  Extracted SVG in fallback"),c[0]}}catch{}}else console.warn(`[InscriptionImage]  Response not OK for ${n}: ${i.status} ${i.statusText}`)}catch(i){console.warn(`[InscriptionImage]  Failed to fetch from ${n}:`,i.message||i);continue}return console.error(`[InscriptionImage]  All APIs failed for inscription ${e}`),null}catch(t){return console.error("Error fetching inscription image:",t),null}},Qm={},eY=async e=>{if(Qm[e])return Qm[e];const t=await Qq(e);return Qm[e]=t,t},tY=({card:e,onClose:t})=>{var g;const[r,n]=b.useState(null),[i,s]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(()=>e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")?`https://ordinals.com/content/${e.inscriptionId}`:"");b.useEffect(()=>{e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")&&!e.inscriptionId.startsWith("txid-")&&!r&&!i&&u()},[e.inscriptionId]);const u=async()=>{s(!0),l(null);try{const m=await eY(e.inscriptionId);m?n(m):l("Image not found")}catch(m){console.error("Error loading card image:",m),l("Failed to load image")}finally{s(!1)}},f=m=>{const x=m.target.src;x.includes("ordinals.com/content")?d(`https://ordinals.com/preview/${e.inscriptionId}`):x.includes("ordinals.com/preview")?d(`https://ordiscan.com/content/${e.inscriptionId}`):l("All image sources failed")},h=r&&(r.trim().startsWith("<svg")||r.trim().startsWith("<?xml")),p=e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-");return a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-black border-b-2 border-red-600 p-4 flex justify-between items-center z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded bg-gray-700 text-gray-200",children:((g=e.cardType)==null?void 0:g.toUpperCase())||"CARD"}),a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded",style:{backgroundColor:pr[e.rarity]||"#9CA3AF",color:"white"},children:bs[e.rarity]})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6 flex items-center justify-center bg-white rounded-lg p-6 min-h-[300px]",children:p?i?a.jsx("div",{className:"w-32 h-32 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})}):o?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"Image not available"}),e.svgIcon&&a.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon}})]}):r&&h?a.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:r},style:{filter:"none",WebkitFilter:"none",display:"flex",alignItems:"center",justifyContent:"center"}}):r?a.jsx("img",{src:r,alt:e.name,className:"w-full max-w-md h-auto",style:{filter:"none",WebkitFilter:"none",imageRendering:"auto"}}):a.jsx("img",{src:c,alt:e.name,className:"w-full max-w-md h-auto",onError:f,onLoad:()=>{console.log(`[CardDetailModal]  Image loaded successfully for ${e.name}`)}},c):e.svgIcon?a.jsx("div",{className:"w-full max-w-md flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svgIcon}}):a.jsx("div",{className:"text-gray-400",children:"No preview available"})}),a.jsxs("div",{className:"space-y-4",children:[e.effect&&a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-red-600 mb-2 uppercase",children:"Effect"}),a.jsx("p",{className:"text-white text-sm leading-relaxed",children:e.effect})]}),e.inscriptionId&&!e.inscriptionId.startsWith("pending-")&&!e.inscriptionId.startsWith("mock-")&&a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-2 uppercase",children:"Inscription ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-300 break-all",children:e.inscriptionId}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("a",{href:`https://ordinals.com/inscription/${e.inscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-red-600 hover:text-red-400 underline",children:"View on Ordinals.com"}),a.jsx("a",{href:`https://ordiscan.com/inscription/${e.inscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-red-600 hover:text-red-400 underline",children:"View on Ordiscan.com"})]})]}),e.id&&a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-2 uppercase",children:"Card ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-300",children:e.id})]})]})]})]})})},tA=({onClose:e})=>{const t=vt(),{walletState:r}=Re(),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState(null),[d,u]=b.useState(null),[f,h]=b.useState("all");b.useEffect(()=>{if(!r.connected||!r.accounts[0]){o(!1);return}p()},[r.connected,r.accounts]);const p=async()=>{var w;if(!((w=r.accounts[0])!=null&&w.address)){console.log("[Gallery]  No wallet address available");return}const y=r.accounts[0].address;console.log("[Gallery]  Loading cards for wallet:",y),o(!0),c(null);try{console.log("[Gallery]  Calling fetchWalletCards...");const S=await Lp(y);console.log("[Gallery]  Received Black & Wild cards:",S.length),console.log("[Gallery]  Cards details:",S.map(j=>({name:j.name,inscriptionId:j.inscriptionId,originalId:j.originalInscriptionId}))),i(S)}catch(S){console.error("[Gallery]  Error loading cards:",S),c(S.message||"Error loading cards")}finally{o(!1)}};if(!r.connected)return a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-2xl w-full p-8 text-center",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:"Please connect your wallet first"}),a.jsx("button",{onClick:e,className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded-lg hover:bg-red-600 hover:text-white font-bold",children:"Close"})]})});const g=f==="all"?n:n.filter(y=>y.rarity===f),m=g.reduce((y,w)=>(y[w.rarity]||(y[w.rarity]=[]),y[w.rarity].push(w),y),{}),v=["mystic-legendary","legendary","epic","rare","uncommon","common"],x={total:n.length,byRarity:v.reduce((y,w)=>(y[w]=n.filter(S=>S.rarity===w).length,y),{})};return a.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"bg-black/90 backdrop-blur-md border-2 border-red-600/50 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl shadow-red-600/20",children:[a.jsxs("div",{className:"sticky top-0 bg-black/90 backdrop-blur-md border-b-2 border-red-600/50 p-4 flex justify-between items-center z-10",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsxs("button",{onClick:()=>{e(),t("/black-wild")},className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors duration-300",title:"Back to Mint Page",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-white border-b-2 border-red-600 pb-2 inline-block",children:"My Gallery"}),!s&&n.length>0&&a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[a.jsxs("span",{className:"px-2 py-1 bg-red-600/20 border border-red-600/50 rounded-full text-red-400 font-semibold",children:[x.total," Total"]}),v.map(y=>x.byRarity[y]>0&&a.jsxs("span",{className:"px-2 py-1 rounded-full font-semibold text-xs",style:{backgroundColor:`${pr[y]}20`,border:`1px solid ${pr[y]}50`,color:pr[y]},children:[x.byRarity[y]," ",bs[y]]},y))]})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors duration-300 p-2 hover:bg-gray-800 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),!s&&n.length>0&&a.jsx("div",{className:"sticky top-[73px] bg-black/80 backdrop-blur-sm border-b border-red-600/30 p-4 z-10",children:a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-sm text-gray-400 font-semibold",children:"Filter:"}),a.jsx("button",{onClick:()=>h("all"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-all duration-300 ${f==="all"?"bg-red-600 text-white border-2 border-red-500":"bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700"}`,children:"All"}),v.map(y=>a.jsxs("button",{onClick:()=>h(y),className:`px-3 py-1 rounded-full text-xs font-semibold transition-all duration-300 ${f===y?"border-2 border-opacity-75":"bg-gray-800 border border-gray-700 hover:bg-gray-700"}`,style:{backgroundColor:f===y?`${pr[y]}40`:void 0,borderColor:f===y?pr[y]:void 0,color:f===y?pr[y]:"#D1D5DB"},children:[bs[y]," (",x.byRarity[y],")"]},y))]})}),a.jsx("div",{className:"p-6",children:s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-300",children:"Loading cards..."})]}):l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4 font-semibold",children:l}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-white text-black border-2 border-red-600 rounded-lg hover:bg-red-600 hover:text-white font-bold",children:"Try Again"})]}):g.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:f==="all"?"No cards found in this wallet":`No ${bs[f]} cards found`}),a.jsx("p",{className:"text-sm text-gray-400",children:f==="all"?"Mint packs to get cards!":"Try selecting a different rarity filter"})]}):a.jsx("div",{className:"space-y-8",children:v.map(y=>{const w=m[y];return!w||w.length===0?null:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",style:{color:pr[y]||"#9CA3AF"},children:bs[y]}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",w.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:w.map((S,j)=>{const I={id:S.inscriptionId,name:S.name,rarity:S.rarity,inscriptionId:S.inscriptionId,originalInscriptionId:S.originalInscriptionId,cardType:S.cardType,effect:S.effect,svgIcon:S.svgIcon,revealed:!0};return a.jsxs("div",{className:"cursor-pointer group relative",onClick:()=>u(I),children:[a.jsx("div",{className:"transition-all duration-300 group-hover:scale-105 group-hover:shadow-2xl group-hover:shadow-red-600/40",children:a.jsx(Hc,{card:I,showRarity:!0,autoReveal:!0})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/0 via-red-600/0 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-lg"})]},j)})})]},y)})})})]}),d&&a.jsx(tY,{card:d,onClose:()=>u(null)})]})},lh="http://localhost:3003",kb=async e=>{var l,c,d;const{file:t,address:r,feeRate:n,postage:i=330,delegateMetadata:s}=e,o=new FormData;o.append("file",t),o.append("address",r),o.append("feeRate",n.toString()),o.append("postage",i.toString()),s&&o.append("delegateMetadata",s);try{const u=new AbortController,f=setTimeout(()=>u.abort(),6e4),h=await fetch(`${lh}/api/unisat/inscribe`,{method:"POST",body:o,signal:u.signal});if(clearTimeout(f),!h.ok){const g=await h.json().catch(()=>({error:"Unknown error"}));throw new Error(g.error||g.message||"Fehler beim Erstellen der Inskription ber UniSat API")}const p=await h.json();if(console.log("[UnisatService]  Raw response:",JSON.stringify(p,null,2)),p.status==="ok"){const g=p.result||((l=p.data)!=null&&l.data?p.data.data:null);if(!g)throw console.error("[UnisatService]  Keine result/data gefunden in Response:",p),new Error("UniSat API returned no result data");return console.log("[UnisatService]  Response parsed:"),console.log(`  - orderId: ${g.orderId}`),console.log(`  - payAddress: ${g.payAddress||"FEHLT"} (Type: ${typeof g.payAddress}, Value: ${JSON.stringify(g.payAddress)})`),console.log(`  - amount: ${g.amount||"FEHLT"} (Type: ${typeof g.amount}, Value: ${JSON.stringify(g.amount)})`),console.log(`  - inscriptionId: ${g.inscriptionId||"FEHLT"}`),console.log(`  - txid: ${g.txid||"FEHLT"}`),console.log(`  - status: ${g.status||"FEHLT"}`),!g.payAddress&&g.payAddress!==null&&console.warn("[UnisatService]  payAddress ist undefined (nicht null)!"),g.payAddress===null&&console.warn("[UnisatService]  payAddress ist explizit null!"),{orderId:g.orderId,payAddress:g.payAddress!==void 0?g.payAddress:null,amount:g.amount!==void 0?g.amount:null,txid:g.txid,inscriptionId:g.inscriptionId||`pending-${g.orderId}`,status:g.status||"pending"}}throw new Error(p.error||"UniSat API returned unexpected format")}catch(u){throw u.name==="AbortError"?new Error("UniSat API request timeout after 60 seconds"):(c=u.message)!=null&&c.includes("Failed to fetch")||(d=u.message)!=null&&d.includes("ERR_CONNECTION_REFUSED")?new Error(`Backend-Server ist nicht erreichbar (${lh}). Bitte starten Sie den Backend-Server auf Port 3003.`):u}},rY=async(e,t,r,n=330,i)=>{var o,l;const s=new FormData;e.forEach(c=>{s.append("files",c)}),s.append("address",t),s.append("feeRate",r.toString()),s.append("postage",n.toString()),i&&i.forEach((c,d)=>{s.append("delegateMetadata",c)});try{const c=new AbortController,d=setTimeout(()=>c.abort(),12e4),u=await fetch(`${lh}/api/unisat/inscribe/batch`,{method:"POST",body:s,signal:c.signal});if(clearTimeout(d),!u.ok){const h=await u.json().catch(()=>({error:"Unknown error"}));throw new Error(h.error||h.message||"Fehler beim Erstellen der Batch-Inskriptionen")}const f=await u.json();if(f.status==="ok"&&Array.isArray(f.results))return console.log(`[UnisatService]  Batch-Inskriptionen erstellt: ${f.results.length} Inskriptionen`),f.results;throw new Error(f.error||"UniSat API returned unexpected format")}catch(c){throw c.name==="AbortError"?new Error("UniSat API request timeout after 120 seconds"):(o=c.message)!=null&&o.includes("Failed to fetch")||(l=c.message)!=null&&l.includes("ERR_CONNECTION_REFUSED")?new Error(`Backend-Server ist nicht erreichbar (${lh}). Bitte starten Sie den Backend-Server auf Port 3003.`):c}},zS="http://localhost:3003",eg="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",nY=async(e,t,r,n=1,i=null,s=0)=>{var x,y,w;console.log(`[Delegate] Creating batch delegates for ${e.length} cards...`);const o=[],l=[];for(let S=0;S<e.length;S++){const j=e[S];console.log(`[Delegate] [${S+1}/${e.length}] Processing: ${j.name} (${j.id})`);try{const I={p:"ord-20",op:"delegate",cardId:j.id,originalInscriptionId:j.inscriptionId,name:j.name,rarity:j.rarity,collection:r,timestamp:Date.now()},E=`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(I)}
<\/script>
<style>
body {
  margin: 0;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}
img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}
</style>
</head>
<body>
<img src="/content/${j.inscriptionId}" alt="${j.name}" />
</body>
</html>`,C=new File([E],`${j.id}.html`,{type:"text/html"});o.push(C),l.push({card:j,metadata:I}),console.log(`[Delegate]  HTML-Datei erstellt: ${C.name} (${C.size} bytes)`)}catch(I){throw console.error(`[Delegate]  Failed to create delegate metadata for ${j.name}:`,I),new Error(`Konnte Metadaten fr ${j.name} nicht erstellen: ${I.message}`)}}console.log(`[Delegate]  All ${o.length} delegate HTML files created`),console.log("[Delegate] Schritt 2: Erstelle Inskriptionen ber UniSat API (Batch mit Metadaten)...");const c=l.map(S=>JSON.stringify(S.metadata)),d=await rY(o,t,n,546,c);console.log(`[Delegate]  All ${d.length} inscriptions created`);const u=[];console.log("[Delegate] Zahlungs-Prfung:"),console.log(`  - packPrice: ${s} BTC`),console.log(`  - walletType: ${i}`),console.log(`  - unisatResults mit payAddress: ${d.filter(S=>S.payAddress).length}`),s>0?(u.push({address:eg,amount:s}),console.log(`[Delegate]  Pack-Preis hinzugefgt: ${s} BTC (${(s*1e8).toFixed(0)} sats) an ${eg}`)):console.warn("[Delegate]  Pack-Preis ist 0 oder nicht gesetzt!"),console.log(`[Delegate] Sammle Inskriptions-Fees von ${d.length} Ergebnissen...`),console.log("[Delegate]  WICHTIG: Bei Batch-Requests kann UniSat nur EINE payAddress zurckgeben");const f=new Map,h=new Set;for(const S of d)S.payAddress&&typeof S.payAddress=="string"&&h.add(S.payAddress);if(h.size===1&&d.length>1){console.log(`[Delegate]  Batch-Request erkannt (${d.length} Dateien, 1 payAddress)`);const S=Array.from(h)[0];let j=((x=d[0])==null?void 0:x.amount)||null;if(!j||j===0){console.log("[Delegate]  Kein amount im ersten Ergebnis, prfe alle...");for(const I of d)if(I.amount&&I.amount>0){j=I.amount,console.log(`[Delegate]  Amount gefunden in Ergebnis: ${j.toFixed(8)} BTC`);break}}if(!j||j===0){const E=1e3*d.length*n;j=E/1e8,console.log(`[Delegate]  KEIN amount von UniSat API! Verwende Fallback: ${j.toFixed(8)} BTC (${E} sats)`),console.log("[Delegate]  WICHTIG: Dies ist eine Schtzung fr JSON-Metadaten! UniSat sollte den korrekten Betrag zurckgeben!")}else{console.log(`[Delegate]  Verwende tatschlichen Betrag von UniSat API: ${j.toFixed(8)} BTC`);const E=j*1e8/d.length;E>1e3&&(console.warn(`[Delegate]  WARNUNG: Inskriptions-Fees sind sehr hoch: ${E.toFixed(0)} sats pro Inskription`),console.warn("[Delegate]  Fr kleine HTML-Dateien (~400-600 Bytes) sollten die Fees ~800-1000 sats pro Inskription sein"),console.warn(`[Delegate]  Dies knnte an einem hohen feeRate liegen. Prfen Sie den feeRate-Wert (aktuell: ${n} sat/vB)`))}f.set(S,j),console.log(`[Delegate]  Inskriptions-Fees: ${j.toFixed(8)} BTC (${(j*1e8).toFixed(0)} sats) an ${S}`),console.log(`[Delegate]  Das sind ~${(j*1e8/d.length).toFixed(0)} sats pro Inskription (${d.length} Inskriptionen)`)}else{console.log(`[Delegate] Einzel-Requests erkannt (${h.size} verschiedene Adressen)`);for(let S=0;S<d.length;S++){const j=d[S];console.log(`[Delegate] ========== Ergebnis ${S+1} ==========`),console.log(`[Delegate]   - orderId: ${j.orderId}`),console.log(`[Delegate]   - payAddress: ${j.payAddress||"FEHLT"} (Type: ${typeof j.payAddress})`),console.log(`[Delegate]   - amount (von API): ${j.amount||"FEHLT"} BTC`),console.log(`[Delegate]   - inscriptionId: ${j.inscriptionId}`);const I=j.payAddress;if(I!=null&&I!==""&&I!=="null"&&typeof I=="string"){let C=j.amount;if(!C||C===0){const V=1e3*n;C=V/1e8,console.log(`[Delegate]  Kein amount von API, verwende Fallback: ${C.toFixed(8)} BTC (${V} sats)`)}else console.log(`[Delegate]  Verwende tatschlichen Betrag von UniSat API: ${C.toFixed(8)} BTC`);const T=f.get(j.payAddress)||0;f.set(j.payAddress,T+C),console.log(`[Delegate]  Inskriptions-Fee hinzugefgt: ${C.toFixed(8)} BTC an ${j.payAddress} (Gesamt: ${(T+C).toFixed(8)} BTC)`)}else console.warn(`[Delegate]  Ergebnis ${S+1} hat keine payAddress!`),console.warn(`[Delegate]   - orderId: ${j.orderId}`),console.warn(`[Delegate]   - inscriptionId: ${j.inscriptionId}`)}}console.log(`[Delegate] Gesammelte Inskriptions-Fees: ${f.size} verschiedene Adressen`),f.size===0&&d.length>0&&(console.warn("[Delegate]  KEINE payAddress gefunden! Verwende Fallback-Logik..."),console.warn(`[Delegate]   - Anzahl Ergebnisse: ${d.length}`),console.warn(`[Delegate]   - Erste Order-ID: ${(y=d[0])==null?void 0:y.orderId}`),d.forEach((S,j)=>{console.log(`[Delegate]   - Ergebnis ${j+1} vollstndig:`,JSON.stringify(S,null,2))}),console.warn("[Delegate]  WICHTIG: Keine payAddress gefunden - Inskriptions-Fees werden bersprungen!"),console.warn("[Delegate]  Mgliche Ursachen:"),console.warn("[Delegate]   1. UniSat API gibt keine payAddress zurck (bereits bezahlt?)"),console.warn("[Delegate]   2. Backend gibt payAddress nicht korrekt weiter"),console.warn("[Delegate]   3. Response-Struktur ist anders als erwartet"));const g=1500;if(i==="xverse"){const S=[],j=[];for(const[I,E]of f.entries())E*1e8<g?S.push({address:I,amount:E}):j.push({address:I,amount:E});for(const I of j)u.push(I),console.log(`[Delegate]  Inskriptions-Fee hinzugefgt: ${I.amount} BTC (${(I.amount*1e8).toFixed(0)} sats) an ${I.address}`);if(S.length>0){const I=S[0].address,E=S.reduce((T,K)=>T+K.amount,0),C=E*1e8;console.log(`[Delegate]  ${S.length} kleine Zahlungen (< ${g} sats) werden konsolidiert`),console.log(`[Delegate]   Konsolidierter Betrag: ${E.toFixed(8)} BTC (${C.toFixed(0)} sats)`),u.push({address:I,amount:E}),console.log(`[Delegate]  Konsolidierte Inskriptions-Fees hinzugefgt: ${E.toFixed(8)} BTC (${C.toFixed(0)} sats) an ${I}`)}}else for(const[S,j]of f.entries())u.push({address:S,amount:j}),console.log(`[Delegate]  Inskriptions-Fees hinzugefgt: ${j} BTC (${(j*1e8).toFixed(0)} sats) an ${S}`);console.log("[Delegate] ========== ZAHLUNGS-PRFUNG =========="),console.log("[Delegate] Zahlungs-Bedingung prfen:"),console.log(`  - allPayments.length: ${u.length}`),console.log(`  - walletType: ${i}`),console.log(`  - Bedingung erfllt: ${u.length>0&&i?"JA":"NEIN"}`),console.log("[Delegate] Vollstndige allPayments Liste:",JSON.stringify(u,null,2));let m=null;if(u.length>0&&i){console.log(`[Delegate] Schritt 3: Zahle alle Betrge in einer Transaktion (${u.length} Empfnger)...`),console.log("[Delegate] ========== ZAHLUNGS-DETAILS =========="),u.forEach((S,j)=>{console.log(`[Delegate]   ${j+1}. ${S.address}: ${S.amount} BTC (${(S.amount*1e8).toFixed(0)} sats)`)});try{const S=u.reduce((E,C)=>E+C.amount,0),j=S*1e8;console.log(`[Delegate] Gesamtbetrag: ${S} BTC (${j.toFixed(0)} sats)`),console.log("[Delegate] ========== KOSTEN-AUFSTELLUNG =========="),console.log(`[Delegate]  Pack-Preis: ${s.toFixed(8)} BTC (${(s*1e8).toFixed(0)} sats)`);const I=u.filter(E=>E.address!==eg).reduce((E,C)=>E+C.amount,0);console.log(`[Delegate]  Inskriptions-Fees: ${I.toFixed(8)} BTC (${(I*1e8).toFixed(0)} sats)`),console.log(`[Delegate]  GESAMT (ohne Transaktions-Fees): ${S.toFixed(8)} BTC (${j.toFixed(0)} sats)`),console.log("[Delegate]  HINWEIS: Zustzlich fallen Transaktions-Fees an (vom Wallet automatisch berechnet)"),i==="unisat"?(console.log(`[Delegate]  UNISAT: Bei ${u.length} separaten Zahlungen = ${u.length}  Transaktions-Fees`),console.log("[Delegate]  TIPP: Xverse kann mehrere Zahlungen in EINER Transaktion kombinieren (nur 1  Transaktions-Fee)")):i==="xverse"&&console.log("[Delegate]  XVerse: Kann mehrere Zahlungen in EINER Transaktion kombinieren (nur 1  Transaktions-Fee)"),console.log("[Delegate] ========================================="),m=await ed(u,i),console.log("[Delegate]  Alle Zahlungen erfolgreich abgeschlossen"),console.log(`[Delegate]  Zahlungs-Transaktions-ID: ${m}`),console.log("[Delegate]  Prfe Status der Inskriptionen nach Zahlung...");try{const E=await fetch(`${zS}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:t})});if(E.ok){const C=await E.json();if(console.log(`[Delegate]  Status-Prfung: ${C.updated||0} Inskriptionen aktualisiert`),C.updated>0)try{const T=await fetch(`${zS}/api/delegates/${t}?checkPending=false`);if(T.ok){const K=await T.json(),V=new Map,P=Array.isArray(K)?K:K.delegates||[];for(const R of P)if(!R.delegateInscriptionId.startsWith("pending-")){const N=l.findIndex(M=>M.card.inscriptionId===R.originalInscriptionId&&M.card.id===R.cardId);if(N>=0&&N<d.length){const M=d[N].inscriptionId;M.startsWith("pending-")&&(V.set(M,R.delegateInscriptionId),console.log(`[Delegate]  Finale ID gefunden (Index ${N}): ${M} -> ${R.delegateInscriptionId} (${R.name})`))}}for(let R=0;R<d.length;R++){const N=d[R];if(N.inscriptionId.startsWith("pending-")){const M=V.get(N.inscriptionId);M&&(d[R].inscriptionId=M,console.log(`[Delegate]  Aktualisiert: ${N.inscriptionId} -> ${M}`))}}}}catch(T){console.warn("[Delegate]  Konnte aktualisierte Delegates nicht abrufen:",T)}}}catch(E){console.warn("[Delegate]  Status-Prfung fehlgeschlagen (nicht kritisch):",E)}}catch(S){if(console.error("[Delegate] Fehler bei kombinierter Zahlung:",S),console.error("[Delegate] Zahlungs-Details:",JSON.stringify(u,null,2)),(w=S.message)!=null&&w.includes("Insufficient balance")){const j=u.reduce((I,E)=>I+E.amount,0);throw new Error(`Insufficient balance. Bentigt: ${j} BTC + Transaktions-Fees. Bitte stellen Sie sicher, dass Ihr Wallet genug Bitcoin hat (inkl. Fees fr ${u.length} Empfnger).`)}throw new Error(`Zahlung fehlgeschlagen: ${S.message}`)}}else u.length===0&&console.warn(`[Delegate]  Keine Zahlungen zu verarbeiten! (packPrice: ${s}, Inskriptions-Fees: ${d.filter(S=>S.payAddress).length})`),i||console.warn("[Delegate]  Kein walletType gesetzt! Zahlung wird bersprungen.");const v=[];for(let S=0;S<d.length&&S<l.length;S++){const j=d[S],{card:I}=l[S];v.push({inscriptionId:j.inscriptionId,txid:j.txid||j.orderId,card:I,payAddress:j.payAddress,amount:j.amount,paymentTxid:m||void 0})}if(v.length!==e.length)throw new Error(`Nicht alle Inskriptionen erfolgreich: ${v.length}/${e.length}`);return v},Lu=e=>{const t=[];for(const n of e){const i=qq[n.rarity];for(let s=0;s<i;s++)t.push(n)}const r=Math.floor(Math.random()*t.length);return t[r]},tg=(e,t,r)=>{const n=Math.random()*100;let i;return n<70?i=e:n<95?i=t:i=r,i.length===0&&(i=e),Lu(i)},iY=e=>[...e],sY=(e,t,r,n)=>{const i=[],s=new Set;let o=0;const l=1,c=100;for(let d=0;d<e;d++){let u=null,f=0;for(;!u&&f<c;){if(f++,o>=l){const h=t.filter(p=>!s.has(p.id));h.length===0?u=Lu(t):u=Lu(h)}else{const h=t.filter(m=>!s.has(m.id)),p=r.filter(m=>!s.has(m.id)),g=n.filter(m=>!s.has(m.id));h.length===0&&p.length===0&&g.length===0?u=tg(t,r,n):u=tg(h,p,g),u&&(u.cardType==="action"||u.cardType==="status")&&o++}u&&s.has(u.id)&&(u=null)}u||(o>=l?u=Lu(t):(u=tg(t,r,n),(u.cardType==="action"||u.cardType==="status")&&o++)),u&&(i.push(u),s.add(u.id))}return i},aY=()=>{const{walletState:e}=Re(),[t,r]=b.useState(null),[n,i]=b.useState(!1);b.useEffect(()=>{e.connected&&e.accounts[0]?s():r(null)},[e.connected,e.accounts]);const s=async()=>{if(e.accounts[0]){i(!0);try{const o=await $y(e.accounts[0].address);r(o)}catch(o){console.error("Error loading points:",o)}finally{i(!1)}}};return e.connected?a.jsx("div",{className:"bg-black border border-red-600 rounded p-3 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase mb-1",children:"Your Points"}),n?a.jsx("p",{className:"text-lg font-bold text-white",children:"Loading..."}):a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[(t==null?void 0:t.points)||0," ",a.jsx("span",{className:"text-sm text-gray-400",children:"Points"})]})]}),(t==null?void 0:t.firstMint)&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400",children:" First Mint"}),a.jsx("p",{className:"text-xs text-white",children:new Date(t.firstMint).toLocaleDateString("en-US")})]})]})}):null},oY=()=>{console.log(" MINTING PAGE GELADEN - VERSION 3.0 - UNISAT API! "),console.log("[MintingPage]  Diese Version verwendet UniSat API mit Zahlungen!");const{walletState:e,connect:t}=Re(),[r,n]=b.useState(null),[i,s]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,f]=b.useState(1),[h,p]=b.useState(!1);b.useEffect(()=>{console.log("[MintingPage]  Minting-Seite wurde geladen")},[]);const g=b.useCallback(async v=>{var S;console.log(" VERSION 3.0 - UNISAT API! "),console.log("[MintingPage] ========== HANDLE MINT START ==========");const x=fx.find(j=>j.id===v);if(!x){alert("Pack not found");return}if(console.log("[MintingPage] Pack ID:",v),console.log("[MintingPage] Wallet State:",{connected:e.connected,walletType:e.walletType,accounts:e.accounts.length}),!e.connected||!e.accounts[0]){console.log("[MintingPage] Wallet nicht verbunden - zeige Connect-Modal"),d(v),l(!0);return}const y=e.accounts[0].address;console.log("[MintingPage] User Address:",y),s(v),n({packId:v,status:"pending",progress:0});let w=null;try{if(console.log("[MintingPage] ========== TRY BLOCK START =========="),!await Hq(v))throw new Error("Pack ist nicht mehr verfgbar");n(P=>P?{...P,progress:10,status:"processing"}:null);let I;v==="premium-pack"?I=iY(Gn):I=sY(5,kI,SI,NI),console.log("[MintingPage] ",I.length,"Cards generiert"),n(P=>P?{...P,progress:30}:null),console.log("[MintingPage]  Erstelle Inskriptionen ber UniSat API..."),n(P=>P?{...P,progress:40}:null);const E=await nY(I,y,"Black & Wild",u,e.walletType||"unisat",x.price);console.log("[MintingPage]  Starte automatische Status-Prfung fr finale IDs...");let C=[...E],T=0;const K=10,V=async()=>{try{const P="http://localhost:3003",R=await fetch(`${P}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:y})});if(R.ok&&(await R.json()).updated>0){const M=await fetch(`${P}/api/delegates/${y}?checkPending=false`);if(M.ok){const O=await M.json(),$=E.map((_,q)=>{const H=_.inscriptionId;if(H.startsWith("pending-")){const D=I[q],se=O.find(ae=>{const ie=ae.originalInscriptionId===(D==null?void 0:D.inscriptionId)&&ae.cardId===(D==null?void 0:D.id);return ae.delegateInscriptionId.startsWith("pending-")?ie&&ae.delegateInscriptionId===H:ie});if(se&&!se.delegateInscriptionId.startsWith("pending-"))return console.log(`[MintingPage]  Finale ID gefunden: ${H} -> ${se.delegateInscriptionId}`),{..._,inscriptionId:se.delegateInscriptionId}}return _});$.some((_,q)=>{var H;return _.inscriptionId!==((H=C[q])==null?void 0:H.inscriptionId)})&&(C=$,n(_=>_?{..._,inscriptionIds:C.map(q=>q.inscriptionId),cards:I.map((q,H)=>{var D;return{...q,originalInscriptionId:q.inscriptionId,inscriptionId:((D=C[H])==null?void 0:D.inscriptionId)||q.inscriptionId}})}:null))}}}catch(P){console.warn("[MintingPage] Status-Prfung fehlgeschlagen:",P)}};w=setInterval(async()=>{T++,T>=K?(w&&clearInterval(w),console.log("[MintingPage]  Polling beendet nach",K,"Versuchen")):await V()},3e4),await V(),n(P=>P?{...P,progress:70}:null);try{await N8(y,v,x.name,I.length)}catch(P){console.warn("Error adding points:",P)}try{await Nb({walletAddress:y,packId:x.id,packName:x.name,cards:I.map((P,R)=>{var N;return{...P,inscriptionId:((N=C[R])==null?void 0:N.inscriptionId)||P.inscriptionId}}),inscriptionIds:C.map(P=>P.inscriptionId),txids:C.map(P=>P.txid),paymentTxid:((S=C[0])==null?void 0:S.paymentTxid)||"unisat-api"})}catch(P){console.warn("Error saving minting log:",P)}try{await Vq(v)}catch(P){console.warn("Error updating pack availability:",P)}n(P=>P?{...P,progress:90,inscriptionIds:C.map(R=>R.inscriptionId),cards:I.map((R,N)=>{var M;return{...R,originalInscriptionId:R.inscriptionId,inscriptionId:((M=C[N])==null?void 0:M.inscriptionId)||R.inscriptionId}})}:null),await new Promise(P=>setTimeout(P,2e3)),w&&clearInterval(w),n(P=>P?{...P,status:"completed",progress:100,inscriptionIds:C.map(R=>R.inscriptionId),cards:I.map((R,N)=>{var M;return{...R,originalInscriptionId:R.inscriptionId,inscriptionId:((M=C[N])==null?void 0:M.inscriptionId)||R.inscriptionId}})}:null)}catch(j){console.error("[MintingPage] Minting-Fehler:",j),n(I=>I?{...I,status:"failed",error:j.message||"Unknown error"}:null)}finally{s(null),w&&clearInterval(w)}},[e,u]),m=b.useCallback(v=>{g(v)},[g]);return b.useEffect(()=>{o&&e.connected&&c&&(l(!1),g(c),d(null))},[o,e.connected,c,g]),a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("h1",{className:"text-4xl font-bold text-center mb-2 border-b-2 border-red-600 pb-4",children:[a.jsx("span",{className:"text-black",style:{textShadow:"-1px -1px 1px rgba(255, 255, 255, 0.5), 1px -1px 1px rgba(255, 255, 255, 0.5), -1px 1px 1px rgba(255, 255, 255, 0.5), 1px 1px 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(255, 255, 255, 0.3)"},children:"BLACK"}),a.jsx("span",{className:"text-red-600 mx-1",children:"&"}),a.jsx("span",{className:"text-white",children:"WILD"})]}),a.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Mint your card packs"}),e.connected&&a.jsx(aY,{}),r&&a.jsx("div",{className:"mb-6",children:a.jsx(Ji,{status:r})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>{l(!1),d(null)},className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>l(!1)})})]})}),a.jsx(Gq,{packs:fx,onMint:m,mintingPackId:i,inscriptionFeeRate:u,onFeeRateChange:f}),a.jsx("div",{className:"mt-6 text-center text-gray-300 text-xs border-t border-red-600 pt-3",children:a.jsx("p",{className:"mt-1",children:"Ordinals are only supported on Taproot addresses (bc1p...)."})})]}),h&&a.jsx(tA,{onClose:()=>p(!1)})]})},Ko="http://localhost:3003",lY=async e=>{const t=await fetch(`${Ko}/api/trades/offers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maker:e.maker,offerCards:e.offerCards,requestCards:e.requestCards,expiresAt:e.expiresAt})});if(!t.ok){const n=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(n.error||n.msg||"Failed to create trade offer")}const r=await t.json();if(r.requiresSigning&&r.psbts&&Array.isArray(r.psbts)){const{signPSBT:n}=await Jt(async()=>{const{signPSBT:l}=await Promise.resolve().then(()=>Do);return{signPSBT:l}},void 0);if(r.psbts.length===0)throw new Error("No PSBTs found to sign");const i=[];for(const l of r.psbts)try{console.log(`[Trading] Maker signing PSBT for ${l.inscriptionId} (with placeholder recipient)...`);const c=await n(l.psbtBase64,e.walletType,!1);i.push({inscriptionId:l.inscriptionId,signedPsbtHex:c}),console.log(`[Trading]  Maker signed PSBT for ${l.inscriptionId}`)}catch(c){throw new Error(`Failed to sign PSBT for ${l.inscriptionId}: ${c.message}`)}const s=await fetch(`${Ko}/api/trades/offers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maker:e.maker,offerCards:e.offerCards,requestCards:e.requestCards,expiresAt:e.expiresAt,signedPsbts:i})});if(!s.ok){const l=await s.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||l.msg||"Failed to save signed trade offer")}return await s.json()}return r},cY=async()=>{const e=await fetch(`${Ko}/api/trades/offers`);if(!e.ok)throw new Error("Failed to fetch trade offers");return(await e.json()).offers||[]},dY=async(e,t,r)=>{const n=await fetch(`${Ko}/api/trades/offers/${e}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taker:t,walletType:r})});if(!n.ok){const s=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||s.msg||"Failed to accept trade offer")}const i=await n.json();if(i.requiresSigning&&i.takerPsbts&&Array.isArray(i.takerPsbts)){const{signPSBT:s}=await Jt(async()=>{const{signPSBT:d}=await Promise.resolve().then(()=>Do);return{signPSBT:d}},void 0);if(i.takerPsbts.length===0)throw new Error("No PSBTs found for taker to sign");const o=[];for(const d of i.takerPsbts)try{console.log(`[Trading] Signing PSBT for ${d.inscriptionId}...`);const u=await s(d.psbtBase64,r,!1);o.push({inscriptionId:d.inscriptionId,signedPsbtHex:u}),console.log(`[Trading]  Signed PSBT for ${d.inscriptionId}`)}catch(u){throw new Error(`Failed to sign PSBT for ${d.inscriptionId}: ${u.message}`)}const l=await fetch(`${Ko}/api/trades/offers/${e}/broadcast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signedPsbts:o})});if(!l.ok){const d=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(d.error||d.msg||"Failed to broadcast trade transactions")}const c=await l.json();return i.makerPsbts&&i.makerPsbts.length>0&&(c.makerSignedPsbtsCount||0)===0&&console.warn("[Trading]  Trade partially completed. Maker must still sign their PSBTs."),c.offer}return i.offer},uY=async e=>{const t=await fetch(`${Ko}/api/trades/offers/${e}`,{method:"DELETE"});if(!t.ok){const r=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(r.error||r.msg||"Failed to cancel trade offer")}},Rr=e=>[`https://ordinals.com/content/${e}`,`https://ordinals.com/preview/${e}`,`https://ordiscan.com/content/${e}`][0],fY=({offer:e,myCards:t,onOfferAccepted:r})=>{var g;const{walletState:n}=Re(),[i,s]=b.useState(!1),[o,l]=b.useState(null),c=((g=n.accounts[0])==null?void 0:g.address)===e.maker,d=!c&&e.status==="active",u=e.requestCards.every(m=>t.some(v=>v.originalInscriptionId===m)),f=async()=>{var m;if(!(!d||!u||!((m=n.accounts[0])!=null&&m.address))){s(!0),l(null);try{await dY(e.offerId,n.accounts[0].address,n.walletType||"unisat"),r(),alert("Trade offer accepted! Transaction pending...")}catch(v){l(v.message||"Failed to accept offer")}finally{s(!1)}}},h=new Date(e.expiresAt*1e3),p=Date.now()>h.getTime();return a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:c?"My Offer":"Trade Offer"}),a.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:[e.maker.slice(0,8),"...",e.maker.slice(-6)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.status==="active"&&!p?"bg-green-900 text-green-200":"bg-gray-700 text-gray-300"}`,children:p?"Expired":e.status})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:["Offers (",e.offerCards.length,"):"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.offerCards.map(m=>{const v=t.find(y=>y.inscriptionId===m),x=(v==null?void 0:v.originalInscriptionId)||m;return a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Rr(x),alt:(v==null?void 0:v.name)||m.slice(0,8),className:"w-full aspect-square object-contain bg-gray-800 rounded border border-gray-700",onError:y=>{y.currentTarget.style.display="none";const w=y.currentTarget.nextElementSibling;w&&(w.style.display="flex")}}),a.jsxs("div",{className:"hidden w-full aspect-square items-center justify-center bg-gray-800 rounded border border-gray-700 text-xs text-gray-500",children:[m.slice(0,8),"..."]}),(v==null?void 0:v.name)&&a.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",title:v.name,children:v.name})]},m)})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:["Wants (",e.requestCards.length,"):"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.requestCards.map(m=>{const v=t.some(w=>w.originalInscriptionId===m),x=Gn.find(w=>w.inscriptionId===m),y=m;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`relative ${v?"ring-2 ring-green-500":"ring-2 ring-red-500"}`,children:[a.jsx("img",{src:Rr(y),alt:(x==null?void 0:x.name)||m.slice(0,8),className:"w-full aspect-square object-contain bg-gray-800 rounded border border-gray-700",onError:w=>{w.currentTarget.style.display="none";const S=w.currentTarget.nextElementSibling;S&&(S.style.display="flex")}}),a.jsxs("div",{className:"hidden w-full aspect-square items-center justify-center bg-gray-800 rounded border border-gray-700 text-xs text-gray-500",children:[m.slice(0,8),"..."]}),v&&a.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:""})]}),(x==null?void 0:x.name)&&a.jsx("p",{className:`text-xs mt-1 truncate ${v?"text-green-400":"text-red-400"}`,title:x.name,children:x.name})]},m)})})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Expires: ",h.toLocaleDateString()]}),o&&a.jsx("div",{className:"mb-4 bg-red-900 border border-red-600 rounded p-2",children:a.jsx("p",{className:"text-xs text-red-200",children:o})}),d&&a.jsx("button",{onClick:f,disabled:i||!u,className:`w-full py-2 px-4 rounded font-semibold transition ${u?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:i?"Processing...":u?"Accept Offer":"Missing Cards"}),c&&e.status==="active"&&a.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to cancel this trade offer?")){s(!0);try{await uY(e.offerId),r(),alert("Trade offer cancelled")}catch(m){l(m.message||"Failed to cancel offer")}finally{s(!1)}}},disabled:i,className:"w-full py-2 px-4 rounded bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white font-semibold transition",children:i?"Cancelling...":"Cancel Offer"})]})},hY=({myCards:e})=>{const{walletState:t}=Re(),[r,n]=b.useState([]),[i,s]=b.useState(!0),[o,l]=b.useState("all");b.useEffect(()=>{c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[]);const c=async()=>{s(!0);try{const u=await cY();n(u)}catch(u){console.error("Error loading offers:",u)}finally{s(!1)}},d=r.filter(u=>{var f;return o==="my"?(f=t.accounts[0])!=null&&f.address?u.maker.toLowerCase()===t.accounts[0].address.toLowerCase():!1:o==="available"?u.status==="active":!0});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded ${o==="all"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All Offers"}),a.jsx("button",{onClick:()=>l("available"),className:`px-4 py-2 rounded ${o==="available"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Available"}),a.jsx("button",{onClick:()=>l("my"),className:`px-4 py-2 rounded ${o==="my"?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"My Offers"})]}),i?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-300",children:"Loading offers..."})]}):d.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx("p",{children:"No trade offers found"}),a.jsx("p",{className:"text-sm mt-2",children:"Be the first to create an offer!"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(u=>a.jsx(fY,{offer:u,myCards:e,onOfferAccepted:c},u.offerId))})]})},WS=({cards:e,selectedCards:t,onCardToggle:r,title:n,maxCards:i,loading:s=!1})=>{const o=c=>t.includes(c),l=i?t.length<i:!0;return a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 border-b-2 border-red-600 pb-2",children:[n,i&&a.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",t.length,"/",i,")"]})]}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Loading cards..."})]}):e.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx("p",{children:"No cards available"}),a.jsx("p",{className:"text-xs mt-2",children:"Mint some cards first!"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-[600px] overflow-y-auto",children:e.map(c=>{const d={id:c.inscriptionId,name:c.name,rarity:c.rarity,inscriptionId:c.inscriptionId,originalInscriptionId:c.originalInscriptionId,cardType:c.cardType,effect:c.effect,svgIcon:c.svgIcon,revealed:!0},u=o(c.inscriptionId),f=!u&&!l;return a.jsxs("div",{onClick:()=>{f||r(c.inscriptionId)},className:`relative cursor-pointer transition-all ${u?"ring-4 ring-red-600 scale-105":f?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[a.jsx(Hc,{card:d,showRarity:!0,autoReveal:!0}),u&&a.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:""})]},c.inscriptionId)})})]})},pY=({myCards:e,onOfferCreated:t,loading:r=!1})=>{const{walletState:n}=Re(),[i,s]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(7),[u,f]=b.useState(!1),[h,p]=b.useState(null),g=(y,w)=>{w?s(S=>S.includes(y)?S.filter(j=>j!==y):[...S,y]):l(S=>S.includes(y)?S.filter(j=>j!==y):[...S,y])},m=async()=>{var y;if(!((y=n.accounts[0])!=null&&y.address)){p("Wallet not connected");return}if(i.length===0){p("Please select at least one card to offer");return}if(o.length===0){p("Please select at least one card you want");return}f(!0),p(null);try{const w=Math.floor(Date.now()/1e3)+c*24*60*60;await lY({maker:n.accounts[0].address,offerCards:i,requestCards:o,expiresAt:w,walletType:n.walletType||"unisat"}),s([]),l([]),d(7),t(),alert("Trade offer created successfully!")}catch(w){p(w.message||"Failed to create offer")}finally{f(!1)}},v=e.filter(y=>!o.includes(y.inscriptionId)),x=b.useMemo(()=>{const y=Gn.map(S=>({name:S.name,rarity:S.rarity,inscriptionId:S.inscriptionId,originalInscriptionId:S.inscriptionId,mintedAt:0,packName:"Collection",cardType:S.cardType,effect:S.effect,svgIcon:S.svgIcon})),w=new Map;return y.forEach(S=>{const j=`${S.name}-${S.rarity}`;w.has(j)||w.set(j,S)}),Array.from(w.values())},[]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(WS,{cards:v,selectedCards:i,onCardToggle:y=>g(y,!0),title:"You Give",maxCards:10,loading:r}),a.jsx(WS,{cards:x,selectedCards:o,onCardToggle:y=>g(y,!1),title:"You Want",maxCards:10})]}),(i.length>0||o.length>0)&&a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-bold mb-3",children:"Offer Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"You Give:"}),a.jsx("div",{className:"space-y-1",children:i.map(y=>{const w=e.find(S=>S.inscriptionId===y);return a.jsxs("p",{className:"text-sm text-white",children:[" ",(w==null?void 0:w.name)||y.slice(0,8),"..."]},y)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"You Want:"}),a.jsx("div",{className:"space-y-1",children:o.map(y=>{const w=x.find(S=>S.inscriptionId===y);return a.jsxs("p",{className:"text-sm text-white",children:[" ",(w==null?void 0:w.name)||y.slice(0,8),"..."]},y)})})]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Offer expires in (days):"}),a.jsx("input",{type:"number",min:"1",max:"30",value:c,onChange:y=>d(parseInt(y.target.value)||7),className:"bg-black border border-gray-600 rounded px-3 py-2 text-white w-32"})]}),h&&a.jsx("div",{className:"bg-red-900 border-2 border-red-600 rounded-lg p-4",children:a.jsx("p",{className:"text-red-200",children:h})}),a.jsx("button",{onClick:m,disabled:u||i.length===0||o.length===0,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition",children:u?"Creating Offer...":"Create Trade Offer"})]})},mY=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState("browse"),[i,s]=b.useState([]),[o,l]=b.useState(!1);b.useEffect(()=>{t.connected&&t.accounts[0]?c():s([])},[t.connected,t.accounts]);const c=async()=>{var d;if((d=t.accounts[0])!=null&&d.address){l(!0);try{const u=await Lp(t.accounts[0].address);s(u)}catch(u){console.error("Error loading cards:",u)}finally{l(!1)}}};return t.connected?a.jsx("div",{className:"min-h-screen bg-black text-white pb-24 md:pb-8",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2 mb-4 transition-colors duration-300",title:"Back to Mint Page",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),a.jsx("h1",{className:"text-4xl font-bold text-center mb-4 border-b-2 border-red-600 pb-4",children:"BLACK & WILD Trading"}),!o&&i.length>0&&a.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-600/50 rounded-lg p-4 mb-6 max-w-2xl mx-auto shadow-lg shadow-red-600/10",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-lg font-bold text-white mb-1",children:[i.length," ",i.length===1?"Card":"Cards"," Available"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Ready to trade"})]})}),a.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Trade your cards with other players"})]}),a.jsxs("div",{className:"flex gap-4 mb-6 border-b-2 border-gray-800 relative",children:[a.jsxs("button",{onClick:()=>n("browse"),className:`px-6 py-3 font-semibold transition-all duration-300 relative ${r==="browse"?"text-red-600 border-b-2 border-red-600 hover:border-red-500":"text-gray-400 hover:text-white hover:bg-gray-900/50 rounded-t-lg"}`,children:["Browse Offers",r==="browse"&&a.jsx("div",{className:"absolute inset-0 bg-red-600/10 rounded-t-lg pointer-events-none"})]}),a.jsxs("button",{onClick:()=>n("create"),className:`px-6 py-3 font-semibold transition-all duration-300 relative ${r==="create"?"text-red-600 border-b-2 border-red-600 hover:border-red-500":"text-gray-400 hover:text-white hover:bg-gray-900/50 rounded-t-lg"}`,children:["Create Offer",r==="create"&&a.jsx("div",{className:"absolute inset-0 bg-red-600/10 rounded-t-lg pointer-events-none"})]})]}),r==="browse"?a.jsx(hY,{myCards:i}):a.jsx(pY,{myCards:i,onOfferCreated:c,loading:o})]})}):a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"BLACK & WILD Trading"}),a.jsx("p",{className:"text-gray-300 mb-8",children:"Please connect your wallet to start trading"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Use the menu in the top right to connect"})]})})},gY=()=>{var g;const e=vt(),{walletState:t}=Re(),[r,n]=b.useState([]),[i,s]=b.useState(!0),[o,l]=b.useState(!1),[c,d]=b.useState(null),u=async()=>{if(!t.connected||!t.accounts[0]){s(!1);return}s(!0);try{const m=t.accounts[0].address,v=await Lp(m);n(v),d(new Date)}catch(m){console.error("Failed to load cards:",m)}finally{s(!1)}},f=async()=>{if(!(!t.connected||!t.accounts[0])){l(!0);try{const m="http://localhost:3003",v=t.accounts[0].address;console.log("[History]  Checking pending inscriptions...");const x=await fetch(`${m}/api/unisat/check-pending-inscriptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:v})});if(x.ok){const y=await x.json();console.log("[History]  Status check result:",y),y.updated>0?(console.log(`[History]  ${y.updated} inscriptions updated, reloading cards...`),await u()):console.log("[History]  No updates found yet")}else console.error("[History]  Status check failed:",x.status)}catch(m){console.error("[History]  Failed to check pending status:",m)}finally{l(!1)}}};if(b.useEffect(()=>{if(t.connected&&t.accounts[0]){u();const m=setInterval(()=>{u()},3e4);return()=>clearInterval(m)}else n([]),s(!1)},[t.connected,(g=t.accounts[0])==null?void 0:g.address]),!t.connected)return a.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Minting History"}),a.jsx("p",{className:"text-gray-400",children:"Please connect your wallet to see your history."})]})});const h=r.filter(m=>m.inscriptionId.startsWith("pending-")),p=r.filter(m=>!m.inscriptionId.startsWith("pending-"));return a.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]}),a.jsx("h1",{className:"text-3xl font-bold",children:"Minting History"})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[c&&a.jsxs("span",{className:"text-sm text-gray-400",children:["Last update: ",c.toLocaleTimeString()]}),a.jsx("button",{onClick:f,disabled:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm font-semibold",children:o?"Checking...":"Check Status"}),a.jsx("button",{onClick:u,disabled:i,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition-colors text-sm font-semibold",children:i?"Loading...":"Refresh"})]})]}),i&&r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"Loading history..."})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400",children:"No inscriptions yet."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Mint your first pack on the main page!"})]}):a.jsxs(a.Fragment,{children:[h.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 text-yellow-500 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Pending (",h.length,")"]})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"These inscriptions are waiting for confirmation. The final IDs will be automatically updated once the transactions are confirmed (approx. 10-20 minutes)."}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:h.map((m,v)=>{const x={id:m.name.toLowerCase().replace(/\s+/g,"-"),name:m.name,rarity:m.rarity,inscriptionId:m.inscriptionId,originalInscriptionId:m.originalInscriptionId,cardType:m.cardType,effect:m.effect,svgIcon:m.svgIcon};return a.jsxs("div",{className:"relative",children:[a.jsx(Hc,{card:{...x,revealed:!0},showRarity:!0}),a.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-black text-xs px-2 py-1 rounded font-bold",children:"Pending"})]},`pending-${v}`)})})]}),p.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 text-green-500 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Confirmed (",p.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:p.map((m,v)=>{const x={id:m.name.toLowerCase().replace(/\s+/g,"-"),name:m.name,rarity:m.rarity,inscriptionId:m.inscriptionId,originalInscriptionId:m.originalInscriptionId,cardType:m.cardType,effect:m.effect,svgIcon:m.svgIcon};return a.jsx(Hc,{card:{...x,revealed:!0},showRarity:!0},`confirmed-${v}`)})})]}),h.length===0&&p.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"No cards found."})})]})]})})},yi={negative:["BLEEDING","STUCK","TINT","TARGET","PARANOIA"],positive:["SHIELD","RAGE"],neutral:["SWARM"]},hx=[{id:"card-1",name:"Grasshopper",type:"animal",rarity:"common",atk:1,hp:1,inscriptionId:"62de7de2fba34ce0b5718e94970c19f5965b131316b9615c3c2c61421cb51e76i0",effectText:"When this animal attacks, draw 1 card.",effects:[{trigger:"onAttack",action:"draw_card",value:1,target:"self"}]},{id:"card-2",name:"Ant",type:"animal",rarity:"common",atk:1,hp:2,inscriptionId:"446045d1613fb57610840eb1c6ba1491d5b0ea9624f7bda585e5f52e256f91e1i0",effectText:"If you control another Ant, this animal gets +1 ATK.",effects:[{trigger:"static",action:"modify_attack",value:1,target:"self",condition:"has_another_ant"}]},{id:"card-3",name:"Bee",type:"animal",rarity:"common",atk:2,hp:1,inscriptionId:"3aef296ead63f20a39c06ca04fc696dd98c532d6b595088fc58176cb46d1beaai0",effectText:"When this animal dies, deal 1 damage to any target.",effects:[{trigger:"onDeath",action:"deal_damage",value:1,target:"any"}]},{id:"card-4",name:"Chicken",type:"animal",rarity:"common",atk:1,hp:3,inscriptionId:"c907865db233272d06a262c19da7379d4d36f1088dd825375b29a73686a3a184i0",effectText:"This animal cannot attack.",effects:[{trigger:"static",action:"prevent_attack",target:"self"}]},{id:"card-5",name:"Worm",type:"animal",rarity:"common",atk:0,hp:2,inscriptionId:"7d91a2bb93f5ddfba2b16a6f0f463412e0faf12c46ca59cb2d76ec3b0bd3cf49i0",effectText:"When this animal dies, draw 1 card.",effects:[{trigger:"onDeath",action:"draw_card",value:1,target:"self"}]},{id:"card-6",name:"Spider",type:"animal",rarity:"common",atk:1,hp:2,inscriptionId:"8564dd1ffef7bb5e2501819e562d4f98d123959899a3348a8def8dc4e3c7409di0",effectText:"When this animal is played, attach STUCK to an enemy animal.",effects:[{trigger:"onPlay",action:"attach_status",target:"enemy_animal",filter:{statusName:"STUCK"}}]},{id:"card-7",name:"Butterfly",type:"animal",rarity:"common",atk:0,hp:1,inscriptionId:"433c855aa38cc7b142dacaff65cfe9d58f2a79c40c87ddff56c3a283972a6a52i0",effectText:"When played, draw 2 cards. Destroy this animal at end of turn.",effects:[{trigger:"onPlay",action:"draw_card",value:2,target:"self"},{trigger:"onTurnEnd",action:"destroy_self",target:"self"}]},{id:"card-8",name:"Worm",type:"animal",rarity:"uncommon",atk:1,hp:3,inscriptionId:"f56c0801566cb9e46e1465f1d760f8976ba0bad328e39e84fa2e2209a4d6c540i0",effectText:"When this animal dies, draw 2 cards.",effects:[{trigger:"onDeath",action:"draw_card",value:2,target:"self"}]},{id:"card-9",name:"Bird",type:"animal",rarity:"uncommon",atk:2,hp:2,inscriptionId:"d021efd186eb10c45fbdf043bf974e211772fce336d8287f02f85b6a06b2d8d9i0",effectText:"This animal is unaffected by STUCK.",effects:[{trigger:"static",action:"status_immunity",filter:{statusName:"STUCK"}}]},{id:"card-10",name:"Bird",type:"animal",rarity:"uncommon",atk:3,hp:1,inscriptionId:"9ffd078c797dfdcbb6f72482f5499c124dd67c47044ccda1a1c42bf89926f2f0i0",effectText:"When this animal attacks, deal 1 damage to itself.",effects:[{trigger:"onAttack",action:"deal_damage",value:1,target:"self"}]},{id:"card-11",name:"Cow",type:"animal",rarity:"uncommon",atk:2,hp:4,inscriptionId:"7f2a4963ed0c4e341db74d82dcc8c8fc0cdf4c84d7c1558f13b33b9ca6ef7251i0",effectText:"Other animals you control cannot attack.",effects:[{trigger:"static",action:"prevent_attack",target:"friendly_animals_except_self"}]},{id:"card-12",name:"Cow",type:"animal",rarity:"uncommon",atk:1,hp:5,inscriptionId:"171f1741831bb019ee18e2a92dae9c711abf07e153641a4c1ceaa5892133032ci0",effectText:"At the start of your turn, gain 1 life.",effects:[{trigger:"onTurnStart",action:"gain_life",value:1,target:"self"}]},{id:"card-13",name:"Pig",type:"animal",rarity:"uncommon",atk:2,hp:3,inscriptionId:"pig-inscription-id-placeholder",effectText:"When this animal is damaged, draw 1 card.",effects:[{trigger:"onDamage",action:"draw_card",value:1,target:"self"}]},{id:"card-14",name:"Tiger",type:"animal",rarity:"rare",atk:4,hp:3,inscriptionId:"195209f7e21b768fd7ca18a905ddac9ec4986412f4f8aa716290fbb743db6feai0",effectText:"When this animal attacks, destroy a random enemy animal.",effects:[{trigger:"onAttack",action:"destroy_target",target:"random_enemy_animal"}]},{id:"card-15",name:"Rabbit",type:"animal",rarity:"rare",atk:1,hp:2,inscriptionId:"a0b9f4f33913f512ba4de73b1e4982cf5be76874062287fcd05efdd76a220a7fi0",effectText:"When played, play an additional animal this turn.",effects:[{trigger:"onPlay",action:"play_additional_animal",target:"self"}]},{id:"card-17",name:"Duck",type:"animal",rarity:"rare",atk:2,hp:3,inscriptionId:"a831e75a67d49d6e98594991cde68da3bf5f328ff49cc94a4a6bc05887ff8523i0",effectText:"When this animal attacks, return a random Status card to its owner's discard.",effects:[{trigger:"onAttack",action:"return_status",target:"random_animal"}]},{id:"card-18",name:"Crow",type:"animal",rarity:"rare",atk:2,hp:2,inscriptionId:"d67b09d7ac06aa9c217f95c69bf5c76f7f1634cad92fff5829546a22a279072ci0",effectText:"When played, look at opponent's hand. Choose one card to discard.",effects:[{trigger:"onPlay",action:"look_hand",target:"opponent_hand"}]},{id:"card-19",name:"Cat",type:"animal",rarity:"rare",atk:3,hp:2,inscriptionId:"e07446928e95b81b406592bf95007fb44948c252947304a7b31d34f84e96188ei0",effectText:"This animal can attack twice each Attack Phase.",effects:[{trigger:"static",action:"modify_attack",value:0,target:"self",condition:"can_attack_twice"}]},{id:"card-20",name:"Gecko",type:"animal",rarity:"rare",atk:2,hp:2,inscriptionId:"9ad47ae89b8155ea8e4b02f53d4ced920d6dd4aeeaa744b99c44d33265827c44i0",effectText:"This animal ignores all negative Status effects.",effects:[{trigger:"static",action:"status_immunity",filter:{statusTag:"negative"}}]},{id:"card-21",name:"Zebra",type:"animal",rarity:"epic",atk:3,hp:4,inscriptionId:"3099b73fd35e81a8bf53a02af99f436d88b73b54945aaa97dfde155a08e174bdi0",effectText:"Whenever another animal dies, this animal gets +1 ATK.",effects:[{trigger:"onAnimalDeath",action:"modify_attack",value:1,target:"self"}]},{id:"card-22",name:"Sheep",type:"animal",rarity:"epic",atk:1,hp:4,inscriptionId:"4d2d4a2b258b18b95bfc55dc3c31cbcd4b204a4f001c9861793b993487af4560i0",effectText:"Damage dealt to your other animals is reduced by 1.",effects:[{trigger:"static",action:"damage_modifier",value:-1,target:"friendly_animals_except_self"}]},{id:"card-23",name:"Turtle",type:"animal",rarity:"epic",atk:1,hp:6,inscriptionId:"3135eb862f9c56bf1884c05dd80bb28107ba9af82bed83fd39a1ff28e303a8a7i0",effectText:"This animal takes 1 less damage from all sources.",effects:[{trigger:"static",action:"damage_modifier",value:-1,target:"self"}]},{id:"card-24",name:"Penguin",type:"animal",rarity:"epic",atk:2,hp:3,inscriptionId:"2cd0572f35441d5b443ad9c78ec62f84f9b6c77528903c86b8b23b9213f0e7c4i0",effectText:"When this animal attacks, freeze an enemy animal (it cannot attack next turn).",effects:[{trigger:"onAttack",action:"freeze_animal",target:"enemy_animal"}]},{id:"card-25",name:"Koala",type:"animal",rarity:"epic",atk:2,hp:5,inscriptionId:"4f6cce4ab7433ef48222e0a974c3a546f102cf38a455368757f5d5e00bfc1dddi0",effectText:"This animal cannot be targeted by Action cards.",effects:[{trigger:"static",action:"target_immunity",filter:{cardType:"action"}}]},{id:"card-26",name:"Fox",type:"animal",rarity:"legendary",atk:3,hp:3,inscriptionId:"e1a16dd9dea8b6ade622d24214c21ec29029127d40aa8ad44aa07c39f4620866i0",effectText:"When played, copy the effect of any Action card in a discard pile.",effects:[{trigger:"onPlay",action:"copy_effect",target:"discard_pile"}]},{id:"card-27",name:"Octopus",type:"animal",rarity:"legendary",atk:4,hp:4,inscriptionId:"d52730b2f4b8c0095ad82853e3e27d72adaa65796dbb666d929d7ca36f570ad2i0",effectText:"At the start of your turn, choose one enemy animal. It does not attack this turn.",effects:[{trigger:"onTurnStart",action:"prevent_attack",target:"enemy_animal"}]},{id:"card-28",name:"Ape",type:"animal",rarity:"mystic-legendary",atk:5,hp:5,inscriptionId:"3898219212c8a1c66564e60734ab01872315c3900ef782b466caf4ae58c2afdbi0",effectText:"When this animal dies, both players lose 5 life.",effects:[{trigger:"onDeath",action:"lose_life",value:5,target:"player"}]}],px=[{id:"action-1",name:"SLAP",type:"action",rarity:"common",inscriptionId:"ef41bd80183a3d557cfba127b55bee1330ceb6d05e8b4746921b23b55ce133c9i0",effectText:"Deal 2 damage to any target.",effects:[{trigger:"onPlay",action:"deal_damage",value:2,target:"any"}]},{id:"action-2",name:"WRONG MOVE",type:"action",rarity:"common",inscriptionId:"d7e6610d2dcaed7bf6fb0923e5a8dbe0776dbe07a966b19d9bbbab4eaf298d50i0",effectText:"Destroy an animal with ATK 2 or less.",effects:[{trigger:"onPlay",action:"destroy_target",target:"any",filter:{atkMax:2}}]},{id:"action-3",name:"PANIC",type:"action",rarity:"uncommon",inscriptionId:"7d6ffeb90550adb8994e52eb6ca56ec42d19b20401a22af9ed959684b9c83ec4i0",effectText:"Both players discard their hands, then draw 3 cards.",effects:[{trigger:"onPlay",action:"discard_hand",target:"player"},{trigger:"onPlay",action:"draw_card",value:3,target:"player"}]},{id:"action-4",name:"NOPE",type:"action",rarity:"uncommon",inscriptionId:"d1abdfb5c6318bdc45948cd88b03ae8057cf20bf955a6ed7fe7e011a6f895df9i0",effectText:"Cancel an Action card.",effects:[{trigger:"onPlay",action:"cancel_action",target:"any"}]},{id:"action-5",name:"OVERDOSE",type:"action",rarity:"rare",inscriptionId:"37b9fb329a6cf26de3e701da20c0217de97bcd839f18bceac3f43fea563f6b71i0",effectText:"Target animal gets +3 ATK until end of turn. Destroy it at the end of the turn.",effects:[{trigger:"onPlay",action:"modify_attack",value:3,target:"any",duration:"until_end_of_turn"},{trigger:"onTurnEnd",action:"destroy_target",target:"self"}]},{id:"action-6",name:"SWITCH",type:"action",rarity:"rare",inscriptionId:"fe1490d29120f1277596650462f33341a06a165bc037bb13e93af050935e4d75i0",effectText:"Swap control of two animals in play.",effects:[{trigger:"onPlay",action:"swap_control",target:"any"}]},{id:"action-7",name:"COLLAPSE",type:"action",rarity:"rare",inscriptionId:"9c1637a13a9f9c18bc232daefebab50033d14550afc51ea80dce4a6ae8b9d03ai0",effectText:"Deal 1 damage to all animals.",effects:[{trigger:"onPlay",action:"deal_damage",value:1,target:"all_animals"}]},{id:"action-8",name:"INSTINCT",type:"action",rarity:"epic",inscriptionId:"39367bda5c67a2a628261c2b0a3432c23929e864c7c12c5264b77d53341ecce0i0",effectText:"Trigger one animal's ability again.",effects:[{trigger:"onPlay",action:"trigger_ability",target:"any"}]},{id:"action-9",name:"STARE",type:"action",rarity:"epic",inscriptionId:"bb48c48089f36680ac736fbb675dc29b9965a2e41a1ecd60dc70b70f9729df51i0",effectText:"Look at your opponent's hand. Choose one card  they discard it.",effects:[{trigger:"onPlay",action:"look_hand",target:"opponent_hand"}]},{id:"action-10",name:"PUSH",type:"action",rarity:"epic",inscriptionId:"8da26d78071401ea4e69f16751612ae879543b438064a05ea89b17d0e7a92d99i0",effectText:"Target animal attacks immediately.",effects:[{trigger:"onPlay",action:"force_attack",target:"any"}]},{id:"action-11",name:"ACCIDENT",type:"action",rarity:"legendary",inscriptionId:"5687d374883dddcc97913fd286e180351443f9fd8f98af0f9e0f6bf199f5cde5i0",effectText:"Destroy a random animal.",effects:[{trigger:"onPlay",action:"destroy_target",target:"random_animal"}]},{id:"action-12",name:"LAST WORDS",type:"action",rarity:"legendary",inscriptionId:"e6ac9fab61f8e30fb58c5d9224681ad2c1a9f064eb523c4a264a562648a486f9i0",effectText:"When an animal dies this turn, draw 2 cards.",effects:[{trigger:"onAnimalDeath",action:"draw_card",value:2,target:"self",duration:"until_end_of_turn"}]}],mx=[{id:"status-1",name:"BLEEDING",type:"status",rarity:"common",inscriptionId:"70b7048c1567f00c77aa05aa95db48d6838c4592a7d5c6d37e127667f9275050i0",effectText:"Attached animal loses 1 HP at the start of each turn.",tags:["negative"],effects:[{trigger:"onTurnStart",action:"deal_damage",value:1,target:"self"}]},{id:"status-2",name:"STUCK",type:"status",rarity:"common",inscriptionId:"f11b5ddc8a0a25a7cec94bc15c3fa32311808fe2cb87c2cea763f0d50c8b8e83i0",effectText:"Attached animal cannot attack.",tags:["negative"],effects:[{trigger:"static",action:"prevent_attack",target:"self"}]},{id:"status-3",name:"TINT",type:"status",rarity:"uncommon",inscriptionId:"1656be81e09e210983360e549155c9115ff9411019ca24692ea77f4991a2afa5i0",effectText:"1 ATK. When this animal dies, draw 1 card.",tags:["negative"],effects:[{trigger:"static",action:"modify_attack",value:-1,target:"self"},{trigger:"onDeath",action:"draw_card",value:1,target:"self"}]},{id:"status-4",name:"TARGET",type:"status",rarity:"uncommon",inscriptionId:"27442fdd682add2aa8d10846e506ed29891b76cb09e4923d640bf83f392241a0i0",effectText:"Damage dealt to this animal is doubled.",tags:["negative"],effects:[{trigger:"static",action:"double_damage",target:"self"}]},{id:"status-5",name:"SWARM",type:"status",rarity:"rare",inscriptionId:"cf331de8d1d45a3759c80d6ca20409ac80bf4602c855396a101d1eb08cb36fc5i0",effectText:"Whenever an animal dies, both players take 1 damage.",tags:["neutral"],effects:[{trigger:"onAnimalDeath",action:"deal_damage",value:1,target:"player"}]},{id:"status-6",name:"SHIELD",type:"status",rarity:"epic",inscriptionId:"d226c067ad6f7e083a7612d8b357051b824bdd63ca7bee7080611634abd28a1ai0",effectText:"Prevent the next damage dealt to attached animal, then discard SHIELD.",tags:["positive"],effects:[{trigger:"static",action:"prevent_attack",target:"self",condition:"prevent_next_damage_then_discard"}]},{id:"status-7",name:"RAGE",type:"status",rarity:"epic",inscriptionId:"0c7d863936f3c02134c472de45c7f5a2a0bce437a9914f2bd3a177c5c7a7efd4i0",effectText:"+2 ATK. This animal must attack if able.",tags:["positive"],effects:[{trigger:"static",action:"modify_attack",value:2,target:"self"},{trigger:"static",action:"force_attack",target:"self"}]},{id:"status-8",name:"PARANOIA",type:"status",rarity:"legendary",inscriptionId:"c68924eb89713ae2b169f3cf65c94c7f01d67130eb59987f861a5ace93733c11i0",effectText:"The controller of this card cannot draw cards.",tags:["negative"],effects:[{trigger:"static",action:"prevent_draw",target:"player"}]}],br=[...hx,...px,...mx],mr=e=>br.find(t=>t.id===e),xY=e=>br.find(t=>t.name===e),yY=(e,t,r,n,i=0)=>{var c,d;const s={...e},o=s.players[i],l=s.players[1-i];switch(t.action){case"deal_damage":if(t.value&&t.target)if(t.target==="any"&&n){const u=o.board.find(f=>f.id===n)||l.board.find(f=>f.id===n);if(u){let f=t.value||0;u.statuses.some(p=>{const g=mr(p);return(g==null?void 0:g.name)==="TARGET"})&&(f*=2);const h=u.statuses.findIndex(p=>{const g=mr(p);return(g==null?void 0:g.name)==="SHIELD"});if(h!==-1){const p=u.statuses[h];u.statuses.splice(h,1);const g=mr(p);g&&(u.owner===i?o:l).discard.push(g),f=0}u.card.name==="Turtle"&&(f=Math.max(0,f-1)),u.currentHp-=f}else n===`player-${i}`?o.life-=t.value||0:n===`player-${1-i}`&&(l.life-=t.value||0)}else t.target==="opponent"?l.life-=t.value||0:t.target==="self"?o.life-=t.value||0:t.target==="player"?(o.life-=t.value||0,l.life-=t.value||0):t.target==="all_animals"&&[...o.board,...l.board].forEach(u=>{let f=t.value||0;u.statuses.some(p=>{const g=mr(p);return(g==null?void 0:g.name)==="TARGET"})&&(f*=2);const h=u.statuses.findIndex(p=>{const g=mr(p);return(g==null?void 0:g.name)==="SHIELD"});if(h!==-1){const p=u.statuses[h];u.statuses.splice(h,1);const g=mr(p);g&&(u.owner===i?o:l).discard.push(g),f=0}u.card.name==="Turtle"&&(f=Math.max(0,f-1)),u.currentHp-=f});break;case"draw_card":if(t.value&&o.canDraw)for(let u=0;u<t.value;u++)if(o.deck.length>0){const f=o.deck.shift();o.hand.push(f)}else o.life-=1;break;case"destroy_target":if(t.target==="random_animal"||t.target==="random_enemy_animal"){const u=t.target==="random_enemy_animal"?l.board:[...o.board,...l.board];if(u.length>0){const f=u[Math.floor(Math.random()*u.length)];rg(s,f,f.owner)}}else if(n){const u=o.board.find(f=>f.id===n)||l.board.find(f=>f.id===n);u&&(((c=t.filter)==null?void 0:c.atkMax)!==void 0?u.currentAtk<=t.filter.atkMax&&rg(s,u,u.owner):rg(s,u,u.owner))}break;case"modify_attack":if(n&&t.value){const u=o.board.find(f=>f.id===n)||l.board.find(f=>f.id===n);u&&(u.currentAtk+=t.value,u.currentAtk<0&&(u.currentAtk=0))}else t.target==="self"&&t.value&&o.board.forEach(u=>{u.currentAtk+=t.value||0,u.currentAtk<0&&(u.currentAtk=0)});break;case"gain_life":t.value&&(o.life+=t.value);break;case"lose_life":t.value&&(t.target==="player"?(o.life-=t.value,l.life-=t.value):o.life-=t.value);break;case"attach_status":if(n&&((d=t.filter)!=null&&d.statusName)){const u=o.board.find(f=>f.id===n)||l.board.find(f=>f.id===n);u&&(u.card.effects.some(h=>{var p,g,m;return h.action==="status_immunity"&&(((p=h.filter)==null?void 0:p.statusName)===t.filter.statusName||((g=h.filter)==null?void 0:g.statusTag)&&((m=yi[h.filter.statusTag])==null?void 0:m.includes(t.filter.statusName)))})||u.statuses.push(t.filter.statusName))}break;case"prevent_attack":break;case"prevent_draw":o.canDraw=!1;break;case"play_additional_animal":o.animalsPlayedThisTurn=Math.max(0,o.animalsPlayedThisTurn-1);break;case"discard_hand":o.discard.push(...o.hand),o.hand=[],l.discard.push(...l.hand),l.hand=[];break;case"look_hand":s.pendingAction={type:"look_hand",playerIndex:1-i};break;case"discard_card":if(n){const u=t.target==="opponent_hand"?l:o,f=u.hand.findIndex(h=>h.id===n);if(f!==-1){const h=u.hand.splice(f,1)[0];u.discard.push(h)}}break}return o.life<=0?(s.gameOver=!0,s.winner=1-i):l.life<=0&&(s.gameOver=!0,s.winner=i),s},rg=(e,t,r)=>{const n=e.players[r],i=t.card.effects.filter(o=>o.trigger==="onDeath");for(const o of i)e.pendingEffects.push({effect:o,source:t.card.id,target:t.id,player:r});t.statuses.forEach(o=>{const l=mr(o);l&&n.discard.push(l)});const s=n.board.indexOf(t);s!==-1&&(n.board.splice(s,1),n.discard.push(t.card)),[...e.players[0].board,...e.players[1].board].forEach(o=>{const l=o.card.effects.filter(c=>c.trigger==="onAnimalDeath");for(const c of l)e.pendingEffects.push({effect:c,source:o.card.id,target:o.id,player:o.owner})})},ch=e=>{let t={...e};for(;t.pendingEffects.length>0;){const r=t.pendingEffects.shift();if(t=yY(t,r.effect,r.source,r.target,r.player),t.gameOver)break}return t},vY=(e,t,r="pvp")=>{const n=d=>{const u=[...d];for(let f=u.length-1;f>0;f--){const h=Math.floor(Math.random()*(f+1));[u[f],u[h]]=[u[h],u[f]]}return u},i=n(e),s=n(t),o=i.splice(0,5),l=s.splice(0,5);return{currentPlayer:Math.random()<.5?0:1,phase:"draw",mode:r,players:[{index:0,life:20,deck:i,hand:o,board:[],discard:[],statuses:[],canDraw:!0,animalsPlayedThisTurn:0},{index:1,life:20,deck:s,hand:l,board:[],discard:[],statuses:[],canDraw:!0,animalsPlayedThisTurn:0}],turnNumber:1,pendingEffects:[],effectLog:[],gameOver:!1,winner:null}},gr=(e,t,r,n)=>({...e,effectLog:[...e.effectLog,{id:`log-${Date.now()}-${Math.random()}`,message:t,timestamp:Date.now(),type:r,cardId:n}]}),bY=(e,t,r=1)=>{const n=e.players[t];if(!n.canDraw)return gr(e,`Spieler ${t+1} kann keine Karte ziehen (PARANOIA)`,"effect");let i=[...n.deck],s=[...n.hand],o=n.life,l=[];for(let d=0;d<r;d++)if(i.length>0){const u=i[0];i=i.slice(1),s=[...s,u],l.push(u)}else if(o-=1,o<=0){const u={...e,players:e.players.map((f,h)=>h===t?{...f,deck:i,hand:s,life:o}:f)};return{...gr(u,`Spieler ${t+1} kann keine Karte ziehen  verliert 1 Life`,"damage"),gameOver:!0,winner:1-t}}let c={...e,players:e.players.map((d,u)=>u===t?{...d,deck:i,hand:s,life:o}:d)};for(const d of l)c=gr(c,`Spieler ${t+1} zieht ${d.name}`,"draw",d.id);return l.length===0&&r>0&&(c=gr(c,`Spieler ${t+1} kann keine Karte ziehen  verliert 1 Life`,"damage")),c},gx=(e,t,r,n)=>{const i=e.players[t];return t!==e.currentPlayer||e.phase!=="main"||r.type==="animal"&&(i.animalsPlayedThisTurn>=1||i.board.length>=5)?!1:(r.effects.some(s=>s.target&&s.target!=="self"),!0)},ng=(e,t,r,n)=>{const i=e.players[t],s=mr(r);if(!s||!gx(e,t,s))return e;const o=i.hand.findIndex(c=>c.id===r);if(o===-1)return e;const l=i.hand.splice(o,1)[0];if(s.type==="animal"){let c=s.atk||0;const d={id:`animal-${Date.now()}-${Math.random()}`,cardId:s.id,card:s,currentAtk:c,currentHp:s.hp||0,maxHp:s.hp||0,statuses:[],canAttack:!0,attacksThisTurn:0,maxAttacks:1,owner:t,playedThisTurn:!0};s.id==="card-19"&&(d.maxAttacks=2),i.board.push(d),i.animalsPlayedThisTurn++,xx(d),e=gr(e,`Spieler ${t+1} spielt ${s.name}`,"play",s.id);const u=s.effects.filter(f=>f.trigger==="onPlay");for(const f of u)e.pendingEffects.push({effect:f,source:s.id,target:d.id,player:t});e=ch(e)}else if(s.type==="action"){e=gr(e,`Spieler ${t+1} spielt ${s.name}`,"play",s.id);const c=s.effects.filter(d=>d.trigger==="onPlay");for(const d of c)e.pendingEffects.push({effect:d,source:s.id,target:n,player:t});e=ch(e),i.discard.push(l)}else if(s.type==="status"){if(e=gr(e,`Spieler ${t+1} spielt ${s.name}`,"status",s.id),n){const c=i.board.find(d=>d.id===n)||e.players[1-t].board.find(d=>d.id===n);if(c)c.statuses.push(s.id),e=gr(e,`${s.name} wird an ${c.card.name} angehngt`,"status");else{const d=e.players.find(u=>u.index.toString()===n);d&&(d.statuses.push(s.id),e=gr(e,`${s.name} wird an Spieler ${d.index+1} angehngt`,"status"))}}i.discard.push(l)}return{...e}},Za=e=>{let t={...e};switch(e.phase){case"draw":console.log("[nextPhase] DRAW Phase - Drawing card for player",e.currentPlayer+1,"Current phase:",e.phase),t=bY(t,e.currentPlayer),console.log("[nextPhase] After drawCard - phase:",t.phase,"deck length:",t.players[e.currentPlayer].deck.length,"hand length:",t.players[e.currentPlayer].hand.length),t={...t,phase:"main"},console.log("[nextPhase] Phase set to MAIN, new phase:",t.phase),t=gr(t,`Phase: MAIN (Spieler ${e.currentPlayer+1})`,"phase");break;case"main":t.phase="attack",t=gr(t,`Phase: ATTACK (Spieler ${e.currentPlayer+1})`,"phase");break;case"attack":const r=t.players[e.currentPlayer],n=t.players[1-e.currentPlayer];for(const s of r.board)if(wY(t,s)){const o=s.currentAtk;n.life-=o,s.attacksThisTurn++,t=gr(t,`${s.card.name} greift an  ${o} Schaden`,"attack",s.card.id),o>0&&(t=gr(t,`Spieler ${1-e.currentPlayer+1} verliert ${o} Life (${n.life+o}  ${n.life})`,"damage"));const l=s.card.effects.filter(c=>c.trigger==="onAttack");for(const c of l)t.pendingEffects.push({effect:c,source:s.card.id,target:s.id,player:e.currentPlayer});if(t=ch(t),n.life<=0)return t.gameOver=!0,t.winner=e.currentPlayer,t}t.phase="end",t=gr(t,`Phase: END (Spieler ${e.currentPlayer+1})`,"phase");break;case"end":jY(t);const i=t.players[e.currentPlayer];i.animalsPlayedThisTurn=0,i.board.forEach(s=>{s.attacksThisTurn=0,s.playedThisTurn=!1}),t.currentPlayer=1-e.currentPlayer,t.turnNumber++,t.phase="draw",t=gr(t,`Turn ${t.turnNumber} beginnt`,"phase");break}return t},xx=e=>{let t=0;e.statuses.forEach(n=>{const i=mr(n);i&&(i.name==="RAGE"?t+=2:i.name==="TINT"&&(t-=1))});const r=e.card.atk||0;e.currentAtk=Math.max(0,r+t)},wY=(e,t)=>{if(t.attacksThisTurn>=t.maxAttacks)return!1;for(const r of t.statuses){const n=mr(r);if(n){if(n.name==="STUCK"&&!t.card.effects.some(s=>{var o;return s.action==="status_immunity"&&((o=s.filter)==null?void 0:o.statusName)==="STUCK"}))return!1;if(n.name==="RAGE")return!0}}return!t.card.effects.some(r=>r.action==="prevent_attack"&&r.target==="self")},jY=e=>{const t=e.players[e.currentPlayer];t.board.forEach(s=>{s.statuses.forEach(o=>{const l=mr(o);(l==null?void 0:l.name)==="BLEEDING"&&(s.currentHp-=1,e.effectLog.push({id:`log-${Date.now()}-${Math.random()}`,message:`${s.card.name} verliert 1 HP durch BLEEDING`,timestamp:Date.now(),type:"status"}))})});const r=t.board.flatMap(s=>s.card.effects.filter(o=>o.trigger==="onTurnEnd")).concat(t.statuses.map(s=>{const o=mr(s);return(o==null?void 0:o.effects.filter(l=>l.trigger==="onTurnEnd"))||[]}).flat());for(const s of r)if(s.action==="destroy_self"){const o=t.board.find(l=>l.card.effects.some(c=>c.trigger==="onTurnEnd"&&c.action==="destroy_self"));if(o){const l=o.card.effects.filter(d=>d.trigger==="onDeath");for(const d of l)e.pendingEffects.push({effect:d,source:o.card.id,target:o.id,player:e.currentPlayer});o.statuses.forEach(d=>{t.discard.push(mr(d))});const c=t.board.indexOf(o);t.board.splice(c,1),t.discard.push(o.card)}}t.board.forEach(s=>{xx(s)}),t.board.forEach(s=>{xx(s)});const n=t.board.filter(s=>s.currentHp<=0);for(const s of n){const o=s.card.effects.filter(c=>c.trigger==="onDeath");for(const c of o)e.pendingEffects.push({effect:c,source:s.card.id,target:s.id,player:e.currentPlayer});s.statuses.forEach(c=>{const d=mr(c);d&&t.discard.push(d)});const l=t.board.indexOf(s);l!==-1&&(t.board.splice(l,1),t.discard.push(s.card))}const i=ch(e);Object.assign(e,i)},Du=()=>{const e=br.filter(n=>n.type==="animal").slice(0,10),t=br.filter(n=>n.type==="action").slice(0,7),r=br.filter(n=>n.type==="status").slice(0,7);return[...e,...t,...r]},SY=()=>{const e=br.filter(h=>h.type==="animal"),t=br.filter(h=>h.type==="action"),r=br.filter(h=>h.type==="status"),n=h=>{const p=[...h];for(let g=p.length-1;g>0;g--){const m=Math.floor(Math.random()*(g+1));[p[g],p[m]]=[p[m],p[g]]}return p},i=10+Math.floor(Math.random()*6),s=24-i,o=Math.floor(Math.random()*(s+1)),l=s-o,c=[],d=n(e);for(let h=0;h<i;h++)c.push(d[h%d.length]);const u=n(t);for(let h=0;h<o;h++)c.push(u[h%u.length]);const f=n(r);for(let h=0;h<l;h++)c.push(f[h%f.length]);return n(c)},rA=e=>{if(e.originalInscriptionId){const r=br.find(n=>n.inscriptionId===e.originalInscriptionId);if(r)return{...r,inscriptionId:e.inscriptionId}}const t=xY(e.name);return t?{...t,inscriptionId:e.inscriptionId}:(console.warn(`[GameEngine]  Konnte keine GameCard fr WalletCard finden: ${e.name} (${e.inscriptionId})`),null)},NY=e=>{console.log(`[GameEngine]  Erstelle Deck aus ${e.length} Wallet-Karten...`);const t=[];for(const u of e){const f=rA(u);f&&t.push(f)}console.log(`[GameEngine]  ${t.length} Karten erfolgreich konvertiert`);const r=t.filter(u=>u.type==="animal"),n=t.filter(u=>u.type==="action"),i=t.filter(u=>u.type==="status");console.log(`[GameEngine]  Karten-Verteilung: ${r.length} Animals, ${n.length} Actions, ${i.length} Status`);const s=[],o=Math.min(r.length,15);s.push(...r.slice(0,o));const l=Math.min(n.length,7);s.push(...n.slice(0,l));const c=Math.min(i.length,7);if(s.push(...i.slice(0,c)),s.filter(u=>u.type==="animal").length<10){console.log(`[GameEngine]  Zu wenige Animals (${s.filter(p=>p.type==="animal").length}), flle mit Standard-Deck auf...`);const f=Du().filter(p=>p.type==="animal"),h=10-s.filter(p=>p.type==="animal").length;s.push(...f.slice(0,h))}const d=s.slice(0,24);return console.log(`[GameEngine]  Finales Deck: ${d.length} Karten (${d.filter(u=>u.type==="animal").length} Animals, ${d.filter(u=>u.type==="action").length} Actions, ${d.filter(u=>u.type==="status").length} Status)`),d},kY=e=>{if(e.mode!=="pve"||e.currentPlayer!==1||e.phase!=="main")return null;const t=e.players[1],r=e.players[0];if(t.animalsPlayedThisTurn<1&&t.board.length<5){const o=t.hand.filter(l=>l.type==="animal");if(o.length>0){const l=o.reduce((c,d)=>{const u=(c.atk||0)+(c.hp||0);return(d.atk||0)+(d.hp||0)>u?d:c});return{...e,players:e.players.map((c,d)=>{if(d===1){const u=c.hand.findIndex(f=>f.id===l.id);if(u!==-1){const f=c.hand.splice(u,1)[0];if(f.type==="animal"){const h={id:`animal-${Date.now()}-${Math.random()}`,cardId:f.id,card:f,currentAtk:f.atk||0,currentHp:f.hp||0,maxHp:f.hp||0,statuses:[],canAttack:!0,attacksThisTurn:0,maxAttacks:f.id==="card-19"?2:1,owner:1,playedThisTurn:!0};c.board.push(h),c.animalsPlayedThisTurn++}}return c}return c})}}}const i=t.hand.filter(o=>o.type==="action").filter(o=>o.effects.some(l=>l.action==="deal_damage"));if(i.length>0){const o=i[0];return{...e,players:e.players.map((l,c)=>{if(c===1){const d=l.hand.findIndex(u=>u.id===o.id);if(d!==-1){const u=l.hand.splice(d,1)[0];l.discard.push(u)}return l}return l})}}const s=t.hand.filter(o=>o.type==="status");if(s.length>0){const o=s[0],l=r.board.length>0?r.board.reduce((c,d)=>d.currentAtk>c.currentAtk?d:c):null;if(l)return{...e,players:e.players.map((c,d)=>{if(d===1){const u=c.hand.findIndex(f=>f.id===o.id);if(u!==-1){const f=c.hand.splice(u,1)[0];c.discard.push(f);const h=e.players[0].board.find(p=>p.id===l.id);h&&h.statuses.push(o.id)}return c}return c})}}return null},IY=({onClose:e,onDeckCreated:t,currentDeck:r})=>{const[n,i]=b.useState(r),[s,o]=b.useState("all"),[l,c]=b.useState("all"),d=b.useMemo(()=>{let w=[];return s==="all"?w=[...hx,...px,...mx]:s==="animal"?w=[...hx]:s==="action"?w=[...px]:s==="status"&&(w=[...mx]),l!=="all"&&(w=w.filter(S=>S.rarity===l)),w},[s,l]),u=w=>n.filter(S=>S.name===w).length,f=w=>u(w.name)<2,h=w=>{if(f(w)){if(n.length>=24){alert("Deck ist voll! (Max. 24 Karten)");return}i([...n,w])}},p=w=>{const S=[...n];S.splice(w,1),i(S)},g=n.filter(w=>w.type==="animal").length,m=n.filter(w=>w.type==="action").length,v=n.filter(w=>w.type==="status").length,x=n.length===24&&g>=10,y=()=>{if(!x){n.length!==24?alert(`Genau 24 Karten erforderlich! Aktuell: ${n.length}`):g<10&&alert(`Mindestens 10 Tier-Karten erforderlich! Aktuell: ${g}`);return}t(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2 border-yellow-600",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:" Admin Deck Builder"}),a.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Schlieen"})]}),a.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.length,"/24"]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Karten"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:g}),a.jsxs("div",{className:"text-sm text-gray-400",children:["Tiere ",g>=10?"":""]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:m}),a.jsx("div",{className:"text-sm text-gray-400",children:"Actions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:v}),a.jsx("div",{className:"text-sm text-gray-400",children:"Status"})]})]})}),a.jsxs("div",{className:"mb-4 flex gap-4",children:[a.jsxs("select",{value:s,onChange:w=>o(w.target.value),className:"px-4 py-2 bg-gray-800 rounded-lg border border-gray-600",children:[a.jsx("option",{value:"all",children:"Alle Typen"}),a.jsx("option",{value:"animal",children:"Tiere"}),a.jsx("option",{value:"action",children:"Actions"}),a.jsx("option",{value:"status",children:"Status"})]}),a.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"px-4 py-2 bg-gray-800 rounded-lg border border-gray-600",children:[a.jsx("option",{value:"all",children:"Alle Raritten"}),a.jsx("option",{value:"common",children:"Common"}),a.jsx("option",{value:"uncommon",children:"Uncommon"}),a.jsx("option",{value:"rare",children:"Rare"}),a.jsx("option",{value:"epic",children:"Epic"}),a.jsx("option",{value:"legendary",children:"Legendary"}),a.jsx("option",{value:"mystic-legendary",children:"Mystic Legendary"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Verfgbare Karten (",d.length,")"]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:d.map(w=>{const S=u(w.name),j=f(w),I=n.length>=24;return a.jsx("div",{className:`
                      bg-gray-800 rounded p-2 border-2 cursor-pointer transition-all
                      ${j&&!I?"border-blue-500 hover:border-blue-300 hover:scale-105":"border-gray-600 opacity-50 cursor-not-allowed"}
                    `,onClick:()=>j&&!I&&h(w),children:a.jsxs("div",{className:"flex items-center gap-2",children:[w.inscriptionId&&!w.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(w.inscriptionId),alt:w.name,className:"w-12 h-12 object-contain",onError:E=>{E.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-bold",children:w.name}),w.type==="animal"&&a.jsxs("div",{className:"text-xs text-gray-400",children:[w.atk,"/",w.hp]}),a.jsx("div",{className:"text-xs text-gray-500",children:w.rarity})]}),a.jsxs("div",{className:"text-xs",children:[S>0&&a.jsxs("span",{className:"text-yellow-400",children:[S,"/2"]}),!j&&a.jsx("span",{className:"text-red-400",children:"MAX"})]})]})},`${w.id}-${w.name}`)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Deck (",n.length,"/24)"]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:n.length===0?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Keine Karten ausgewhlt"}):n.map((w,S)=>a.jsxs("div",{className:"bg-gray-800 rounded p-2 border-2 border-green-500 flex items-center gap-2",children:[w.inscriptionId&&!w.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(w.inscriptionId),alt:w.name,className:"w-12 h-12 object-contain",onError:j=>{j.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-bold",children:w.name}),w.type==="animal"&&a.jsxs("div",{className:"text-xs text-gray-400",children:[w.atk,"/",w.hp]})]}),a.jsx("button",{onClick:()=>p(S),className:"px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-xs",children:""})]},`selected-${S}`))})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>i([]),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Deck leeren"}),a.jsx("button",{onClick:y,disabled:!x,className:`
              px-6 py-2 rounded-lg font-semibold
              ${x?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}
            `,children:"Deck erstellen"})]})]})})},EY=({onClose:e,onDeckCreated:t,currentDeck:r,walletCards:n,isAdmin:i})=>{const[s,o]=b.useState(r),[l,c]=b.useState("all"),d=b.useMemo(()=>{const j=[];for(const I of n){const E=rA(I);E&&j.push(E)}return j},[n]),u=b.useMemo(()=>l==="all"?d:d.filter(j=>j.type===l),[d,l]),f=j=>s.filter(I=>I.name===j).length,h=j=>d.filter(I=>I.name===j).length,p=j=>{const I=f(j.name),E=h(j.name);return I<E&&I<2},g=j=>{if(p(j)){if(s.length>=24){alert("Deck is full! (Max. 24 cards)");return}o([...s,j])}},m=j=>{const I=[...s];I.splice(j,1),o(I)},v=s.filter(j=>j.type==="animal").length,x=s.filter(j=>j.type==="action").length,y=s.filter(j=>j.type==="status").length,w=s.length===24&&v>=10,S=()=>{if(!w){s.length!==24?alert(`Exactly 24 cards required! Current: ${s.length}`):v<10&&alert(`At least 10 Animal cards required! Current: ${v}`);return}t(s)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2 border-blue-600",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:" Build Deck from Wallet Cards"}),a.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Close"})]}),a.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[s.length,"/24"]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Cards"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:v}),a.jsxs("div",{className:"text-sm text-gray-400",children:["Animals ",v>=10?"":""]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:x}),a.jsx("div",{className:"text-sm text-gray-400",children:"Actions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:y}),a.jsx("div",{className:"text-sm text-gray-400",children:"Status"})]})]})}),a.jsxs("div",{className:"mb-4 flex gap-4",children:[a.jsxs("select",{value:l,onChange:j=>c(j.target.value),className:"px-4 py-2 bg-gray-800 rounded-lg border border-gray-600",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"animal",children:"Animals"}),a.jsx("option",{value:"action",children:"Actions"}),a.jsx("option",{value:"status",children:"Status"})]}),a.jsxs("div",{className:"text-sm text-gray-400 flex items-center",children:[d.length," cards available from wallet"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Available Cards (",u.length,")"]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:u.length===0?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No cards available"}):u.map((j,I)=>{const E=f(j.name),C=h(j.name),T=p(j),K=s.length>=24;return a.jsx("div",{className:`
                        bg-gray-800 rounded p-2 border-2 cursor-pointer transition-all
                        ${T&&!K?"border-blue-500 hover:border-blue-300 hover:scale-105":"border-gray-600 opacity-50 cursor-not-allowed"}
                      `,onClick:()=>T&&!K&&g(j),children:a.jsxs("div",{className:"flex items-center gap-2",children:[j.inscriptionId&&!j.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(j.inscriptionId),alt:j.name,className:"w-12 h-12 object-contain",onError:V=>{V.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-bold",children:j.name}),j.type==="animal"&&a.jsxs("div",{className:"text-xs text-gray-400",children:[j.atk,"/",j.hp]}),a.jsx("div",{className:"text-xs text-gray-500",children:j.rarity})]}),a.jsxs("div",{className:"text-xs",children:[E>0&&a.jsxs("span",{className:"text-yellow-400",children:[E,"/",C]}),!T&&a.jsx("span",{className:"text-red-400",children:"MAX"})]})]})},`${j.id}-${j.name}-${I}`)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Deck (",s.length,"/24)"]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:s.length===0?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No cards selected"}):s.map((j,I)=>a.jsxs("div",{className:"bg-gray-800 rounded p-2 border-2 border-green-500 flex items-center gap-2",children:[j.inscriptionId&&!j.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(j.inscriptionId),alt:j.name,className:"w-12 h-12 object-contain",onError:E=>{E.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-bold",children:j.name}),j.type==="animal"&&a.jsxs("div",{className:"text-xs text-gray-400",children:[j.atk,"/",j.hp]})]}),a.jsx("button",{onClick:()=>m(I),className:"px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-xs",children:""})]},`selected-${I}`))})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>o([]),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Clear Deck"}),a.jsx("button",{onClick:S,disabled:!w,className:`
              px-6 py-2 rounded-lg font-semibold
              ${w?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}
            `,children:"Create Deck"})]})]})})},CY=({card:e,gameState:t,onSelectTarget:r,onCancel:n})=>{const i=t.players[0],s=t.players[1],l=(()=>{const u=[];for(const f of e.effects)if(!(!f.target||f.target==="self"))switch(f.target){case"any":case"enemy_animal":s.board.forEach(h=>{u.find(p=>p.id===h.id)||u.push({id:h.id,label:`${h.card.name} (${h.currentAtk}/${h.currentHp})`,type:"animal"})});break;case"friendly_animal":case"friendly_animals_except_self":i.board.forEach(h=>{u.find(p=>p.id===h.id)||u.push({id:h.id,label:`${h.card.name} (${h.currentAtk}/${h.currentHp})`,type:"animal"})});break;case"all_animals":[...i.board,...s.board].forEach(h=>{u.find(p=>p.id===h.id)||u.push({id:h.id,label:`${h.card.name} (${h.currentAtk}/${h.currentHp})`,type:"animal"})});break;case"opponent":case"player":u.find(h=>h.id==="opponent")||u.push({id:"opponent",label:`Opponent (Life: ${s.life})`,type:"player"});break}return e.name==="SWITCH"&&[...i.board,...s.board].forEach(f=>{u.find(h=>h.id===f.id)||u.push({id:f.id,label:`${f.card.name} (${f.currentAtk}/${f.currentHp})`,type:"animal"})}),u})(),d=e.effects.some(u=>u.target&&u.target!=="self")&&l.length===0;return a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Select Target"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"bg-gray-800 rounded p-3 mb-3",children:[a.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:e.name}),a.jsx("div",{className:"text-xs text-gray-300",children:e.effectText})]})}),d?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-yellow-400 mb-4",children:" No valid targets available"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This card can still be played, but will have no effect."}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Play Anyway"}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Cancel"})]})]}):l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:"This card does not require a target."}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold",children:"Play Card"}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Select a target:"}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(u=>a.jsx("button",{onClick:()=>r(u.id),className:"w-full text-left bg-gray-800 hover:bg-gray-700 border-2 border-gray-700 hover:border-red-500 rounded-lg p-3 transition-all",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white font-semibold",children:u.label}),a.jsx("span",{className:"text-xs text-gray-400",children:u.type==="animal"?"":""})]})},u.id))})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})})]})]})})},PY=({entries:e,maxEntries:t=10})=>{const r=e.slice(-t).reverse(),n=s=>{switch(s){case"play":return"text-blue-400";case"attack":return"text-red-400";case"damage":return"text-orange-400";case"draw":return"text-green-400";case"destroy":return"text-gray-400";case"status":return"text-yellow-400";case"effect":return"text-purple-400";case"phase":return"text-cyan-400";default:return"text-gray-300"}},i=s=>{switch(s){case"play":return"";case"attack":return"";case"damage":return"";case"draw":return"";case"destroy":return"";case"status":return"";case"effect":return"";case"phase":return"";default:return""}};return a.jsxs("div",{className:"bg-gray-900 border-2 border-gray-700 rounded-lg p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-bold text-white",children:"Effekt-Log"}),a.jsxs("span",{className:"text-xs text-gray-400",children:[e.length," Eintrge"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-1",children:r.length===0?a.jsx("div",{className:"text-xs text-gray-500 text-center py-4",children:"Noch keine Effekte"}):r.map(s=>{const o=s.cardId?mr(s.cardId):null,l=o&&(s.type==="play"||s.type==="draw"||s.type==="attack"||s.type==="status");return a.jsx("div",{className:"text-xs p-2 bg-gray-800 rounded border-l-2 border-gray-700 hover:border-red-600 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-2",children:[l&&o?a.jsx("img",{src:Rr(o.inscriptionId),alt:o.name,className:"w-8 h-8 object-contain rounded border border-gray-600 flex-shrink-0",onError:c=>{c.target.style.display="none"}}):a.jsx("span",{className:"text-sm flex-shrink-0",children:i(s.type)}),a.jsx("span",{className:`flex-1 ${n(s.type)}`,children:s.message})]})},s.id)})})]})},TY=({cards:e,onSelectCard:t,onCancel:r,title:n="Opponent Hand"})=>a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-4xl w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:n}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-300",children:"Select a card to discard:"})}),a.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 max-h-96 overflow-y-auto",children:e.map(i=>a.jsxs("button",{onClick:()=>t(i.id),className:"bg-gray-800 rounded p-2 border-2 border-gray-700 hover:border-red-500 transition-all cursor-pointer",children:[i.inscriptionId&&!i.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(i.inscriptionId),alt:i.name,className:"w-full h-24 object-contain mb-1",onError:s=>{s.target.style.display="none"}}),a.jsx("div",{className:"text-[10px] font-bold text-white truncate",children:i.name}),i.type==="animal"&&a.jsxs("div",{className:"text-[8px] text-gray-400",children:[i.atk,"/",i.hp]})]},i.id))}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})})]})}),AY=({onClose:e})=>a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 border-2 border-red-600 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b-2 border-red-600 p-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" BLACK & WILD - Tutorial"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Basics"}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[" Each player starts with ",a.jsx("span",{className:"text-red-400 font-semibold",children:"20 Life"})]}),a.jsx("p",{children:" Goal: Reduce your opponent's Life to 0"}),a.jsxs("p",{children:[" Each player has a deck with ",a.jsx("span",{className:"text-red-400 font-semibold",children:"24 cards"})]}),a.jsxs("p",{children:[" At the start, you draw ",a.jsx("span",{className:"text-red-400 font-semibold",children:"5 cards"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Turn Phases"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-blue-400 mb-1",children:"1. DRAW Phase"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Automatically draw 1 card. If your deck is empty, you lose 1 Life."})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-green-400 mb-1",children:"2. MAIN Phase"}),a.jsx("p",{className:"text-sm text-gray-300",children:"You can play cards:"}),a.jsxs("ul",{className:"text-sm text-gray-300 ml-4 mt-1 space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("span",{className:"text-yellow-400",children:"1 Animal"})," per turn (max. 5 animals on the board)"]}),a.jsxs("li",{children:[" ",a.jsx("span",{className:"text-yellow-400",children:"Unlimited"})," Action cards"]}),a.jsxs("li",{children:[" ",a.jsx("span",{className:"text-yellow-400",children:"Unlimited"})," Status cards"]})]}),a.jsx("p",{className:"text-sm text-gray-300 mt-2",children:`Click "End Main Phase" when you're done.`})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-red-400 mb-1",children:"3. ATTACK Phase"}),a.jsx("p",{className:"text-sm text-gray-300",children:"All your animals attack automatically. Damage goes directly to the opponent."})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-purple-400 mb-1",children:"4. END Phase"}),a.jsx("p",{className:"text-sm text-gray-300",children:"End-of-turn effects are triggered. Animals with HP  0 are destroyed."})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Card Types"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-yellow-400 mb-1",children:" Animal"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Stays on the board and attacks automatically in the ATTACK phase."}),a.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Shows ATK (Attack) and HP (Health Points)."})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-blue-400 mb-1",children:" Action"}),a.jsx("p",{className:"text-sm text-gray-300",children:"One-time effect, executed immediately and then discarded."}),a.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Some require a target (animal or player)."})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[a.jsx("h4",{className:"font-semibold text-purple-400 mb-1",children:" Status"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Attached to an animal or player and remains active."}),a.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Color coding: ",a.jsx("span",{className:"text-red-400",children:"Red"})," = Negative, ",a.jsx("span",{className:"text-green-400",children:"Green"})," = Positive, ",a.jsx("span",{className:"text-yellow-400",children:"Yellow"})," = Neutral"]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Important Status Effects"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-red-400",children:"BLEEDING:"})," -1 HP per turn"]}),a.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-red-400",children:"STUCK:"})," Cannot attack"]}),a.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-red-400",children:"TINT:"})," -1 ATK, draw on death"]}),a.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-red-400",children:"TARGET:"})," Double damage"]}),a.jsxs("div",{className:"bg-red-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-red-400",children:"PARANOIA:"})," Cannot draw cards"]}),a.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-green-400",children:"SHIELD:"})," Prevents next damage"]}),a.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-green-400",children:"RAGE:"})," +2 ATK, must attack"]}),a.jsxs("div",{className:"bg-yellow-900/30 rounded p-2",children:[a.jsx("span",{className:"font-semibold text-yellow-400",children:"SWARM:"})," 1 damage per animal death"]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Tips"}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[" ",a.jsx("span",{className:"text-yellow-400",children:"Hover"})," over cards to see detailed effects"]}),a.jsxs("p",{children:[" ",a.jsx("span",{className:"text-green-400",children:"Green border"})," = Card can be played"]}),a.jsxs("p",{children:[" ",a.jsx("span",{className:"text-gray-500",children:"Gray border"})," = Card cannot be played"]}),a.jsxs("p",{children:["The ",a.jsx("span",{className:"text-cyan-400",children:"Effect Log"})," shows all actions"]}),a.jsx("p",{children:" Status icons on animals show active effects"})]})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx("button",{onClick:e,className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg",children:"Start Game!"})})]})]})}),_Y=({gameState:e,isPlayerTurn:t,attackingAnimal:r,onPlayerAnimalClick:n})=>{const i=e.players[0],s=e.players[1],o=(l,c,d)=>{const u=r===(l==null?void 0:l.id),f=!l;return a.jsx("div",{className:`relative aspect-[3/4] rounded-lg border-2 transition-all duration-300 ${f?"border-gray-700/50 bg-gray-900/30 border-dashed":u&&d?"border-yellow-400 bg-yellow-900/30 shadow-lg shadow-yellow-400/50 scale-105 animate-pulse cursor-pointer":d?"border-blue-400 bg-gray-800/90 hover:border-blue-300 hover:scale-105 cursor-pointer":"border-red-400 bg-gray-800/90"}`,onClick:()=>l&&d&&n&&n(l),children:l?a.jsxs(a.Fragment,{children:[l.card.inscriptionId&&!l.card.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(l.card.inscriptionId),alt:l.card.name,className:"w-full h-full object-cover rounded-lg",onError:h=>{h.target.style.display="none"}}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent rounded-lg flex flex-col justify-end p-2",children:[a.jsx("div",{className:"text-xs font-bold text-white mb-1 truncate",children:l.card.name}),a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsxs("span",{className:"text-red-400 font-bold",children:[" ",l.currentAtk]}),a.jsxs("span",{className:"text-blue-400 font-bold",children:[" ",l.currentHp]})]}),l.statuses.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.statuses.map((h,p)=>{const g=br.find(x=>x.id===h);if(!g)return null;const m=yi.negative.includes(g.name),v=yi.positive.includes(g.name);return a.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${m?"bg-red-600 text-white":v?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:g.effectText,children:g.name},p)})})]}),u&&d&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:a.jsx("div",{className:"text-3xl font-bold text-yellow-400 animate-pulse drop-shadow-lg",children:""})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600 text-[10px]",children:"Empty"})},c)};return a.jsx("div",{className:"max-w-[1600px] mx-auto",children:a.jsxs("div",{className:"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 rounded-2xl border-4 border-gray-700 shadow-2xl p-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px),
              repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)
            `}})}),a.jsxs("div",{className:"relative z-10 mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Opponent"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{className:"font-bold text-lg",children:s.life})]}),a.jsxs("span",{className:"text-gray-400",children:[" ",s.deck.length," |  ",s.hand.length]})]})]}),s.statuses.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:s.statuses.map((l,c)=>{const d=br.find(h=>h.id===l);if(!d)return null;const u=yi.negative.includes(d.name),f=yi.positive.includes(d.name);return a.jsx("span",{className:`text-xs px-2 py-1 rounded border ${u?"bg-red-600/80 text-white border-red-400":f?"bg-green-600/80 text-white border-green-400":"bg-yellow-600/80 text-black border-yellow-400"}`,title:d.effectText,children:d.name},c)})})]}),a.jsx("div",{className:"grid grid-cols-5 gap-3",children:Array.from({length:5}).map((l,c)=>o(s.board[c],c,!1))})]}),a.jsxs("div",{className:"relative z-10 my-4 flex items-center justify-center",children:[a.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"}),a.jsx("div",{className:"mx-4 text-gray-500 text-xs font-bold",children:" BATTLEFIELD "}),a.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"})]}),a.jsxs("div",{className:"relative z-10 mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"You"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{className:"font-bold text-lg",children:i.life})]}),a.jsxs("span",{className:"text-gray-400",children:[" ",i.deck.length," |  ",i.hand.length]})]})]}),i.statuses.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:i.statuses.map((l,c)=>{const d=br.find(h=>h.id===l);if(!d)return null;const u=yi.negative.includes(d.name),f=yi.positive.includes(d.name);return a.jsx("span",{className:`text-xs px-2 py-1 rounded border ${u?"bg-red-600/80 text-white border-red-400":f?"bg-green-600/80 text-white border-green-400":"bg-yellow-600/80 text-black border-yellow-400"}`,title:d.effectText,children:d.name},c)})})]}),a.jsx("div",{className:"grid grid-cols-5 gap-3",children:Array.from({length:5}).map((l,c)=>o(i.board[c],c,!0))})]})]})})},OY=({text:e,type:t,position:r,onComplete:n,id:i})=>{b.useEffect(()=>{const l=setTimeout(()=>{n(i)},2e3);return()=>clearTimeout(l)},[i,n]);const s=()=>{switch(t){case"attack":return"text-red-400";case"shield":return"text-cyan-400";case"heal":return"text-green-400";case"card":return"text-yellow-400";case"effect":return"text-purple-400";default:return"text-white"}},o=()=>{switch(t){case"attack":return"";case"shield":return"";case"heal":return"";case"card":return"";case"effect":return"";default:return""}};return a.jsxs("div",{className:`absolute pointer-events-none z-50 ${s()} font-bold text-2xl md:text-3xl drop-shadow-lg animate-bounce`,style:{left:`${r.x}px`,top:`${r.y}px`,animation:"damageFloat 2s ease-out forwards"},children:[o()," ",e]})},MY=({isOpen:e,onClose:t,playerDeck:r,playerHand:n,playerDiscard:i})=>{if(!e)return null;const s=br,o=s.filter(d=>d.type==="animal"),l=s.filter(d=>d.type==="action"),c=s.filter(d=>d.type==="status");return a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-red-600 max-w-7xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold",children:" Card Bank - All Available Cards"}),a.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:" Close"})]}),a.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-800/50",children:a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Your Deck:"})," ",a.jsx("span",{className:"font-bold text-blue-400",children:r.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Your Hand:"})," ",a.jsx("span",{className:"font-bold text-green-400",children:n.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Discard:"})," ",a.jsx("span",{className:"font-bold text-yellow-400",children:i.length})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:[" Animals (",o.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:o.map(d=>a.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 border border-gray-600 hover:border-blue-400 transition-all",children:[d.inscriptionId&&!d.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(d.inscriptionId),alt:d.name,className:"w-full h-32 object-contain mb-2",onError:u=>{u.target.style.display="none"}}),a.jsx("div",{className:"text-xs font-bold",children:d.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:[d.atk,"/",d.hp]}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-2",children:d.effectText})]},d.id))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-red-400",children:[" Actions (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:l.map(d=>a.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 border border-gray-600 hover:border-red-400 transition-all",children:[d.inscriptionId&&!d.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(d.inscriptionId),alt:d.name,className:"w-full h-32 object-contain mb-2",onError:u=>{u.target.style.display="none"}}),a.jsx("div",{className:"text-xs font-bold",children:d.name}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-3",children:d.effectText})]},d.id))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:[" Status (",c.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:c.map(d=>a.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 border border-gray-600 hover:border-yellow-400 transition-all",children:[d.inscriptionId&&!d.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(d.inscriptionId),alt:d.name,className:"w-full h-32 object-contain mb-2",onError:u=>{u.target.style.display="none"}}),a.jsx("div",{className:"text-xs font-bold",children:d.name}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-3",children:d.effectText})]},d.id))})]})]})]})})},$Y=()=>{const{walletState:e}=Re(),[t,r]=b.useState(null),[n,i]=b.useState(null),[s,o]=b.useState("pvp"),[l,c]=b.useState(!1),[d,u]=b.useState([]),[f,h]=b.useState([]),[p,g]=b.useState(!1),[m,v]=b.useState([]),[x,y]=b.useState(null),[w,S]=b.useState(null),[j,I]=b.useState(!1),[E,C]=b.useState(null),[T,K]=b.useState(!1),[V,P]=b.useState(null),[R,N]=b.useState([]),[M,O]=b.useState(new Set),[$,z]=b.useState([]),[_,q]=b.useState(!1),[H,D]=b.useState([]),se=e.connected&&e.accounts.length>0&&Hi(e.accounts[0].address);b.useEffect(()=>{var W;e.connected&&((W=e.accounts[0])!=null&&W.address)?ae():h([])},[e.connected,e.accounts]);const ae=async()=>{var W;if((W=e.accounts[0])!=null&&W.address){g(!0);try{console.log("[GamePage]  Lade Wallet-Karten...");const le=await Lp(e.accounts[0].address);console.log(`[GamePage]  ${le.length} Wallet-Karten geladen`),h(le)}catch(le){console.error("[GamePage]  Fehler beim Laden der Wallet-Karten:",le),h([])}finally{g(!1)}}},ie=(W,le)=>{let k;W?k=W:se&&d.length===24?k=d:m.length===24?k=m:f.length>0?(console.log("[GamePage]  Erstelle Deck aus Wallet-Karten..."),k=NY(f),k.length<10&&(console.log("[GamePage]  Zu wenige Wallet-Karten, verwende Standard-Deck"),k=Du())):k=Du();const Y=le||Du(),X=vY(k,Y,s);r(X)};if(b.useEffect(()=>{!t||!t.pendingAction||t.pendingAction.type==="look_hand"&&(I(!0),C(W=>{const le={...t},k=le.players[t.pendingAction.playerIndex],Y=k.hand.findIndex(X=>X.id===W);if(Y!==-1){const X=k.hand.splice(Y,1)[0];k.discard.push(X),le.effectLog.push({id:`log-${Date.now()}-${Math.random()}`,message:`Karte ${X.name} wird verworfen`,timestamp:Date.now(),type:"effect"})}le.pendingAction=void 0,r(le)}))},[t==null?void 0:t.pendingAction]),b.useEffect(()=>{if(!(!t||t.gameOver)){if(t.mode==="pve"&&t.currentPlayer===1&&t.phase==="main"){const W=setTimeout(()=>{const le=kY(t);r(le||(k=>k?Za(k):null))},1500);return()=>clearTimeout(W)}if(t.phase==="draw"){console.log("[GamePage] DRAW Phase detected, setting timer to call nextPhase");const W=setTimeout(()=>{console.log("[GamePage] DRAW Phase timer fired, calling nextPhase"),r(le=>{if(!le)return null;const k=Za(le);return console.log("[GamePage] After nextPhase - new phase:",k.phase),k})},500);return()=>clearTimeout(W)}if(t.phase==="attack"){const le=t.players[t.currentPlayer].board.filter(k=>k.attacksThisTurn<k.maxAttacks&&!t.players[t.currentPlayer].statuses.some(Y=>{const X=br.find(U=>U.id===Y);return X==null?void 0:X.effects.some(U=>U.action==="prevent_attack"&&U.target==="self")}));if(le.length>0){const k=le[0];P(k.id),setTimeout(()=>{const X=k.currentAtk;X>0&&N(U=>[...U,{id:`damage-${Date.now()}`,target:"opponent-life",amount:X,type:"life"}])},500);const Y=setTimeout(()=>{P(null),r(X=>X?Za(X):null)},2e3);return()=>clearTimeout(Y)}else{const k=setTimeout(()=>{r(Y=>Y?Za(Y):null)},500);return()=>clearTimeout(k)}}if(t.phase==="end"){const W=setTimeout(()=>{r(le=>le?Za(le):null)},1e3);return()=>clearTimeout(W)}}},[t==null?void 0:t.phase,t==null?void 0:t.currentPlayer,t==null?void 0:t.mode]),!t)return a.jsxs("div",{className:"min-h-screen bg-black text-white p-8 flex items-center justify-center",children:[T&&a.jsx(AY,{onClose:()=>K(!1)}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:" BLACK & WILD"}),a.jsx("button",{onClick:()=>K(!0),className:"mb-6 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-sm",children:" Tutorial anzeigen"}),se&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold text-lg transition-colors",children:" Admin: Deck Builder (Test Mode)"}),a.jsx("button",{onClick:()=>{const W=SY();u(W),console.log("[GamePage]  Random Deck generiert:",W.length,"Karten")},className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold text-lg transition-colors",children:" Generate Random Deck"})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"As admin, you can create a test deck from all available cards or generate a random deck"}),d.length===24&&a.jsxs("p",{className:"text-sm text-green-400 mb-2",children:[" Admin Deck ready (",d.filter(W=>W.type==="animal").length," Animals, ",d.filter(W=>W.type==="action").length," Actions, ",d.filter(W=>W.type==="status").length," Status)"]})]}),a.jsxs("div",{className:"space-y-4",children:[p&&a.jsx("div",{className:"text-sm text-gray-400 mb-4",children:" Loading wallet cards..."}),f.length>0&&a.jsxs("div",{className:"text-sm text-green-400 mb-4",children:[" ",f.length," cards found in wallet"]}),e.connected&&f.length===0&&!p&&a.jsx("div",{className:"text-sm text-yellow-400 mb-4",children:" No cards found in wallet - standard deck will be used"}),!e.connected&&a.jsx("div",{className:"text-sm text-gray-400 mb-4",children:" Connect your wallet to use your own cards"}),e.connected&&f.length>0&&!se&&a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-lg transition-colors mb-2",children:" Build Deck from Wallet Cards"}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Select 24 cards from your wallet (",f.length," available)"]}),m.length===24&&a.jsxs("p",{className:"text-sm text-green-400 mt-2",children:[" Deck ready (",m.filter(W=>W.type==="animal").length," Animals, ",m.filter(W=>W.type==="action").length," Actions, ",m.filter(W=>W.type==="status").length," Status)"]})]}),a.jsx("button",{onClick:()=>{o("pvp"),ie()},className:"w-64 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors",children:"Player vs Player"}),a.jsx("button",{onClick:()=>{o("pve"),ie()},className:"w-64 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold text-lg transition-colors",children:"Player vs AI"})]})]}),l&&a.jsx(a.Fragment,{children:se?a.jsx(IY,{onClose:()=>c(!1),onDeckCreated:W=>{u(W),c(!1)},currentDeck:d}):a.jsx(EY,{onClose:()=>c(!1),onDeckCreated:W=>{v(W),c(!1)},currentDeck:m,walletCards:f,isAdmin:!1})})]});const ce=t.players[t.currentPlayer];t.players[1-t.currentPlayer];const xe=t.currentPlayer===0,ve=W=>{!xe||t.phase!=="main"||(i(W.id),O(le=>new Set(le).add(W.id)),setTimeout(()=>{O(le=>{const k=new Set(le);return k.delete(W.id),k})},1e3),z(le=>[...le,{id:`card-${Date.now()}`,text:W.name.toUpperCase(),type:"card",position:{x:window.innerWidth/2,y:window.innerHeight/2}}]),W.type==="action"||W.type==="status"?W.effects.some(k=>k.target&&k.target!=="self")?y(W):(r(k=>k?ng(k,0,W.id):null),i(null)):W.type==="animal"&&(r(le=>le?ng(le,0,W.id):null),i(null)))},ee=W=>{x&&(r(le=>le?ng(le,0,x.id,W):null),y(null),i(null))},F=()=>{y(null),i(null)},re=()=>{xe&&t.phase==="main"&&r(W=>W?Za(W):null)};return t.gameOver?a.jsx("div",{className:"min-h-screen bg-black text-white p-8 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.winner===0?" You won!":" You lost!"}),a.jsx("button",{onClick:ie,className:"mt-8 px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Play Again"})]})}):a.jsxs("div",{className:"min-h-screen bg-black text-white p-4",children:[a.jsx("div",{className:"max-w-[1600px] mx-auto mb-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:" BLACK & WILD"}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Turn ",t.turnNumber," | Phase: ",t.phase.toUpperCase()," |",xe?" Your Turn":" Opponent Turn"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold",children:" Card Bank"}),a.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"End Game"})]})]})}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(_Y,{gameState:t,isPlayerTurn:xe,attackingAnimal:V,onPlayerAnimalClick:W=>{xe&&t.phase==="attack"&&(P(W.id),z(le=>[...le,{id:`attack-${Date.now()}`,text:"ATTACK!",type:"attack",position:{x:window.innerWidth/2,y:window.innerHeight/2}}]))}}),R.map(W=>a.jsxs("div",{className:"absolute text-red-500 font-bold text-2xl pointer-events-none z-50",style:{animation:"damageFloat 1s ease-out forwards",left:"50%",top:W.target==="opponent-life"?"25%":"75%"},onAnimationEnd:()=>{N(le=>le.filter(k=>k.id!==W.id))},children:["-",W.amount]},W.id))]}),a.jsx("div",{className:"max-w-[1600px] mx-auto mb-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border-2 border-blue-600",children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("div",{className:"relative",children:[xe&&t.phase==="main"&&a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("div",{className:"text-xs text-green-400 bg-green-900/30 px-3 py-1 rounded border border-green-600",children:[" Playable: ",ce.hand.filter(W=>gx(t,0,W)).length," / ",ce.hand.length," cards"]}),a.jsxs("div",{className:"text-xs text-blue-400 bg-blue-900/30 px-3 py-1 rounded border border-blue-600",children:[" Animals: ",ce.animalsPlayedThisTurn,"/1 this turn | Board: ",ce.board.length,"/5"]}),a.jsx("div",{className:"text-xs text-purple-400 bg-purple-900/30 px-3 py-1 rounded border border-purple-600",children:" Action/Status: Unlimited"}),a.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold ml-auto",children:"End Main Phase"})]}),xe&&t.phase!=="main"&&a.jsxs("div",{className:"text-xs text-yellow-400 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600 inline-block",children:[" Wait for ",t.phase.toUpperCase()," phase to finish..."]})]})}),a.jsx("div",{className:"flex gap-2 mt-4 mb-4",children:ce.board.map(W=>{const le=V===W.id;return a.jsxs("div",{className:`bg-gray-800 rounded p-2 border border-blue-400 min-w-[100px] cursor-pointer hover:border-blue-300 relative overflow-hidden transition-all duration-300 ${le?"scale-110 border-yellow-400 shadow-lg shadow-yellow-400/50 z-50 animate-pulse":""}`,style:le?{transform:"translateY(-10px) scale(1.1)",zIndex:50}:{},children:[W.card.inscriptionId&&!W.card.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(W.card.inscriptionId),alt:W.card.name,className:"w-full h-20 object-contain mb-1",onError:k=>{k.target.style.display="none"}}),a.jsx("div",{className:"text-xs font-bold",children:W.card.name}),a.jsxs("div",{className:"text-xs",children:[W.currentAtk,"/",W.currentHp]}),W.statuses.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:W.statuses.map((k,Y)=>{const X=br.find(Z=>Z.id===k);if(!X)return null;const U=yi.negative.includes(X.name),B=yi.positive.includes(X.name);return a.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${U?"bg-red-600 text-white":B?"bg-green-600 text-white":"bg-yellow-600 text-black"}`,title:X.effectText,children:X.name},Y)})})]},W.id)})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"text-sm font-semibold mb-2",children:["Your Hand ",!xe&&t.phase==="main"&&"(Opponent's Turn)",":"]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:ce.hand.map(W=>{const le=gx(t,0,W);let k=null;return le||(t.phase!=="main"?k=` Only in MAIN phase (now: ${t.phase.toUpperCase()})`:xe?W.type==="animal"?ce.animalsPlayedThisTurn>=1?k=" Already played 1 animal this turn":ce.board.length>=5&&(k=" Board full (max. 5 animals)"):(W.type==="action"||W.type==="status")&&(k=` Only in MAIN phase (now: ${t.phase.toUpperCase()})`):k=" Not your turn"),a.jsxs("div",{onClick:()=>le&&ve(W),onMouseEnter:()=>S(W.id),onMouseLeave:()=>S(null),className:`
                        bg-gray-800 rounded p-3 border-2 min-w-[120px] transition-all relative overflow-hidden
                        ${le?"border-green-500 hover:border-green-300 hover:scale-105 cursor-pointer shadow-lg shadow-green-500/50":"border-gray-600 opacity-50 cursor-not-allowed"}
                        ${n===W.id?"ring-2 ring-yellow-400":""}
                        ${M.has(W.id)?"animate-pulse scale-110 border-yellow-400 shadow-xl shadow-yellow-400/70":""}
                      `,children:[M.has(W.id)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:a.jsx("div",{className:"text-4xl animate-spin",children:""})}),W.inscriptionId&&!W.inscriptionId.includes("placeholder")&&a.jsx("img",{src:Rr(W.inscriptionId),alt:W.name,className:"w-full h-32 object-contain mb-2",onError:Y=>{Y.target.style.display="none"}}),a.jsx("div",{className:"text-xs font-bold",children:W.name}),W.type==="animal"&&a.jsxs("div",{className:"text-xs mt-1",children:[W.atk,"/",W.hp]}),a.jsx("div",{className:"text-[10px] text-gray-400 mt-1 line-clamp-2",children:W.effectText}),!le&&k&&a.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center rounded z-10",children:a.jsxs("div",{className:"text-[10px] text-red-400 text-center px-2 font-semibold",children:[" ",k]})}),le&&xe&&t.phase==="main"&&a.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold z-10",children:""}),w===W.id&&a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 bg-gray-900 border-2 border-red-600 rounded-lg p-3 z-50 shadow-xl",children:[a.jsx("div",{className:"text-sm font-bold text-white mb-2",children:W.name}),a.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Type:"})," ",W.type==="animal"?"Animal":W.type==="action"?"Action":"Status"]}),W.type==="animal"&&a.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:[a.jsx("span",{className:"font-semibold",children:"ATK/HP:"})," ",W.atk,"/",W.hp]}),a.jsxs("div",{className:"text-xs text-gray-300",children:[a.jsx("span",{className:"font-semibold",children:"Effect:"})," ",W.effectText]}),W.effects.length>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-700",children:a.jsx("div",{className:"text-[10px] text-gray-400",children:W.effects.map((Y,X)=>a.jsxs("div",{className:"mb-1",children:[a.jsxs("span",{className:"font-semibold",children:[Y.trigger,":"]})," ",Y.action,Y.target&&`  ${Y.target}`]},X))})})]})]},W.id)})})]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto text-center mb-4",children:a.jsx("div",{className:"inline-flex gap-2 bg-gray-900 rounded-lg p-2",children:["draw","main","attack","end"].map(W=>a.jsx("div",{className:`px-4 py-2 rounded ${t.phase===W?"bg-red-600 font-bold":"bg-gray-700"}`,children:W.toUpperCase()},W))})}),a.jsx("div",{className:"max-w-[1600px] mx-auto",children:a.jsx(PY,{entries:t.effectLog,maxEntries:15})}),x&&t&&a.jsx(CY,{card:x,gameState:t,onSelectTarget:ee,onCancel:F}),j&&t&&E&&a.jsx(TY,{cards:t.players[1].hand,onSelectCard:W=>{E(W),I(!1),C(null)},onCancel:()=>{I(!1),C(null)}}),$.map(W=>a.jsx(OY,{id:W.id,text:W.text,type:W.type,position:W.position,onComplete:le=>{z(k=>k.filter(Y=>Y.id!==le))}},W.id)),t&&a.jsx(MY,{isOpen:_,onClose:()=>q(!1),playerDeck:t.players[0].deck,playerHand:t.players[0].hand,playerDiscard:t.players[0].discard})]})},LY=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState([]),[i,s]=b.useState(0),[o,l]=b.useState(!0),[c,d]=b.useState(null),[u,f]=b.useState(1);b.useEffect(()=>{h()},[]),b.useEffect(()=>{t.connected&&t.accounts[0]?p():s(0)},[t.connected,t.accounts]);const h=async()=>{l(!0);try{const m=await II();n(m)}catch(m){console.error("Error loading point shop items:",m)}finally{l(!1)}},p=async()=>{if(t.accounts[0])try{const m=await $y(t.accounts[0].address);s((m==null?void 0:m.points)||0)}catch(m){console.error("Error loading points:",m),s(0)}},g=async m=>{if(!t.connected||!t.accounts[0]){alert("Please connect your wallet");return}if(m.itemType==="series"&&(m.totalCount&&m.currentIndex!==void 0?m.totalCount-m.currentIndex:0)<=0){alert("This series is sold out!");return}if(i<m.pointsCost){alert(`You don't have enough points! Required: ${m.pointsCost}, You have: ${i}`);return}const v=m.itemType==="series"&&m.currentIndex!==void 0&&m.totalCount?`Do you want to mint "${m.title}" (#${(m.currentIndex||0)+1}/${m.totalCount}) for ${m.pointsCost} points? (Only inscription fees will be charged additionally)`:`Do you want to mint "${m.title}" for ${m.pointsCost} points? (Only inscription fees will be charged additionally)`;if(confirm(v)){d(m.id);try{const x=await l8(t.accounts[0].address,m.id,t.walletType||"unisat",u,t);let y=`Minting successful! Inscription ID: ${x.inscriptionId}`;x.seriesInfo&&(y+=`
Series: #${x.seriesInfo.currentNumber}/${x.seriesInfo.totalCount} (${x.seriesInfo.remaining} remaining)`),alert(y),await h(),await p()}catch(x){console.error("[PointShop] Minting error:",x),alert(`Error: ${x.message}`)}finally{d(null)}}};return a.jsx("div",{className:"min-h-screen bg-black text-white p-4 md:p-8 pb-20 md:pb-8",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/black-wild"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Mint Page",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),a.jsxs("h1",{className:"text-4xl font-bold text-center mb-4 border-b-2 border-red-600 pb-4 flex items-center justify-center gap-3",children:[a.jsx("img",{src:"/pointshop.png",alt:"Point Shop",className:"h-8 w-8 object-contain",onError:m=>{m.currentTarget.style.display="none"}}),"Point Shop"]}),!o&&r.length>0&&a.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-600/50 rounded-lg p-4 mb-6 max-w-3xl mx-auto shadow-lg shadow-red-600/10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsxs("p",{className:"text-lg font-bold text-white mb-1",children:[r.length," ",r.length===1?"Item":"Items"," Available"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:[r.filter(m=>m.itemType==="series").length," Series  "," ",r.filter(m=>m.itemType==="delegate").length," Delegates  "," ",r.filter(m=>m.itemType==="original").length," Originals"]})]}),t.connected&&a.jsxs("div",{className:"text-center md:text-right",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Your Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[i.toLocaleString()," Points"]})]})]})}),a.jsx("p",{className:"text-center text-gray-300 mb-8",children:"Mint exclusive Ordinals with your points"}),t.connected&&a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Your Points"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:i})]}),o?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"Loading..."})}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"No items available yet"})}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 md:gap-4 mb-8",children:r.map(m=>{const v=t.connected&&i>=m.pointsCost,x=m.itemType==="series"&&m.currentIndex&&m.totalCount&&m.currentIndex>=m.totalCount,y=m.itemType==="series"&&m.totalCount&&m.currentIndex!==void 0?m.totalCount-m.currentIndex:null;return a.jsxs("div",{className:`bg-black/80 backdrop-blur-sm border rounded-lg overflow-hidden hover:border-red-500 transition-all duration-300 group relative ${x?"border-gray-700 opacity-60":"border-red-600/50 hover:bg-black/90"} hover:shadow-lg hover:shadow-red-600/20 hover:scale-[1.02]`,children:[!x&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/0 via-red-600/0 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-lg"}),a.jsxs("div",{className:"aspect-square bg-gray-900 flex items-center justify-center p-2 relative group/preview",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 via-gray-900 to-black animate-pulse opacity-0 group-hover/preview:opacity-0 transition-opacity duration-300"}),(()=>{let w;return m.itemType==="series"?w=m.inscriptionIds&&m.inscriptionIds.length>0?m.inscriptionIds[m.currentIndex||0]||m.inscriptionIds[0]:void 0:w=m.itemType==="delegate"?m.delegateInscriptionId:m.originalInscriptionId,w?a.jsx(CI,{src:`https://ordinals.com/content/${w}`,alt:m.title,className:"w-full h-full transition-all duration-300 group-hover/preview:scale-105",loading:"lazy",onError:S=>{console.warn(`[PointShop] Could not load image for ${w}`)}}):null})(),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-600/0 to-transparent opacity-0 group-hover/preview:opacity-100 transition-opacity duration-300 pointer-events-none z-10"}),a.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-semibold ${m.itemType==="series"?"bg-purple-600 text-white":m.itemType==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:m.itemType==="series"?"Series":m.itemType==="delegate"?"Delegate":"Original"}),m.itemType==="series"&&y!==null&&a.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-semibold bg-purple-800 text-white",children:[y,"/",m.totalCount]})]})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{className:"text-sm font-bold mb-1 line-clamp-1",children:m.title}),m.itemType==="series"&&m.seriesTitle&&a.jsx("p",{className:"text-[10px] text-purple-400 mb-1 font-semibold line-clamp-1",children:m.seriesTitle}),a.jsx("p",{className:"text-gray-400 text-[11px] mb-2 min-h-[2.5rem] line-clamp-2",children:m.description}),a.jsxs("div",{className:"flex items-center justify-between gap-1",children:[a.jsxs("span",{className:"text-red-600 font-bold text-sm",children:[m.pointsCost," P"]}),a.jsx("button",{onClick:()=>g(m),disabled:!t.connected||!v||c===m.id||x,className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded font-semibold transition-all duration-300 hover:shadow-lg hover:shadow-red-600/30 hover:scale-105 disabled:hover:scale-100",children:c===m.id?" Minting...":x?" Sold":v?m.itemType==="series"||m.itemType==="delegate"?" Mint":" Transfer":" Need Points"})]})]})]},m.id)})}),t.connected&&a.jsx("div",{className:"max-w-md mx-auto mt-8",children:a.jsx(ci,{selectedFeeRate:u,onFeeRateChange:f})})]})})};Fs();const dl=async(e,t,r,n,i,s,o,l)=>{console.log(`[CollectionMinting] Creating delegate for ${t} (Original: ${e})`),o||(o=n==="Tech & Games"?"html":"image",console.log(`[CollectionMinting] Auto-detected contentType: ${o} (collection: ${n})`));const c={p:"ord-20",op:"delegate",originalInscriptionId:e,name:t,collection:n,contentType:o,timestamp:Date.now()},d=o==="html"?`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(c)}
<\/script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: transparent;
}
iframe {
  width: 100%;
  height: 100vh;
  border: 0;
  display: block;
}
</style>
</head>
<body>
<iframe src="/content/${e}" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen" allowfullscreen></iframe>
</body>
</html>`:`<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/json" id="delegate-metadata">
${JSON.stringify(c)}
<\/script>
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}
img {
  max-width: 100%;
  max-height: 100vh;
  object-fit: contain;
  display: block;
}
</style>
</head>
<body>
<img src="/content/${e}" alt="${t}" />
</body>
</html>`,u=new File([d],`${t.replace(/\s/g,"-")}-${Date.now()}.html`,{type:"text/html"});console.log(`[CollectionMinting]  HTML file created: ${u.name} (${u.size} bytes)`);const f=await kb({file:u,address:r,feeRate:i,postage:330,delegateMetadata:JSON.stringify(c)});if(!f.payAddress||!f.amount)throw new Error("UniSat API did not return a pay address or amount for inscription fees.");const h="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",p=[];if(l&&l>0){const m=l/1e8;p.push({address:h,amount:m}),console.log(`[CollectionMinting] Item price: ${m.toFixed(8)} BTC (${l} sats) to ${h}`)}p.push({address:f.payAddress,amount:f.amount}),console.log(`[CollectionMinting] Inscription fees: ${f.amount.toFixed(8)} BTC to ${f.payAddress}`);let g;if(p.length===1)if(s==="unisat")g=await kc(p[0].address,p[0].amount);else if(s==="xverse")g=await Uh(p[0].address,p[0].amount);else throw new Error("Unsupported wallet type for payment.");else{if(console.log(`[CollectionMinting] Paying ${p.length} recipients in one transaction:`),p.forEach((m,v)=>{console.log(`[CollectionMinting]   ${v+1}. ${m.address}: ${m.amount.toFixed(8)} BTC (${(m.amount*1e8).toFixed(0)} sats)`)}),!s)throw new Error("Unsupported wallet type for payment.");g=await ed(p,s)}if(!g)throw new Error("Payment transaction failed or returned no TXID.");return console.log(`[CollectionMinting]  Payment successful, TXID: ${g}`),{inscriptionId:f.inscriptionId,txid:f.txid||f.orderId,paymentTxid:g}},DY="http://localhost:3003",Ml=[{inscriptionId:"a346945c962d4c9f25ca8a5bea7cfd4de3bc8665f0640d8991df6137878d2ee0i0",name:"Bitcoin Mix Tape",description:"Not a static Ordinal  but a dynamic, evolving music project fully embedded on the Bitcoin blockchain. The Bitcoin Mixtape is inscribed as Ordinals  100% on-chain, permanent, interoperable, yet actively changeable and expandable. Features: 17 total tracks as Ordinals inscriptions, high-quality audio streamed from Bitcoin itself, 24 MB of data (5 full blocks!), interactive tracklist, multiple tape covers, Three.js-based 3D cassette player, animated cassette reels, and a dynamic day-and-night sky.",price:2e4,category:"music",specs:["17 total tracks as Ordinals inscriptions","High-quality audio fully stored on Bitcoin","24 MB of data directly on Bitcoin (5 full blocks!)","Interactive tracklist with title, artist, duration","Multiple tape covers + individual cover previews","Three.js-based 3D cassette player","Animated cassette reels that spin realistically","Dynamic day-and-night sky rendered on-chain","Living archive: new tracks & covers can be added"]},{inscriptionId:"94c91f823f145daf0200394433c1116781a7a669ba0b24a0d232f46838b37351i0",name:"TACTICAL",description:"Tactical is a turn-based tactical strategy game. Command an elite squad and complete missions against alien enemies.",price:1e4,category:"game",features:["Turn-based combat system with Action Points","Fog of War mechanics that reveal the battlefield as you explore","Multiple weapon modes: Snap Shot, Aimed Shot, Burst","Special abilities: Psi attacks, Teleport, Shield, Overwatch, Grenades, Medkits","Campaign mode with Command Center: manage your soldiers, equipment, and progression between missions","Map Editor to create custom missions","Arcade Mode with predefined missions","Multiple difficulty Levels"]},{inscriptionId:"0107df3459c64a889c4249011017a13dbbf7ad8e43cf075d3ca6aae7ddb511fai0",name:"SANTA'S REVENGE",description:"Do you want to help Santa give the Grinch a serious kick where it hurts? Then Santas Revenge is the game for you! Santas Revenge is an action-packed 3D shooter where you fight your way through a maze and defeat various enemies. The game features multiple levels, different weapons, various difficulty settings, and many additional features. Despite all challenges, I managed to overcome the many obstacles of blockchain development and create a full-fledged shooter. The game runs only on PC, in fullscreen mode, and is played with mouse & keyboard. Enjoy Santas Revenge and good luck defeating all enemies!",price:1e4,category:"game"},{inscriptionId:"f90df6134b4d171c5b1f9c85884c3e1075ef7fb32fa404a58004e28a0db274d1i0",name:"SEQUENCER",description:"Welcome to the S3QU3NC3R. An audio system completely as a standalone ordinal. It consists of over 8,000 lines of code. Mint Live on Lunalauncher.io",price:1e4,category:"music",specs:["8 Banks with 16 Steps, 9 Instruments","21 Effects, 2 FX per Instrument + EQ + Volume","Polyphony Control","Tone.js Framework + HTML Audio","Design with 4 themes","8 Audio Chains max (Auto-cleanup)","Memory Management with Garbage Collection","Import/Export Fiction via Text","AI Composition & Generative Patterns","Euclidean Rhythms & Pattern Evolution","Polyrhythmic Support"]},{inscriptionId:"93c6cae72268f19c1da6f2f6ca6f5d5aaa450c5c21f25265764d605288c1dffbi0",name:"STREET REIGN",description:"Street Reign is a point-and-click game. It puts you in the world of a drug dealer. Buy, sell, escape from the police. The goal is to make money and climb the ranks. Will you succeed? Best gaming experience on PC in full screen.",price:1e4,category:"game"},{inscriptionId:"5be3dfb109321291c0469ab1253be7b5c9d023e694945dbbd71a1dfe7518a4bfi0",name:"TimeBIT",description:"Binary clock",price:2e3,category:"tool"},{inscriptionId:"1164c8fc35613512724f816b98d4b147846d18afe506b62c6a6b552a325cbea9i0",name:"Slot Machine",description:"Push the Button! Try your luck with this little slot machine. 6 designs, sounds, 3 slots. The slot machine is a little experiment and shows what else you can do with ordinals besides art. Over 1500 lines of code and 250kB of data were used to create this machine.",price:2e3,category:"game"},{inscriptionId:"e6805a3c68fd1abb1904dfb8193b2a01ef2ccbd96d6b8be2c4b9aba4332c413di0",name:"BLOCKTRIS",description:"Tetris Clone in Bitmap/Memepool style",price:2e3,category:"game"},{inscriptionId:"26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",name:"RichArt Synthesizer",description:"Beta version of the RichArt Synthesizer",price:0,category:"music",mintable:!1}],BY=()=>{var S;const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(1),[i,s]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,f]=b.useState(null),[h,p]=b.useState(new Set),[g,m]=b.useState(null);b.useEffect(()=>{const j=I=>{I.key==="Escape"&&u&&f(null)};return u?(document.addEventListener("keydown",j),document.body.style.overflow="hidden",document.querySelectorAll("iframe").forEach(E=>{const C=E.getAttribute("title");if(C&&C!==u.name){const T=E.src;T&&(E.src="",E.__originalSrc=T,E.style.display="none")}}),requestAnimationFrame(()=>{const E=document.querySelector('[class*="fixed inset-0"]');E&&(E.style.transform="translateZ(0)",E.style.willChange="contents")})):(document.querySelectorAll("iframe").forEach(E=>{const C=E.__originalSrc;C&&!E.src&&(E.style.display="",E.src=C,delete E.__originalSrc)}),document.body.style.overflow="unset"),()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[u]);const v=async j=>{var T,K,V,P;if(!t.connected||!((T=t.accounts[0])!=null&&T.address)){d(j),l(!0);return}let I=t.accounts[0].address;const E=t.accounts.find(R=>R.purpose==="ordinals"||R.address.startsWith("bc1p"));if(E)I=E.address,console.log(`[TechGamesPage]  ${(K=t.walletType)==null?void 0:K.toUpperCase()} - Verwende Ordinals-Adresse (Taproot) fr Inscription:`,I);else{const R=I.startsWith("bc1p")?"Taproot":I.startsWith("bc1q")?"SegWit":I.startsWith("3")?"Nested SegWit":"Legacy";console.warn(`[TechGamesPage]  ${(V=t.walletType)==null?void 0:V.toUpperCase()} - Keine Taproot-Adresse! Verwende ${R}:`,I)}const C=t.accounts.find(R=>R.purpose==="payment");C&&console.log(`[TechGamesPage]  ${(P=t.walletType)==null?void 0:P.toUpperCase()} - Payment kommt von:`,C.address),s({status:"in-progress",progress:10,message:"Starting minting process..."});try{s(N=>N?{...N,progress:30,message:"Creating delegate inscription..."}:null);const R=await dl(j.inscriptionId,j.name,I,"Tech & Games",r,t.walletType||"unisat","html",j.price);try{const N=j.price>=8e3?20:5;await k8(I,N,`Minted Tech & Games item: ${j.name} (${j.price} sats)`,{collection:"Tech & Games",itemName:j.name,itemPrice:j.price,inscriptionId:R.inscriptionId}),console.log(`[TechGames]  Added ${N} points for minting ${j.name}`)}catch(N){console.error("[TechGames]  Failed to add points:",N)}s({progress:100,status:"success",message:`Successfully minted ${j.name}!`,inscriptionIds:[R.inscriptionId],txid:R.txid});try{await fetch(`${DY}/api/techgames/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:I,itemName:j.name,inscriptionId:R.inscriptionId,originalInscriptionId:j.inscriptionId,txid:R.txid,priceSats:j.price})}),console.log(`[TechGames]  Mint logged for ${j.name}`)}catch(N){console.warn("[TechGames]  Failed to log mint:",N)}}catch(R){console.error("Minting error:",R),s({progress:100,status:"error",message:`Error: ${R.message||"An unknown error occurred during minting."}`,inscriptionIds:[],txid:""})}},x=j=>`${j.toLocaleString()} sats (${(j/1e8).toFixed(8)} BTC)`,y=j=>({game:{label:" Game",color:"bg-blue-600 text-white"},tool:{label:" Tool",color:"bg-green-600 text-white"},music:{label:" Music",color:"bg-purple-600 text-white"}})[j],w=j=>j.price===0&&j.mintable?{label:"FREE MINT",color:"bg-green-600 text-white"}:j.price===0?{label:"FREE",color:"bg-gray-600 text-white"}:j.price>=8e3?{label:"PREMIUM",color:"bg-yellow-600 text-white"}:{label:"STANDARD",color:"bg-gray-700 text-white"};return a.jsxs("div",{className:"min-h-screen bg-black p-4 md:p-8 pt-20 pb-24 md:pb-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Home",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),a.jsxs("h1",{className:"text-4xl font-bold text-center mb-4 text-white flex items-center justify-center gap-3",children:["Tech & Games",a.jsx("img",{src:"/images/techgames-logo.gif",alt:"Tech & Games",className:"h-12 w-12 object-contain",onError:j=>{j.currentTarget.style.display="none"}})]}),a.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-600/50 rounded-lg p-6 mb-8 max-w-4xl mx-auto shadow-lg shadow-red-600/10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[Ml.length," Games & Tools Available"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[Ml.filter(j=>j.category==="game").length," Games  "," ",Ml.filter(j=>j.category==="tool").length," Tools  "," ",Ml.filter(j=>j.category==="music").length," Music Tools"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-end",children:[a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm bg-blue-600 text-white shadow-sm",children:" Game"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm bg-green-600 text-white shadow-sm",children:" Tool"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm bg-purple-600 text-white shadow-sm",children:" Music"})]})]})}),a.jsx("p",{className:"text-sm text-gray-400 text-center mb-8 max-w-2xl mx-auto px-4",children:"I really enjoy learning new things, but programming also requires a lot of time and effort. You can test and play everything here for free. If you enjoy it and like what I'm creating, I'd really appreciate any support by purchasing something."}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6 max-w-7xl mx-auto",style:{contentVisibility:"auto"},children:Ml.map(j=>{var I;return a.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-600/50 rounded-lg p-6 hover:border-red-500 hover:bg-gray-900/90 transition-all duration-300 flex flex-col hover:shadow-lg hover:shadow-red-600/20 hover:scale-[1.02] group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/0 via-red-600/0 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),a.jsxs("div",{className:"flex gap-2 mb-3 relative z-10",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm ${y(j.category).color} shadow-sm`,children:y(j.category).label}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm ${w(j).color} shadow-sm`,children:w(j).label})]}),a.jsxs("div",{className:"w-full aspect-square bg-black rounded mb-4 cursor-pointer overflow-hidden border-2 border-gray-800 hover:border-red-600 transition-all duration-300 relative group/preview hover:shadow-lg hover:shadow-red-600/30",onClick:()=>f(j),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-600/0 to-transparent opacity-0 group-hover/preview:opacity-100 transition-opacity duration-300 pointer-events-none z-10"}),u?a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-gray-300 text-center p-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{className:"text-lg font-bold mb-1",children:j.name}),a.jsx("p",{className:"text-xs text-gray-500",children:"HTML Inscription"})]})}):a.jsxs(a.Fragment,{children:[h.has(j.inscriptionId)&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 via-gray-900 to-black animate-pulse flex items-center justify-center z-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Loading ",j.name,"..."]})]})}),a.jsx("iframe",{src:`https://ordinals.com/content/${j.inscriptionId}`,className:`w-full h-full border-0 ${h.has(j.inscriptionId)?"opacity-0":"opacity-100"} transition-opacity duration-300`,title:j.name,sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",style:{transform:"translateZ(0)",willChange:"auto"},onLoad:()=>{p(E=>{const C=new Set(E);return C.delete(j.inscriptionId),C})},onLoadStart:()=>{p(E=>new Set(E).add(j.inscriptionId))},onError:E=>{console.log(`[TechGames] Iframe load error for ${j.name}`),p(K=>{const V=new Set(K);return V.delete(j.inscriptionId),V});const C=E.currentTarget;C.style.display="none";const T=C.parentElement;T&&(T.innerHTML=`
                          <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-gray-300 text-center p-4">
                            <div>
                              <div class="text-4xl mb-3"></div>
                              <p class="text-lg font-bold mb-1">${j.name}</p>
                              <p class="text-xs text-gray-500">HTML Inscription</p>
                            </div>
                          </div>
                        `)}})]})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2 cursor-pointer hover:text-red-600 transition-all duration-300 group-hover:translate-x-1",onClick:()=>f(j),children:j.name}),a.jsxs("p",{className:"text-sm text-gray-400 mb-4 line-clamp-3 cursor-pointer hover:text-gray-300 transition-colors flex-1",onClick:()=>f(j),children:[j.description.split(`

`)[0].substring(0,150),j.description.length>150?"...":""]}),(j.specs||j.features)&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:E=>{E.stopPropagation(),m(g===j.inscriptionId?null:j.inscriptionId)},className:"w-full text-left text-xs text-red-400 hover:text-red-300 font-semibold flex items-center justify-between transition-colors duration-300",children:[a.jsx("span",{children:j.specs?"Specs":"Main Features"}),a.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${g===j.inscriptionId?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g===j.inscriptionId&&a.jsx("div",{className:"mt-2 space-y-1 bg-gray-800/50 rounded p-2 max-h-48 overflow-y-auto",children:(I=j.specs||j.features)==null?void 0:I.map((E,C)=>a.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-300",children:[a.jsx("span",{className:"text-red-600 mt-0.5",children:""}),a.jsx("span",{children:E})]},C))})]}),j.price>0?a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Price: ",x(j.price)]}),a.jsx("p",{className:"text-sm text-gray-400",children:"+ inscription fees"})]}):j.mintable?a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-xs text-green-400 font-semibold mb-1",children:"FREE  only inscription fees"})}):null,a.jsx("div",{className:"mt-auto space-y-2",children:j.price>0||j.mintable?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>v(j),disabled:(i==null?void 0:i.status)==="in-progress",className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-all duration-300 text-sm font-semibold hover:shadow-lg hover:shadow-red-600/30 hover:scale-[1.02]",children:(i==null?void 0:i.status)==="in-progress"?"Minting...":j.price===0?" Mint Free":" Mint Now"}),a.jsx("button",{onClick:()=>f(j),className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all duration-300 text-xs font-medium text-gray-300",children:" Try First"})]}):a.jsx("button",{onClick:()=>f(j),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-300 text-sm font-semibold hover:shadow-lg hover:shadow-blue-600/30 hover:scale-[1.02]",children:" Test Now"})})]},j.inscriptionId)})}),a.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:a.jsx(ci,{selectedFeeRate:r,onFeeRateChange:n})}),o&&!t.connected&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>{l(!1),d(null)},className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>{l(!1),c&&(v(c),d(null))}})})]})}),i&&a.jsx(Ji,{status:i,onClose:()=>{s(null),i.status==="success"||i.status}}),u&&a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",onClick:()=>f(null),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600 bg-gray-900",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:u.name}),a.jsxs("div",{className:"flex items-center gap-4",children:[(u.price>0||u.mintable)&&a.jsx("button",{onClick:()=>{f(null),d(u),l(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-semibold",children:t.connected?"Mint":"Connect & Mint"}),a.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-white p-2",title:"Close (ESC)",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a.jsx("div",{className:"flex-1 w-full h-full bg-black overflow-hidden relative",onClick:j=>j.stopPropagation(),style:{willChange:"contents",transform:"translateZ(0)",backfaceVisibility:"hidden",contain:"layout style paint",isolation:"isolate"},children:a.jsx("iframe",{src:`https://ordinals.com/content/${u.inscriptionId}`,className:"w-full h-full border-0 absolute inset-0",title:u.name,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen",loading:"eager",referrerPolicy:"no-referrer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; webgl; xr-spatial-tracking",allowFullScreen:!0,style:{willChange:"contents",transform:"translateZ(0)",backfaceVisibility:"hidden",isolation:"isolate",contain:"layout style paint",pointerEvents:"auto"},onError:j=>{console.log(`[TechGames] Iframe load error in modal for ${u.name}`);const I=j.currentTarget;I.style.display="none";const E=I.parentElement;E&&(E.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center bg-gray-900 text-gray-400 p-6 text-center">
                      <div>
                        <div class="text-5xl mb-4"></div>
                        <p class="text-lg font-bold mb-2">${u.name}</p>
                        <p class="text-sm mb-4">HTML Inscription</p>
                        <a href="https://ordinals.com/inscription/${u.inscriptionId}" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-500 mt-4 inline-block underline">
                          View on Ordinals.com 
                        </a>
                      </div>
                    </div>
                  `)}})}),a.jsx("div",{className:"p-4 border-t-2 border-red-600 bg-gray-900 text-white max-h-[40vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-300",children:u.description})}),(u.specs||u.features)&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>m(g===u.inscriptionId?null:u.inscriptionId),className:"w-full text-left text-sm text-red-400 hover:text-red-300 font-semibold flex items-center justify-between transition-colors duration-300 mb-2",children:[a.jsx("span",{children:u.specs?"Specs":"Main Features"}),a.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${g===u.inscriptionId?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g===u.inscriptionId&&a.jsx("div",{className:"space-y-2 bg-gray-800/50 rounded p-3 max-h-64 overflow-y-auto",children:(S=u.specs||u.features)==null?void 0:S.map((j,I)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[a.jsx("span",{className:"text-red-600 mt-0.5",children:""}),a.jsx("span",{children:j})]},I))})]}),u.price>0?a.jsxs("div",{className:"flex justify-between items-center border-t border-gray-700 pt-4",children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Price"}),a.jsx("p",{className:"text-lg font-bold text-red-600",children:x(u.price)}),a.jsx("p",{className:"text-xs text-gray-500",children:"+ inscription fees"})]})]}):u.mintable?a.jsxs("div",{className:"flex justify-between items-center border-t border-gray-700 pt-4",children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Price"}),a.jsx("p",{className:"text-lg font-bold text-green-400",children:"FREE"}),a.jsx("p",{className:"text-xs text-gray-500",children:"only inscription fees"})]})]}):null]})})]})]})},Xa="http://localhost:3003",RY=()=>{const{id:e}=CO(),t=vt(),{walletState:r}=Re(),[n,i]=b.useState(null),[s,o]=b.useState(!0),[l,c]=b.useState(1),[d,u]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState(!1);b.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){o(!0);try{const x=await u8(e);i(x)}catch(x){console.error("Error loading collection:",x),alert("Collection not found"),t("/")}finally{o(!1)}}},v=async x=>{var I,E,C;if(!r.connected||!r.accounts[0]||!n){g(!0);return}if(!n.items||n.items.length===0){alert("Collection has no items available for minting.");return}let y=r.accounts[0].address;const w=r.accounts.find(T=>T.purpose==="ordinals"||T.address.startsWith("bc1p"));if(w)y=w.address,console.log(`[CollectionMintingPage]  ${(I=r.walletType)==null?void 0:I.toUpperCase()} - Verwende Ordinals-Adresse (Taproot) fr Inscription:`,y);else{const T=y.startsWith("bc1p")?"Taproot":y.startsWith("bc1q")?"SegWit":y.startsWith("3")?"Nested SegWit":"Legacy";console.warn(`[CollectionMintingPage]  ${(E=r.walletType)==null?void 0:E.toUpperCase()} - Keine Taproot-Adresse! Verwende ${T}:`,y)}const S=r.accounts.find(T=>T.purpose==="payment");S&&console.log(`[CollectionMintingPage]  ${(C=r.walletType)==null?void 0:C.toUpperCase()} - Payment kommt von:`,S.address);let j;if(n.mintType==="random"){const T=Math.floor(Math.random()*n.items.length);j=n.items[T]}else{if(!x){console.error("[CollectionMinting] No item provided for individual mint"),alert("Please select an item to mint.");return}j=x}if(!j||!j.inscriptionId){console.error("[CollectionMinting] Invalid item to mint:",j),alert("Error: Invalid item selected. Please try again.");return}u(j.inscriptionId),h({progress:0,status:"processing",message:`Minting ${j.name}...`});try{if(j.type==="delegate"){h(V=>V?{...V,progress:30,message:"Creating delegate inscription..."}:null);const T=n.price?Math.round(n.price*1e8):void 0,K=await dl(j.inscriptionId,j.name,y,n.name,l,r.walletType||"unisat",void 0,T);h({progress:100,status:"success",message:`Successfully minted ${j.name}!${n.mintType==="random"?" (Random)":""}`,inscriptionIds:[K.inscriptionId],txid:K.txid})}else{if(n.price&&n.price>0){h(N=>N?{...N,progress:10,message:`Paying ${n.price} BTC...`}:null);const{sendBitcoinViaUnisat:V,sendBitcoinViaXverse:P}=await Jt(async()=>{const{sendBitcoinViaUnisat:N,sendBitcoinViaXverse:M}=await Promise.resolve().then(()=>Do);return{sendBitcoinViaUnisat:N,sendBitcoinViaXverse:M}},void 0),R="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft";try{r.walletType==="unisat"?await V(R,n.price):await P(R,n.price),console.log(`[CollectionMinting]  Price paid: ${n.price} BTC to ${R}`)}catch(N){throw console.error("[CollectionMinting] Price payment error:",N),new Error(`Failed to pay collection price: ${N.message||"Unknown error"}`)}}h(V=>V?{...V,progress:30,message:"Creating transfer PSBT..."}:null);const T=await fetch(`${Xa}/api/collections/mint-original`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:y,collectionId:n.id,itemId:j.inscriptionId,feeRate:l,walletType:r.walletType})});if(!T.ok){const V=await T.json().catch(()=>({error:"Unknown error"}));if(V.requiresPresigning){const P=V.instructions||`1. Go to Admin Panel
2. Open this collection
3. Click "Prepare All PSBTs"
4. Click "Sign All PSBTs" (Xverse popup)
5. Click "Save Collection"`;h({progress:0,status:"error",message:V.error||"Pre-signing required"}),alert(` Pre-Signing Required

${V.error}

Instructions:
${P}

Please complete the pre-signing process in the Admin Panel before purchases can be made.`);return}throw new Error(V.error||"Failed to create transfer PSBT")}const K=await T.json();if(K.requiresWalletSigning){console.log(" User-signed collection detected - wallet signing required"),h(V=>V?{...V,progress:50,message:"Please sign with your wallet..."}:null);try{let V;if(r.walletType==="xverse"){const{signTransaction:P}=await Jt(async()=>{const{signTransaction:N}=await import("./index-9WQn33B3.js");return{signTransaction:N}},[]);V=(await new Promise((N,M)=>{P({payload:{network:{type:"Mainnet"},message:`Sign to mint ${j.name}`,psbtBase64:K.psbtBase64,broadcast:!0,inputsToSign:[{address:K.ownerAddress,signingIndexes:[0]}]},onFinish:O=>{console.log(" Transaction signed & broadcasted:",O.txid),N(O)},onCancel:()=>{M(new Error("User cancelled signing"))}})})).txid}else if(r.walletType==="unisat"){const P=await window.unisat.signPsbt(K.psbtBase64);V=await window.unisat.pushPsbt(P),console.log(" Transaction broadcasted:",V)}else throw new Error("Unsupported wallet type for signing");try{await fetch(`${Xa}/api/collections/${n.id}/record-mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:j.inscriptionId,itemName:j.name,itemType:j.type,itemImageUrl:j.imageUrl})})}catch(P){console.warn("[CollectionMinting] Failed to record mint:",P)}h({progress:100,status:"success",message:`Successfully transferred ${j.name}!${n.mintType==="random"?" (Random)":""}`,inscriptionIds:[j.inscriptionId],txid:V})}catch(V){throw console.error(" Wallet signing failed:",V),new Error(`Signing failed: ${V.message||"Unknown error"}`)}}else if(K.requiresSigning&&K.psbtBase64){const V=K.ownerAddress;console.log(`[CollectionMinting] Owner address (input): ${V}`),console.log(`[CollectionMinting] User address (recipient): ${y}`),V&&V!==y&&(console.warn(`[CollectionMinting]  Owner address (${V}) differs from user address (${y})`),console.warn(`[CollectionMinting]  The user's wallet may not be able to sign this PSBT if it doesn't control ${V}`),K.warning&&alert(` Warnung: ${K.warning}

Die PSBT kann mglicherweise nicht von Ihrem Wallet signiert werden, da sie eine Admin-Adresse erfordert.`)),h($=>$?{...$,progress:50,message:"Please sign the transaction in your wallet..."}:null);const{signPSBT:P}=await Jt(async()=>{const{signPSBT:$}=await Promise.resolve().then(()=>Do);return{signPSBT:$}},void 0),R=r.walletType==="xverse",N=await P(K.psbtBase64,r.walletType||"unisat",R,void 0);h($=>$?{...$,progress:70,message:"Broadcasting transaction..."}:null);const M=await fetch(`${Xa}/api/collections/mint-original`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:y,collectionId:n.id,itemId:j.inscriptionId,feeRate:l,walletType:r.walletType,signedPsbt:N})});if(!M.ok){const $=await M.json().catch(()=>({error:"Unknown error"}));throw new Error($.error||"Failed to broadcast transaction")}const O=await M.json();try{await fetch(`${Xa}/api/collections/${n.id}/record-mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:j.inscriptionId,itemName:j.name,itemType:j.type,itemImageUrl:j.imageUrl})})}catch($){console.warn("[CollectionMinting] Failed to record mint:",$)}h({progress:100,status:"success",message:`Successfully transferred ${j.name}!${n.mintType==="random"?" (Random)":""}`,inscriptionIds:[O.inscriptionId||j.inscriptionId],txid:O.txid})}else{console.log(" Backend-signed collection - instant transfer");const V=K;try{await fetch(`${Xa}/api/collections/${n.id}/record-mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:j.inscriptionId,itemName:j.name,itemType:j.type,itemImageUrl:j.imageUrl})})}catch(P){console.warn("[CollectionMinting] Failed to record mint:",P)}h({progress:100,status:"success",message:`Successfully transferred ${j.name}!${n.mintType==="random"?" (Random)":""} (Instant - backend signed)`,inscriptionIds:[V.inscriptionId||j.inscriptionId],txid:V.txid})}}}catch(T){console.error("[CollectionMinting] Error:",T),h({progress:0,status:"error",message:T.message||"Minting failed"})}finally{u(null)}};return s?a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsx("p",{className:"text-xl",children:"Loading collection..."})}):n?a.jsx("div",{className:"min-h-screen bg-black text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-8",children:[n.mintType!=="random"&&n.thumbnail&&a.jsx("img",{src:n.thumbnail,alt:n.name,className:"max-w-md mx-auto h-auto mb-4 rounded shadow-lg"}),a.jsx("h1",{className:"text-4xl font-bold mb-2 border-b-2 border-red-600 pb-4",children:n.name}),a.jsx("p",{className:"text-gray-300 mb-4",children:n.description}),a.jsxs("p",{className:"text-red-600 font-bold text-lg",children:[n.price," BTC per item"]})]}),a.jsx("div",{className:"max-w-md mx-auto mb-8",children:a.jsx(ci,{selectedFeeRate:l,onFeeRateChange:c})}),f&&a.jsx("div",{className:"mb-6",children:a.jsx(Ji,{status:f})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>g(!1)})})]})}),n.mintType==="random"&&a.jsx("div",{className:"max-w-5xl mx-auto mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsx("div",{className:"w-full md:w-1/2",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg p-6 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Random Mint"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"You'll receive a random item from this collection!"}),a.jsxs("p",{className:"text-red-600 font-bold text-xl mb-6",children:[n.price," BTC"]}),a.jsx("button",{onClick:()=>v(),disabled:!!d||!r.connected,className:"w-full px-6 py-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-lg transition-colors",children:d?"Minting Random Item...":" Mint Random Item"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:[n.items.length," items in collection"]})]})}),n.thumbnail&&a.jsx("div",{className:"w-full md:w-1/2 flex items-start justify-center",children:a.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-full max-w-md h-auto rounded shadow-lg"})})]})}),n.mintType==="individual"&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.items.map(x=>{const y=d===x.inscriptionId,w=x.imageUrl||`${Xa}/api/inscription/image/${x.inscriptionId}`;return a.jsxs("div",{className:"bg-black border border-red-600 rounded-lg overflow-hidden hover:border-red-500 transition-all",children:[a.jsxs("div",{className:"aspect-square bg-gray-900 flex items-center justify-center p-4 relative",children:[a.jsx("img",{src:w,alt:x.name,className:"w-full h-full object-contain",onError:S=>{console.warn(`[CollectionMinting] Could not load image for ${x.inscriptionId}`),S.currentTarget.style.display="none"}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:`text-xs px-2 py-1 rounded font-semibold ${x.type==="delegate"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:x.type==="delegate"?"Delegate":"Original"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",children:x.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-red-600 font-bold",children:[n.price," BTC"]}),a.jsx("button",{onClick:()=>v(x),disabled:y||!r.connected,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded font-semibold transition-colors",children:y?"Minting...":"Mint"})]})]})]},x.inscriptionId)})}),!r.connected&&a.jsxs("div",{className:"text-center mt-8",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"Please connect your wallet to mint items"}),a.jsx("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold",children:"Connect Wallet"})]})]})}):a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsx("p",{className:"text-xl",children:"Collection not found"})})},HS=[{id:"tactical",title:"Tactical The Game",description:"Tactical is a turn-based tactical strategy game. Command an elite squad and complete missions against alien enemies.",url:"https://lunalauncher.io/#mint/richart-tactical-game",category:"game",image:"/images/Tactical.jpg",hasPreview:!0,features:["Turn-based combat system with Action Points","Fog of War mechanics that reveal the battlefield as you explore","Multiple weapon modes: Snap Shot, Aimed Shot, Burst","Special abilities: Psi attacks, Teleport, Shield, Overwatch, Grenades, Medkits","Campaign mode with Command Center: manage your soldiers, equipment, and progression between missions","Map Editor to create custom missions","Arcade Mode with predefined missions","Multiple difficulty Levels"]},{id:"street-reign",title:"Street Reign The Dealer Game",description:"Mint on Lunalauncher",url:"https://lunalauncher.io/#mint/richart-street-reign",category:"game",image:"/images/StreetReign.png"},{id:"blocktris",title:"BLOCKTRIS",description:"Tetris Clone in Bitmap/Memepool style - Mint on lunalauncher.io",url:"https://magiceden.io/ordinals/marketplace/blocktris",category:"game",image:"/images/Blocktriss.png"},{id:"sequencer",title:"SEQUENCER",description:"Welcome to the S3QU3NC3R. An audio system completely as a standalone ordinal. It consists of over 8,000 lines of code. Mint Live on Lunalauncher.io",url:"https://magiceden.io/ordinals/marketplace/sequencer",category:"game",image:"/images/Sequencer.png",hasPreview:!0,specs:["8 Banks with 16 Steps, 9 Instruments","21 Effects, 2 FX per Instrument + EQ + Volume","Polyphony Control","Tone.js Framework + HTML Audio","Design with 4 themes","8 Audio Chains max (Auto-cleanup)","Memory Management with Garbage Collection","Import/Export Fiction via Text","AI Composition & Generative Patterns","Euclidean Rhythms & Pattern Evolution","Polyrhythmic Support"]},{id:"synthesizer",title:"RichArt Synthesizer",description:"Beta version of the RichArt Synthesizer",url:"https://ordinals.com/inscription/26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",category:"game",image:"https://ordinals.com/content/26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",inscriptionId:"26f1282b9473c0aa38c7fad53cf3d147cec3c85769540009956b3924f002a9d7i0",hasPreview:!0},{id:"consciousness-simulator",title:"Inside the Consciousness Simulator",description:"Card Packs",url:"https://www.ord-x.com/#Inside-the-Consciousness-Simulator",category:"collection",image:"/images/Simulator.jpeg"},{id:"critical-view",title:"Critical View",description:"View on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/criticalview",category:"collection",image:"/images/Cview.png"},{id:"skull-goats",title:"Skull Goats by RichArt",description:"25 different Skull Goat ordinals",url:"https://magiceden.io/ordinals/marketplace/skullgoats",category:"collection",image:"/images/SKG.jpg"},{id:"ordheadz",title:"ORDHEADZ",description:"1,111 Ordheadz with over 200 layers",url:"https://magiceden.io/ordinals/marketplace/ohdz",category:"collection",image:"/images/Ordheadz.png"},{id:"conspiracy-narrative",title:"Conspiracy Narrative",description:"View on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/conspiracynarrative",category:"collection",image:"/images/ConspiracyNarrative.png"},{id:"scanmode",title:"scanmode by richart",description:"Perceptions unfold across countless levels",url:"https://magiceden.io/ordinals/marketplace/scanmode",category:"collection",image:"/images/scanmode.avif"},{id:"symmetry",title:"Symmetry by Richart",description:"Hand-drawn Series with striking symmetry",url:"https://magiceden.io/ordinals/marketplace/symmetry",category:"collection",image:"/images/symmetryy.png"},{id:"symmetry-phoneutria",title:"Symmetry by Richart - Phoneutria Fera",description:"View on Gamma",url:"https://gamma.io/ordinals/collections/symmetry-by-richart-phoneutria-fera",category:"collection",image:"/images/symmetryy.png"},{id:"sons-of-satoshi",title:"Sons of Satoshi Evolution",description:"Hidden among us... against the system",url:"https://magiceden.io/ordinals/marketplace/sosevo",category:"collection",image:"/images/SOSEvo.jpg"},{id:"bone-cat",title:"Bone Cat",description:"Bitcoin vibes with cat skulls - Mintpass for Badcats",url:"https://magiceden.io/ordinals/marketplace/bonecat",category:"collection",image:"/images/bonecat.png"},{id:"event-fold",title:"Event Fold by RichArt",description:"Places not found on any map. Zones between space and time.",url:"https://magiceden.io/ordinals/marketplace/eventfold",category:"collection",image:"/images/EventFold.jpg"},{id:"combination-mix",title:"Ordinals CombiNation Mix - Fusion 1000",description:"Art made from art - 1000 pixel crossover ordinals",url:"https://magiceden.io/ordinals/marketplace/combination-mix",category:"collection",image:"/images/CombinationMix.png"},{id:"ganja-onchain",title:"GANJA Onchain Collection",description:"Magic Eden & OKX",url:"https://magiceden.io/ordinals/marketplace/ganja",category:"collection",image:"/images/vyxvx.png"},{id:"smile-a-bit",title:"SMILE A IT",description:"Mint on richart.app & sell on Magic Eden",url:"https://magiceden.io/ordinals/marketplace/smile",category:"collection",image:"/images/SmileaBittt.png"},{id:"slums",title:"SLUMS",description:"333 Unique Pixel Ordinals  Mint on richart.app",url:"/slums",category:"collection",image:"/images/slums-preview.svg"},{id:"krypdroidz",title:"Krypdroidz",description:"Raffle your free Krypdroidz on Soltrix (Solana)",url:"https://www.soltrix.io/mint/krypdroidz-2863/286315fc12",category:"collection",image:"/images/kr2.png"}],FY={game:" Games & Tech",collection:" Collections",marketplace:" Marketplaces",social:" Social",other:" Other"},KS={game:"border-blue-500 bg-blue-900/20",collection:"border-purple-500 bg-purple-900/20",marketplace:"border-green-500 bg-green-900/20",social:"border-pink-500 bg-pink-900/20",other:"border-gray-500 bg-gray-900/20"},UY=()=>{var c;const e=vt(),[t,r]=b.useState({}),[n,i]=b.useState(null),[s,o]=b.useState(null);b.useEffect(()=>{(async()=>{try{const u=await fetch("https://linktr.ee/api/profiles/richart81");if(u.ok){const f=await u.json();if(f.links){const h={};f.links.forEach(p=>{if(p.url&&p.thumbnailUrl){const g=HS.find(m=>m.url===p.url);g&&(h[g.id]=p.thumbnailUrl)}}),r(h)}}}catch(u){console.warn("[LinkGallery] Could not load images from Linktree:",u)}})()},[]);const l=HS.reduce((d,u)=>(d[u.category]||(d[u.category]=[]),d[u.category].push(u),d),{});return a.jsxs("div",{className:"min-h-screen bg-black text-white p-8 pt-20",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2",title:"Back to Home",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4 text-white flex items-center justify-center gap-3",children:["Link Gallery",a.jsx("img",{src:"/images/RichArt.png",alt:"RichArt",className:"h-12 w-12 object-contain",onError:d=>{console.warn("[LinkGallery] Could not load RichArt logo"),d.currentTarget.style.display="none"}})]}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"All projects, collections and links from RichArt at a glance"})]}),a.jsx("div",{className:"max-w-6xl mx-auto space-y-8",children:Object.entries(l).map(([d,u])=>a.jsxs("div",{children:[a.jsx("h2",{className:`text-2xl font-bold mb-4 ${KS[d].split(" ")[0].replace("border-","text-")}`,children:FY[d]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:u.map(f=>{var h;return a.jsxs("div",{className:`block rounded-lg border-2 ${KS[d]} hover:scale-105 transition-all cursor-pointer overflow-hidden`,onClick:()=>{f.hasPreview?i(f):window.open(f.url,"_blank","noopener,noreferrer")},children:[f.image||t[f.id]?a.jsx("div",{className:"w-full aspect-square overflow-hidden bg-gray-900 relative",children:f.id==="synthesizer"&&((h=f.image)!=null&&h.includes("ordinals.com/content"))?a.jsx("iframe",{src:f.image,className:"w-full h-full border-0",title:f.title,sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",style:{transform:"translateZ(0)",willChange:"auto"}}):a.jsx("img",{src:f.image||t[f.id]||"",alt:f.title,className:"w-full h-full object-cover",loading:"lazy",onError:p=>{console.warn(`[LinkGallery] Could not load image for ${f.id}, using fallback`);const g=p.currentTarget.parentElement;g&&(g.innerHTML=`
                                <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900">
                                  <div class="text-center p-2">
                                    <div class="text-2xl mb-1"></div>
                                    <p class="text-white text-xs font-semibold">${f.title}</p>
                                  </div>
                                </div>
                              `)}})}):a.jsx("div",{className:"w-full aspect-square overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-2",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("p",{className:"text-white text-xs font-semibold",children:f.title})]})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{className:"text-sm font-bold text-white mb-1 line-clamp-1",children:f.title}),f.description&&a.jsx("p",{className:"text-xs text-gray-300 mb-2 line-clamp-2",children:f.description}),a.jsxs("div",{className:"flex items-center text-[10px] text-gray-400",children:[a.jsx("span",{children:"Open"}),a.jsx("svg",{className:"w-2.5 h-2.5 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},f.id)})})]},d))}),a.jsx("div",{className:"mt-16 text-center text-gray-500 text-sm",children:a.jsx("p",{children:"Oneironaut, Artist, Creator"})}),n&&n.hasPreview&&a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",onClick:()=>{i(null),o(null)},children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600 bg-gray-900",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:n.title}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",onClick:d=>d.stopPropagation(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-semibold",children:"Open Link"}),a.jsx("button",{onClick:()=>{i(null),o(null)},className:"text-gray-400 hover:text-white p-2",title:"Close (ESC)",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:n.inscriptionId?a.jsx("div",{className:"flex-1 w-full h-full bg-black overflow-hidden relative",onClick:d=>d.stopPropagation(),children:a.jsx("iframe",{src:`https://ordinals.com/content/${n.inscriptionId}`,className:"w-full h-full border-0 absolute inset-0",title:n.title,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen",loading:"eager",referrerPolicy:"no-referrer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; webgl; xr-spatial-tracking",allowFullScreen:!0})}):n.image?a.jsx("div",{className:"flex-1 w-full h-full bg-black overflow-hidden relative flex items-center justify-center",onClick:d=>d.stopPropagation(),children:a.jsx("img",{src:n.image,alt:n.title,className:"max-w-full max-h-full object-contain"})}):null}),a.jsx("div",{className:"p-4 border-t-2 border-red-600 bg-gray-900 text-white max-h-[40vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.description&&a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-300",children:n.description})}),(n.specs||n.features)&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>o(s===n.id?null:n.id),className:"w-full text-left text-sm text-red-400 hover:text-red-300 font-semibold flex items-center justify-between transition-colors duration-300 mb-2",children:[a.jsx("span",{children:n.specs?"Specs":"Main Features"}),a.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${s===n.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s===n.id&&a.jsx("div",{className:"space-y-2 bg-gray-800/50 rounded p-3 max-h-64 overflow-y-auto",children:(c=n.specs||n.features)==null?void 0:c.map((d,u)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[a.jsx("span",{className:"text-red-600 mt-0.5",children:""}),a.jsx("span",{children:d})]},u))})]})]})})]})]})},VS="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",nA=1e4,GS=nA/1e8;function iA(e){return typeof e=="string"&&e.startsWith("bc1p")}async function sA(){try{const t=await fetch("/data/smile-collection.json");if(!t.ok)return null;const r=await t.json();return!r.generated||!Array.isArray(r.generated)||r.generated.length===0?null:(console.log(`[SmileMint] Collection geladen: ${r.generated.length} Items`),{totalCount:r.totalCount||r.generated.length,viewBox:r.viewBox||"0 0 1000 1000",generated:r.generated})}catch(e){return console.error("[SmileMint] Fehler beim Laden der Collection:",e),null}}async function zY(e,t,r){if(!iA(e))throw new Error("Ordinals werden nur an Taproot-Adressen (bc1p...) gesendet. Bitte verbinde eine Taproot-Wallet.");const n=await sA();if(!n||n.generated.length===0)throw new Error("Smile A Bit Collection konnte nicht geladen werden.");const i=Math.floor(Math.random()*n.generated.length),s=n.generated[i],o=s.svg;if(!o||!o.includes("<svg"))throw new Error("Ungltiges SVG in der Collection.");console.log(`[SmileMint] Zufllig gewhlt: Item #${s.index} (${i+1}/${n.generated.length})`),console.log(`[SmileMint] SVG Gre: ${o.length} bytes`);const l=new File([o],`smile-a-bit-${s.index}.svg`,{type:"image/svg+xml"}),c=await kb({file:l,address:e,feeRate:t,postage:330});if(console.log(`[SmileMint] Inscription erstellt: ${c.inscriptionId}`),!c.payAddress||!c.amount)throw new Error("UniSat API hat keine Pay-Adresse oder Betrag zurckgegeben.");const d=[];d.push({address:VS,amount:GS}),console.log(`[SmileMint] Item-Preis: ${GS.toFixed(8)} BTC (${nA} sats) an ${VS}`),d.push({address:c.payAddress,amount:c.amount}),console.log(`[SmileMint] Inscription-Fees: ${c.amount.toFixed(8)} BTC an ${c.payAddress}`);let u;if(console.log(`[SmileMint] Zahle ${d.length} Empfnger in einer Transaktion...`),d.forEach((f,h)=>{console.log(`[SmileMint]   ${h+1}. ${f.address}: ${f.amount.toFixed(8)} BTC (${(f.amount*1e8).toFixed(0)} sats)`)}),u=await ed(d,r),!u)throw new Error("Zahlung fehlgeschlagen.");return console.log(`[SmileMint]  Zahlung erfolgreich: ${u}`),{inscriptionId:c.inscriptionId,txid:c.txid||c.orderId,paymentTxid:u,item:s}}const WY=1e4,qs=222,qS=44,YS=Fs(),HY=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(null),[i,s]=b.useState(100),[o,l]=b.useState(qS),[c,d]=b.useState(1),[u,f]=b.useState(null),[h,p]=b.useState(!1),[g,m]=b.useState(!1);b.useEffect(()=>{sA().then(y=>{y&&y.generated.length>0?(n(!0),s(y.generated.length),console.log(`[SmilePage] Collection geladen: ${y.generated.length} Items`)):(n(!1),console.warn("[SmilePage] Collection nicht gefunden"))}),v()},[]);const v=async()=>{try{const y=await fetch(`${YS}/api/smile-a-bit/count`);if(y.ok){const w=await y.json();l(qS+(w.totalMints||0))}}catch{console.warn("[SmilePage] Could not load mint count")}},x=async()=>{if(!t.connected||!t.accounts[0]){m(!0);return}let y=t.accounts[0].address;const w=t.accounts.find(S=>S.purpose==="ordinals"||S.address.startsWith("bc1p"));if(w&&(y=w.address,console.log(`[SmilePage]  Verwende Taproot-Adresse: ${y}`)),!iA(y)){alert("Ordinals werden nur an Taproot-Adressen (bc1p...) gesendet. Bitte verbinde eine Taproot-Wallet.");return}p(!0),f({packId:"smile-a-bit",status:"processing",progress:20});try{const S=await zY(y,c,t.walletType||"unisat");console.log(`[SmilePage]  Mint erfolgreich: ${S.inscriptionId}`);try{await Nb({walletAddress:y,packId:"smile-a-bit",packName:"Smile A Bit",cards:[{id:`smile-${S.item.index}`,name:`Smile A Bit #${S.item.index}`,inscriptionId:S.inscriptionId,rarity:"common"}],inscriptionIds:[S.inscriptionId],txids:S.txid?[S.txid]:[],paymentTxid:S.paymentTxid}),console.log("[SmilePage] Minting-Log gespeichert")}catch(j){console.warn("[SmilePage] Log speichern fehlgeschlagen:",j)}try{const j=S.item.layers.map(I=>({trait_type:I.traitType,value:I.trait.name}));await fetch(`${YS}/api/smile-a-bit/hashlist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:S.inscriptionId,itemIndex:S.item.index,name:`SMILE A BIT #${S.item.index}`,attributes:j})}),console.log("[SmilePage] Hashlist aktualisiert")}catch(j){console.warn("[SmilePage] Hashlist update fehlgeschlagen:",j)}f({packId:"smile-a-bit",status:"completed",progress:100,inscriptionIds:[S.inscriptionId]}),l(j=>j+1)}catch(S){console.error("[SmilePage] Mint-Fehler:",S),f({packId:"smile-a-bit",status:"failed",progress:0,error:S.message||"Minting failed"})}finally{p(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",style:{backgroundImage:"url(/images/SmileaBittt.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 text-white drop-shadow-2xl",children:"SMILE A IT"}),a.jsx("p",{className:"text-xl text-gray-300",children:"222 Unique Bitcoin Smiley Ordinals"})]}),r===null?a.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):r===!1?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-4xl md:text-6xl font-bold text-red-600 drop-shadow-2xl mb-4",children:"COMING SOON"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Collection data not found."})]})}):a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row items-center lg:items-start justify-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"bg-black/80 border-2 border-red-600 rounded-xl p-8 max-w-lg w-full backdrop-blur-md",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsxs("div",{className:"relative mb-6 w-full max-w-sm aspect-square rounded-lg overflow-hidden shadow-2xl shadow-red-600/30 border border-red-600/30 bg-black flex items-center justify-center",children:[a.jsx("img",{src:"/images/smile-collection.png",alt:"SMILE A BIT Preview",className:"w-full h-full object-cover scale-[1.08]",onError:y=>{y.currentTarget.style.display="none"}}),a.jsx("div",{className:"absolute top-4 -right-8 rotate-45 bg-red-600 text-white font-bold text-xs px-10 py-1 shadow-lg z-10",children:"50% OFF!"})]}),a.jsxs("div",{className:"w-full mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-400",children:"Minted"}),a.jsxs("span",{className:"text-white font-bold",children:[o," / ",qs]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden border border-gray-700",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-orange-500 rounded-full transition-all duration-500",style:{width:`${Math.min(o/qs*100,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[qs-o," remaining"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-red-600 mb-1",children:[WY.toLocaleString()," sats"]}),a.jsx("p",{className:"text-sm text-gray-400",children:"+ inscription fees"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(ci,{selectedFeeRate:c,onFeeRateChange:d})}),u&&a.jsx("div",{className:"mb-6",children:a.jsx(Ji,{status:u})}),!u||u.status==="failed"?a.jsx("button",{onClick:x,disabled:h||!t.connected||o>=qs,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-red-600/30",children:o>=qs?"SOLD OUT":h?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting..."]}):" MINT RANDOM SMILEY"}):u.status==="completed"?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-4",children:"Mint Successful!"}),a.jsx("button",{onClick:()=>f(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors",children:"Mint Another"})]}):null,!t.connected&&a.jsx("p",{className:"text-center text-gray-400 text-sm mt-4 cursor-pointer hover:text-white",onClick:()=>m(!0),children:"Connect your wallet to mint"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:[qs," unique smileys  Sent to your Taproot address (bc1p...)"]})]}),a.jsx("div",{className:"bg-black/80 border-2 border-red-600/50 rounded-xl p-4 lg:p-6 max-w-xl w-full backdrop-blur-md",children:a.jsxs("div",{className:"prose prose-invert prose-sm max-w-none",children:[a.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:"SMILE A IT"}),a.jsx("p",{className:"text-red-500 font-semibold text-sm mb-2",children:"Bitcoin Smiley Ordinals Collection"}),a.jsx("p",{className:"text-gray-300 text-sm italic mb-4",children:"Infinite good vibes."}),a.jsxs("p",{className:"text-gray-300 text-xs leading-relaxed mb-4",children:["Say hello to the smiley with the Bitcoin look  rocking the iconic ",a.jsx("span",{className:"text-red-500 font-semibold",children:"-shaped glasses"})," and spreading nothing but positivity, energy, and real crypto emotion. Born from an idea back in 2021, this expressive icon first lit up the Ethereum blockchain and now it's smiling its way onto Bitcoin with a limited Ordinals collection."]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed mb-4",children:"Each smiley reflects a different mood  from pure joy to crypto chaos  capturing the rollercoaster of Web3 life. But no matter the emotion, the message stays the same:"}),a.jsx("div",{className:"border-l-4 border-red-600 pl-3 py-1 mb-4 bg-red-600/10 rounded-r",children:a.jsx("p",{className:"text-white font-bold text-sm",children:"Life is better with a smile. "})}),a.jsxs("h3",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx("span",{children:""})," How it works:"]}),a.jsxs("ul",{className:"space-y-1 text-gray-300 text-xs mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:[a.jsxs("strong",{className:"text-white",children:[qs," unique smileys"]}),"  each one different"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"Random mint"}),"  you don't see which one you get"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:["New SVG Ordinal inscribed ",a.jsx("strong",{className:"text-white",children:"directly on Bitcoin"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:["Sent to your ",a.jsx("strong",{className:"text-white",children:"Taproot address (bc1p...)"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"Recursive SVG  composed of multiple on-chain layers"})]})]}),a.jsxs("div",{className:"text-center mt-4 space-y-1",children:[a.jsx("p",{className:"text-white font-bold text-sm",children:"Let's turn frowns into rowns."}),a.jsx("p",{className:"text-red-500 font-bold text-sm italic",children:"Let's smile a bit  on-chain"})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("a",{href:"https://magiceden.io/ordinals/marketplace/smile",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm font-bold text-purple-400 hover:text-purple-300 underline transition-colors",children:" Marketplace"})}),a.jsxs("div",{className:"mt-6 bg-yellow-400 text-black rounded-lg p-4 border-2 border-yellow-500 shadow-lg",children:[a.jsx("p",{className:"font-bold text-sm leading-relaxed",children:" Due to an unfortunate error by me, 177 Smile A Bit Ordinals were accidentally sent to an unknown address.  I tried contacting them, but unfortunately, there was no response  so they appear to be lost. This way, the missing ones can be reminted here to restore the collection to its correct state."}),a.jsxs("p",{className:"mt-2 text-sm",children:[" Announcement on Twitter:"," ",a.jsx("a",{href:"https://x.com/richbi11/status/2021701296504586551?s=20",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold hover:text-yellow-800",children:"x.com/richbi11"})]})]})]})})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>m(!1)})})]})})]})]})},ZS="34VvkvWnRw2GVgEQaQZ6fykKbebBHiT4ft",aA=3e3,KY=aA/1e8,XS=100,oA=2;function lA(e){return typeof e=="string"&&e.startsWith("bc1p")}async function cA(){try{const t=await fetch("/data/slums-collection.json");if(!t.ok)return null;const r=await t.json();return!r.generated||!Array.isArray(r.generated)||r.generated.length===0?null:(console.log(`[SlumsMint] Collection geladen: ${r.generated.length} Items`),{totalCount:r.totalCount||r.generated.length,viewBox:r.viewBox||"0 0 1000 1000",generated:r.generated})}catch(e){return console.error("[SlumsMint] Fehler beim Laden der Collection:",e),null}}async function VY(e){const r=1e3*oA,n=document.createElement("canvas");n.width=1e3,n.height=1e3;const i=n.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("Canvas context nicht verfgbar");for(const l of e.layers){const c=`https://ordinals.com/content/${l.trait.inscriptionId}`,d=await GY(c);i.drawImage(d,0,0,1e3,1e3)}const s=document.createElement("canvas");s.width=r,s.height=r;const o=s.getContext("2d");if(!o)throw new Error("Upscale canvas context nicht verfgbar");return o.imageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.drawImage(n,0,0,r,r),new Promise((l,c)=>{s.toBlob(d=>{if(!d){c(new Error("PNG Export fehlgeschlagen"));return}l(d)},"image/png")})}function GY(e){return new Promise((t,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.onerror=()=>r(new Error(`Bild laden fehlgeschlagen: ${e}`)),n.src=e})}async function qY(e,t,r,n){if(!lA(e))throw new Error("Ordinals werden nur an Taproot-Adressen (bc1p...) gesendet.");const i=await cA();if(!i||i.generated.length===0)throw new Error("SLUMS Collection konnte nicht geladen werden.");const s=Math.floor(Math.random()*i.generated.length),o=i.generated[s];console.log(`[SlumsMint] Zufllig gewhlt: Item #${o.index} (${s+1}/${i.generated.length})`),console.log(`[SlumsMint] Rendere ${o.layers.length} Layer auf Canvas...`);const l=await VY(o);console.log(`[SlumsMint] PNG erstellt: ${(l.size/1024).toFixed(1)} KB (${oA}x upscaled)`);const c=new File([l],`slums-${o.index}.png`,{type:"image/png"}),d=await kb({file:c,address:e,feeRate:t,postage:330});if(console.log(`[SlumsMint] Inscription erstellt: ${d.inscriptionId}`),!d.payAddress||!d.amount)throw new Error("UniSat API hat keine Pay-Adresse oder Betrag zurckgegeben.");const u=n<XS,f=[];u?console.log(`[SlumsMint] GRATIS Mint (#${n+1} von ${XS} free mints)`):(f.push({address:ZS,amount:KY}),console.log(`[SlumsMint] Item-Preis: ${aA} sats an ${ZS}`)),f.push({address:d.payAddress,amount:d.amount}),console.log(`[SlumsMint] Inscription-Fees: ${d.amount.toFixed(8)} BTC an ${d.payAddress}`);let h;if(f.length===1){const p=f[0];r==="unisat"?h=await kc(p.address,p.amount):h=await Uh(p.address,p.amount)}else h=await ed(f,r);if(!h)throw new Error("Zahlung fehlgeschlagen.");return console.log(`[SlumsMint]  Zahlung erfolgreich: ${h}`),{inscriptionId:d.inscriptionId,txid:d.txid||d.orderId,paymentTxid:h,item:o}}const JS=3e3,QS=100,$l=333,eN=Fs(),YY=["8f5fc247bf80511bd5b175b1f527cef1098d5e908c34acf81e986bfb99dcfa80i0","b1776bc34762f7a6ef0122276e7cbd2922dfe6d5301a57bf7eb105bac167a364i0","3c6549906170fe529005d201f77fa5a4f0cab7bfa283ed2c3e4c44d57887921fi0","64abdaab518f553ef692fb59fb1244dd7c4833c2ae085b40fe71a14c253b9600i0","397e179ca9c6b62c7982fd3426c569fcc52ff0e3f7c97a68b5dd9c89ea0bbb5di0","8e26e5823d7fc3cd092b605feec7d1e7ce6e8908ca320d702a75f6160a552a89i0"],ZY=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(null),[i,s]=b.useState(333),[o,l]=b.useState(0),[c,d]=b.useState(1),[u,f]=b.useState(null),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[v,x]=b.useState(null);b.useEffect(()=>{let E=!1;return(async()=>{try{const K=document.createElement("canvas");K.width=400,K.height=400;const V=K.getContext("2d");if(!V)return;for(const P of YY){const R=await new Promise((N,M)=>{const O=new Image;O.crossOrigin="anonymous",O.onload=()=>N(O),O.onerror=()=>M(new Error("img load failed")),O.src=`https://ordinals.com/content/${P}`});if(E)return;V.drawImage(R,0,0,400,400)}E||x(K.toDataURL("image/png"))}catch{console.warn("[SlumsPage] Preview render failed, using SVG fallback")}})(),()=>{E=!0}},[]),b.useEffect(()=>{cA().then(E=>{E&&E.generated.length>0?(n(!0),s(E.generated.length)):n(!1)}),y()},[]);const y=async()=>{try{const E=await fetch(`${eN}/api/slums/count`);if(E.ok){const C=await E.json();l(C.totalMints||0)}}catch{console.warn("[SlumsPage] Could not load mint count")}},w=async()=>{if(!t.connected||!t.accounts[0]){m(!0);return}let E=t.accounts[0].address;const C=t.accounts.find(T=>T.purpose==="ordinals"||T.address.startsWith("bc1p"));if(C&&(E=C.address),!lA(E)){alert("Ordinals werden nur an Taproot-Adressen (bc1p...) gesendet. Bitte verbinde eine Taproot-Wallet.");return}p(!0),f({packId:"slums",status:"processing",progress:10});try{f({packId:"slums",status:"processing",progress:30});const T=await qY(E,c,t.walletType||"unisat",o);console.log(`[SlumsPage]  Mint erfolgreich: ${T.inscriptionId}`);try{await Nb({walletAddress:E,packId:"slums",packName:"SLUMS",cards:[{id:`slums-${T.item.index}`,name:`SLUMS #${T.item.index}`,inscriptionId:T.inscriptionId,rarity:"common"}],inscriptionIds:[T.inscriptionId],txids:T.txid?[T.txid]:[],paymentTxid:T.paymentTxid})}catch(K){console.warn("[SlumsPage] Log speichern fehlgeschlagen:",K)}try{const K=T.item.layers.map(V=>({trait_type:V.traitType,value:V.trait.name}));await fetch(`${eN}/api/slums/hashlist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inscriptionId:T.inscriptionId,itemIndex:T.item.index,name:`SLUMS #${T.item.index}`,attributes:K})})}catch(K){console.warn("[SlumsPage] Hashlist update fehlgeschlagen:",K)}f({packId:"slums",status:"completed",progress:100,inscriptionIds:[T.inscriptionId]}),l(K=>K+1)}catch(T){console.error("[SlumsPage] Mint-Fehler:",T),f({packId:"slums",status:"failed",progress:0,error:T.message||"Minting failed"})}finally{p(!1)}},S=o<QS,j=Math.min(o/$l*100,100),I=o>=$l;return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",style:{background:"linear-gradient(135deg, #0a0a0a 0%, #1a0a2e 30%, #0d0d0d 60%, #1a0a2e 100%)"},children:[a.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"linear-gradient(rgba(139,92,246,.3) 1px, transparent 1px), linear-gradient(90deg, rgba(139,92,246,.3) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 text-white drop-shadow-2xl",style:{textShadow:"0 0 30px rgba(139,92,246,0.5)"},children:"SLUMS"}),a.jsx("p",{className:"text-xl text-gray-300",children:"333 Unique Pixel Ordinals on Bitcoin"})]}),r===null?a.jsx("div",{className:"text-white text-center py-8",children:"Loading..."}):r===!1?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-4xl md:text-6xl font-bold text-purple-500 drop-shadow-2xl mb-4",children:"COMING SOON"})})}):a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row items-center lg:items-stretch justify-center gap-8 lg:gap-10",children:[a.jsxs("div",{className:"bg-black/80 border-2 border-purple-600 rounded-xl p-4 lg:p-5 max-w-md w-full backdrop-blur-md",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx("div",{className:"relative mb-3 w-full max-w-[240px] aspect-square rounded-lg overflow-hidden shadow-2xl shadow-purple-600/30 border border-purple-600/30 bg-black flex items-center justify-center",children:v?a.jsx("img",{src:v,alt:"SLUMS Preview",className:"w-full h-full object-cover",style:{imageRendering:"pixelated"}}):a.jsx("div",{className:"text-gray-500 text-sm animate-pulse",children:"Loading preview..."})}),a.jsxs("div",{className:"w-full mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-gray-400",children:"Minted"}),a.jsxs("span",{className:"text-white font-bold",children:[o," / ",$l]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2.5 overflow-hidden border border-gray-700",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-violet-500 rounded-full transition-all duration-500",style:{width:`${j}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[$l-o," remaining"]})]}),a.jsx("div",{className:"text-center",children:S?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl font-bold text-green-400 mb-0.5",children:"FREE"}),a.jsxs("p",{className:"text-xs text-gray-400",children:[QS-o," free mints left  then ",JS.toLocaleString()," sats"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"+ network fees"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-400 mb-0.5",children:[JS.toLocaleString()," sats"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"+ inscription fees"})]})})]}),a.jsx("div",{className:"mb-4",children:a.jsx(ci,{selectedFeeRate:c,onFeeRateChange:d})}),u&&a.jsx("div",{className:"mb-4",children:a.jsx(Ji,{status:u})}),!u||u.status==="failed"?a.jsx("button",{onClick:w,disabled:h||!t.connected||I,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-violet-700 hover:from-purple-700 hover:to-violet-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-lg transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-purple-600/30",children:I?"SOLD OUT":h?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Rendering & Minting..."]}):` MINT RANDOM${S?" (FREE)":""}`}):u.status==="completed"?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-3",children:"Mint Successful!"}),a.jsx("button",{onClick:()=>f(null),className:"px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold text-sm transition-colors",children:"Mint Another"})]}):null,!t.connected&&a.jsx("p",{className:"text-center text-gray-400 text-xs mt-3 cursor-pointer hover:text-white",onClick:()=>m(!0),children:"Connect your wallet to mint"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:[$l," unique pixel characters  Sent to your Taproot address (bc1p...)"]})]}),a.jsx("div",{className:"bg-black/80 border-2 border-purple-600/50 rounded-xl p-4 lg:p-6 max-w-xl w-full backdrop-blur-md",children:a.jsxs("div",{className:"prose prose-invert prose-sm max-w-none",children:[a.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:"SLUMS"}),a.jsx("p",{className:"text-purple-400 font-semibold text-sm mb-2",children:"Pixel Art Ordinals Collection"}),a.jsx("p",{className:"text-gray-300 text-sm italic mb-4",children:"Where the streets have no name  but every character tells a story."}),a.jsxs("p",{className:"text-gray-300 text-xs leading-relaxed mb-4",children:["Welcome to ",a.jsx("span",{className:"text-purple-400 font-semibold",children:"SLUMS"}),"  a collection of 333 unique pixel art characters inscribed directly on the Bitcoin blockchain. Each piece is composed of 6 hand-crafted layers  background, body, clothes, mouth, eyes, and top  creating thousands of possible trait combinations."]}),a.jsxs("div",{className:"bg-purple-900/30 border border-purple-600/50 rounded-lg p-3 mb-4",children:[a.jsx("h3",{className:"text-sm font-bold text-white mb-2",children:" Pricing"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-400 font-semibold",children:"Mint #1  #100"}),a.jsx("span",{className:"text-green-400 font-bold",children:"FREE (only network fees)"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Mint #101  #333"}),a.jsx("span",{className:"text-purple-400 font-bold",children:"3,000 sats + fees"})]})]})]}),a.jsxs("h3",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx("span",{children:""})," How it works"]}),a.jsxs("ul",{className:"space-y-1 text-gray-300 text-xs mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"333 unique characters"}),"  each one different"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"Random mint"}),"  you don't see which one you get"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:["Composited from ",a.jsx("strong",{className:"text-white",children:"6 on-chain AVIF layers"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"2x pixel upscale"}),"  crisp, no blur"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:["Inscribed as ",a.jsx("strong",{className:"text-white",children:"PNG on Bitcoin"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-400",children:""}),a.jsxs("span",{children:["Sent to your ",a.jsx("strong",{className:"text-white",children:"Taproot address (bc1p...)"})]})]})]}),a.jsx("div",{className:"border-l-4 border-purple-600 pl-3 py-1 mb-4 bg-purple-600/10 rounded-r",children:a.jsx("p",{className:"text-white font-bold text-sm",children:"Built different. Minted on Bitcoin. "})})]})})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-purple-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-purple-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>m(!1)})})]})})]})]})},Nn={name:"Bitcoin Mix Tape",originalInscriptionId:"a346945c962d4c9f25ca8a5bea7cfd4de3bc8665f0640d8991df6137878d2ee0i0",priceInSats:2e4,priceInBTC:2e-4,collection:"Bitcoin Mix Tape",thumbnail:"/mixtape.png"},tN="http://localhost:3003",XY=()=>{const e=vt(),{walletState:t}=Re(),r=b.useRef(null),[n,i]=b.useState(!0),[s,o]=b.useState(!1),[l,c]=b.useState(1),[d,u]=b.useState(!1),[f,h]=b.useState(null),[p,g]=b.useState(!1),[m,v]=b.useState(0);b.useEffect(()=>{x()},[]);const x=async()=>{try{const j=await fetch(`${tN}/api/mixtape/stats`);if(j.ok){const I=await j.json();v(I.totalMints||0)}}catch(j){console.warn("[BitcoinMixtape] Could not load mint stats:",j)}},y=()=>{o(!0),setTimeout(()=>{i(!1)},500)},w=()=>{r.current&&r.current.pause(),o(!0),i(!1)},S=async()=>{if(!t.connected||!t.accounts[0]){g(!0);return}const j=t.accounts[0].address;u(!0),h({progress:0,status:"processing",message:"Initiating mint..."});try{h(E=>E?{...E,progress:20,message:"Creating delegate inscription..."}:null);const I=await dl(Nn.originalInscriptionId,Nn.name,j,Nn.collection,l,t.walletType||"unisat","html",Nn.priceInSats);h(E=>E?{...E,progress:70,message:"Saving mint record..."}:null);try{await fetch(`${tN}/api/mixtape/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:j,inscriptionId:I.inscriptionId,txid:I.txid,originalInscriptionId:Nn.originalInscriptionId,priceInSats:Nn.priceInSats})})}catch(E){console.warn("[BitcoinMixtape] Could not save mint log:",E)}h({progress:100,status:"success",message:`Successfully minted ${Nn.name}!`,inscriptionIds:[I.inscriptionId],txid:I.txid}),v(E=>E+1)}catch(I){console.error("[BitcoinMixtape] Minting error:",I),h({progress:0,status:"error",message:I.message||"Minting failed. Please try again."})}finally{u(!1)}};return n?a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[a.jsxs("video",{ref:r,autoPlay:!0,playsInline:!0,onEnded:y,className:`w-full h-full object-contain transition-opacity duration-500 ${s?"opacity-0":"opacity-100"}`,children:[a.jsx("source",{src:"/videos/mixtape-intro.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),a.jsx("button",{onClick:w,className:"absolute bottom-8 right-8 px-6 py-3 bg-black/60 hover:bg-black/80 border border-white/30 hover:border-red-600 rounded-lg text-white font-semibold transition-all duration-300 backdrop-blur-sm",children:"Skip "}),a.jsx("div",{className:"absolute bottom-8 left-8 text-white/50 text-sm",children:"Bitcoin Mix Tape"})]}):a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",style:{backgroundImage:"url(/mixtape.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 text-white drop-shadow-2xl",children:"Bitcoin Mix Tape"}),a.jsx("p",{className:"text-xl text-gray-300",children:"Mint your Bitcoin Mix Tape"})]}),a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row items-center lg:items-start justify-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"bg-black/80 border-2 border-red-600 rounded-xl p-8 max-w-lg w-full backdrop-blur-md",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"relative mb-6 w-full max-w-sm aspect-square rounded-lg overflow-hidden shadow-2xl shadow-red-600/30 border border-red-600/30",children:a.jsx("iframe",{src:`https://ordinals.com/content/${Nn.originalInscriptionId}`,title:Nn.name,className:"w-full h-full border-0",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-pointer-lock allow-fullscreen",loading:"eager",referrerPolicy:"no-referrer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; webgl; xr-spatial-tracking"})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-red-600 mb-1",children:[Nn.priceInSats.toLocaleString()," sats"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["(",Nn.priceInBTC," BTC) + inscription fees"]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(ci,{selectedFeeRate:l,onFeeRateChange:c})}),f&&a.jsx("div",{className:"mb-6",children:a.jsx(Ji,{status:f})}),!f||f.status==="error"?a.jsx("button",{onClick:S,disabled:d,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-red-600/30",children:d?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting..."]}):" MINT NOW"}):f.status==="success"?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-4",children:" Mint Successful!"}),a.jsx("button",{onClick:()=>h(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors",children:"Mint Another"})]}):null,!t.connected&&a.jsx("p",{className:"text-center text-gray-400 text-sm mt-4",children:"Connect your wallet to mint"})]}),a.jsx("div",{className:"bg-black/80 border-2 border-red-600/50 rounded-xl p-6 lg:p-8 max-w-xl w-full backdrop-blur-md",children:a.jsxs("div",{className:"prose prose-invert prose-sm max-w-none",children:[a.jsxs("p",{className:"text-gray-300 leading-relaxed mb-6",children:["Not a static Ordinal  but a ",a.jsx("span",{className:"text-red-500 font-semibold",children:"dynamic, evolving music project"})," fully embedded on the Bitcoin blockchain. The Bitcoin Mixtape is inscribed as Ordinals  100% on-chain, permanent, interoperable, yet actively changeable and expandable."]}),a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""})," What makes it special:"]}),a.jsxs("ul",{className:"space-y-2 text-gray-300 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"17 total tracks"}),", all as Ordinals inscriptions"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"High-quality audio fully stored and streamed from Bitcoin itself"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:[a.jsx("strong",{className:"text-white",children:"24 MB of data"})," directly on Bitcoin (5 full blocks!)"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"An interactive tracklist with title, artist, and duration"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"Multiple tape covers plus individual cover previews per track"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsxs("span",{children:["A fully functional ",a.jsx("strong",{className:"text-white",children:"Three.js-based 3D cassette player"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"Animated cassette reels that spin realistically"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500",children:""}),a.jsx("span",{children:"Dynamic day-and-night sky  rendered fully on-chain"})]})]}),a.jsxs("div",{className:"border-l-4 border-red-600 pl-4 py-2 mb-6 bg-red-600/10 rounded-r",children:[a.jsx("p",{className:"text-white font-bold mb-2",children:" This is the key: the Mixtape is alive."}),a.jsx("p",{className:"text-gray-300 text-sm",children:"It is not a finished artwork, but a growing archive:"}),a.jsxs("ul",{className:"text-gray-300 text-sm mt-2 space-y-1",children:[a.jsx("li",{children:" New tracks can be added"}),a.jsx("li",{children:" New covers can be integrated"}),a.jsx("li",{children:" The visual experience continues to evolve"})]})]}),a.jsxs("p",{className:"text-gray-300 mb-6",children:["It's more than music  it's an ",a.jsx("span",{className:"text-red-500 font-semibold",children:"evolving on-chain experience"})," with premium sound."]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[a.jsx("p",{className:"text-white font-semibold mb-2",children:" Want to design a cover or get your track onto the Bitcoin Mixtape?"}),a.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Reach out  every contribution helps shape the project."}),a.jsxs("a",{href:"mailto:bitcoinmixtape@outlook.com",className:"inline-flex items-center gap-2 text-red-500 hover:text-red-400 font-semibold transition-colors",children:[a.jsx("span",{children:""})," bitcoinmixtape@outlook.com"]})]}),a.jsx("p",{className:"text-center text-gray-500 mt-6 text-sm italic",children:"A piece of music history  dynamically preserved on Bitcoin. "})]})})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>g(!1)})})]})})]})]})},JY=[{id:"war-is-peace",name:"WAR IS PEACE",inscriptionId:"5c50d2e25d833e1357de824184e9d7859945c62f3b6af54c0f2f2a03caf5fd74i0",priceInSats:6e3,priceInBTC:6e-5,description:"WAR IS PEACE  an Ordinal inspired by George Orwell's 1984.",contentType:"image"},{id:"its-1984-oclock",name:"It's 1984 o'clock!",inscriptionId:"48bdab5d74516e534ad7bda60e527a1eb788e90745e54ff902947ebbd905c678i0",priceInSats:1e4,priceInBTC:1e-4,description:"It's 1984 o'clock!  a tribute to Orwell's dystopian masterpiece, inscribed on Bitcoin.",contentType:"video"}],QY="1984",eZ="http://localhost:3003",tZ=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(1),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),u=async f=>{if(!t.connected||!t.accounts[0]){d(!0);return}const h=t.accounts[0].address;s(f.id),l({progress:0,status:"processing",message:"Initiating mint..."});try{l(g=>g?{...g,progress:20,message:`Creating delegate for "${f.name}"...`}:null);const p=await dl(f.inscriptionId,f.name,h,QY,r,t.walletType||"unisat","image",f.priceInSats);l(g=>g?{...g,progress:70,message:"Saving mint record..."}:null);try{await fetch(`${eZ}/api/1984/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:h,inscriptionId:p.inscriptionId,txid:p.txid,originalInscriptionId:f.inscriptionId,itemName:f.name,priceInSats:f.priceInSats})})}catch(g){console.warn("[1984] Could not save mint log:",g)}l({progress:100,status:"success",message:`Successfully minted "${f.name}"!`,inscriptionIds:[p.inscriptionId],txid:p.txid})}catch(p){console.error("[1984] Minting error:",p),l({progress:0,status:"error",message:p.message||"Minting failed. Please try again."})}finally{s(null)}};return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 via-black to-gray-900"}),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)"}}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-6xl md:text-8xl font-black mb-4 tracking-tighter",children:a.jsx("span",{className:"text-red-600",children:"1984"})}),a.jsx("p",{className:"text-xl text-gray-400 italic",children:'"Big Brother is watching you."'}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" George Orwell"})]}),a.jsx("div",{className:"flex-1 flex flex-col lg:flex-row items-start justify-center gap-8 lg:gap-12 max-w-5xl mx-auto w-full",children:JY.map(f=>a.jsxs("div",{className:"bg-black/80 border-2 border-red-600/50 rounded-xl p-6 max-w-lg w-full backdrop-blur-md hover:border-red-600 transition-colors duration-300",children:[f.contentType==="video"?a.jsx("div",{className:"relative mb-6 w-full rounded-lg overflow-hidden shadow-2xl shadow-red-600/20 border border-red-600/30 bg-gray-900",style:{paddingBottom:"56.25%"},children:a.jsx("iframe",{src:`https://ordinals.com/content/${f.inscriptionId}`,title:f.name,className:"absolute inset-0 w-full h-full border-0 rounded-lg",sandbox:"allow-scripts allow-same-origin allow-popups",allow:"autoplay; fullscreen",scrolling:"no",loading:"eager",referrerPolicy:"no-referrer"})}):a.jsx("div",{className:"relative mb-6 w-full rounded-lg overflow-hidden shadow-2xl shadow-red-600/20 border border-red-600/30 bg-gray-900",children:a.jsx("img",{src:`https://ordinals.com/content/${f.inscriptionId}`,alt:f.name,className:"w-full h-auto rounded-lg",loading:"lazy"})}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:f.name}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:f.description}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[f.priceInSats.toLocaleString()," sats"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["(",f.priceInBTC," BTC) + inscription fees"]})]}),a.jsx("div",{className:"mb-4",children:a.jsx(ci,{selectedFeeRate:r,onFeeRateChange:n})}),o&&i===f.id&&a.jsx("div",{className:"mb-4",children:a.jsx(Ji,{status:o})}),!o||o.status==="error"||i!==f.id?a.jsx("button",{onClick:()=>u(f),disabled:i!==null,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-lg transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-red-600/30",children:i===f.id?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting..."]}):` MINT "${f.name}"`}):o.status==="success"&&i===f.id?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-4",children:" Mint Successful!"}),a.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors",children:"Mint Another"})]}):null]},f.id))}),!t.connected&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Connect your wallet to mint"})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx("blockquote",{className:"text-gray-600 italic text-sm max-w-xl mx-auto",children:'"Freedom is the freedom to say that two plus two make four. If that is granted, all else follows."'})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-red-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-red-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>d(!1)})})]})})]})]})},rZ=[{id:"pink-block",name:"Pink Block",inscriptionId:"f86f39ff37a31954db74fdea7c0310bd67c4e0f122911718ae4a3a8f2f1ba7d5i0",priceInSats:5e3,priceInBTC:5e-5},{id:"metatron",name:"Metatron",inscriptionId:"0c6621f4bc9d3b4c839b7fa02e7d0d097ea613c49542c5c937c2e2c41c2ae603i0",priceInSats:5e3,priceInBTC:5e-5},{id:"369",name:"369",inscriptionId:"3cfe3cf26f1f8e727b3c2ccd0dcc89f97e89445c5bfd22f93ce125e380e83027i0",priceInSats:5e3,priceInBTC:5e-5},{id:"c3",name:"C3",inscriptionId:"b36e7c2ef126589776ca5e4ed6053a48c9df5fcb935ffcdece0111f8778097fci0",priceInSats:5e3,priceInBTC:5e-5},{id:"escape",name:"Escape",inscriptionId:"c46de6b56a28fc5c9da4d22a8a15825e604418c1ad1e4eea6650afdebff0e670i0",priceInSats:5e3,priceInBTC:5e-5},{id:"smile",name:"Smile",inscriptionId:"443b155804ee47845709a4743ad84184e3b96972120526e656f5fb2c5214cb82i0",priceInSats:5e3,priceInBTC:5e-5},{id:"nft-tv",name:"NFT TV",inscriptionId:"1151d32019503a91b2495d2900f86c7b7d8922a6583c61b6dec657812091fc59i0",priceInSats:5e3,priceInBTC:5e-5},{id:"nft",name:"NFT",inscriptionId:"cfce0acba29652bf48f7f050c0a242de299df85532b2f0c0082fee343a8a0050i0",priceInSats:5e3,priceInBTC:5e-5},{id:"al-yen",name:"AL YEN",inscriptionId:"bccedf4befa8aa377c2dbae11ceebab9d15b17e3dc57021e545863e69b60a6a4i0",priceInSats:5e3,priceInBTC:5e-5,contentType:"html"}],nZ="Random Stuff",iZ="http://localhost:3003",sZ=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(1),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),u=async f=>{if(!t.connected||!t.accounts[0]){d(!0);return}const h=t.accounts[0].address;s(f.id),l({progress:0,status:"processing",message:"Initiating mint..."});try{l(g=>g?{...g,progress:20,message:`Creating delegate for "${f.name}"...`}:null);const p=await dl(f.inscriptionId,f.name,h,nZ,r,t.walletType||"unisat","image",f.priceInSats);l(g=>g?{...g,progress:70,message:"Saving mint record..."}:null);try{await fetch(`${iZ}/api/random-stuff/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:h,inscriptionId:p.inscriptionId,txid:p.txid,originalInscriptionId:f.inscriptionId,itemName:f.name,priceInSats:f.priceInSats})})}catch(g){console.warn("[RandomStuff] Could not save mint log:",g)}l({progress:100,status:"success",message:`Successfully minted "${f.name}"!`,inscriptionIds:[p.inscriptionId],txid:p.txid})}catch(p){console.error("[RandomStuff] Minting error:",p),l({progress:0,status:"error",message:p.message||"Minting failed. Please try again."})}finally{s(null)}};return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-950/20 via-black to-cyan-950/10"}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-4 tracking-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-teal-300 to-emerald-400 bg-clip-text text-transparent",children:"Random Stuff"})}),a.jsxs("p",{className:"text-lg text-gray-400",children:["Pick your favorite  all delegates, all ",a.jsx("span",{className:"text-cyan-400 font-bold",children:"5,000 sats"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto w-full",children:rZ.map(f=>a.jsxs("div",{className:"bg-black/80 border-2 border-cyan-600/30 rounded-xl p-4 backdrop-blur-md hover:border-cyan-500 transition-all duration-300 group",children:[a.jsx("div",{className:"relative mb-4 w-full rounded-lg overflow-hidden shadow-lg shadow-cyan-600/10 border border-cyan-600/20 bg-gray-900",children:f.contentType==="html"?a.jsx("div",{className:"w-full aspect-square",children:a.jsx("iframe",{src:`https://ordinals.com/content/${f.inscriptionId}`,title:f.name,className:"w-full h-full border-0 rounded-lg",sandbox:"allow-scripts allow-same-origin",loading:"lazy",referrerPolicy:"no-referrer",scrolling:"no",style:{pointerEvents:"none"}})}):a.jsx("img",{src:`https://ordinals.com/content/${f.inscriptionId}`,alt:f.name,className:"w-full h-auto rounded-lg",loading:"lazy"})}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-bold text-white group-hover:text-cyan-400 transition-colors",children:f.name}),a.jsxs("span",{className:"text-cyan-400 font-bold text-sm",children:[f.priceInSats.toLocaleString()," sats"]})]}),a.jsx("div",{className:"mb-3",children:a.jsx(ci,{selectedFeeRate:r,onFeeRateChange:n})}),o&&i===f.id&&a.jsx("div",{className:"mb-3",children:a.jsx(Ji,{status:o})}),!o||o.status==="error"||i!==f.id?a.jsx("button",{onClick:()=>u(f),disabled:i!==null,className:"w-full py-3 bg-gradient-to-r from-cyan-600 to-teal-600 hover:from-cyan-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-sm transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-cyan-600/20",children:i===f.id?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting..."]}):`MINT "${f.name}"`}):o.status==="success"&&i===f.id?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-2 text-sm",children:" Mint Successful!"}),o.txid&&a.jsx("a",{href:`https://mempool.space/tx/${o.txid}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 hover:text-cyan-300 underline font-mono",children:"View on Mempool "}),a.jsx("button",{onClick:()=>l(null),className:"mt-2 px-4 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors text-xs",children:"Mint Another"})]}):null]},f.id))}),!t.connected&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Connect your wallet to mint"})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx("p",{className:"text-gray-600 text-xs",children:"Delegate inscriptions  All items 5,000 sats"})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-cyan-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-cyan-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>d(!1)})})]})})]})]})},aZ=[{id:"shadowfire",name:"Shadowfire",inscriptionId:"4a019b00eaed13dce49df0ba18d1f82c95a276ca09a4b16c6990336ae7bc189bi0",priceInSats:0,priceInBTC:0},{id:"369",name:"369",inscriptionId:"5c5b7974b1774f773ccf79f486546d523e82ef162e3a08e771fe9bf39c047ef7i0",priceInSats:0,priceInBTC:0}],oZ="Free Stuff",lZ="http://localhost:3003",cZ=()=>{const e=vt(),{walletState:t}=Re(),[r,n]=b.useState(1),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!1),u=async f=>{if(!t.connected||!t.accounts[0]){d(!0);return}const h=t.accounts[0].address;s(f.id),l({progress:0,status:"processing",message:"Initiating mint..."});try{l(g=>g?{...g,progress:20,message:`Creating delegate for "${f.name}"...`}:null);const p=await dl(f.inscriptionId,f.name,h,oZ,r,t.walletType||"unisat","image",f.priceInSats);l(g=>g?{...g,progress:70,message:"Saving mint record..."}:null);try{await fetch(`${lZ}/api/free-stuff/log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:h,inscriptionId:p.inscriptionId,txid:p.txid,originalInscriptionId:f.inscriptionId,itemName:f.name,priceInSats:f.priceInSats})})}catch(g){console.warn("[FreeStuff] Could not save mint log:",g)}l({progress:100,status:"success",message:`Successfully minted "${f.name}"!`,inscriptionIds:[p.inscriptionId],txid:p.txid})}catch(p){console.error("[FreeStuff] Minting error:",p),l({progress:0,status:"error",message:p.message||"Minting failed. Please try again."})}finally{s(null)}};return a.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-950/20 via-black to-emerald-950/10"}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),a.jsx("span",{className:"text-sm font-semibold",children:"Back to Home"})]})}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-4 tracking-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-green-300 to-lime-400 bg-clip-text text-transparent",children:"Free Stuff"})}),a.jsxs("p",{className:"text-lg text-gray-400",children:["Free mints  just pay the ",a.jsx("span",{className:"text-emerald-400 font-bold",children:"network fee"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto w-full",children:aZ.map(f=>a.jsxs("div",{className:"bg-black/80 border-2 border-emerald-600/30 rounded-xl p-4 backdrop-blur-md hover:border-emerald-500 transition-all duration-300 group",children:[a.jsx("div",{className:"relative mb-4 w-full rounded-lg overflow-hidden shadow-lg shadow-emerald-600/10 border border-emerald-600/20 bg-gray-900",children:a.jsx("img",{src:`https://ordinals.com/content/${f.inscriptionId}`,alt:f.name,className:"w-full h-auto rounded-lg",loading:"lazy"})}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-white group-hover:text-emerald-400 transition-colors",children:f.name}),a.jsx("span",{className:"text-xs text-gray-500 italic",children:"Delegate"})]}),a.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:"FREE"})]}),a.jsx("div",{className:"mb-3",children:a.jsx(ci,{selectedFeeRate:r,onFeeRateChange:n})}),o&&i===f.id&&a.jsx("div",{className:"mb-3",children:a.jsx(Ji,{status:o})}),!o||o.status==="error"||i!==f.id?a.jsx("button",{onClick:()=>u(f),disabled:i!==null,className:"w-full py-3 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-sm transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg shadow-emerald-600/20",children:i===f.id?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting..."]}):`MINT "${f.name}"  FREE`}):o.status==="success"&&i===f.id?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-400 font-bold mb-2 text-sm",children:" Mint Successful!"}),o.txid&&a.jsx("a",{href:`https://mempool.space/tx/${o.txid}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-400 hover:text-emerald-300 underline font-mono",children:"View on Mempool "}),a.jsx("button",{onClick:()=>l(null),className:"mt-2 px-4 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-colors text-xs",children:"Mint Another"})]}):null]},f.id))}),!t.connected&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Connect your wallet to mint"})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx("p",{className:"text-gray-600 text-xs",children:"Free delegate inscriptions  Only network fees apply"})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border-2 border-emerald-600 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-emerald-600",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect Wallet"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(li,{onConnected:()=>d(!1)})})]})})]})]})},dZ=["bc1p8mex3g66tsrqlura04ts6xgxlfwhf23adrxpc5g6c0zmqdgqtq3syq0elu","bc1p9j4g6r27yqhmp4c403vn33mz7uug439sthqngkkrylu7d7uq7d6qvz39jj","bc1p6aqn6ckr44m8w3czwetudesnpraqt8n73xcchqe90cep9xvjfx0sllxkn7"],uZ=()=>{var n;const{walletState:e}=Re(),t=vt();return e.connected&&((n=e.accounts)==null?void 0:n.some(i=>dZ.includes(i.address)))?a.jsx("div",{className:"fixed inset-0 w-full h-full bg-black",style:{zIndex:50},children:a.jsx("iframe",{src:"/palindrom/index.html",title:"Palindrom Sound Box",className:"w-full h-full border-0",allow:"autoplay",style:{width:"100%",height:"100%",border:"none",position:"absolute",top:0,left:0}})}):a.jsx("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-8",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Access Restricted"}),a.jsx("p",{className:"text-gray-400 mb-8",children:e.connected?"Your wallet is not authorized to access the Palindrom Sound Box.":"Please connect an authorized wallet to access the Palindrom Sound Box."}),a.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:" Back to Home"})]})})};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ib(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Oa(e,t=""){if(!Number.isSafeInteger(e)||e<0){const r=t&&`"${t}" `;throw new Error(`${r}expected integer >= 0, got ${e}`)}}function Qe(e,t,r=""){const n=Ib(e),i=e==null?void 0:e.length,s=t!==void 0;if(!n||s&&i!==t){const o=r&&`"${r}" `,l=s?` of length ${t}`:"",c=n?`length=${i}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+l+", got "+c)}return e}function dA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash must wrapped by utils.createHasher");Oa(e.outputLen),Oa(e.blockLen)}function dh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fZ(e,t){Qe(e,void 0,"digestInto() output");const r=t.outputLen;if(e.length<r)throw new Error('"digestInto() output" expected to be of length >='+r)}function Vo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ig(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kn(e,t){return e<<32-t|e>>>t}function uu(e,t){return e<<t|e>>>32-t>>>0}const uA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hZ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Dp(e){if(Qe(e),uA)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=hZ[e[r]];return t}const hi={_0:48,_9:57,A:65,F:70,a:97,f:102};function rN(e){if(e>=hi._0&&e<=hi._9)return e-hi._0;if(e>=hi.A&&e<=hi.F)return e-(hi.A-10);if(e>=hi.a&&e<=hi.f)return e-(hi.a-10)}function uh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(uA)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=rN(e.charCodeAt(s)),l=rN(e.charCodeAt(s+1));if(o===void 0||l===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+l}return n}function Xn(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Qe(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function fA(e,t={}){const r=(i,s)=>e(s).update(i).digest(),n=e(void 0);return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=i=>e(i),Object.assign(r,t),Object.freeze(r)}function Bp(e=32){const t=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(t==null?void 0:t.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}const pZ=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});function mZ(e,t,r){return e&t^~e&r}function gZ(e,t,r){return e&t^e&r^t&r}class hA{constructor(t,r,n,i){ye(this,"blockLen");ye(this,"outputLen");ye(this,"padOffset");ye(this,"isLE");ye(this,"buffer");ye(this,"view");ye(this,"finished",!1);ye(this,"length",0);ye(this,"pos",0);ye(this,"destroyed",!1);this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=ig(this.buffer)}update(t){dh(this),Qe(t);const{view:r,buffer:n,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const l=Math.min(i-this.pos,s-o);if(l===i){const c=ig(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dh(this),fZ(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Vo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;n.setBigUint64(i-8,BigInt(this.length*8),s),this.process(n,0);const l=ig(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const d=c/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<d;f++)l.setUint32(4*f,u[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:l}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=l,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const ns=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xZ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),is=new Uint32Array(64);class yZ extends hA{constructor(t){super(64,t,8,!1)}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:l,H:c}=this;return[t,r,n,i,s,o,l,c]}set(t,r,n,i,s,o,l,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)is[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=is[f-15],p=is[f-2],g=Kn(h,7)^Kn(h,18)^h>>>3,m=Kn(p,17)^Kn(p,19)^p>>>10;is[f]=m+is[f-7]+g+is[f-16]|0}let{A:n,B:i,C:s,D:o,E:l,F:c,G:d,H:u}=this;for(let f=0;f<64;f++){const h=Kn(l,6)^Kn(l,11)^Kn(l,25),p=u+h+mZ(l,c,d)+xZ[f]+is[f]|0,m=(Kn(n,2)^Kn(n,13)^Kn(n,22))+gZ(n,i,s)|0;u=d,d=c,c=l,l=o+p|0,o=s,s=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,u=u+this.H|0,this.set(n,i,s,o,l,c,d,u)}roundClean(){Vo(is)}destroy(){this.set(0,0,0,0,0,0,0,0),Vo(this.buffer)}}class vZ extends yZ{constructor(){super(32);ye(this,"A",ns[0]|0);ye(this,"B",ns[1]|0);ye(this,"C",ns[2]|0);ye(this,"D",ns[3]|0);ye(this,"E",ns[4]|0);ye(this,"F",ns[5]|0);ye(this,"G",ns[6]|0);ye(this,"H",ns[7]|0)}}const _r=fA(()=>new vZ,pZ(1));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Eb=BigInt(0),yx=BigInt(1);function fh(e,t=""){if(typeof e!="boolean"){const r=t&&`"${t}" `;throw new Error(r+"expected boolean, got type="+typeof e)}return e}function pA(e){if(typeof e=="bigint"){if(!Bu(e))throw new Error("positive bigint expected, got "+e)}else Oa(e);return e}function fu(e){const t=pA(e).toString(16);return t.length&1?"0"+t:t}function mA(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Eb:BigInt("0x"+e)}function Qi(e){return mA(Dp(e))}function gA(e){return mA(Dp(bZ(Qe(e)).reverse()))}function Rp(e,t){Oa(t),e=pA(e);const r=uh(e.toString(16).padStart(t*2,"0"));if(r.length!==t)throw new Error("number too large");return r}function xA(e,t){return Rp(e,t).reverse()}function bZ(e){return Uint8Array.from(e)}function wZ(e){return Uint8Array.from(e,(t,r)=>{const n=t.charCodeAt(0);if(t.length!==1||n>127)throw new Error(`string contains non-ASCII character "${e[r]}" with code ${n} at position ${r}`);return n})}const Bu=e=>typeof e=="bigint"&&Eb<=e;function jZ(e,t,r){return Bu(e)&&Bu(t)&&Bu(r)&&t<=e&&e<r}function SZ(e,t,r,n){if(!jZ(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function NZ(e){let t;for(t=0;e>Eb;e>>=yx,t+=1);return t}const Cb=e=>(yx<<BigInt(e))-yx;function kZ(e,t,r){if(Oa(e,"hashLen"),Oa(t,"qByteLen"),typeof r!="function")throw new Error("hmacFn must be a function");const n=v=>new Uint8Array(v),i=Uint8Array.of(),s=Uint8Array.of(0),o=Uint8Array.of(1),l=1e3;let c=n(e),d=n(e),u=0;const f=()=>{c.fill(1),d.fill(0),u=0},h=(...v)=>r(d,Xn(c,...v)),p=(v=i)=>{d=h(s,v),c=h(),v.length!==0&&(d=h(o,v),c=h())},g=()=>{if(u++>=l)throw new Error("drbg: tried max amount of iterations");let v=0;const x=[];for(;v<t;){c=h();const y=c.slice();x.push(y),v+=c.length}return Xn(...x)};return(v,x)=>{f(),p(v);let y;for(;!(y=x(g()));)p();return f(),y}}function Pb(e,t={},r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,o,l){const c=e[s];if(l&&c===void 0)return;const d=typeof c;if(d!==o||c===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${d}`)}const i=(s,o)=>Object.entries(s).forEach(([l,c])=>n(l,c,o));i(t,!1),i(r,!0)}function nN(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $r=BigInt(0),wr=BigInt(1),da=BigInt(2),yA=BigInt(3),vA=BigInt(4),bA=BigInt(5),IZ=BigInt(7),wA=BigInt(8),EZ=BigInt(9),jA=BigInt(16);function In(e,t){const r=e%t;return r>=$r?r:t+r}function an(e,t,r){let n=e;for(;t-- >$r;)n*=n,n%=r;return n}function iN(e,t){if(e===$r)throw new Error("invert: expected non-zero number");if(t<=$r)throw new Error("invert: expected positive modulus, got "+t);let r=In(e,t),n=t,i=$r,s=wr;for(;r!==$r;){const l=n/r,c=n%r,d=i-s*l;n=r,r=c,i=s,s=d}if(n!==wr)throw new Error("invert: does not exist");return In(i,t)}function Tb(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function SA(e,t){const r=(e.ORDER+wr)/vA,n=e.pow(t,r);return Tb(e,n,t),n}function CZ(e,t){const r=(e.ORDER-bA)/wA,n=e.mul(t,da),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,da),i),l=e.mul(s,e.sub(o,e.ONE));return Tb(e,l,t),l}function PZ(e){const t=Fp(e),r=NA(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+IZ)/jA;return(l,c)=>{let d=l.pow(c,o),u=l.mul(d,n);const f=l.mul(d,i),h=l.mul(d,s),p=l.eql(l.sqr(u),c),g=l.eql(l.sqr(f),c);d=l.cmov(d,u,p),u=l.cmov(h,f,g);const m=l.eql(l.sqr(u),c),v=l.cmov(d,u,m);return Tb(l,v,c),v}}function NA(e){if(e<yA)throw new Error("sqrt is not defined for small field");let t=e-wr,r=0;for(;t%da===$r;)t/=da,r++;let n=da;const i=Fp(e);for(;sN(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return SA;let s=i.pow(n,t);const o=(t+wr)/da;return function(c,d){if(c.is0(d))return d;if(sN(c,d)!==1)throw new Error("Cannot find square root");let u=r,f=c.mul(c.ONE,s),h=c.pow(d,t),p=c.pow(d,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let g=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(g++,m=c.sqr(m),g===u)throw new Error("Cannot find square root");const v=wr<<BigInt(u-g-1),x=c.pow(f,v);u=g,f=c.sqr(x),h=c.mul(h,f),p=c.mul(p,x)}return p}}function TZ(e){return e%vA===yA?SA:e%wA===bA?CZ:e%jA===EZ?PZ(e):NA(e)}const AZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _Z(e){const t={ORDER:"bigint",BYTES:"number",BITS:"number"},r=AZ.reduce((n,i)=>(n[i]="function",n),t);return Pb(e,r),e}function OZ(e,t,r){if(r<$r)throw new Error("invalid exponent, negatives unsupported");if(r===$r)return e.ONE;if(r===wr)return t;let n=e.ONE,i=t;for(;r>$r;)r&wr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=wr;return n}function kA(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((o,l,c)=>e.is0(l)?o:(n[c]=o,e.mul(o,l)),e.ONE),s=e.inv(i);return t.reduceRight((o,l,c)=>e.is0(l)?o:(n[c]=e.mul(o,n[c]),e.mul(o,l)),s),n}function sN(e,t){const r=(e.ORDER-wr)/da,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function MZ(e,t){t!==void 0&&Oa(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}class $Z{constructor(t,r={}){ye(this,"ORDER");ye(this,"BITS");ye(this,"BYTES");ye(this,"isLE");ye(this,"ZERO",$r);ye(this,"ONE",wr);ye(this,"_lengths");ye(this,"_sqrt");ye(this,"_mod");var o;if(t<=$r)throw new Error("invalid field: expected ORDER > 0, got "+t);let n;this.isLE=!1,r!=null&&typeof r=="object"&&(typeof r.BITS=="number"&&(n=r.BITS),typeof r.sqrt=="function"&&(this.sqrt=r.sqrt),typeof r.isLE=="boolean"&&(this.isLE=r.isLE),r.allowedLengths&&(this._lengths=(o=r.allowedLengths)==null?void 0:o.slice()),typeof r.modFromBytes=="boolean"&&(this._mod=r.modFromBytes));const{nBitLength:i,nByteLength:s}=MZ(t,n);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=t,this.BITS=i,this.BYTES=s,this._sqrt=void 0,Object.preventExtensions(this)}create(t){return In(t,this.ORDER)}isValid(t){if(typeof t!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof t);return $r<=t&&t<this.ORDER}is0(t){return t===$r}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}isOdd(t){return(t&wr)===wr}neg(t){return In(-t,this.ORDER)}eql(t,r){return t===r}sqr(t){return In(t*t,this.ORDER)}add(t,r){return In(t+r,this.ORDER)}sub(t,r){return In(t-r,this.ORDER)}mul(t,r){return In(t*r,this.ORDER)}pow(t,r){return OZ(this,t,r)}div(t,r){return In(t*iN(r,this.ORDER),this.ORDER)}sqrN(t){return t*t}addN(t,r){return t+r}subN(t,r){return t-r}mulN(t,r){return t*r}inv(t){return iN(t,this.ORDER)}sqrt(t){return this._sqrt||(this._sqrt=TZ(this.ORDER)),this._sqrt(this,t)}toBytes(t){return this.isLE?xA(t,this.BYTES):Rp(t,this.BYTES)}fromBytes(t,r=!1){Qe(t);const{_lengths:n,BYTES:i,isLE:s,ORDER:o,_mod:l}=this;if(n){if(!n.includes(t.length)||t.length>i)throw new Error("Field.fromBytes: expected "+n+" bytes, got "+t.length);const d=new Uint8Array(i);d.set(t,s?0:d.length-t.length),t=d}if(t.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+t.length);let c=s?gA(t):Qi(t);if(l&&(c=In(c,o)),!r&&!this.isValid(c))throw new Error("invalid field element: outside of range 0..ORDER");return c}invertBatch(t){return kA(this,t)}cmov(t,r,n){return n?r:t}}function Fp(e,t={}){return new $Z(e,t)}function IA(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function EA(e){const t=IA(e);return t+Math.ceil(t/2)}function CA(e,t,r=!1){Qe(e);const n=e.length,i=IA(t),s=EA(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?gA(e):Qi(e),l=In(o,t-wr)+wr;return r?xA(l,i):Rp(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Go=BigInt(0),ua=BigInt(1);function hh(e,t){const r=t.negate();return e?r:t}function aN(e,t){const r=kA(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function PA(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function sg(e,t){PA(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=Cb(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function oN(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let l=Number(e&i),c=e>>o;l>n&&(l-=s,c+=ua);const d=t*n,u=d+Math.abs(l)-1,f=l===0,h=l<0,p=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:d}}const ag=new WeakMap,TA=new WeakMap;function og(e){return TA.get(e)||1}function lN(e){if(e!==Go)throw new Error("invalid wNAF")}class LZ{constructor(t,r){ye(this,"BASE");ye(this,"ZERO");ye(this,"Fn");ye(this,"bits");this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>Go;)r&ua&&(n=n.add(i)),i=i.double(),r>>=ua;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=sg(r,this.bits),s=[];let o=t,l=o;for(let c=0;c<n;c++){l=o,s.push(l);for(let d=1;d<i;d++)l=l.add(o),s.push(l);o=l.double()}return s}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=sg(t,this.bits);for(let l=0;l<o.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:f,isNegF:h,offsetF:p}=oN(n,l,o);n=c,u?s=s.add(hh(h,r[p])):i=i.add(hh(f,r[d]))}return lN(n),{p:i,f:s}}wNAFUnsafe(t,r,n,i=this.ZERO){const s=sg(t,this.bits);for(let o=0;o<s.windows&&n!==Go;o++){const{nextN:l,offset:c,isZero:d,isNeg:u}=oN(n,o,s);if(n=l,!d){const f=r[c];i=i.add(u?f.negate():f)}}return lN(n),i}getPrecomputes(t,r,n){let i=ag.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),ag.set(r,i))),i}cached(t,r,n){const i=og(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const s=og(t);return s===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,t,n),r,i)}createCache(t,r){PA(r,this.bits),TA.set(t,r),ag.delete(t)}hasCache(t){return og(t)!==1}}function DZ(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Go||n>Go;)r&ua&&(s=s.add(i)),n&ua&&(o=o.add(i)),i=i.double(),r>>=ua,n>>=ua;return{p1:s,p2:o}}function cN(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _Z(t),t}else return Fp(e,{isLE:r})}function BZ(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const d=t[c];if(!(typeof d=="bigint"&&d>Go))throw new Error(`CURVE.${c} must be positive bigint`)}const i=cN(t.p,r.Fp,n),s=cN(t.n,r.Fn,n),l=["Gx","Gy","a","b"];for(const c of l)if(!i.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:s}}function AA(e,t){return function(n){const i=e(n);return{secretKey:i,publicKey:t(i)}}}class _A{constructor(t,r){ye(this,"oHash");ye(this,"iHash");ye(this,"blockLen");ye(this,"outputLen");ye(this,"finished",!1);ye(this,"destroyed",!1);if(dA(t),Qe(r,void 0,"key"),this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Vo(i)}update(t){return dh(this),this.iHash.update(t),this}digestInto(t){dh(this),Qe(t,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:l}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=l,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const OA=(e,t,r)=>new _A(e,t).update(r).digest();OA.create=(e,t)=>new _A(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dN=(e,t)=>(e+(e>=0?t:-t)/MA)/t;function RZ(e,t,r){const[[n,i],[s,o]]=t,l=dN(o*e,r),c=dN(-i*e,r);let d=e-l*n-c*s,u=-l*i-c*o;const f=d<ki,h=u<ki;f&&(d=-d),h&&(u=-u);const p=Cb(Math.ceil(NZ(r)/2))+Io;if(d<ki||d>=p||u<ki||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:d,k2neg:h,k2:u}}function vx(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function lg(e,t){const r={};for(let n of Object.keys(t))r[n]=e[n]===void 0?t[n]:e[n];return fh(r.lowS,"lowS"),fh(r.prehash,"prehash"),r.format!==void 0&&vx(r.format),r}class FZ extends Error{constructor(t=""){super(t)}}const us={Err:FZ,_tlv:{encode:(e,t)=>{const{Err:r}=us;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=fu(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?fu(i.length/2|128):"";return fu(e)+s+i+t},decode(e,t){const{Err:r}=us;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const d=t.subarray(n,n+c);if(d.length!==c)throw new r("tlv.decode: length bytes not complete");if(d[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of d)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const l=t.subarray(n,n+o);if(l.length!==o)throw new r("tlv.decode: wrong value length");return{v:l,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=us;if(e<ki)throw new t("integer: negative integers are not allowed");let r=fu(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=us;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Qi(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=us,i=Qe(e,void 0,"signature"),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:l,l:c}=n.decode(2,s),{v:d,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(d)}},hexFromSig(e){const{_tlv:t,_int:r}=us,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},ki=BigInt(0),Io=BigInt(1),MA=BigInt(2),hu=BigInt(3),UZ=BigInt(4);function zZ(e,t={}){const r=BZ("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:l}=s;Pb(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:c}=t;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=LA(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(R,N,M){const{x:O,y:$}=N.toAffine(),z=n.toBytes(O);if(fh(M,"isCompressed"),M){u();const _=!n.isOdd($);return Xn($A(_),z)}else return Xn(Uint8Array.of(4),z,n.toBytes($))}function h(R){Qe(R,void 0,"Point");const{publicKey:N,publicKeyUncompressed:M}=d,O=R.length,$=R[0],z=R.subarray(1);if(O===N&&($===2||$===3)){const _=n.fromBytes(z);if(!n.isValid(_))throw new Error("bad point: is not on curve, wrong x");const q=m(_);let H;try{H=n.sqrt(q)}catch(ae){const ie=ae instanceof Error?": "+ae.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}u();const D=n.isOdd(H);return($&1)===1!==D&&(H=n.neg(H)),{x:_,y:H}}else if(O===M&&$===4){const _=n.BYTES,q=n.fromBytes(z.subarray(0,_)),H=n.fromBytes(z.subarray(_,_*2));if(!v(q,H))throw new Error("bad point: is not on curve");return{x:q,y:H}}else throw new Error(`bad point: got length ${O}, expected compressed=${N} or uncompressed=${M}`)}const p=t.toBytes||f,g=t.fromBytes||h;function m(R){const N=n.sqr(R),M=n.mul(N,R);return n.add(n.add(M,n.mul(R,s.a)),s.b)}function v(R,N){const M=n.sqr(N),O=m(R);return n.eql(M,O)}if(!v(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(s.a,hu),UZ),y=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(x,y)))throw new Error("bad curve params: a or b");function w(R,N,M=!1){if(!n.isValid(N)||M&&n.is0(N))throw new Error(`bad point coordinate ${R}`);return N}function S(R){if(!(R instanceof T))throw new Error("Weierstrass Point expected")}function j(R){if(!c||!c.basises)throw new Error("no endo");return RZ(R,c.basises,i.ORDER)}const I=nN((R,N)=>{const{X:M,Y:O,Z:$}=R;if(n.eql($,n.ONE))return{x:M,y:O};const z=R.is0();N==null&&(N=z?n.ONE:n.inv($));const _=n.mul(M,N),q=n.mul(O,N),H=n.mul($,N);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:_,y:q}}),E=nN(R=>{if(R.is0()){if(t.allowInfinityPoint&&!n.is0(R.Y))return;throw new Error("bad point: ZERO")}const{x:N,y:M}=R.toAffine();if(!n.isValid(N)||!n.isValid(M))throw new Error("bad point: x or y not field elements");if(!v(N,M))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(R,N,M,O,$){return M=new T(n.mul(M.X,R),M.Y,M.Z),N=hh(O,N),M=hh($,M),N.add(M)}const P=class P{constructor(N,M,O){ye(this,"X");ye(this,"Y");ye(this,"Z");this.X=w("x",N),this.Y=w("y",M,!0),this.Z=w("z",O),Object.freeze(this)}static CURVE(){return s}static fromAffine(N){const{x:M,y:O}=N||{};if(!N||!n.isValid(M)||!n.isValid(O))throw new Error("invalid affine point");if(N instanceof P)throw new Error("projective point not allowed");return n.is0(M)&&n.is0(O)?P.ZERO:new P(M,O,n.ONE)}static fromBytes(N){const M=P.fromAffine(g(Qe(N,void 0,"point")));return M.assertValidity(),M}static fromHex(N){return P.fromBytes(uh(N))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,M=!0){return V.createCache(this,N),M||this.multiply(hu),this}assertValidity(){E(this)}hasEvenY(){const{y:N}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(N)}equals(N){S(N);const{X:M,Y:O,Z:$}=this,{X:z,Y:_,Z:q}=N,H=n.eql(n.mul(M,q),n.mul(z,$)),D=n.eql(n.mul(O,q),n.mul(_,$));return H&&D}negate(){return new P(this.X,n.neg(this.Y),this.Z)}double(){const{a:N,b:M}=s,O=n.mul(M,hu),{X:$,Y:z,Z:_}=this;let q=n.ZERO,H=n.ZERO,D=n.ZERO,se=n.mul($,$),ae=n.mul(z,z),ie=n.mul(_,_),ce=n.mul($,z);return ce=n.add(ce,ce),D=n.mul($,_),D=n.add(D,D),q=n.mul(N,D),H=n.mul(O,ie),H=n.add(q,H),q=n.sub(ae,H),H=n.add(ae,H),H=n.mul(q,H),q=n.mul(ce,q),D=n.mul(O,D),ie=n.mul(N,ie),ce=n.sub(se,ie),ce=n.mul(N,ce),ce=n.add(ce,D),D=n.add(se,se),se=n.add(D,se),se=n.add(se,ie),se=n.mul(se,ce),H=n.add(H,se),ie=n.mul(z,_),ie=n.add(ie,ie),se=n.mul(ie,ce),q=n.sub(q,se),D=n.mul(ie,ae),D=n.add(D,D),D=n.add(D,D),new P(q,H,D)}add(N){S(N);const{X:M,Y:O,Z:$}=this,{X:z,Y:_,Z:q}=N;let H=n.ZERO,D=n.ZERO,se=n.ZERO;const ae=s.a,ie=n.mul(s.b,hu);let ce=n.mul(M,z),xe=n.mul(O,_),ve=n.mul($,q),ee=n.add(M,O),F=n.add(z,_);ee=n.mul(ee,F),F=n.add(ce,xe),ee=n.sub(ee,F),F=n.add(M,$);let re=n.add(z,q);return F=n.mul(F,re),re=n.add(ce,ve),F=n.sub(F,re),re=n.add(O,$),H=n.add(_,q),re=n.mul(re,H),H=n.add(xe,ve),re=n.sub(re,H),se=n.mul(ae,F),H=n.mul(ie,ve),se=n.add(H,se),H=n.sub(xe,se),se=n.add(xe,se),D=n.mul(H,se),xe=n.add(ce,ce),xe=n.add(xe,ce),ve=n.mul(ae,ve),F=n.mul(ie,F),xe=n.add(xe,ve),ve=n.sub(ce,ve),ve=n.mul(ae,ve),F=n.add(F,ve),ce=n.mul(xe,F),D=n.add(D,ce),ce=n.mul(re,F),H=n.mul(ee,H),H=n.sub(H,ce),ce=n.mul(ee,xe),se=n.mul(re,se),se=n.add(se,ce),new P(H,D,se)}subtract(N){return this.add(N.negate())}is0(){return this.equals(P.ZERO)}multiply(N){const{endo:M}=t;if(!i.isValidNot0(N))throw new Error("invalid scalar: out of range");let O,$;const z=_=>V.cached(this,_,q=>aN(P,q));if(M){const{k1neg:_,k1:q,k2neg:H,k2:D}=j(N),{p:se,f:ae}=z(q),{p:ie,f:ce}=z(D);$=ae.add(ce),O=C(M.beta,se,ie,_,H)}else{const{p:_,f:q}=z(N);O=_,$=q}return aN(P,[O,$])[0]}multiplyUnsafe(N){const{endo:M}=t,O=this;if(!i.isValid(N))throw new Error("invalid scalar: out of range");if(N===ki||O.is0())return P.ZERO;if(N===Io)return O;if(V.hasCache(this))return this.multiply(N);if(M){const{k1neg:$,k1:z,k2neg:_,k2:q}=j(N),{p1:H,p2:D}=DZ(P,O,z,q);return C(M.beta,H,D,$,_)}else return V.unsafe(O,N)}toAffine(N){return I(this,N)}isTorsionFree(){const{isTorsionFree:N}=t;return o===Io?!0:N?N(P,this):V.unsafe(this,l).is0()}clearCofactor(){const{clearCofactor:N}=t;return o===Io?this:N?N(P,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(N=!0){return fh(N,"isCompressed"),this.assertValidity(),p(P,this,N)}toHex(N=!0){return Dp(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}};ye(P,"BASE",new P(s.Gx,s.Gy,n.ONE)),ye(P,"ZERO",new P(n.ZERO,n.ONE,n.ZERO)),ye(P,"Fp",n),ye(P,"Fn",i);let T=P;const K=i.BITS,V=new LZ(T,t.endo?Math.ceil(K/2):K);return T.BASE.precompute(8),T}function $A(e){return Uint8Array.of(e?2:3)}function LA(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function WZ(e,t={}){const{Fn:r}=e,n=t.randomBytes||Bp,i=Object.assign(LA(e.Fp,r),{seed:EA(r.ORDER)});function s(p){try{const g=r.fromBytes(p);return r.isValidNot0(g)}catch{return!1}}function o(p,g){const{publicKey:m,publicKeyUncompressed:v}=i;try{const x=p.length;return g===!0&&x!==m||g===!1&&x!==v?!1:!!e.fromBytes(p)}catch{return!1}}function l(p=n(i.seed)){return CA(Qe(p,i.seed,"seed"),r.ORDER)}function c(p,g=!0){return e.BASE.multiply(r.fromBytes(p)).toBytes(g)}function d(p){const{secretKey:g,publicKey:m,publicKeyUncompressed:v}=i;if(!Ib(p)||"_lengths"in r&&r._lengths||g===m)return;const x=Qe(p,void 0,"key").length;return x===m||x===v}function u(p,g,m=!0){if(d(p)===!0)throw new Error("first arg must be private key");if(d(g)===!1)throw new Error("second arg must be public key");const v=r.fromBytes(p);return e.fromBytes(g).multiply(v).toBytes(m)}const f={isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:l},h=AA(l,c);return Object.freeze({getPublicKey:c,getSharedSecret:u,keygen:h,Point:e,utils:f,lengths:i})}function HZ(e,t,r={}){dA(t),Pb(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),r=Object.assign({},r);const n=r.randomBytes||Bp,i=r.hmac||((N,M)=>OA(t,N,M)),{Fp:s,Fn:o}=e,{ORDER:l,BITS:c}=o,{keygen:d,getPublicKey:u,getSharedSecret:f,utils:h,lengths:p}=WZ(e,r),g={prehash:!0,lowS:typeof r.lowS=="boolean"?r.lowS:!0,format:"compact",extraEntropy:!1},m=l*MA<s.ORDER;function v(N){const M=l>>Io;return N>M}function x(N,M){if(!o.isValidNot0(M))throw new Error(`invalid signature ${N}: out of range 1..Point.Fn.ORDER`);return M}function y(){if(m)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function w(N,M){vx(M);const O=p.signature,$=M==="compact"?O:M==="recovered"?O+1:void 0;return Qe(N,$)}class S{constructor(M,O,$){ye(this,"r");ye(this,"s");ye(this,"recovery");if(this.r=x("r",M),this.s=x("s",O),$!=null){if(y(),![0,1,2,3].includes($))throw new Error("invalid recovery id");this.recovery=$}Object.freeze(this)}static fromBytes(M,O=g.format){w(M,O);let $;if(O==="der"){const{r:H,s:D}=us.toSig(Qe(M));return new S(H,D)}O==="recovered"&&($=M[0],O="compact",M=M.subarray(1));const z=p.signature/2,_=M.subarray(0,z),q=M.subarray(z,z*2);return new S(o.fromBytes(_),o.fromBytes(q),$)}static fromHex(M,O){return this.fromBytes(uh(M),O)}assertRecovery(){const{recovery:M}=this;if(M==null)throw new Error("invalid recovery id: must be present");return M}addRecoveryBit(M){return new S(this.r,this.s,M)}recoverPublicKey(M){const{r:O,s:$}=this,z=this.assertRecovery(),_=z===2||z===3?O+l:O;if(!s.isValid(_))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const q=s.toBytes(_),H=e.fromBytes(Xn($A((z&1)===0),q)),D=o.inv(_),se=I(Qe(M,void 0,"msgHash")),ae=o.create(-se*D),ie=o.create($*D),ce=e.BASE.multiplyUnsafe(ae).add(H.multiplyUnsafe(ie));if(ce.is0())throw new Error("invalid recovery: point at infinify");return ce.assertValidity(),ce}hasHighS(){return v(this.s)}toBytes(M=g.format){if(vx(M),M==="der")return uh(us.hexFromSig(this));const{r:O,s:$}=this,z=o.toBytes(O),_=o.toBytes($);return M==="recovered"?(y(),Xn(Uint8Array.of(this.assertRecovery()),z,_)):Xn(z,_)}toHex(M){return Dp(this.toBytes(M))}}const j=r.bits2int||function(M){if(M.length>8192)throw new Error("input is too large");const O=Qi(M),$=M.length*8-c;return $>0?O>>BigInt($):O},I=r.bits2int_modN||function(M){return o.create(j(M))},E=Cb(c);function C(N){return SZ("num < 2^"+c,N,ki,E),o.toBytes(N)}function T(N,M){return Qe(N,void 0,"message"),M?Qe(t(N),void 0,"prehashed message"):N}function K(N,M,O){const{lowS:$,prehash:z,extraEntropy:_}=lg(O,g);N=T(N,z);const q=I(N),H=o.fromBytes(M);if(!o.isValidNot0(H))throw new Error("invalid private key");const D=[C(H),C(q)];if(_!=null&&_!==!1){const ce=_===!0?n(p.secretKey):_;D.push(Qe(ce,void 0,"extraEntropy"))}const se=Xn(...D),ae=q;function ie(ce){const xe=j(ce);if(!o.isValidNot0(xe))return;const ve=o.inv(xe),ee=e.BASE.multiply(xe).toAffine(),F=o.create(ee.x);if(F===ki)return;const re=o.create(ve*o.create(ae+F*H));if(re===ki)return;let W=(ee.x===F?0:2)|Number(ee.y&Io),le=re;return $&&v(re)&&(le=o.neg(re),W^=1),new S(F,le,m?void 0:W)}return{seed:se,k2sig:ie}}function V(N,M,O={}){const{seed:$,k2sig:z}=K(N,M,O);return kZ(t.outputLen,o.BYTES,i)($,z).toBytes(O.format)}function P(N,M,O,$={}){const{lowS:z,prehash:_,format:q}=lg($,g);if(O=Qe(O,void 0,"publicKey"),M=T(M,_),!Ib(N)){const H=N instanceof S?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+H)}w(N,q);try{const H=S.fromBytes(N,q),D=e.fromBytes(O);if(z&&H.hasHighS())return!1;const{r:se,s:ae}=H,ie=I(M),ce=o.inv(ae),xe=o.create(ie*ce),ve=o.create(se*ce),ee=e.BASE.multiplyUnsafe(xe).add(D.multiplyUnsafe(ve));return ee.is0()?!1:o.create(ee.x)===se}catch{return!1}}function R(N,M,O={}){const{prehash:$}=lg(O,g);return M=T(M,$),S.fromBytes(N,"recovered").recoverPublicKey(M).toBytes()}return Object.freeze({keygen:d,getPublicKey:u,getSharedSecret:f,utils:h,lengths:p,Point:e,sign:V,verify:P,recoverPublicKey:R,Signature:S,hash:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Up={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},KZ={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},VZ=BigInt(0),bx=BigInt(2);function GZ(e){const t=Up.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),l=BigInt(44),c=BigInt(88),d=e*e*e%t,u=d*d*e%t,f=an(u,r,t)*u%t,h=an(f,r,t)*u%t,p=an(h,bx,t)*d%t,g=an(p,i,t)*p%t,m=an(g,s,t)*g%t,v=an(m,l,t)*m%t,x=an(v,c,t)*v%t,y=an(x,l,t)*m%t,w=an(y,r,t)*u%t,S=an(w,o,t)*g%t,j=an(S,n,t)*d%t,I=an(j,bx,t);if(!ph.eql(ph.sqr(I),e))throw new Error("Cannot find square root");return I}const ph=Fp(Up.p,{sqrt:GZ}),Ra=zZ(Up,{Fp:ph,endo:KZ}),mo=HZ(Ra,_r),uN={};function mh(e,...t){let r=uN[e];if(r===void 0){const n=_r(wZ(e));r=Xn(n,n),uN[e]=r}return _r(Xn(r,...t))}const Ab=e=>e.toBytes(!0).slice(1),_b=e=>e%bx===VZ;function wx(e){const{Fn:t,BASE:r}=Ra,n=t.fromBytes(e),i=r.multiply(n);return{scalar:_b(i.y)?n:t.neg(n),bytes:Ab(i)}}function DA(e){const t=ph;if(!t.isValidNot0(e))throw new Error("invalid x: Fail if x  p");const r=t.create(e*e),n=t.create(r*e+BigInt(7));let i=t.sqrt(n);_b(i)||(i=t.neg(i));const s=Ra.fromAffine({x:e,y:i});return s.assertValidity(),s}const nc=Qi;function BA(...e){return Ra.Fn.create(nc(mh("BIP0340/challenge",...e)))}function fN(e){return wx(e).bytes}function qZ(e,t,r=Bp(32)){const{Fn:n}=Ra,i=Qe(e,void 0,"message"),{bytes:s,scalar:o}=wx(t),l=Qe(r,32,"auxRand"),c=n.toBytes(o^nc(mh("BIP0340/aux",l))),d=mh("BIP0340/nonce",c,s,i),{bytes:u,scalar:f}=wx(d),h=BA(u,s,i),p=new Uint8Array(64);if(p.set(u,0),p.set(n.toBytes(n.create(f+h*o)),32),!RA(p,i,s))throw new Error("sign: Invalid signature produced");return p}function RA(e,t,r){const{Fp:n,Fn:i,BASE:s}=Ra,o=Qe(e,64,"signature"),l=Qe(t,void 0,"message"),c=Qe(r,32,"publicKey");try{const d=DA(nc(c)),u=nc(o.subarray(0,32));if(!n.isValidNot0(u))return!1;const f=nc(o.subarray(32,64));if(!i.isValidNot0(f))return!1;const h=BA(i.toBytes(u),Ab(d),l),p=s.multiplyUnsafe(f).add(d.multiplyUnsafe(i.neg(h))),{x:g,y:m}=p.toAffine();return!(p.is0()||!_b(m)||g!==u)}catch{return!1}}const Ui=(()=>{const r=(n=Bp(48))=>CA(n,Up.n);return{keygen:AA(r,fN),getPublicKey:fN,sign:qZ,verify:RA,Point:Ra,utils:{randomSecretKey:r,taggedHash:mh,lift_x:DA,pointToBytes:Ab},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:32*2,seed:48}}})(),YZ=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),FA=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),ZZ=FA.map(e=>(9*e+5)%16),UA=(()=>{const r=[[FA],[ZZ]];for(let n=0;n<4;n++)for(let i of r)i.push(i[n].map(s=>YZ[s]));return r})(),zA=UA[0],WA=UA[1],HA=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),XZ=zA.map((e,t)=>e.map(r=>HA[t][r])),JZ=WA.map((e,t)=>e.map(r=>HA[t][r])),QZ=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),eX=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function hN(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const pu=new Uint32Array(16);class tX extends hA{constructor(){super(64,20,8,!0);ye(this,"h0",1732584193);ye(this,"h1",-271733879);ye(this,"h2",-1732584194);ye(this,"h3",271733878);ye(this,"h4",-1009589776)}get(){const{h0:r,h1:n,h2:i,h3:s,h4:o}=this;return[r,n,i,s,o]}set(r,n,i,s,o){this.h0=r|0,this.h1=n|0,this.h2=i|0,this.h3=s|0,this.h4=o|0}process(r,n){for(let g=0;g<16;g++,n+=4)pu[g]=r.getUint32(n,!0);let i=this.h0|0,s=i,o=this.h1|0,l=o,c=this.h2|0,d=c,u=this.h3|0,f=u,h=this.h4|0,p=h;for(let g=0;g<5;g++){const m=4-g,v=QZ[g],x=eX[g],y=zA[g],w=WA[g],S=XZ[g],j=JZ[g];for(let I=0;I<16;I++){const E=uu(i+hN(g,o,c,u)+pu[y[I]]+v,S[I])+h|0;i=h,h=u,u=uu(c,10)|0,c=o,o=E}for(let I=0;I<16;I++){const E=uu(s+hN(m,l,d,f)+pu[w[I]]+x,j[I])+p|0;s=p,p=f,f=uu(d,10)|0,d=l,l=E}}this.set(this.h1+c+f|0,this.h2+u+p|0,this.h3+h+s|0,this.h4+i+l|0,this.h0+o+d|0)}roundClean(){Vo(pu)}destroy(){this.destroyed=!0,Vo(this.buffer),this.set(0,0,0,0,0)}}const rX=fA(()=>new tX);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function nX(e){if(!qo(e))throw new Error("Uint8Array expected")}function KA(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(r=>typeof r=="string"):t.every(r=>Number.isSafeInteger(r)):!1}function Ob(e){if(typeof e!="function")throw new Error("function expected");return!0}function Yo(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function wd(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function gh(e){if(!Array.isArray(e))throw new Error("array expected")}function VA(e,t){if(!KA(!0,t))throw new Error(`${e}: array of strings expected`)}function Mb(e,t){if(!KA(!1,t))throw new Error(`${e}: array of numbers expected`)}function zp(...e){const t=s=>s,r=(s,o)=>l=>s(o(l)),n=e.map(s=>s.encode).reduceRight(r,t),i=e.map(s=>s.decode).reduce(r,t);return{encode:n,decode:i}}function $b(e){const t=typeof e=="string"?e.split(""):e,r=t.length;VA("alphabet",t);const n=new Map(t.map((i,s)=>[i,s]));return{encode:i=>(gh(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${e}`);return t[s]})),decode:i=>(gh(i),i.map(s=>{Yo("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${e}`);return o}))}}function Lb(e=""){return Yo("join",e),{encode:t=>(VA("join.decode",t),t.join(e)),decode:t=>(Yo("join.decode",t),t.split(e))}}function iX(e){return Ob(e),{encode:t=>t,decode:t=>e(t)}}function pN(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(gh(e),!e.length)return[];let n=0;const i=[],s=Array.from(e,l=>{if(wd(l),l<0||l>=t)throw new Error(`invalid integer: ${l}`);return l}),o=s.length;for(;;){let l=0,c=!0;for(let d=n;d<o;d++){const u=s[d],f=t*l,h=f+u;if(!Number.isSafeInteger(h)||f/t!==l||h-u!==f)throw new Error("convertRadix: carry overflow");const p=h/r;l=h%r;const g=Math.floor(p);if(s[d]=g,!Number.isSafeInteger(g)||g*r+l!==h)throw new Error("convertRadix: carry overflow");if(c)g?c=!1:n=d;else continue}if(i.push(l),c)break}for(let l=0;l<e.length-1&&e[l]===0;l++)i.push(0);return i.reverse()}const GA=(e,t)=>t===0?e:GA(t,e%t),xh=(e,t)=>e+(t-GA(e,t)),Ru=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function jx(e,t,r,n){if(gh(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(xh(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${xh(t,r)}`);let i=0,s=0;const o=Ru[t],l=Ru[r]-1,c=[];for(const d of e){if(wd(d),d>=o)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&l)>>>0);const u=Ru[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&l,!n&&s>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function sX(e){wd(e);const t=2**8;return{encode:r=>{if(!qo(r))throw new Error("radix.encode input should be Uint8Array");return pN(Array.from(r),t,e)},decode:r=>(Mb("radix.decode",r),Uint8Array.from(pN(r,e,t)))}}function qA(e,t=!1){if(wd(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(xh(8,e)>32||xh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!qo(r))throw new Error("radix2.encode input should be Uint8Array");return jx(Array.from(r),8,e,!t)},decode:r=>(Mb("radix2.decode",r),Uint8Array.from(jx(r,e,8,t)))}}function mN(e){return Ob(e),function(...t){try{return e.apply(null,t)}catch{}}}function aX(e,t){return wd(e),Ob(t),{encode(r){if(!qo(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!qo(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=r.slice(-e),s=t(n).slice(0,e);for(let o=0;o<e;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return n}}}const oX=e=>zp(sX(58),$b(e),Lb("")),lX=oX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),cX=e=>zp(aX(4,t=>e(e(t))),lX),Sx=zp($b("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Lb("")),gN=[996825010,642813549,513874426,1027748829,705979059];function Ll(e){const t=e>>25;let r=(e&33554431)<<5;for(let n=0;n<gN.length;n++)(t>>n&1)===1&&(r^=gN[n]);return r}function xN(e,t,r=1){const n=e.length;let i=1;for(let s=0;s<n;s++){const o=e.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);i=Ll(i)^o>>5}i=Ll(i);for(let s=0;s<n;s++)i=Ll(i)^e.charCodeAt(s)&31;for(let s of t)i=Ll(i)^s;for(let s=0;s<6;s++)i=Ll(i);return i^=r,Sx.encode(jx([i%Ru[30]],30,5,!1))}function YA(e){const t=e==="bech32"?1:734539939,r=qA(5),n=r.decode,i=r.encode,s=mN(n);function o(f,h,p=90){Yo("bech32.encode prefix",f),qo(h)&&(h=Array.from(h)),Mb("bech32.encode",h);const g=f.length;if(g===0)throw new TypeError(`Invalid prefix length ${g}`);const m=g+7+h.length;if(p!==!1&&m>p)throw new TypeError(`Length ${m} exceeds limit ${p}`);const v=f.toLowerCase(),x=xN(v,h,t);return`${v}1${Sx.encode(h)}${x}`}function l(f,h=90){Yo("bech32.decode input",f);const p=f.length;if(p<8||h!==!1&&p>h)throw new TypeError(`invalid string length: ${p} (${f}). Expected (8..${h})`);const g=f.toLowerCase();if(f!==g&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");const m=g.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=g.slice(0,m),x=g.slice(m+1);if(x.length<6)throw new Error("Data must be at least 6 characters long");const y=Sx.decode(x).slice(0,-6),w=xN(v,y,t);if(!x.endsWith(w))throw new Error(`Invalid checksum in ${f}: expected "${w}"`);return{prefix:v,words:y}}const c=mN(l);function d(f){const{prefix:h,words:p}=l(f,!1);return{prefix:h,words:p,bytes:n(p)}}function u(f,h){return o(f,i(h))}return{encode:o,decode:l,encodeFromBytes:u,decodeToBytes:d,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:s,toWords:i}}const Nx=YA("bech32"),ZA=YA("bech32m"),dX={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},uX=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fX={encode(e){return nX(e),e.toHex()},decode(e){return Yo("hex",e),Uint8Array.fromHex(e)}},ze=uX?fX:zp(qA(4),$b("0123456789abcdef"),Lb(""),iX(e=>{if(typeof e!="string"||e.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),ft=Uint8Array.of(),XA=Uint8Array.of(0);function Zo(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function mn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hX(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];if(!mn(i))throw new Error("Uint8Array expected");t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}const JA=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function jd(e){return Object.prototype.toString.call(e)==="[object Object]"}function ai(e){return Number.isSafeInteger(e)}const Db={equalBytes:Zo,isBytes:mn,concatBytes:hX},QA=e=>{if(e!==null&&typeof e!="string"&&!Ln(e)&&!mn(e)&&!ai(e))throw new Error(`lengthCoder: expected null | number | Uint8Array | CoderType, got ${e} (${typeof e})`);return{encodeStream(t,r){if(e===null)return;if(Ln(e))return e.encodeStream(t,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=zi.resolve(t.stack,e)),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw t.err(`Wrong length: ${n} len=${e} exp=${r} (${typeof r})`)},decodeStream(t){let r;if(Ln(e)?r=Number(e.decodeStream(t)):typeof e=="number"?r=e:typeof e=="string"&&(r=zi.resolve(t.stack,e)),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw t.err(`Wrong length: ${r}`);return r}}},zt={BITS:32,FULL_MASK:-1>>>0,len:e=>Math.ceil(e/32),create:e=>new Uint32Array(zt.len(e)),clean:e=>e.fill(0),debug:e=>Array.from(e).map(t=>(t>>>0).toString(2).padStart(32,"0")),checkLen:(e,t)=>{if(zt.len(t)!==e.length)throw new Error(`wrong length=${e.length}. Expected: ${zt.len(t)}`)},chunkLen:(e,t,r)=>{if(t<0)throw new Error(`wrong pos=${t}`);if(t+r>e)throw new Error(`wrong range=${t}/${r} of ${e}`)},set:(e,t,r,n=!0)=>!n&&e[t]&r?!1:(e[t]|=r,!0),pos:(e,t)=>({chunk:Math.floor((e+t)/32),mask:1<<32-(e+t)%32-1}),indices:(e,t,r=!1)=>{zt.checkLen(e,t);const{FULL_MASK:n,BITS:i}=zt,s=i-t%i,o=s?n>>>s<<s:n,l=[];for(let c=0;c<e.length;c++){let d=e[c];if(r&&(d=~d),c===e.length-1&&(d&=o),d!==0)for(let u=0;u<i;u++){const f=1<<i-u-1;d&f&&l.push(c*i+u)}}return l},range:e=>{const t=[];let r;for(const n of e)r===void 0||n!==r.pos+r.length?t.push(r={pos:n,length:1}):r.length+=1;return t},rangeDebug:(e,t,r=!1)=>`[${zt.range(zt.indices(e,t,r)).map(n=>`(${n.pos}/${n.length})`).join(", ")}]`,setRange:(e,t,r,n,i=!0)=>{zt.chunkLen(t,r,n);const{FULL_MASK:s,BITS:o}=zt,l=r%o?Math.floor(r/o):void 0,c=r+n,d=c%o?Math.floor(c/o):void 0;if(l!==void 0&&l===d)return zt.set(e,l,s>>>o-n<<o-n-r,i);if(l!==void 0&&!zt.set(e,l,s>>>r%o,i))return!1;const u=l!==void 0?l+1:r/o,f=d!==void 0?d:c/o;for(let h=u;h<f;h++)if(!zt.set(e,h,s,i))return!1;return!(d!==void 0&&l!==d&&!zt.set(e,d,s<<o-c%o,i))}},zi={pushObj:(e,t,r)=>{const n={obj:t};e.push(n),r((i,s)=>{n.field=i,s(),n.field=void 0}),e.pop()},path:e=>{const t=[];for(const r of e)r.field!==void 0&&t.push(r.field);return t.join("/")},err:(e,t,r)=>{const n=new Error(`${e}(${zi.path(t)}): ${typeof r=="string"?r:r.message}`);return r instanceof Error&&r.stack&&(n.stack=r.stack),n},resolve:(e,t)=>{const r=t.split("/"),n=e.map(o=>o.obj);let i=0;for(;i<r.length&&r[i]==="..";i++)n.pop();let s=n.pop();for(;i<r.length;i++){if(!s||s[r[i]]===void 0)return;s=s[r[i]]}return s}};class Bb{constructor(t,r={},n=[],i=void 0,s=0){ye(this,"pos",0);ye(this,"data");ye(this,"opts");ye(this,"stack");ye(this,"parent");ye(this,"parentOffset");ye(this,"bitBuf",0);ye(this,"bitPos",0);ye(this,"bs");ye(this,"view");this.data=t,this.opts=r,this.stack=n,this.parent=i,this.parentOffset=s,this.view=JA(t)}_enablePointers(){if(this.parent)return this.parent._enablePointers();this.bs||(this.bs=zt.create(this.data.length),zt.setRange(this.bs,this.data.length,0,this.pos,this.opts.allowMultipleReads))}markBytesBS(t,r){return this.parent?this.parent.markBytesBS(this.parentOffset+t,r):!r||!this.bs?!0:zt.setRange(this.bs,this.data.length,t,r,!1)}markBytes(t){const r=this.pos;this.pos+=t;const n=this.markBytesBS(r,t);if(!this.opts.allowMultipleReads&&!n)throw this.err(`multiple read pos=${this.pos} len=${t}`);return n}pushObj(t,r){return zi.pushObj(this.stack,t,r)}readView(t,r){if(!Number.isFinite(t))throw this.err(`readView: wrong length=${t}`);if(this.pos+t>this.data.length)throw this.err("readView: Unexpected end of buffer");const n=r(this.view,this.pos);return this.markBytes(t),n}absBytes(t){if(t>this.data.length)throw new Error("Unexpected end of buffer");return this.data.subarray(t)}finish(){if(!this.opts.allowUnreadBytes){if(this.bitPos)throw this.err(`${this.bitPos} bits left after unpack: ${ze.encode(this.data.slice(this.pos))}`);if(this.bs&&!this.parent){const t=zt.indices(this.bs,this.data.length,!0);if(t.length){const r=zt.range(t).map(({pos:n,length:i})=>`(${n}/${i})[${ze.encode(this.data.subarray(n,n+i))}]`).join(", ");throw this.err(`unread byte ranges: ${r} (total=${this.data.length})`)}else return}if(!this.isEnd())throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${ze.encode(this.data.slice(this.pos))}`)}}err(t){return zi.err("Reader",this.stack,t)}offsetReader(t){if(t>this.data.length)throw this.err("offsetReader: Unexpected end of buffer");return new Bb(this.absBytes(t),this.opts,this.stack,this,t)}bytes(t,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(t))throw this.err(`readBytes: wrong length=${t}`);if(this.pos+t>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const n=this.data.subarray(this.pos,this.pos+t);return r||this.markBytes(t),n}byte(t=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");if(this.pos+1>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const r=this.data[this.pos];return t||this.markBytes(1),r}get leftBytes(){return this.data.length-this.pos}get totalBytes(){return this.data.length}isEnd(){return this.pos>=this.data.length&&!this.bitPos}bits(t){if(t>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;t;){this.bitPos||(this.bitBuf=this.byte(),this.bitPos=8);const n=Math.min(t,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,t-=n}return r>>>0}find(t,r=this.pos){if(!mn(t))throw this.err(`find: needle is not bytes! ${t}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!t.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(t[0],n))!==-1;n++){if(n===-1||this.data.length-n<t.length)return;if(Zo(t,this.data.subarray(n,n+t.length)))return n}}}class pX{constructor(t=[]){ye(this,"pos",0);ye(this,"stack");ye(this,"buffers",[]);ye(this,"ptrs",[]);ye(this,"bitBuf",0);ye(this,"bitPos",0);ye(this,"viewBuf",new Uint8Array(8));ye(this,"view");ye(this,"finished",!1);this.stack=t,this.view=JA(this.viewBuf)}pushObj(t,r){return zi.pushObj(this.stack,t,r)}writeView(t,r){if(this.finished)throw this.err("buffer: finished");if(!ai(t)||t>8)throw new Error(`wrong writeView length=${t}`);r(this.view),this.bytes(this.viewBuf.slice(0,t)),this.viewBuf.fill(0)}err(t){if(this.finished)throw this.err("buffer: finished");return zi.err("Reader",this.stack,t)}bytes(t){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(t),this.pos+=t.length}byte(t){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([t])),this.pos++}finish(t=!0){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");const r=this.buffers.concat(this.ptrs.map(s=>s.buffer)),n=r.map(s=>s.length).reduce((s,o)=>s+o,0),i=new Uint8Array(n);for(let s=0,o=0;s<r.length;s++){const l=r[s];i.set(l,o),o+=l.length}for(let s=this.pos,o=0;o<this.ptrs.length;o++){const l=this.ptrs[o];i.set(l.ptr.encode(s),l.pos),s+=l.buffer.length}if(t){this.buffers=[];for(const s of this.ptrs)s.buffer.fill(0);this.ptrs=[],this.finished=!0,this.bitBuf=0}return i}bits(t,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(t>=2**r)throw this.err(`writeBits: value (${t}) >= 2**bits (${r})`);for(;r;){const n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|t>>r-n,this.bitPos+=n,r-=n,t&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}}const kx=e=>Uint8Array.from(e).reverse();function mX(e,t,r){if(r){const n=2n**(t-1n);if(e<-n||e>=n)throw new Error(`value out of signed bounds. Expected ${-n} <= ${e} < ${n}`)}else if(0n>e||e>=2n**t)throw new Error(`value out of unsigned bounds. Expected 0 <= ${e} < ${2n**t}`)}function e6(e){return{encodeStream:e.encodeStream,decodeStream:e.decodeStream,size:e.size,encode:t=>{const r=new pX;return e.encodeStream(r,t),r.finish()},decode:(t,r={})=>{const n=new Bb(t,r),i=e.decodeStream(n);return n.finish(),i}}}function rn(e,t){if(!Ln(e))throw new Error(`validate: invalid inner value ${e}`);if(typeof t!="function")throw new Error("validate: fn should be function");return e6({size:e.size,encodeStream:(r,n)=>{let i;try{i=t(n)}catch(s){throw r.err(s)}e.encodeStream(r,i)},decodeStream:r=>{const n=e.decodeStream(r);try{return t(n)}catch(i){throw r.err(i)}}})}const Wr=e=>{const t=e6(e);return e.validate?rn(t,e.validate):t},Wp=e=>jd(e)&&typeof e.decode=="function"&&typeof e.encode=="function";function Ln(e){return jd(e)&&Wp(e)&&typeof e.encodeStream=="function"&&typeof e.decodeStream=="function"&&(e.size===void 0||ai(e.size))}function gX(){return{encode:e=>{if(!Array.isArray(e))throw new Error("array expected");const t={};for(const r of e){if(!Array.isArray(r)||r.length!==2)throw new Error("array of two elements expected");const n=r[0],i=r[1];if(t[n]!==void 0)throw new Error(`key(${n}) appears twice in struct`);t[n]=i}return t},decode:e=>{if(!jd(e))throw new Error(`expected plain object, got ${e}`);return Object.entries(e)}}}const xX={encode:e=>{if(typeof e!="bigint")throw new Error(`expected bigint, got ${typeof e}`);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`element bigger than MAX_SAFE_INTEGER=${e}`);return Number(e)},decode:e=>{if(!ai(e))throw new Error("element is not a safe integer");return BigInt(e)}};function yX(e){if(!jd(e))throw new Error("plain object expected");return{encode:t=>{if(!ai(t)||!(t in e))throw new Error(`wrong value ${t}`);return e[t]},decode:t=>{if(typeof t!="string")throw new Error(`wrong value ${typeof t}`);return e[t]}}}function vX(e,t=!1){if(!ai(e))throw new Error(`decimal/precision: wrong value ${e}`);if(typeof t!="boolean")throw new Error(`decimal/round: expected boolean, got ${typeof t}`);const r=10n**BigInt(e);return{encode:n=>{if(typeof n!="bigint")throw new Error(`expected bigint, got ${typeof n}`);let i=(n<0n?-n:n).toString(10),s=i.length-e;s<0&&(i=i.padStart(i.length-s,"0"),s=0);let o=i.length-1;for(;o>=s&&i[o]==="0";o--);let l=i.slice(0,s),c=i.slice(s,o+1);return l||(l="0"),n<0n&&(l="-"+l),c?`${l}.${c}`:l},decode:n=>{if(typeof n!="string")throw new Error(`expected string, got ${typeof n}`);if(n==="-0")throw new Error("negative zero is not allowed");let i=!1;if(n.startsWith("-")&&(i=!0,n=n.slice(1)),!/^(0|[1-9]\d*)(\.\d+)?$/.test(n))throw new Error(`wrong string value=${n}`);let s=n.indexOf(".");s=s===-1?n.length:s;const o=n.slice(0,s),l=n.slice(s+1).replace(/0+$/,""),c=BigInt(o)*r;if(!t&&l.length>e)throw new Error(`fractional part cannot be represented with this precision (num=${n}, prec=${e})`);const d=Math.min(l.length,e),u=BigInt(l.slice(0,d))*10n**BigInt(e-d),f=c+u;return i?-f:f}}}function bX(e){if(!Array.isArray(e))throw new Error(`expected array, got ${typeof e}`);for(const t of e)if(!Wp(t))throw new Error(`wrong base coder ${t}`);return{encode:t=>{for(const r of e){const n=r.encode(t);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${t}`)},decode:t=>{for(const r of e){const n=r.decode(t);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${t}`)}}}const t6=e=>{if(!Wp(e))throw new Error("BaseCoder expected");return{encode:e.decode,decode:e.encode}},Hp={dict:gX,numberBigint:xX,tsEnum:yX,decimal:vX,match:bX,reverse:t6},Rb=(e,t=!1,r=!1,n=!0)=>{if(!ai(e))throw new Error(`bigint/size: wrong value ${e}`);if(typeof t!="boolean")throw new Error(`bigint/le: expected boolean, got ${typeof t}`);if(typeof r!="boolean")throw new Error(`bigint/signed: expected boolean, got ${typeof r}`);if(typeof n!="boolean")throw new Error(`bigint/sized: expected boolean, got ${typeof n}`);const i=BigInt(e),s=2n**(8n*i-1n);return Wr({size:n?e:void 0,encodeStream:(o,l)=>{r&&l<0&&(l=l|s);const c=[];for(let u=0;u<e;u++)c.push(Number(l&255n)),l>>=8n;let d=new Uint8Array(c).reverse();if(!n){let u=0;for(u=0;u<d.length&&d[u]===0;u++);d=d.subarray(u)}o.bytes(t?d.reverse():d)},decodeStream:o=>{const l=o.bytes(n?e:Math.min(e,o.leftBytes)),c=t?l:kx(l);let d=0n;for(let u=0;u<c.length;u++)d|=BigInt(c[u])<<8n*BigInt(u);return r&&d&s&&(d=(d^s)-s),d},validate:o=>{if(typeof o!="bigint")throw new Error(`bigint: invalid value: ${o}`);return mX(o,8n*i,!!r),o}})},wX=Rb(32,!1),Fu=Rb(8,!0),jX=Rb(8,!0,!0),SX=(e,t)=>Wr({size:e,encodeStream:(r,n)=>r.writeView(e,i=>t.write(i,n)),decodeStream:r=>r.readView(e,t.read),validate:r=>{if(typeof r!="number")throw new Error(`viewCoder: expected number, got ${typeof r}`);return t.validate&&t.validate(r),r}}),Sd=(e,t,r)=>{const n=e*8,i=2**(n-1),s=c=>{if(!ai(c))throw new Error(`sintView: value is not safe integer: ${c}`);if(c<-i||c>=i)throw new Error(`sintView: value out of bounds. Expected ${-i} <= ${c} < ${i}`)},o=2**n,l=c=>{if(!ai(c))throw new Error(`uintView: value is not safe integer: ${c}`);if(0>c||c>=o)throw new Error(`uintView: value out of bounds. Expected 0 <= ${c} < ${o}`)};return SX(e,{write:r.write,read:r.read,validate:t?s:l})},Ge=Sd(4,!1,{read:(e,t)=>e.getUint32(t,!0),write:(e,t)=>e.setUint32(0,t,!0)}),NX=Sd(4,!1,{read:(e,t)=>e.getUint32(t,!1),write:(e,t)=>e.setUint32(0,t,!1)}),go=Sd(4,!0,{read:(e,t)=>e.getInt32(t,!0),write:(e,t)=>e.setInt32(0,t,!0)}),yN=Sd(2,!1,{read:(e,t)=>e.getUint16(t,!0),write:(e,t)=>e.setUint16(0,t,!0)}),Ts=Sd(1,!1,{read:(e,t)=>e.getUint8(t),write:(e,t)=>e.setUint8(0,t)}),yt=(e,t=!1)=>{if(typeof t!="boolean")throw new Error(`bytes/le: expected boolean, got ${typeof t}`);const r=QA(e),n=mn(e);return Wr({size:typeof e=="number"?e:void 0,encodeStream:(i,s)=>{n||r.encodeStream(i,s.length),i.bytes(t?kx(s):s),n&&i.bytes(e)},decodeStream:i=>{let s;if(n){const o=i.find(e);if(!o)throw i.err("bytes: cannot find terminator");s=i.bytes(o-i.pos),i.bytes(e.length)}else s=i.bytes(e===null?i.leftBytes:r.decodeStream(i));return t?kx(s):s},validate:i=>{if(!mn(i))throw new Error(`bytes: invalid value ${i}`);return i}})};function kX(e,t){if(!Ln(t))throw new Error(`prefix: invalid inner value ${t}`);return Ma(yt(e),t6(t))}const Fb=(e,t=!1)=>rn(Ma(yt(e,t),dX),r=>{if(typeof r!="string")throw new Error(`expected string, got ${typeof r}`);return r}),IX=(e,t={isLE:!1,with0x:!1})=>{let r=Ma(yt(e,t.isLE),ze);const n=t.with0x;if(typeof n!="boolean")throw new Error(`hex/with0x: expected boolean, got ${typeof n}`);return n&&(r=Ma(r,{encode:i=>`0x${i}`,decode:i=>{if(!i.startsWith("0x"))throw new Error("hex(with0x=true).encode input should start with 0x");return i.slice(2)}})),r};function Ma(e,t){if(!Ln(e))throw new Error(`apply: invalid inner value ${e}`);if(!Wp(t))throw new Error(`apply: invalid base value ${e}`);return Wr({size:e.size,encodeStream:(r,n)=>{let i;try{i=t.decode(n)}catch(s){throw r.err(""+s)}return e.encodeStream(r,i)},decodeStream:r=>{const n=e.decodeStream(r);try{return t.encode(n)}catch(i){throw r.err(""+i)}}})}const EX=(e,t=!1)=>{if(!mn(e))throw new Error(`flag/flagValue: expected Uint8Array, got ${typeof e}`);if(typeof t!="boolean")throw new Error(`flag/xor: expected boolean, got ${typeof t}`);return Wr({size:e.length,encodeStream:(r,n)=>{!!n!==t&&r.bytes(e)},decodeStream:r=>{let n=r.leftBytes>=e.length;return n&&(n=Zo(r.bytes(e.length,!0),e),n&&r.bytes(e.length)),n!==t},validate:r=>{if(r!==void 0&&typeof r!="boolean")throw new Error(`flag: expected boolean value or undefined, got ${typeof r}`);return r}})};function CX(e,t,r){if(!Ln(t))throw new Error(`flagged: invalid inner value ${t}`);return Wr({encodeStream:(n,i)=>{zi.resolve(n.stack,e)&&t.encodeStream(n,i)},decodeStream:n=>{let i=!1;if(i=!!zi.resolve(n.stack,e),i)return t.decodeStream(n)}})}function Ub(e,t,r=!0){if(!Ln(e))throw new Error(`magic: invalid inner value ${e}`);if(typeof r!="boolean")throw new Error(`magic: expected boolean, got ${typeof r}`);return Wr({size:e.size,encodeStream:(n,i)=>e.encodeStream(n,t),decodeStream:n=>{const i=e.decodeStream(n);if(r&&typeof i!="object"&&i!==t||mn(t)&&!Zo(t,i))throw n.err(`magic: invalid value: ${i} !== ${t}`)},validate:n=>{if(n!==void 0)throw new Error(`magic: wrong value=${typeof n}`);return n}})}function r6(e){let t=0;for(const r of e){if(r.size===void 0)return;if(!ai(r.size))throw new Error(`sizeof: wrong element size=${t}`);t+=r.size}return t}function ur(e){if(!jd(e))throw new Error(`struct: expected plain object, got ${e}`);for(const t in e)if(!Ln(e[t]))throw new Error(`struct: field ${t} is not CoderType`);return Wr({size:r6(Object.values(e)),encodeStream:(t,r)=>{t.pushObj(r,n=>{for(const i in e)n(i,()=>e[i].encodeStream(t,r[i]))})},decodeStream:t=>{const r={};return t.pushObj(r,n=>{for(const i in e)n(i,()=>r[i]=e[i].decodeStream(t))}),r},validate:t=>{if(typeof t!="object"||t===null)throw new Error(`struct: invalid value ${t}`);return t}})}function PX(e){if(!Array.isArray(e))throw new Error(`Packed.Tuple: got ${typeof e} instead of array`);for(let t=0;t<e.length;t++)if(!Ln(e[t]))throw new Error(`tuple: field ${t} is not CoderType`);return Wr({size:r6(e),encodeStream:(t,r)=>{if(!Array.isArray(r))throw t.err(`tuple: invalid value ${r}`);t.pushObj(r,n=>{for(let i=0;i<e.length;i++)n(`${i}`,()=>e[i].encodeStream(t,r[i]))})},decodeStream:t=>{const r=[];return t.pushObj(r,n=>{for(let i=0;i<e.length;i++)n(`${i}`,()=>r.push(e[i].decodeStream(t)))}),r},validate:t=>{if(!Array.isArray(t))throw new Error(`tuple: invalid value ${t}`);if(t.length!==e.length)throw new Error(`tuple: wrong length=${t.length}, expected ${e.length}`);return t}})}function Fr(e,t){if(!Ln(t))throw new Error(`array: invalid inner value ${t}`);const r=QA(typeof e=="string"?`../${e}`:e);return Wr({size:typeof e=="number"&&t.size?e*t.size:void 0,encodeStream:(n,i)=>{const s=n;s.pushObj(i,o=>{mn(e)||r.encodeStream(n,i.length);for(let l=0;l<i.length;l++)o(`${l}`,()=>{const c=i[l],d=n.pos;if(t.encodeStream(n,c),mn(e)){if(e.length>s.pos-d)return;const u=s.finish(!1).subarray(d,s.pos);if(Zo(u.subarray(0,e.length),e))throw s.err(`array: inner element encoding same as separator. elm=${c} data=${u}`)}})}),mn(e)&&n.bytes(e)},decodeStream:n=>{const i=[];return n.pushObj(i,s=>{if(e===null)for(let o=0;!n.isEnd()&&(s(`${o}`,()=>i.push(t.decodeStream(n))),!(t.size&&n.leftBytes<t.size));o++);else if(mn(e))for(let o=0;;o++){if(Zo(n.bytes(e.length,!0),e)){n.bytes(e.length);break}s(`${o}`,()=>i.push(t.decodeStream(n)))}else{let o;s("arrayLen",()=>o=r.decodeStream(n));for(let l=0;l<o;l++)s(`${l}`,()=>i.push(t.decodeStream(n)))}}),i},validate:n=>{if(!Array.isArray(n))throw new Error(`array: invalid value ${n}`);return n}})}const ul=mo.Point,vN=ul.Fn,n6=ul.Fn.ORDER,i6=e=>e%2n===0n,nt=Db.isBytes,ms=Db.concatBytes,At=Db.equalBytes,s6=e=>rX(_r(e)),ss=(...e)=>_r(_r(ms(...e))),a6=Ui.getPublicKey,TX=mo.getPublicKey,bN=e=>e.r<n6/2n;function AX(e,t,r=!1){let n=mo.Signature.fromBytes(mo.sign(e,t,{prehash:!1}));if(r&&!bN(n)){const i=new Uint8Array(32);let s=0;for(;!bN(n);)if(i.set(Ge.encode(s++)),n=mo.Signature.fromBytes(mo.sign(e,t,{prehash:!1,extraEntropy:i})),s>4294967295)throw new Error("lowR counter overflow: report the error")}return n.toBytes("der")}const wN=Ui.sign,zb=Ui.utils.taggedHash,Yr={ecdsa:0,schnorr:1};function Xo(e,t){const r=e.length;if(t===Yr.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return ul.fromBytes(e),e}else if(t===Yr.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Ui.utils.lift_x(Qi(e)),e}else throw new Error("Unknown key type")}function o6(e,t){const n=Ui.utils.taggedHash("TapTweak",e,t),i=Qi(n);if(i>=n6)throw new Error("tweak higher than curve order");return i}function _X(e,t=Uint8Array.of()){const r=Ui.utils,n=Qi(e),i=ul.BASE.multiply(n),s=i6(i.y)?n:vN.neg(n),o=r.pointToBytes(i),l=o6(o,t);return Rp(vN.add(s,l),32)}function Ix(e,t){const r=Ui.utils,n=o6(e,t),s=r.lift_x(Qi(e)).add(ul.BASE.multiply(n)),o=i6(s.y)?0:1;return[r.pointToBytes(s),o]}const Kp=_r(ul.BASE.toBytes(!1)),Kc={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};function Ex(e,t){if(!nt(e)||!nt(t))throw new Error(`cmp: wrong type a=${typeof e} b=${typeof t}`);const r=Math.min(e.length,t.length);for(let n=0;n<r;n++)if(e[n]!=t[n])return Math.sign(e[n]-t[n]);return Math.sign(e.length-t.length)}function l6(e){const t={};for(const r in e){if(t[e[r]]!==void 0)throw new Error("duplicate key");t[e[r]]=r}return t}const qt={OP_0:0,PUSHDATA1:76,PUSHDATA2:77,PUSHDATA4:78,"1NEGATE":79,RESERVED:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,NOP:97,VER:98,IF:99,NOTIF:100,VERIF:101,VERNOTIF:102,ELSE:103,ENDIF:104,VERIFY:105,RETURN:106,TOALTSTACK:107,FROMALTSTACK:108,"2DROP":109,"2DUP":110,"3DUP":111,"2OVER":112,"2ROT":113,"2SWAP":114,IFDUP:115,DEPTH:116,DROP:117,DUP:118,NIP:119,OVER:120,PICK:121,ROLL:122,ROT:123,SWAP:124,TUCK:125,CAT:126,SUBSTR:127,LEFT:128,RIGHT:129,SIZE:130,INVERT:131,AND:132,OR:133,XOR:134,EQUAL:135,EQUALVERIFY:136,RESERVED1:137,RESERVED2:138,"1ADD":139,"1SUB":140,"2MUL":141,"2DIV":142,NEGATE:143,ABS:144,NOT:145,"0NOTEQUAL":146,ADD:147,SUB:148,MUL:149,DIV:150,MOD:151,LSHIFT:152,RSHIFT:153,BOOLAND:154,BOOLOR:155,NUMEQUAL:156,NUMEQUALVERIFY:157,NUMNOTEQUAL:158,LESSTHAN:159,GREATERTHAN:160,LESSTHANOREQUAL:161,GREATERTHANOREQUAL:162,MIN:163,MAX:164,WITHIN:165,RIPEMD160:166,SHA1:167,SHA256:168,HASH160:169,HASH256:170,CODESEPARATOR:171,CHECKSIG:172,CHECKSIGVERIFY:173,CHECKMULTISIG:174,CHECKMULTISIGVERIFY:175,NOP1:176,CHECKLOCKTIMEVERIFY:177,CHECKSEQUENCEVERIFY:178,NOP4:179,NOP5:180,NOP6:181,NOP7:182,NOP8:183,NOP9:184,NOP10:185,CHECKSIGADD:186,INVALID:255},OX=l6(qt);function c6(e=6,t=!1){return Wr({encodeStream:(r,n)=>{if(n===0n)return;const i=n<0,s=BigInt(n),o=[];for(let l=i?-s:s;l;l>>=8n)o.push(Number(l&0xffn));o[o.length-1]>=128?o.push(i?128:0):i&&(o[o.length-1]|=128),r.bytes(new Uint8Array(o))},decodeStream:r=>{const n=r.leftBytes;if(n>e)throw new Error(`ScriptNum: number (${n}) bigger than limit=${e}`);if(n===0)return 0n;if(t){const o=r.bytes(n,!0);if(!(o[o.length-1]&127)&&(n<=1||!(o[o.length-2]&128)))throw new Error("Non-minimally encoded ScriptNum")}let i=0,s=0n;for(let o=0;o<n;++o)i=r.byte(),s|=BigInt(i)<<8n*BigInt(o);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s}})}function MX(e,t=4,r=!0){if(typeof e=="number")return e;if(nt(e))try{const n=c6(t,r).decode(e);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}const Ut=Wr({encodeStream:(e,t)=>{for(let r of t){if(typeof r=="string"){if(qt[r]===void 0)throw new Error(`Unknown opcode=${r}`);e.byte(qt[r]);continue}else if(typeof r=="number"){if(r===0){e.byte(0);continue}else if(1<=r&&r<=16){e.byte(qt.OP_1-1+r);continue}}if(typeof r=="number"&&(r=c6().encode(BigInt(r))),!nt(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);const n=r.length;n<qt.PUSHDATA1?e.byte(n):n<=255?(e.byte(qt.PUSHDATA1),e.byte(n)):n<=65535?(e.byte(qt.PUSHDATA2),e.bytes(yN.encode(n))):(e.byte(qt.PUSHDATA4),e.bytes(Ge.encode(n))),e.bytes(r)}},decodeStream:e=>{const t=[];for(;!e.isEnd();){const r=e.byte();if(qt.OP_0<r&&r<=qt.PUSHDATA4){let n;if(r<qt.PUSHDATA1)n=r;else if(r===qt.PUSHDATA1)n=Ts.decodeStream(e);else if(r===qt.PUSHDATA2)n=yN.decodeStream(e);else if(r===qt.PUSHDATA4)n=Ge.decodeStream(e);else throw new Error("Should be not possible");t.push(e.bytes(n))}else if(r===0)t.push(0);else if(qt.OP_1<=r&&r<=qt.OP_16)t.push(r-(qt.OP_1-1));else{const n=OX[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);t.push(n)}}return t}}),jN={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},Vp=Wr({encodeStream:(e,t)=>{if(typeof t=="number"&&(t=BigInt(t)),0n<=t&&t<=252n)return e.byte(Number(t));for(const[r,n,i,s]of Object.values(jN))if(!(i>t||t>s)){e.byte(r);for(let o=0;o<n;o++)e.byte(Number(t>>8n*BigInt(o)&0xffn));return}throw e.err(`VarInt too big: ${t}`)},decodeStream:e=>{const t=e.byte();if(t<=252)return BigInt(t);const[r,n,i]=jN[t];let s=0n;for(let o=0;o<n;o++)s|=BigInt(e.byte())<<8n*BigInt(o);if(s<i)throw e.err(`Wrong CompactSize(${8*n})`);return s}}),Dn=Ma(Vp,Hp.numberBigint),Pn=yt(Vp),Wb=Fr(Dn,Pn),yh=e=>Fr(Vp,e),d6=ur({txid:yt(32,!0),index:Ge,finalScriptSig:Pn,sequence:Ge}),fa=ur({amount:Fu,script:Pn}),$X=ur({version:go,segwitFlag:EX(new Uint8Array([0,1])),inputs:yh(d6),outputs:yh(fa),witnesses:CX("segwitFlag",Fr("inputs/length",Wb)),lockTime:Ge});function LX(e){if(e.segwitFlag&&e.witnesses&&!e.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return e}const Eo=rn($X,LX),Kl=ur({version:go,inputs:yh(d6),outputs:yh(fa),lockTime:Ge}),Cx=rn(yt(null),e=>Xo(e,Yr.ecdsa)),vh=rn(yt(32),e=>Xo(e,Yr.schnorr)),SN=rn(yt(null),e=>{if(e.length!==64&&e.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return e}),Gp=ur({fingerprint:NX,path:Fr(null,Ge)}),u6=ur({hashes:Fr(Dn,yt(32)),der:Gp}),DX=yt(78),BX=ur({pubKey:vh,leafHash:yt(32)}),RX=ur({version:Ts,internalKey:yt(32),merklePath:Fr(null,yt(32))}),ha=rn(RX,e=>{if(e.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return e}),FX=Fr(null,ur({depth:Ts,version:Ts,script:Pn})),Tt=yt(null),NN=yt(20),Dl=yt(32),Hb={unsignedTx:[0,!1,Kl,[0],[0],!1],xpub:[1,DX,Gp,[],[0,2],!1],txVersion:[2,!1,Ge,[2],[2],!1],fallbackLocktime:[3,!1,Ge,[],[2],!1],inputCount:[4,!1,Dn,[2],[2],!1],outputCount:[5,!1,Dn,[2],[2],!1],txModifiable:[6,!1,Ts,[],[2],!1],version:[251,!1,Ge,[],[0,2],!1],proprietary:[252,Tt,Tt,[],[0,2],!1]},qp={nonWitnessUtxo:[0,!1,Eo,[],[0,2],!1],witnessUtxo:[1,!1,fa,[],[0,2],!1],partialSig:[2,Cx,Tt,[],[0,2],!1],sighashType:[3,!1,Ge,[],[0,2],!1],redeemScript:[4,!1,Tt,[],[0,2],!1],witnessScript:[5,!1,Tt,[],[0,2],!1],bip32Derivation:[6,Cx,Gp,[],[0,2],!1],finalScriptSig:[7,!1,Tt,[],[0,2],!1],finalScriptWitness:[8,!1,Wb,[],[0,2],!1],porCommitment:[9,!1,Tt,[],[0,2],!1],ripemd160:[10,NN,Tt,[],[0,2],!1],sha256:[11,Dl,Tt,[],[0,2],!1],hash160:[12,NN,Tt,[],[0,2],!1],hash256:[13,Dl,Tt,[],[0,2],!1],txid:[14,!1,Dl,[2],[2],!0],index:[15,!1,Ge,[2],[2],!0],sequence:[16,!1,Ge,[],[2],!0],requiredTimeLocktime:[17,!1,Ge,[],[2],!1],requiredHeightLocktime:[18,!1,Ge,[],[2],!1],tapKeySig:[19,!1,SN,[],[0,2],!1],tapScriptSig:[20,BX,SN,[],[0,2],!1],tapLeafScript:[21,ha,Tt,[],[0,2],!1],tapBip32Derivation:[22,Dl,u6,[],[0,2],!1],tapInternalKey:[23,!1,vh,[],[0,2],!1],tapMerkleRoot:[24,!1,Dl,[],[0,2],!1],proprietary:[252,Tt,Tt,[],[0,2],!1]},UX=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],zX=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],bh={redeemScript:[0,!1,Tt,[],[0,2],!1],witnessScript:[1,!1,Tt,[],[0,2],!1],bip32Derivation:[2,Cx,Gp,[],[0,2],!1],amount:[3,!1,jX,[2],[2],!0],script:[4,!1,Tt,[2],[2],!0],tapInternalKey:[5,!1,vh,[],[0,2],!1],tapTree:[6,!1,FX,[],[0,2],!1],tapBip32Derivation:[7,vh,u6,[],[0,2],!1],proprietary:[252,Tt,Tt,[],[0,2],!1]},WX=[],kN=Fr(XA,ur({key:kX(Dn,ur({type:Dn,key:yt(null)})),value:yt(Dn)}));function Px(e){const[t,r,n,i,s,o]=e;return{type:t,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:o}}ur({type:Dn,key:yt(null)});function Kb(e){const t={};for(const r in e){const[n,i,s]=e[r];t[n]=[r,i,s]}return Wr({encodeStream:(r,n)=>{let i=[];for(const s in e){const o=n[s];if(o===void 0)continue;const[l,c,d]=e[s];if(!c)i.push({key:{type:l,key:ft},value:d.encode(o)});else{const u=o.map(([f,h])=>[c.encode(f),d.encode(h)]);u.sort((f,h)=>Ex(f[0],h[0]));for(const[f,h]of u)i.push({key:{key:f,type:l},value:h})}}if(n.unknown){n.unknown.sort((s,o)=>Ex(s[0].key,o[0].key));for(const[s,o]of n.unknown)i.push({key:s,value:o})}kN.encodeStream(r,i)},decodeStream:r=>{const n=kN.decodeStream(r),i={},s={};for(const o of n){let l="unknown",c=o.key.key,d=o.value;if(t[o.key.type]){const[u,f,h]=t[o.key.type];if(l=u,!f&&c.length)throw new Error(`PSBT: Non-empty key for ${l} (key=${ze.encode(c)} value=${ze.encode(d)}`);if(c=f?f.decode(c):void 0,d=h.decode(d),!f){if(i[l])throw new Error(`PSBT: Same keys: ${l} (key=${c} value=${d})`);i[l]=d,s[l]=!0;continue}}else c={type:o.key.type,key:o.key.key};if(s[l])throw new Error(`PSBT: Key type with empty key and no key=${l} val=${d}`);i[l]||(i[l]=[]),i[l].push([c,d])}return i}})}const Vb=rn(Kb(qp),e=>{if(e.finalScriptWitness&&!e.finalScriptWitness.length)throw new Error("validateInput: empty finalScriptWitness");if(e.partialSig&&!e.partialSig.length)throw new Error("Empty partialSig");if(e.partialSig)for(const[t]of e.partialSig)Xo(t,Yr.ecdsa);if(e.bip32Derivation)for(const[t]of e.bip32Derivation)Xo(t,Yr.ecdsa);if(e.requiredTimeLocktime!==void 0&&e.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${e.requiredTimeLocktime}`);if(e.requiredHeightLocktime!==void 0&&(e.requiredHeightLocktime<=0||e.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${e.requiredHeightLocktime}`);if(e.tapLeafScript)for(const[t,r]of e.tapLeafScript){if((t.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}return e}),Gb=rn(Kb(bh),e=>{if(e.bip32Derivation)for(const[t]of e.bip32Derivation)Xo(t,Yr.ecdsa);return e}),f6=rn(Kb(Hb),e=>{if((e.version||0)===0){if(!e.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");for(const r of e.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return e}),HX=ur({magic:Ub(Fb(new Uint8Array([255])),"psbt"),global:f6,inputs:Fr("global/unsignedTx/inputs/length",Vb),outputs:Fr(null,Gb)}),KX=ur({magic:Ub(Fb(new Uint8Array([255])),"psbt"),global:f6,inputs:Fr("global/inputCount",Vb),outputs:Fr("global/outputCount",Gb)});ur({magic:Ub(Fb(new Uint8Array([255])),"psbt"),items:Fr(null,Ma(Fr(XA,PX([IX(Dn),yt(Vp)])),Hp.dict()))});function cg(e,t,r){for(const n in r){if(n==="unknown"||!t[n])continue;const{allowInc:i}=Px(t[n]);if(!i.includes(e))throw new Error(`PSBTv${e}: field ${n} is not allowed`)}for(const n in t){const{reqInc:i}=Px(t[n]);if(i.includes(e)&&r[n]===void 0)throw new Error(`PSBTv${e}: missing required field ${n}`)}}function IN(e,t,r){const n={};for(const i in r){const s=i;if(s!=="unknown"){if(!t[s])continue;const{allowInc:o,silentIgnore:l}=Px(t[s]);if(!o.includes(e)){if(l)continue;throw new Error(`Failed to serialize in PSBTv${e}: ${s} but versions allows inclusion=${o}`)}}n[s]=r[s]}return n}function h6(e){const t=e&&e.global&&e.global.version||0;cg(t,Hb,e.global);for(const o of e.inputs)cg(t,qp,o);for(const o of e.outputs)cg(t,bh,o);const r=t?e.global.inputCount:e.global.unsignedTx.inputs.length;if(e.inputs.length<r)throw new Error("Not enough inputs");const n=e.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);const i=t?e.global.outputCount:e.global.unsignedTx.outputs.length;if(e.outputs.length<i)throw new Error("Not outputs inputs");const s=e.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return e}function Tx(e,t,r,n,i){const s={...r,...t};for(const o in e){const l=o,[c,d,u]=e[l],f=n&&!n.includes(o);if(t[o]===void 0&&o in t){if(f)throw new Error(`Cannot remove signed field=${o}`);delete s[o]}else if(d){const h=r&&r[o]?r[o]:[];let p=t[l];if(p){if(!Array.isArray(p))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);p=p.map(v=>{if(v.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof v[0]=="string"?d.decode(ze.decode(v[0])):v[0],typeof v[1]=="string"?u.decode(ze.decode(v[1])):v[1]]});const g={},m=(v,x,y)=>{if(g[v]===void 0){g[v]=[x,y];return}const w=ze.encode(u.encode(g[v][1])),S=ze.encode(u.encode(y));if(w!==S)throw new Error(`keyMap(${l}): same key=${v} oldVal=${w} newVal=${S}`)};for(const[v,x]of h){const y=ze.encode(d.encode(v));m(y,v,x)}for(const[v,x]of p){const y=ze.encode(d.encode(v));if(x===void 0){if(f)throw new Error(`Cannot remove signed field=${l}/${v}`);delete g[y]}else m(y,v,x)}s[l]=Object.values(g)}}else if(typeof s[o]=="string")s[o]=u.decode(ze.decode(s[o]));else if(f&&o in t&&r&&r[o]!==void 0&&!At(u.encode(t[o]),u.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(const o in s)if(!e[o]){if(i&&o==="unknown")continue;delete s[o]}return s}const EN=rn(HX,h6),CN=rn(KX,h6),VX={encode(e){if(!(e.length!==2||e[0]!==1||!nt(e[1])||ze.encode(e[1])!=="4e73"))return{type:"p2a",script:Ut.encode(e)}},decode:e=>{if(e.type==="p2a")return[1,ze.decode("4e73")]}};function xo(e,t){try{return Xo(e,t),!0}catch{return!1}}const GX={encode(e){if(!(e.length!==2||!nt(e[0])||!xo(e[0],Yr.ecdsa)||e[1]!=="CHECKSIG"))return{type:"pk",pubkey:e[0]}},decode:e=>e.type==="pk"?[e.pubkey,"CHECKSIG"]:void 0},qX={encode(e){if(!(e.length!==5||e[0]!=="DUP"||e[1]!=="HASH160"||!nt(e[2]))&&!(e[3]!=="EQUALVERIFY"||e[4]!=="CHECKSIG"))return{type:"pkh",hash:e[2]}},decode:e=>e.type==="pkh"?["DUP","HASH160",e.hash,"EQUALVERIFY","CHECKSIG"]:void 0},YX={encode(e){if(!(e.length!==3||e[0]!=="HASH160"||!nt(e[1])||e[2]!=="EQUAL"))return{type:"sh",hash:e[1]}},decode:e=>e.type==="sh"?["HASH160",e.hash,"EQUAL"]:void 0},ZX={encode(e){if(!(e.length!==2||e[0]!==0||!nt(e[1]))&&e[1].length===32)return{type:"wsh",hash:e[1]}},decode:e=>e.type==="wsh"?[0,e.hash]:void 0},XX={encode(e){if(!(e.length!==2||e[0]!==0||!nt(e[1]))&&e[1].length===20)return{type:"wpkh",hash:e[1]}},decode:e=>e.type==="wpkh"?[0,e.hash]:void 0},JX={encode(e){const t=e.length-1;if(e[t]!=="CHECKMULTISIG")return;const r=e[0],n=e[t-1];if(typeof r!="number"||typeof n!="number")return;const i=e.slice(1,-2);if(n===i.length){for(const s of i)if(!nt(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:e=>e.type==="ms"?[e.m,...e.pubkeys,e.pubkeys.length,"CHECKMULTISIG"]:void 0},QX={encode(e){if(!(e.length!==2||e[0]!==1||!nt(e[1])))return{type:"tr",pubkey:e[1]}},decode:e=>e.type==="tr"?[1,e.pubkey]:void 0},eJ={encode(e){const t=e.length-1;if(e[t]!=="CHECKSIG")return;const r=[];for(let n=0;n<t;n++){const i=e[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===t-1)return;continue}if(!nt(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:e=>{if(e.type!=="tr_ns")return;const t=[];for(let r=0;r<e.pubkeys.length-1;r++)t.push(e.pubkeys[r],"CHECKSIGVERIFY");return t.push(e.pubkeys[e.pubkeys.length-1],"CHECKSIG"),t}},tJ={encode(e){const t=e.length-1;if(e[t]!=="NUMEQUAL"||e[1]!=="CHECKSIG")return;const r=[],n=MX(e[t-1]);if(typeof n=="number"){for(let i=0;i<t-1;i++){const s=e[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!nt(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:e=>{if(e.type!=="tr_ms")return;const t=[e.pubkeys[0],"CHECKSIG"];for(let r=1;r<e.pubkeys.length;r++)t.push(e.pubkeys[r],"CHECKSIGADD");return t.push(e.m,"NUMEQUAL"),t}},rJ={encode(e){return{type:"unknown",script:Ut.encode(e)}},decode:e=>e.type==="unknown"?Ut.decode(e.script):void 0},nJ=[VX,GX,qX,YX,ZX,XX,JX,QX,eJ,tJ,rJ],iJ=Ma(Ut,Hp.match(nJ)),cr=rn(iJ,e=>{if(e.type==="pk"&&!xo(e.pubkey,Yr.ecdsa))throw new Error("OutScript/pk: wrong key");if((e.type==="pkh"||e.type==="sh"||e.type==="wpkh")&&(!nt(e.hash)||e.hash.length!==20))throw new Error(`OutScript/${e.type}: wrong hash`);if(e.type==="wsh"&&(!nt(e.hash)||e.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(e.type==="tr"&&(!nt(e.pubkey)||!xo(e.pubkey,Yr.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((e.type==="ms"||e.type==="tr_ns"||e.type==="tr_ms")&&!Array.isArray(e.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(e.type==="ms"){const t=e.pubkeys.length;for(const r of e.pubkeys)if(!xo(r,Yr.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(e.m<=0||t>16||e.m>t)throw new Error("OutScript/multisig: invalid params")}if(e.type==="tr_ns"||e.type==="tr_ms"){for(const t of e.pubkeys)if(!xo(t,Yr.schnorr))throw new Error(`OutScript/${e.type}: wrong pubkey`)}if(e.type==="tr_ms"){const t=e.pubkeys.length;if(e.m<=0||t>999||e.m>t)throw new Error("OutScript/tr_ms: invalid params")}return e});function PN(e,t){if(!At(e.hash,_r(t)))throw new Error("checkScript: wsh wrong witnessScript hash");const r=cr.decode(t);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function p6(e,t,r){if(e){const n=cr.decode(e);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&t){if(!At(n.hash,s6(t)))throw new Error("checkScript: sh wrong redeemScript hash");const i=cr.decode(t);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&PN(n,r)}if(t){const n=cr.decode(t);n.type==="wsh"&&r&&PN(n,r)}}function sJ(e,t,r=!1,n){const i=cr.decode(e);if(i.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(i.type))throw new Error(`P2TR: invalid leaf script=${i.type}`);const s=i;if(!r&&s.pubkeys)for(const o of s.pubkeys){if(At(o,Kp))throw new Error("Unspendable taproot key in leaf script");if(At(o,t))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function aJ(e){const t=Array.from(e);for(;t.length>=2;){t.sort((o,l)=>(l.weight||1)-(o.weight||1));const n=t.pop(),i=t.pop(),s=((i==null?void 0:i.weight)||1)+((n==null?void 0:n.weight)||1);t.push({weight:s,childs:[(i==null?void 0:i.childs)||i,(n==null?void 0:n.childs)||n]})}const r=t[0];return(r==null?void 0:r.childs)||r}function Ax(e,t=[]){if(!e)throw new Error("taprootAddPath: empty tree");if(e.type==="leaf")return{...e,path:t};if(e.type!=="branch")throw new Error(`taprootAddPath: wrong type=${e}`);return{...e,path:t,left:Ax(e.left,[e.right.hash,...t]),right:Ax(e.right,[e.left.hash,...t])}}function _x(e){if(!e)throw new Error("taprootAddPath: empty tree");if(e.type==="leaf")return[e];if(e.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${e}`);return[..._x(e.left),..._x(e.right)]}function Ox(e,t,r=!1,n){if(!e)throw new Error("taprootHashTree: empty tree");if(Array.isArray(e)&&e.length===1&&(e=e[0]),!Array.isArray(e)){const{leafVersion:c,script:d}=e;if(e.tapLeafScript||e.tapMerkleRoot&&!At(e.tapMerkleRoot,ft))throw new Error("P2TR: tapRoot leafScript cannot have tree");const u=typeof d=="string"?ze.decode(d):d;if(!nt(u))throw new Error(`checkScript: wrong script type=${u}`);return sJ(u,t,r),{type:"leaf",version:c,script:u,hash:Uu(u,c)}}if(e.length!==2&&(e=aJ(e)),e.length!==2)throw new Error("hashTree: non binary tree!");const i=Ox(e[0],t,r),s=Ox(e[1],t,r);let[o,l]=[i.hash,s.hash];return Ex(l,o)===-1&&([o,l]=[l,o]),{type:"branch",left:i,right:s,hash:zb("TapBranch",o,l)}}const Mx=192,Uu=(e,t=Mx)=>zb("TapLeaf",new Uint8Array([t]),Pn.encode(e));function m6(e,t,r=Kc,n=!1,i){if(!e&&!t)throw new Error("p2tr: should have pubKey or scriptTree (or both)");const s=typeof e=="string"?ze.decode(e):e||Kp;if(!xo(s,Yr.schnorr))throw new Error("p2tr: non-schnorr pubkey");if(t){let o=Ax(Ox(t,s,n));const l=o.hash,[c,d]=Ix(s,l),u=_x(o).map(f=>({...f,controlBlock:ha.encode({version:(f.version||Mx)+d,internalKey:s,merklePath:f.path})}));return{type:"tr",script:cr.encode({type:"tr",pubkey:c}),address:wh(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:s,leaves:u,tapLeafScript:u.map(f=>[ha.decode(f.controlBlock),ms(f.script,new Uint8Array([f.version||Mx]))]),tapMerkleRoot:l}}else{const o=Ix(s,ft)[0];return{type:"tr",script:cr.encode({type:"tr",pubkey:o}),address:wh(r).encode({type:"tr",pubkey:o}),tweakedPubkey:o,tapInternalKey:s}}}const g6=cX(_r);function x6(e,t){if(t.length<2||t.length>40)throw new Error("Witness: invalid length");if(e>16)throw new Error("Witness: invalid version");if(e===0&&!(t.length===20||t.length===32))throw new Error("Witness: invalid length for version")}function dg(e,t,r=Kc){x6(e,t);const n=e===0?Nx:ZA;return n.encode(r.bech32,[e].concat(n.toWords(t)))}function TN(e,t){return g6.encode(ms(Uint8Array.from(t),e))}function wh(e=Kc){return{encode(t){const{type:r}=t;if(r==="wpkh")return dg(0,t.hash,e);if(r==="wsh")return dg(0,t.hash,e);if(r==="tr")return dg(1,t.pubkey,e);if(r==="pkh")return TN(t.hash,[e.pubKeyHash]);if(r==="sh")return TN(t.hash,[e.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(t){if(t.length<14||t.length>74)throw new Error("Invalid address length");if(e.bech32&&t.toLowerCase().startsWith(`${e.bech32}1`)){let n;try{if(n=Nx.decode(t),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=ZA.decode(t),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==e.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);const[i,...s]=n.words,o=Nx.fromWords(s);if(x6(i,o),i===0&&o.length===32)return{type:"wsh",hash:o};if(i===0&&o.length===20)return{type:"wpkh",hash:o};if(i===1&&o.length===32)return{type:"tr",pubkey:o};throw new Error("Unknown witness program")}const r=g6.decode(t);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===e.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===e.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}const mu=new Uint8Array(32),oJ={amount:0xffffffffffffffffn,script:ft},lJ=e=>Math.ceil(e/4),cJ=8,dJ=2,Ys=0,y6=4294967295;Hp.decimal(cJ);const ic=(e,t)=>e===void 0?t:e;function jh(e){if(Array.isArray(e))return e.map(t=>jh(t));if(nt(e))return Uint8Array.from(e);if(["number","bigint","boolean","string","undefined"].includes(typeof e))return e;if(e===null)return e;if(typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,jh(r)]));throw new Error(`cloneDeep: unknown type=${e} (${typeof e})`)}const Le={DEFAULT:0,ALL:1,NONE:2,SINGLE:3,ANYONECANPAY:128},uJ={DEFAULT:Le.DEFAULT,ALL:Le.ALL,NONE:Le.NONE,SINGLE:Le.SINGLE,DEFAULT_ANYONECANPAY:Le.DEFAULT|Le.ANYONECANPAY,ALL_ANYONECANPAY:Le.ALL|Le.ANYONECANPAY,NONE_ANYONECANPAY:Le.NONE|Le.ANYONECANPAY,SINGLE_ANYONECANPAY:Le.SINGLE|Le.ANYONECANPAY},fJ=l6(uJ);function hJ(e,t,r,n=ft){return At(r,t)&&(e=_X(e,n),t=a6(e)),{privKey:e,pubKey:t}}function Zs(e){if(e.script===void 0||e.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:e.script,amount:e.amount}}function Bl(e){if(e.txid===void 0||e.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:e.txid,index:e.index,sequence:ic(e.sequence,y6),finalScriptSig:ic(e.finalScriptSig,ft)}}function ug(e){for(const t in e){const r=t;UX.includes(r)||delete e[r]}}const fg=ur({txid:yt(32,!0),index:Ge});function pJ(e){if(typeof e!="number"||typeof fJ[e]!="string")throw new Error(`Invalid SigHash=${e}`);return e}function AN(e){const t=e&31;return{isAny:!!(e&Le.ANYONECANPAY),isNone:t===Le.NONE,isSingle:t===Le.SINGLE}}function mJ(e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${e}`);const t={...e,version:ic(e.version,dJ),lockTime:ic(e.lockTime,0),PSBTVersion:ic(e.PSBTVersion,0)};if(typeof t.allowUnknowInput<"u"&&(e.allowUnknownInputs=t.allowUnknowInput),typeof t.allowUnknowOutput<"u"&&(e.allowUnknownOutputs=t.allowUnknowOutput),typeof t.lockTime!="number")throw new Error("Transaction lock time should be number");if(Ge.encode(t.lockTime),t.PSBTVersion!==0&&t.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${t.PSBTVersion}`);for(const r of["allowUnknownVersion","allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){const n=t[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}if(t.allowUnknownVersion?typeof t.version=="number":![-1,0,1,2,3].includes(t.version))throw new Error(`Unknown version: ${t.version}`);if(t.customScripts!==void 0){const r=t.customScripts;if(!Array.isArray(r))throw new Error(`wrong custom scripts type (expected array): customScripts=${r} (${typeof r})`);for(const n of r){if(typeof n.encode!="function"||typeof n.decode!="function")throw new Error(`wrong script=${n} (${typeof n})`);if(n.finalizeTaproot!==void 0&&typeof n.finalizeTaproot!="function")throw new Error(`wrong script=${n} (${typeof n})`)}}return Object.freeze(t)}function _N(e){if(e.nonWitnessUtxo&&e.index!==void 0){const t=e.nonWitnessUtxo.outputs.length-1;if(e.index>t)throw new Error(`validateInput: index(${e.index}) not in nonWitnessUtxo`);const r=e.nonWitnessUtxo.outputs[e.index];if(e.witnessUtxo&&(!At(e.witnessUtxo.script,r.script)||e.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo");if(e.txid){if(e.nonWitnessUtxo.outputs.length-1<e.index)throw new Error("nonWitnessUtxo: incorect output index");const i=Co.fromRaw(Eo.encode(e.nonWitnessUtxo),{allowUnknownOutputs:!0,disableScriptCheck:!0,allowUnknownInputs:!0}),s=ze.encode(e.txid);if(i.isFinal&&i.id!==s)throw new Error(`nonWitnessUtxo: wrong txid, exp=${s} got=${i.id}`)}}return e}function zu(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}function ON(e,t,r,n=!1,i=!1){let{nonWitnessUtxo:s,txid:o}=e;typeof s=="string"&&(s=ze.decode(s)),nt(s)&&(s=Eo.decode(s)),!("nonWitnessUtxo"in e)&&s===void 0&&(s=t==null?void 0:t.nonWitnessUtxo),typeof o=="string"&&(o=ze.decode(o)),o===void 0&&(o=t==null?void 0:t.txid);let l={...t,...e,nonWitnessUtxo:s,txid:o};!("nonWitnessUtxo"in e)&&l.nonWitnessUtxo===void 0&&delete l.nonWitnessUtxo,l.sequence===void 0&&(l.sequence=y6),l.tapMerkleRoot===null&&delete l.tapMerkleRoot,l=Tx(qp,l,t,r,i),Vb.encode(l);let c;return l.nonWitnessUtxo&&l.index!==void 0?c=l.nonWitnessUtxo.outputs[l.index]:l.witnessUtxo&&(c=l.witnessUtxo),c&&!n&&p6(c&&c.script,l.redeemScript,l.witnessScript),l}function MN(e,t=!1){let r="legacy",n=Le.ALL;const i=zu(e),s=cr.decode(i.script);let o=s.type,l=s;const c=[s];if(s.type==="tr")return n=Le.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let h=cr.decode(e.redeemScript);(h.type==="wpkh"||h.type==="wsh")&&(r="segwit"),c.push(h),l=h,o+=`-${h.type}`}if(l.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let h=cr.decode(e.witnessScript);h.type==="wsh"&&(r="segwit"),c.push(h),l=h,o+=`-${h.type}`}const d=c[c.length-1];if(d.type==="sh"||d.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");const u=cr.encode(d),f={type:o,txType:r,last:d,lastScript:u,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!t&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return f}}class Co{constructor(t={}){ye(this,"global",{});ye(this,"inputs",[]);ye(this,"outputs",[]);ye(this,"opts");const r=this.opts=mJ(t);r.lockTime!==Ys&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(t,r={}){const n=Eo.decode(t),i=new Co({...r,version:n.version,lockTime:n.lockTime});for(const s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(t,r={}){let n;try{n=EN.decode(t)}catch(f){try{n=CN.decode(t)}catch{throw f}}const i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);const s=n.global.unsignedTx,o=i===0?s==null?void 0:s.version:n.global.txVersion,l=i===0?s==null?void 0:s.lockTime:n.global.fallbackLocktime,c=new Co({...r,version:o,lockTime:l,PSBTVersion:i}),d=i===0?s==null?void 0:s.inputs.length:n.global.inputCount;c.inputs=n.inputs.slice(0,d).map((f,h)=>{var p;return _N({finalScriptSig:ft,...(p=n.global.unsignedTx)==null?void 0:p.inputs[h],...f})});const u=i===0?s==null?void 0:s.outputs.length:n.global.outputCount;return c.outputs=n.outputs.slice(0,u).map((f,h)=>{var p;return{...f,...(p=n.global.unsignedTx)==null?void 0:p.outputs[h]}}),c.global={...n.global,txVersion:o},l!==Ys&&(c.global.fallbackLocktime=l),c}toPSBT(t=this.opts.PSBTVersion){if(t!==0&&t!==2)throw new Error(`Wrong PSBT version=${t}`);const r=this.inputs.map(s=>_N(IN(t,qp,s)));for(const s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;const n=this.outputs.map(s=>IN(t,bh,s)),i={...this.global};return t===0?(i.unsignedTx=Kl.decode(Kl.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(Bl).map(s=>({...s,finalScriptSig:ft})),outputs:this.outputs.map(Zs)})),delete i.fallbackLocktime,delete i.txVersion):(i.version=t,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===Ys&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(t===0?EN:CN).encode({global:i,inputs:r,outputs:n})}get lockTime(){let t=Ys,r=0,n=Ys,i=0;for(const s of this.inputs)s.requiredHeightLocktime&&(t=Math.max(t,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?t:n!==Ys?n:this.global.fallbackLocktime||Ys}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(t){this.checkInputIdx(t);const r=this.inputs[t];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(t){this.checkInputIdx(t);const r=this.inputs[t].sighashType,n=r===void 0?Le.DEFAULT:r,i=n===Le.DEFAULT?Le.ALL:n&3;return{sigInputs:n&Le.ANYONECANPAY,sigOutputs:i}}signStatus(){let t=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;const{sigInputs:l,sigOutputs:c}=this.inputSighash(s);if(l===Le.ANYONECANPAY?n.push(s):t=!1,c===Le.ALL)r=!1;else if(c===Le.SINGLE)i.push(s);else if(c!==Le.NONE)throw new Error(`Wrong signature hash output type: ${c}`)}return{addInput:t,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let t=0;t<this.inputs.length;t++)if(this.inputStatus(t)!=="finalized")return!1;return!0}get hasWitnesses(){let t=!1;for(const r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(t=!0);return t}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let t=32;const r=this.outputs.map(Zs);t+=4*Dn.encode(this.outputs.length).length;for(const n of r)t+=32+4*Pn.encode(n.script).length;this.hasWitnesses&&(t+=2),t+=4*Dn.encode(this.inputs.length).length;for(const n of this.inputs)t+=160+4*Pn.encode(n.finalScriptSig||ft).length,this.hasWitnesses&&n.finalScriptWitness&&(t+=Wb.encode(n.finalScriptWitness).length);return t}get vsize(){return lJ(this.weight)}toBytes(t=!1,r=!1){return Eo.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(Bl).map(n=>({...n,finalScriptSig:t&&n.finalScriptSig||ft})),outputs:this.outputs.map(Zs),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return ze.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){return ze.encode(ss(this.toBytes(!0)))}get id(){return ze.encode(ss(this.toBytes(!0)).reverse())}checkInputIdx(t){if(!Number.isSafeInteger(t)||0>t||t>=this.inputs.length)throw new Error(`Wrong input index=${t}`)}getInput(t){return this.checkInputIdx(t),jh(this.inputs[t])}get inputsLength(){return this.inputs.length}addInput(t,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(ON(t,void 0,void 0,this.opts.disableScriptCheck)),this.inputs.length-1}updateInput(t,r,n=!1){this.checkInputIdx(t);let i;if(!n){const s=this.signStatus();(!s.addInput||s.inputs.includes(t))&&(i=zX)}this.inputs[t]=ON(r,this.inputs[t],i,this.opts.disableScriptCheck,this.opts.allowUnknown)}checkOutputIdx(t){if(!Number.isSafeInteger(t)||0>t||t>=this.outputs.length)throw new Error(`Wrong output index=${t}`)}getOutput(t){return this.checkOutputIdx(t),jh(this.outputs[t])}getOutputAddress(t,r=Kc){const n=this.getOutput(t);if(n.script)return wh(r).encode(cr.decode(n.script))}get outputsLength(){return this.outputs.length}normalizeOutput(t,r,n){let{amount:i,script:s}=t;if(i===void 0&&(i=r==null?void 0:r.amount),typeof i!="bigint")throw new Error(`Wrong amount type, should be of type bigint in sats, but got ${i} of type ${typeof i}`);typeof s=="string"&&(s=ze.decode(s)),s===void 0&&(s=r==null?void 0:r.script);let o={...r,...t,amount:i,script:s};if(o.amount===void 0&&delete o.amount,o=Tx(bh,o,r,n,this.opts.allowUnknown),Gb.encode(o),o.script&&!this.opts.allowUnknownOutputs&&cr.decode(o.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownOutputs=true, if you sure");return this.opts.disableScriptCheck||p6(o.script,o.redeemScript,o.witnessScript),o}addOutput(t,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(t)),this.outputs.length-1}updateOutput(t,r,n=!1){this.checkOutputIdx(t);let i;if(!n){const s=this.signStatus();(!s.addOutput||s.outputs.includes(t))&&(i=WX)}this.outputs[t]=this.normalizeOutput(r,this.outputs[t],i)}addOutputAddress(t,r,n=Kc){return this.addOutput({script:cr.encode(wh(n).decode(t)),amount:r})}get fee(){let t=0n;for(const n of this.inputs){const i=zu(n);if(!i)throw new Error("Empty input amount");t+=i.amount}const r=this.outputs.map(Zs);for(const n of r)t-=n.amount;return t}preimageLegacy(t,r,n){const{isAny:i,isNone:s,isSingle:o}=AN(n);if(t<0||!Number.isSafeInteger(t))throw new Error(`Invalid input idx=${t}`);if(o&&t>=this.outputs.length||t>=this.inputs.length)return wX.encode(1n);r=Ut.encode(Ut.decode(r).filter(u=>u!=="CODESEPARATOR"));let l=this.inputs.map(Bl).map((u,f)=>({...u,finalScriptSig:f===t?r:ft}));i?l=[l[t]]:(s||o)&&(l=l.map((u,f)=>({...u,sequence:f===t?u.sequence:0})));let c=this.outputs.map(Zs);s?c=[]:o&&(c=c.slice(0,t).fill(oJ).concat([c[t]]));const d=Eo.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:l,outputs:c});return ss(d,go.encode(n))}preimageWitnessV0(t,r,n,i){const{isAny:s,isNone:o,isSingle:l}=AN(n);let c=mu,d=mu,u=mu;const f=this.inputs.map(Bl),h=this.outputs.map(Zs);s||(c=ss(...f.map(fg.encode))),!s&&!l&&!o&&(d=ss(...f.map(g=>Ge.encode(g.sequence)))),!l&&!o?u=ss(...h.map(fa.encode)):l&&t<h.length&&(u=ss(fa.encode(h[t])));const p=f[t];return ss(go.encode(this.version),c,d,yt(32,!0).encode(p.txid),Ge.encode(p.index),Pn.encode(r),Fu.encode(i),Ge.encode(p.sequence),u,Ge.encode(this.lockTime),Ge.encode(n))}preimageWitnessV1(t,r,n,i,s=-1,o,l=192,c){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);const d=[Ts.encode(0),Ts.encode(n),go.encode(this.version),Ge.encode(this.lockTime)],u=n===Le.DEFAULT?Le.ALL:n&3,f=n&Le.ANYONECANPAY,h=this.inputs.map(Bl),p=this.outputs.map(Zs);f!==Le.ANYONECANPAY&&d.push(...[h.map(fg.encode),i.map(Fu.encode),r.map(Pn.encode),h.map(m=>Ge.encode(m.sequence))].map(m=>_r(ms(...m)))),u===Le.ALL&&d.push(_r(ms(...p.map(fa.encode))));const g=(c?1:0)|(o?2:0);if(d.push(new Uint8Array([g])),f===Le.ANYONECANPAY){const m=h[t];d.push(fg.encode(m),Fu.encode(i[t]),Pn.encode(r[t]),Ge.encode(m.sequence))}else d.push(Ge.encode(t));return g&1&&d.push(_r(Pn.encode(c||ft))),u===Le.SINGLE&&d.push(t<p.length?_r(fa.encode(p[t])):mu),o&&d.push(Uu(o,l),Ts.encode(0),go.encode(s)),zb("TapSighash",...d)}signIdx(t,r,n,i){this.checkInputIdx(r);const s=this.inputs[r],o=MN(s,this.opts.allowLegacyWitnessUtxo);if(!nt(t)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");const u=s.bip32Derivation.filter(h=>h[1].fingerprint==t.fingerprint).map(([h,{path:p}])=>{let g=t;for(const m of p)g=g.deriveChild(m);if(!At(g.publicKey,h))throw new Error("bip32Derivation: wrong pubKey");if(!g.privateKey)throw new Error("bip32Derivation: no privateKey");return g});if(!u.length)throw new Error(`bip32Derivation: no items with fingerprint=${t.fingerprint}`);let f=!1;for(const h of u)this.signIdx(h.privateKey,r)&&(f=!0);return f}n?n.forEach(pJ):n=[o.defaultSighash];const l=o.sighash;if(!n.includes(l))throw new Error(`Input with not allowed sigHash=${l}. Allowed: ${n.join(", ")}`);const{sigOutputs:c}=this.inputSighash(r);if(c===Le.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);const d=zu(s);if(o.txType==="taproot"){const u=this.inputs.map(zu),f=u.map(v=>v.script),h=u.map(v=>v.amount);let p=!1,g=a6(t),m=s.tapMerkleRoot||ft;if(s.tapInternalKey){const{pubKey:v,privKey:x}=hJ(t,g,s.tapInternalKey,m),[y]=Ix(s.tapInternalKey,m);if(At(y,v)){const w=this.preimageWitnessV1(r,f,l,h),S=ms(wN(w,x,i),l!==Le.DEFAULT?new Uint8Array([l]):ft);this.updateInput(r,{tapKeySig:S},!0),p=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(const[v,x]of s.tapLeafScript){const y=x.subarray(0,-1),w=Ut.decode(y),S=x[x.length-1],j=Uu(y,S);if(w.findIndex(T=>nt(T)&&At(T,g))===-1)continue;const E=this.preimageWitnessV1(r,f,l,h,void 0,y,S),C=ms(wN(E,t,i),l!==Le.DEFAULT?new Uint8Array([l]):ft);this.updateInput(r,{tapScriptSig:[[{pubKey:g,leafHash:j},C]]},!0),p=!0}}if(!p)throw new Error("No taproot scripts signed");return!0}else{const u=TX(t);let f=!1;const h=s6(u);for(const m of Ut.decode(o.lastScript))nt(m)&&(At(m,u)||At(m,h))&&(f=!0);if(!f)throw new Error(`Input script doesn't have pubKey: ${o.lastScript}`);let p;if(o.txType==="legacy")p=this.preimageLegacy(r,o.lastScript,l);else if(o.txType==="segwit"){let m=o.lastScript;o.last.type==="wpkh"&&(m=cr.encode({type:"pkh",hash:o.last.hash})),p=this.preimageWitnessV0(r,m,l,d.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${o.txType}`);const g=AX(p,t,this.opts.lowR);this.updateInput(r,{partialSig:[[u,ms(g,new Uint8Array([l]))]]},!0)}return!0}sign(t,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(t,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(t){if(this.checkInputIdx(t),this.fee<0n)throw new Error("Outputs spends more than inputs amount");const r=this.inputs[t],n=MN(r,this.opts.allowLegacyWitnessUtxo);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){const c=r.tapLeafScript.sort((d,u)=>ha.encode(d[0]).length-ha.encode(u[0]).length);for(const[d,u]of c){const f=u.slice(0,-1),h=u[u.length-1],p=cr.decode(f),g=Uu(f,h),m=r.tapScriptSig.filter(x=>At(x[0].leafHash,g));let v=[];if(p.type==="tr_ms"){const x=p.m,y=p.pubkeys;let w=0;for(const S of y){const j=m.findIndex(I=>At(I[0].pubKey,S));if(w===x||j===-1){v.push(ft);continue}v.push(m[j][1]),w++}if(w!==x)continue}else if(p.type==="tr_ns"){for(const x of p.pubkeys){const y=m.findIndex(w=>At(w[0].pubKey,x));y!==-1&&v.push(m[y][1])}if(v.length!==p.pubkeys.length)continue}else if(p.type==="unknown"&&this.opts.allowUnknownInputs){const x=Ut.decode(f);if(v=m.map(([{pubKey:y},w])=>{const S=x.findIndex(j=>nt(j)&&At(j,y));if(S===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:w,pos:S}}).sort((y,w)=>y.pos-w.pos).map(y=>y.signature),!v.length)continue}else{const x=this.opts.customScripts;if(x)for(const y of x){if(!y.finalizeTaproot)continue;const w=Ut.decode(f),S=y.encode(w);if(S===void 0)continue;const j=y.finalizeTaproot(f,S,m);if(j){r.finalScriptWitness=j.concat(ha.encode(d)),r.finalScriptSig=ft,ug(r);return}}throw new Error("Finalize: Unknown tapLeafScript")}r.finalScriptWitness=v.reverse().concat([f,ha.encode(d)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=ft,ug(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=ft,s=[];if(n.last.type==="ms"){const c=n.last.m,d=n.last.pubkeys;let u=[];for(const f of d){const h=r.partialSig.find(p=>At(f,p[0]));h&&u.push(h[1])}if(u=u.slice(0,c),u.length!==c)throw new Error(`Multisig: wrong signatures count, m=${c} n=${d.length} signatures=${u.length}`);i=Ut.encode([0,...u])}else if(n.last.type==="pk")i=Ut.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Ut.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=ft,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let o,l;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=Ut.decode(i).map(c=>{if(c===0)return ft;if(nt(c))return c;throw new Error(`Wrong witness op=${c}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(l=s),n.type.startsWith("sh-wsh-")?o=Ut.encode([Ut.encode([0,_r(n.lastScript)])]):n.type.startsWith("sh-")?o=Ut.encode([...Ut.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(o=i),!o&&!l)throw new Error("Unknown error finalizing input");o&&(r.finalScriptSig=o),l&&(r.finalScriptWitness=l),ug(r)}finalize(){for(let t=0;t<this.inputs.length;t++)this.finalizeIdx(t)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(t){for(const i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==t.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${t.opts[i]}`);for(const i of["inputs","outputs"])if(this[i].length!==t[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${t[i].length}`);const r=this.global.unsignedTx?Kl.encode(this.global.unsignedTx):ft,n=t.global.unsignedTx?Kl.encode(t.global.unsignedTx):ft;if(!At(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=Tx(Hb,this.global,t.global,void 0,this.opts.allowUnknown);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,t.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,t.outputs[i],!0);return this}clone(){return Co.fromPSBT(this.toPSBT(this.opts.PSBTVersion),this.opts)}}const Po=546n,ba=520,qb="https://mempool.space/api";class v6{constructor(){ye(this,"parts",[])}push(t){this.parts.push(t instanceof Uint8Array?t:new Uint8Array(t))}writeHeader(t,r){const n=t<<5;r<24?this.push([n|r]):r<256?this.push([n|24,r]):r<65536?this.push([n|25,r>>8&255,r&255]):this.push([n|26,r>>24&255,r>>16&255,r>>8&255,r&255])}encodeUint(t){this.writeHeader(0,t)}encodeBytes(t){this.writeHeader(2,t.length),this.push(t)}encodeText(t){const r=new TextEncoder().encode(t);this.writeHeader(3,r.length),this.push(r)}encodeArrayHeader(t){this.writeHeader(4,t)}encodeMapHeader(t){this.writeHeader(5,t)}getResult(){const t=this.parts.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;for(const i of this.parts)r.set(i,n),n+=i.length;return r}}function Wu(e){return ze.decode(e)}function Vl(e){return ze.encode(e)}function gJ(e){const t=e.split("i"),r=t[0],n=parseInt(t[1]||"0",10);return{txidBytes:new Uint8Array(Wu(r).reverse()),index:n}}function b6(e){const{txidBytes:t,index:r}=gJ(e);if(r>0){const n=[r&255,r>>8&255,r>>16&255,r>>24&255];for(;n.length>0&&n[n.length-1]===0;)n.pop();const i=new Uint8Array(t.length+n.length);return i.set(t),i.set(n,t.length),i}return t}function Pr(e){const t=[];return e.length===0?t.push(0):e.length<=75?(t.push(e.length),t.push(...e)):e.length<=255?(t.push(76),t.push(e.length),t.push(...e)):e.length<=65535?(t.push(77),t.push(e.length&255),t.push(e.length>>8&255),t.push(...e)):(t.push(78),t.push(e.length&255),t.push(e.length>>8&255),t.push(e.length>>16&255),t.push(e.length>>24&255),t.push(...e)),t}function $N(e,t,r){for(let n=0;n<r.length;n+=ba){const i=Math.min(n+ba,r.length),s=r.slice(n,i);e.push(...Pr(new Uint8Array([t]))),e.push(...Pr(s))}}function xJ(e,t){for(let r=0;r<t.length;r+=ba){const n=Math.min(r+ba,t.length);e.push(...Pr(t.slice(r,n)))}}function yJ(e){if(e===0)return new Uint8Array([0]);const t=[];let r=e;for(;r>0;)t.push(r&255),r=r>>>8;return new Uint8Array(t)}let gu=null;async function w6(){if(gu)return gu;try{return gu=await(await Jt(async()=>{const{default:t}=await import("./index.web-Bqyr3zbv.js");return{default:t}},[])).default,gu}catch(e){throw console.error("Failed to load brotli-wasm:",e),new Error("Brotli compression not available. Install brotli-wasm.")}}async function hg(e){return(await w6()).compress(e,{quality:11})}async function vJ(){try{return await w6(),!0}catch{return!1}}function bJ(e){const t=new v6;t.encodeMapHeader(1),t.encodeUint(0),t.encodeArrayHeader(e.length);for(const r of e){const n=b6(r.id);t.encodeMapHeader(2),t.encodeUint(0),t.encodeBytes(n),t.encodeUint(1);const i=r.meta.attributes;t.encodeMapHeader(2),t.encodeUint(0),t.encodeText(r.meta.name),t.encodeUint(1),t.encodeMapHeader(i.length);for(const s of i)t.encodeText(s.trait_type),t.encodeText(s.value)}return t.getResult()}function pg(e,t){if(!e&&(!t||t.length===0))return null;const r=new v6;let n=0;if(e&&n++,t&&t.length>0&&n++,r.encodeMapHeader(n),e&&(r.encodeText("name"),r.encodeText(e)),t&&t.length>0){r.encodeText("attributes"),r.encodeArrayHeader(t.length);for(const i of t)r.encodeMapHeader(2),r.encodeText("trait_type"),r.encodeText(i.key),r.encodeText("value"),r.encodeText(i.value)}return r.getResult()}function j6(e){const t=[];if(t.push(0),t.push(99),t.push(...Pr(new TextEncoder().encode("ord"))),t.push(...Pr(new Uint8Array([1]))),t.push(...Pr(new TextEncoder().encode(e.contentType))),e.pointer!=null&&e.pointer>0&&(t.push(...Pr(new Uint8Array([2]))),t.push(...Pr(yJ(e.pointer)))),e.parentIds)for(const r of e.parentIds)t.push(...Pr(new Uint8Array([3]))),t.push(...Pr(b6(r)));return e.metadata&&e.metadata.length>0&&$N(t,5,e.metadata),e.contentEncoding&&(t.push(...Pr(new Uint8Array([9]))),t.push(...Pr(new TextEncoder().encode(e.contentEncoding)))),e.galleryData&&e.galleryData.length>0&&$N(t,17,e.galleryData),t.push(0),xJ(t,e.body),t.push(104),t}function wJ(e,t){const r=[];return r.push(...Pr(e)),r.push(172),r.push(...j6(t)),new Uint8Array(r)}function jJ(e,t){const r=[];r.push(...Pr(e)),r.push(172);for(let n=0;n<t.length;n++){const i={...t[n]};n>0&&(i.pointer=n*Number(Po)),r.push(...j6(i))}return new Uint8Array(r)}function SJ(e,t,r){const n=Ui.utils.randomSecretKey(),i=Ui.getPublicKey(n),o=e.length>1?jJ(i,e):wJ(i,e[0]),c=m6(Kp,{script:o,leafVersion:192},void 0,!0);if(!c.address)throw new Error("Failed to generate commit address");const u=o.length+64+33+10,f=e.length,p=(51+f*43)*4+u,g=Math.ceil(p/4),m=BigInt(Math.ceil(g*t)),v=Po*BigInt(f),x=Number(m+v);return console.log("[Commit] Script size:",o.length,"bytes"),console.log("[Commit] Witness size:",u,"bytes"),console.log("[Commit] vSize:",g,"bytes"),console.log("[Commit] Fee:",Number(m),"sats (at",t,"sat/vB)"),console.log("[Commit] Required amount:",x,"sats"),console.log("[Commit] Address:",c.address),{privateKeyHex:Vl(n),publicKeyHex:Vl(i),commitAddress:c.address,commitScriptHex:Vl(c.script),inscriptionScriptHex:Vl(o),destinationAddress:r,requiredAmount:x,feeRate:t,status:"created",createdAt:Date.now(),imageContentType:e[0].contentType,galleryItemCount:0,totalScriptSize:o.length,batchCount:e.length,contentEncoding:e[0].contentEncoding||void 0}}function NJ(e,t,r,n){const i=Wu(e.privateKeyHex);Wu(e.publicKeyHex);const s=Kp;console.log("[Reveal] === Building Reveal Transaction ==="),console.log("[Reveal] commitTxid:",t),console.log("[Reveal] commitVout:",r),console.log("[Reveal] commitAmount:",n,"sats"),console.log("[Reveal] requiredAmount:",e.requiredAmount,"sats"),console.log("[Reveal] inscriptionScript length:",e.inscriptionScriptHex.length/2,"bytes"),console.log("[Reveal] destination:",e.destinationAddress),console.log("[Reveal] batchCount:",e.batchCount);const o=Wu(e.inscriptionScriptHex),l=m6(s,{script:o,leafVersion:192},void 0,!0);if(console.log("[Reveal] derived address:",l.address),console.log("[Reveal] expected address:",e.commitAddress),console.log("[Reveal] address match:",l.address===e.commitAddress),l.address!==e.commitAddress)throw new Error(`Address mismatch! Expected ${e.commitAddress} but got ${l.address}. Session may be corrupted.`);const c=new Co({allowUnknownOutputs:!0,allowUnknownInputs:!0});c.addInput({txid:t,index:r,witnessUtxo:{script:l.script,amount:BigInt(n)},tapLeafScript:l.tapLeafScript});const d=e.batchCount||1,u=Po*BigInt(d),f=BigInt(n)-u;console.log("[Reveal] outputs:",d,"x",Number(Po),"sats"),console.log("[Reveal] total postage:",Number(u),"sats"),console.log("[Reveal] fee:",Number(f),"sats");for(let p=0;p<d;p++)c.addOutputAddress(e.destinationAddress,Po);c.sign(i),console.log("[Reveal]  Signed (script-path)"),c.finalize(),console.log("[Reveal]  Finalized");const h=c.extract();if(console.log("[Reveal] Raw tx size:",h.length,"bytes"),h.length<200)throw new Error(`Transaction too small (${h.length} bytes) - likely key-path instead of script-path spend!`);return Vl(h)}async function LN(e){try{const t=await fetch(`${qb}/address/${e}/utxo`);if(!t.ok)throw new Error(`API error: ${t.status}`);const r=await t.json();if(r.length>0){const n=r[0];return{funded:!0,txid:n.txid,vout:n.vout,amount:n.value}}return{funded:!1}}catch(t){return console.error("Error checking commit funding:",t),{funded:!1}}}async function kJ(e){const t=await fetch(`${qb}/tx`,{method:"POST",body:e,headers:{"Content-Type":"text/plain"}});if(!t.ok){const r=await t.text();throw new Error(`Broadcast failed: ${r}`)}return(await t.text()).trim()}async function IJ(){const t=await(await fetch(`${qb}/v1/fees/recommended`)).json();return{fastest:Math.ceil(t.fastestFee),halfHour:Math.ceil(t.halfHourFee),hour:Math.ceil(t.hourFee),economy:Math.ceil(t.economyFee),minimum:Math.ceil(t.minimumFee)}}function DN(e,t,r,n){const i=e.length;let s=0,o=0;for(const y of e)s+=y,o+=Math.ceil(y/ba)*3;const l=i*15,c=t>0?Math.ceil(t/ba)*5:0,d=r>0?Math.ceil(r/ba)*5:0,f=34+l+t+c+r+d+s+o,h=51+i*43,p=f+64+33+10,g=h*4+p,m=Math.ceil(g/4),v=Math.ceil(m*n),x=v+Number(Po)*i;return{totalScriptSize:f,virtualSize:m,fee:v,commitAmount:x}}function BN(e,t){var i;if(t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71)return"image/png";if(t[0]===255&&t[1]===216&&t[2]===255)return"image/jpeg";if(t[0]===71&&t[1]===73&&t[2]===70)return"image/gif";if(t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70)return"image/webp";if(t.length>8&&new TextDecoder().decode(t.slice(4,8))==="ftyp")return"image/avif";const r=(i=e.split(".").pop())==null?void 0:i.toLowerCase();return{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",webp:"image/webp",avif:"image/avif",svg:"image/svg+xml",html:"text/html;charset=utf-8",json:"application/json",txt:"text/plain;charset=utf-8",js:"application/javascript",css:"text/css"}[r||""]||"application/octet-stream"}function Xs(e){return e.startsWith("text/")||e.includes("json")||e.includes("javascript")||e.includes("xml")||e.includes("svg")}const Yb="gallery_inscription_session",Zb="gallery_inscription_image",Xb="gallery_inscription_gallery",EJ="gallery_inscription_batch";function mg(e){try{localStorage.setItem(Yb,JSON.stringify(e))}catch(t){console.error("Save session error:",t)}}function CJ(){try{const e=localStorage.getItem(Yb);return e?JSON.parse(e):null}catch{return null}}function PJ(){try{localStorage.removeItem(Yb)}catch{}}function TJ(e){try{localStorage.setItem(Zb,e)}catch(t){console.error("Save image error:",t)}}function AJ(){try{return localStorage.getItem(Zb)}catch{return null}}function _J(e){try{localStorage.setItem(Xb,e)}catch(t){console.error("Save gallery error:",t)}}function OJ(){try{return localStorage.getItem(Xb)}catch{return null}}function MJ(){PJ();try{localStorage.removeItem(Zb),localStorage.removeItem(Xb),localStorage.removeItem(EJ)}catch{}}const as=({label:e,description:t,checked:r,onChange:n,children:i})=>a.jsxs("div",{className:`border rounded-lg p-4 transition-all ${r?"border-emerald-500 bg-emerald-900/10":"border-gray-700 bg-gray-900/50"}`,children:[a.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:r,onChange:s=>n(s.target.checked),className:"mt-1 w-5 h-5 accent-emerald-500 cursor-pointer flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-white font-semibold text-sm",children:e}),t&&a.jsx("p",{className:"text-gray-400 text-xs mt-0.5",children:t})]})]}),r&&i&&a.jsx("div",{className:"mt-3 ml-8",children:i})]}),$J=()=>{var Ha,kd,Ka,xl,zn,Id,Ed,Cd;const{walletState:e}=Re(),t=(Ha=e.accounts)==null?void 0:Ha.find(he=>he.purpose==="ordinals"),r=(t==null?void 0:t.address)||((Ka=(kd=e.accounts)==null?void 0:kd[0])==null?void 0:Ka.address),n=(xl=e.accounts)==null?void 0:xl.find(he=>he.purpose==="payment");n!=null&&n.address||((Id=(zn=e.accounts)==null?void 0:zn[0])==null||Id.address);const i=e.connected&&Hi(r),[s,o]=b.useState(null),[l,c]=b.useState(null),[d,u]=b.useState(null),[f,h]=b.useState(""),[p,g]=b.useState([]),[m,v]=b.useState(""),[x,y]=b.useState(null),[w,S]=b.useState(!1),[j,I]=b.useState(""),[E,C]=b.useState(!1),[T,K]=b.useState([{key:"",value:""}]),[V,P]=b.useState(!1),[R,N]=b.useState(""),[M,O]=b.useState(!1),[$,z]=b.useState(""),[_,q]=b.useState(!1),[H,D]=b.useState(""),[se,ae]=b.useState(!1),[ie,ce]=b.useState(!1),[xe,ve]=b.useState(null),[ee,F]=b.useState(!1),[re,W]=b.useState([]),[le,k]=b.useState(!1),[Y,X]=b.useState(2),[U,B]=b.useState(2),[Z,ue]=b.useState(!1),[de,A]=b.useState(""),[Q,ne]=b.useState(null),[G,ge]=b.useState(null),[Ee,Ae]=b.useState(!1),[ut,Ye]=b.useState(""),[Pt,Ke]=b.useState(""),[Ze,di]=b.useState(!1),[es,Er]=b.useState(!1),Cr=b.useRef(null),Fa=b.useRef([]);b.useEffect(()=>{IJ().then(he=>{ne(he),he.hour>=1&&B(he.hour)}).catch(console.error),vJ().then(ce).catch(()=>ce(!1))},[]),b.useEffect(()=>{const he=CJ();if(he&&he.status!=="revealed"){ge(he),A(he.destinationAddress),B(he.feeRate),h(he.imageContentType);const Se=AJ();if(Se)try{u(ze.decode(Se))}catch{}const Pe=OJ();if(Pe)try{y(ze.decode(Pe))}catch{}Ye(he.status==="funded"?" Commit funded! Bereit fr Reveal.":" Warte auf Funding...")}},[]),b.useEffect(()=>{r&&r.startsWith("bc1p")&&!de&&!G&&A(r)},[r]),b.useEffect(()=>((G==null?void 0:G.status)==="created"&&!Ee&&Zp(),()=>{Cr.current&&clearInterval(Cr.current)}),[G==null?void 0:G.status]),b.useEffect(()=>{if(!se||!d||!ie){ve(null);return}Xs(f)?hg(d).then(he=>{ve(Math.round((1-he.length/d.length)*100))}).catch(()=>ve(null)):ve(null)},[se,d,f,ie]);const fl=b.useCallback(he=>{var Me;const Se=(Me=he.target.files)==null?void 0:Me[0];if(!Se)return;o(Se),Ke("");const Pe=new FileReader;Pe.onload=()=>c(Pe.result),Pe.readAsDataURL(Se);const Oe=new FileReader;Oe.onload=()=>{const $e=new Uint8Array(Oe.result);u($e),h(BN(Se.name,$e))},Oe.readAsArrayBuffer(Se)},[]),hl=b.useCallback(he=>{var Oe;const Se=(Oe=he.target.files)==null?void 0:Oe[0];if(!Se)return;v(Se.name),Ke("");const Pe=new FileReader;Pe.onload=()=>{try{const Me=JSON.parse(Pe.result);if(!Array.isArray(Me)){Ke("JSON muss ein Array sein!");return}const $e=Me.map(at=>{var L;if(!at.id||!((L=at.meta)!=null&&L.name))throw new Error("Item fehlt id oder meta.name");return{id:at.id,meta:{name:at.meta.name,attributes:at.meta.attributes||[]}}});g($e);const Fe=bJ($e);y(Fe),Ye(` ${$e.length} Gallery-Items geladen (${(Fe.length/1024).toFixed(1)} KB CBOR)`)}catch(Me){Ke(`JSON Fehler: ${Me.message}`)}},Pe.readAsText(Se)},[]),Ua=b.useCallback(he=>{const Se=Array.from(he.target.files||[]);if(Se.length===0)return;Ke("");const Pe=[];let Oe=0;Se.forEach(Me=>{const $e=new FileReader;$e.onload=()=>{const Fe=new Uint8Array($e.result);Pe.push({fileName:Me.name,data:Fe,contentType:BN(Me.name,Fe),sizeKB:Math.round(Fe.length/1024*10)/10}),Oe++,Oe===Se.length&&(W(Pe),Ye(` ${Pe.length} Batch-Dateien geladen`))},$e.readAsArrayBuffer(Me)})},[]),ui=b.useCallback(()=>{K(he=>[...he,{key:"",value:""}])},[]),ts=b.useCallback(he=>{K(Se=>Se.filter((Pe,Oe)=>Oe!==he))},[]),Nd=b.useCallback((he,Se,Pe)=>{K(Oe=>Oe.map((Me,$e)=>$e===he?{...Me,[Se]:Pe}:Me))},[]),za=he=>["image/png","image/jpeg","image/jpg","image/avif","image/webp","image/gif","image/bmp"].includes(he),Wa=b.useCallback(async(he,Se,Pe)=>new Promise((Oe,Me)=>{const $e=new Blob([he],{type:Se}),Fe=URL.createObjectURL($e),at=new Image;at.onload=()=>{const L=document.createElement("canvas");L.width=at.naturalWidth*Pe,L.height=at.naturalHeight*Pe;const te=L.getContext("2d");if(!te){URL.revokeObjectURL(Fe),Me(new Error("Canvas context error"));return}te.imageSmoothingEnabled=!1,te.mozImageSmoothingEnabled=!1,te.webkitImageSmoothingEnabled=!1,te.msImageSmoothingEnabled=!1,te.drawImage(at,0,0,L.width,L.height),URL.revokeObjectURL(Fe),L.toBlob(J=>{if(!J){Me(new Error("Canvas toBlob failed"));return}J.arrayBuffer().then(fe=>{Oe({data:new Uint8Array(fe),contentType:"image/png"})})},"image/png")},at.onerror=()=>{URL.revokeObjectURL(Fe),Me(new Error("Image load failed"))},at.src=Fe}),[]),pl=b.useCallback(async()=>{const he=E?T.filter(Fe=>Fe.key.trim()&&Fe.value.trim()):[],Se=pg(w?j:void 0,he.length>0?he:void 0),Pe=V?R.split(",").map(Fe=>Fe.trim()).filter(Fe=>Fe.length>0):[],Oe=se?"br":null;if(ee&&re.length>0){const Fe=[];for(const at of re){let L=at.data,te=at.contentType;if(le&&za(te)){const J=await Wa(L,te,Y);L=J.data,te=J.contentType}se&&Xs(te)&&(L=await hg(L)),Fe.push({contentType:te,body:L,galleryData:Fe.length===0?x:null,parentIds:Pe,metadata:Se,contentEncoding:se&&Xs(te)?"br":null})}return Fe}if(!d)throw new Error("Kein Bild geladen!");let Me=d,$e=f;if(le&&za($e)){const Fe=await Wa(Me,$e,Y);Me=Fe.data,$e=Fe.contentType}return se&&Xs($e)&&(Me=await hg(Me)),[{contentType:$e,body:Me,galleryData:x,parentIds:Pe,metadata:Se,contentEncoding:se&&Xs($e)?Oe:null,reinscribeId:_?H:null}]},[d,f,x,w,j,E,T,V,R,se,ee,re,_,H,le,Y,Wa]),Un=(()=>{var he,Se;if(ee&&re.length>0){const Pe=re.map(Oe=>Oe.data.length);return DN(Pe,(x==null?void 0:x.length)||0,((he=pg(w?j:void 0,E?T.filter(Oe=>Oe.key&&Oe.value):void 0))==null?void 0:he.length)||0,U)}return d?DN([d.length],(x==null?void 0:x.length)||0,((Se=pg(w?j:void 0,E?T.filter(Pe=>Pe.key&&Pe.value):void 0))==null?void 0:Se.length)||0,U):null})(),Yp=b.useCallback(async()=>{if(!ee&&!d){Ke("Bild muss geladen sein!");return}if(ee&&re.length===0){Ke("Batch-Dateien mssen geladen sein!");return}if(!de||!de.startsWith("bc1p")){Ke("Taproot-Adresse (bc1p...) eingeben! Inscriptions mssen an Taproot-Adressen gehen.");return}if(U<.1){Ke("Fee Rate muss mindestens 0.1 sein!");return}try{Ke(""),Ye(" Erstelle Inscription...");const he=await pl();Fa.current=he;const Se=SJ(he,U,de);Se.galleryItemCount=p.length,mg(Se);try{d&&TJ(ze.encode(d)),x&&_J(ze.encode(x))}catch{}ge(Se),Ye(` Commit-Adresse erstellt! Sende ${Se.requiredAmount.toLocaleString()} sats.`)}catch(he){Ke(`Fehler: ${he.message}`)}},[d,x,de,U,ee,re,pl,p]),Zp=b.useCallback(()=>{if(!(G!=null&&G.commitAddress))return;Ae(!0);const he=async()=>{var Pe,Oe;const Se=await LN(G.commitAddress);if(Se.funded&&Se.txid){Cr.current&&clearInterval(Cr.current),Ae(!1);const Me={...G,status:"funded",commitTxid:Se.txid,commitVout:Se.vout,commitAmount:Se.amount};console.log("[Funding] Detected! txid:",Se.txid,"vout:",Se.vout,"amount:",Se.amount),ge(Me),mg(Me),Ye(` Commit funded! TXID: ${(Pe=Se.txid)==null?void 0:Pe.substring(0,16)}... (${(Oe=Se.amount)==null?void 0:Oe.toLocaleString()} sats)`)}};he(),Cr.current=setInterval(he,5e3)},[G]),Xp=b.useCallback(async()=>{var he,Se,Pe,Oe,Me;if(!(!G||G.status!=="created"))try{Er(!0),Ke(""),Ye(" ffne Wallet...");const $e=await Jt(()=>import("./index-9WQn33B3.js"),[]);if(!($e!=null&&$e.request))throw new Error("sats-connect nicht verfgbar");const Fe=G.requiredAmount;console.log(`[InscriptionTool] Sende ${Fe} sats an ${G.commitAddress}`);const at=await $e.request("sendTransfer",{recipients:[{address:G.commitAddress,amount:Fe}]});if(console.log("[InscriptionTool] Wallet response:",at),at.status==="success"){const L=((he=at.result)==null?void 0:he.txid)||at.result;Ye(` Zahlung gesendet! TXID: ${typeof L=="string"?L.substring(0,16)+"...":"pending"}. Warte auf Besttigung...`)}else throw new Error(((Se=at.error)==null?void 0:Se.message)||"Zahlung vom Wallet abgelehnt")}catch($e){(Pe=$e.message)!=null&&Pe.includes("rejected")||(Oe=$e.message)!=null&&Oe.includes("cancelled")||(Me=$e.message)!=null&&Me.includes("denied")?Ke("Zahlung abgebrochen."):Ke(`Wallet-Fehler: ${$e.message}`),Ye("")}finally{Er(!1)}},[G]),ml=b.useCallback(async()=>{if(!G||G.status!=="funded"){Ke("Nicht funded!");return}if(!G.commitTxid||G.commitVout===void 0){Ke("Commit UTXO fehlt!");return}if(!G.inscriptionScriptHex){Ke("Inscription Script fehlt! Session ist veraltet - bitte zurcksetzen und neu erstellen.");return}try{di(!0),Ke(""),Ye(" Baue Reveal-Transaktion...");let he=G.commitAmount;he||(console.log("[Reveal] No stored amount, re-fetching from API..."),he=(await LN(G.commitAddress)).amount||G.requiredAmount),console.log("[Reveal] Using commitAmount:",he,"sats");const Se=NJ(G,G.commitTxid,G.commitVout,he);Ye(" Broadcaste Reveal...");const Pe=await kJ(Se),Oe=`${Pe}i0`,Me={...G,status:"revealed",revealTxid:Pe,inscriptionId:Oe};ge(Me),mg(Me),Ye(` Inscription erstellt! ID: ${Oe}`)}catch(he){Ke(`Reveal Fehler: ${he.message}`),Ye("")}finally{di(!1)}},[G]),gl=b.useCallback(()=>{((G==null?void 0:G.status)==="created"||(G==null?void 0:G.status)==="funded")&&!confirm(" Wenn BTC bereits gesendet wurden, gehen die Funds verloren! Sicher?")||(MJ(),ge(null),o(null),c(null),u(null),g([]),y(null),v(""),W([]),Ye(""),Ke(""),Cr.current&&clearInterval(Cr.current),Ae(!1),Fa.current=[])},[G]);if(!e.connected)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-8 max-w-md text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:" Wallet verbinden"}),a.jsx("p",{className:"text-gray-400",children:"Bitte verbinde dein Wallet."})]})});if(!i)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded-xl p-8 max-w-md text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:" Zugriff verweigert"}),a.jsx("p",{className:"text-gray-400",children:"Nur fr Admins."})]})});const Jp=ee?re.length:d?1:0;return a.jsx("div",{className:"min-h-screen bg-black text-white pt-20 pb-12 px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-emerald-400 mb-2",children:" Inscription Tool"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Erstelle Ordinals Inscriptions on-chain  ohne externe Services."})]}),Pt&&a.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-red-300 text-sm",children:[" ",Pt]})}),ut&&a.jsx("div",{className:"bg-emerald-900/30 border border-emerald-600 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-emerald-300 text-sm",children:ut})}),(G==null?void 0:G.status)==="revealed"&&G.inscriptionId&&a.jsxs("div",{className:"bg-emerald-900/30 border-2 border-emerald-500 rounded-xl p-6 mb-6 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-emerald-400 mb-4",children:" Inscription erstellt!"}),a.jsxs("div",{className:"bg-black rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Inscription ID:"}),a.jsx("p",{className:"text-white font-mono text-sm break-all",children:G.inscriptionId})]}),a.jsxs("div",{className:"bg-black rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Reveal TXID:"}),a.jsx("p",{className:"text-white font-mono text-sm break-all",children:G.revealTxid})]}),G.batchCount>1&&a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Batch: ",G.batchCount," Inscriptions erstellt (IDs: ",G.revealTxid,"i0 bis i",G.batchCount-1,")"]}),a.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[a.jsx("a",{href:`https://ordinals.com/inscription/${G.inscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 text-sm font-bold",children:" ordinals.com"}),a.jsx("a",{href:`https://mempool.space/tx/${G.revealTxid}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 text-sm font-bold",children:" Mempool"})]}),a.jsx("button",{onClick:gl,className:"mt-4 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 text-sm",children:" Neue Inscription"})]}),G&&G.status!=="revealed"&&a.jsxs("div",{className:"bg-gray-900 border border-yellow-600 rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-yellow-400 mb-4",children:G.status==="created"?" Warte auf Funding":" Bereit fr Reveal"}),a.jsxs("div",{className:"bg-black rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Commit-Adresse:"}),a.jsx("p",{className:"text-yellow-300 font-mono text-sm break-all select-all",children:G.commitAddress})]}),a.jsxs("div",{className:"bg-black rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Betrag:"}),a.jsxs("p",{className:"text-white font-bold text-lg",children:[G.requiredAmount.toLocaleString()," sats"]}),a.jsxs("p",{className:"text-gray-500 text-xs",children:["(",(G.requiredAmount/1e8).toFixed(8)," BTC)"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Fee Rate"}),a.jsxs("p",{className:"text-white font-bold",children:[G.feeRate," sat/vB"]})]}),a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Script"}),a.jsxs("p",{className:"text-white font-bold",children:[(G.totalScriptSize/1024).toFixed(1)," KB"]})]}),a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Inscriptions"}),a.jsx("p",{className:"text-white font-bold",children:G.batchCount})]}),G.contentEncoding&&a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Encoding"}),a.jsx("p",{className:"text-emerald-400 font-bold",children:G.contentEncoding})]})]}),M&&$&&a.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded-lg p-3 mb-4 text-sm text-yellow-300",children:[" Du willst auf SAT #",$," inscribieren. Stelle sicher, dass du einen UTXO mit diesem SAT an die Commit-Adresse sendest!"]}),_&&H&&a.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded-lg p-3 mb-4 text-sm text-yellow-300",children:[" Reinscription auf ",H.substring(0,20),"...  Sende den UTXO der diese Inscription enthlt an die Commit-Adresse!"]}),G.status==="created"&&a.jsx("button",{onClick:Xp,disabled:es,className:"w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-500 disabled:opacity-50 text-lg mb-4",children:es?" Wallet ffnet sich...":` Mit Wallet bezahlen (${G.requiredAmount.toLocaleString()} sats)`}),Ee&&a.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm mb-4",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse"}),"berprfe alle 5s..."]}),G.commitTxid&&a.jsxs("div",{className:"bg-black rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Commit TXID:"}),a.jsx("a",{href:`https://mempool.space/tx/${G.commitTxid}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 font-mono text-sm break-all hover:underline",children:G.commitTxid})]}),G.status==="funded"&&a.jsx("button",{onClick:ml,disabled:Ze,className:"w-full py-3 bg-emerald-600 text-white font-bold rounded-lg hover:bg-emerald-500 disabled:opacity-50 text-lg",children:Ze?" Reveal luft...":" Reveal Broadcasten"}),a.jsx("button",{onClick:gl,className:"mt-3 w-full py-2 bg-red-900/50 text-red-400 border border-red-700 rounded-lg hover:bg-red-900 text-sm",children:" Session zurcksetzen"})]}),(!G||G.status==="revealed")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white mb-3",children:[a.jsx("span",{className:"text-emerald-400",children:"1."})," Content"]}),ee?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Batch: Mehrere Dateien auswhlen"}),a.jsx("input",{type:"file",multiple:!0,onChange:Ua,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-600 file:text-white hover:file:bg-purple-500 cursor-pointer"}),re.length>0&&a.jsxs("div",{className:"mt-3 max-h-40 overflow-y-auto",children:[a.jsxs("p",{className:"text-gray-400 text-xs mb-1",children:[re.length," Dateien:"]}),re.map((he,Se)=>a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 py-0.5",children:[a.jsx("span",{className:"truncate mr-2",children:he.fileName}),a.jsxs("span",{className:"text-gray-600",children:[he.sizeKB," KB  ",he.contentType]})]},Se))]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Einzelne Datei (Bild, HTML, Text, etc.)"}),a.jsx("input",{type:"file",onChange:fl,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-emerald-600 file:text-white hover:file:bg-emerald-500 cursor-pointer"}),l&&a.jsxs("div",{className:"mt-4 flex items-start gap-4",children:[a.jsx("img",{src:l,alt:"Preview",className:"w-24 h-24 object-contain rounded-lg border border-gray-600 bg-black"}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Datei:"})," ",s==null?void 0:s.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Gre:"})," ",d?`${(d.length/1024).toFixed(1)} KB`:"..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Typ:"})," ",f]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white mb-3",children:[a.jsx("span",{className:"text-emerald-400",children:"2."})," Gallery JSON ",a.jsx("span",{className:"text-gray-500 text-sm font-normal",children:"(optional)"})]}),a.jsx("input",{type:"file",accept:".json",onChange:hl,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-500 cursor-pointer"}),p.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("p",{className:"text-sm text-gray-400",children:[a.jsx("strong",{className:"text-white",children:p.length})," Items  ",a.jsx("strong",{className:"text-white",children:x?`${(x.length/1024).toFixed(1)} KB`:"..."})," CBOR"]}),a.jsx("button",{onClick:()=>ue(!Z),className:"text-xs text-emerald-400 hover:text-emerald-300",children:Z?" Zuklappen":" Vorschau"})]}),Z&&a.jsx("div",{className:"bg-black rounded-lg border border-gray-700 max-h-80 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-gray-400 px-3 py-2 font-semibold",children:"#"}),a.jsx("th",{className:"text-left text-gray-400 px-3 py-2 font-semibold",children:"Name"}),a.jsx("th",{className:"text-left text-gray-400 px-3 py-2 font-semibold",children:"Inscription ID"}),a.jsx("th",{className:"text-left text-gray-400 px-3 py-2 font-semibold",children:"Traits"})]})}),a.jsx("tbody",{children:p.map((he,Se)=>a.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-900/50",children:[a.jsx("td",{className:"px-3 py-1.5 text-gray-500",children:Se+1}),a.jsx("td",{className:"px-3 py-1.5 text-white font-medium truncate max-w-[140px]",children:he.meta.name}),a.jsx("td",{className:"px-3 py-1.5 text-gray-400 font-mono",children:a.jsxs("a",{href:`https://ordinals.com/inscription/${he.id}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400",title:he.id,children:[he.id.substring(0,10),"...",he.id.slice(-4)]})}),a.jsx("td",{className:"px-3 py-1.5 text-gray-500",children:he.meta.attributes.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[he.meta.attributes.slice(0,3).map((Pe,Oe)=>a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-800 rounded text-gray-400",title:`${Pe.trait_type}: ${Pe.value}`,children:[Pe.trait_type,": ",Pe.value.length>12?Pe.value.substring(0,12)+"":Pe.value]},Oe)),he.meta.attributes.length>3&&a.jsxs("span",{className:"px-1.5 py-0.5 text-gray-600",children:["+",he.meta.attributes.length-3]})]}):a.jsx("span",{className:"text-gray-600",children:""})})]},Se))})]})}),!Z&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Erstes Item: ",(Ed=p[0])==null?void 0:Ed.meta.name,"  Letztes: ",(Cd=p[p.length-1])==null?void 0:Cd.meta.name]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white mb-4",children:[a.jsx("span",{className:"text-emerald-400",children:"3."})," Optionale Features"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(as,{label:"Titel hinzufgen",description:"Name/Titel der Inscription (gespeichert in Metadata)",checked:w,onChange:S,children:a.jsx("input",{type:"text",value:j,onChange:he=>I(he.target.value),placeholder:"z.B. SOS Evolution Gallery",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"})}),a.jsx(as,{label:"Traits / Attributes",description:"Key-Value Paare als Metadata (z.B. Artist, Collection)",checked:E,onChange:C,children:a.jsxs("div",{className:"space-y-2",children:[T.map((he,Se)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:he.key,onChange:Pe=>Nd(Se,"key",Pe.target.value),placeholder:"Trait Name",className:"flex-1 px-2 py-1.5 bg-black border border-gray-600 rounded text-white text-sm"}),a.jsx("input",{type:"text",value:he.value,onChange:Pe=>Nd(Se,"value",Pe.target.value),placeholder:"Value",className:"flex-1 px-2 py-1.5 bg-black border border-gray-600 rounded text-white text-sm"}),a.jsx("button",{onClick:()=>ts(Se),className:"px-2 text-red-400 hover:text-red-300 text-lg",title:"Entfernen",children:""})]},Se)),a.jsx("button",{onClick:ui,className:"text-emerald-400 hover:text-emerald-300 text-sm",children:"+ Trait hinzufgen"})]})}),a.jsx(as,{label:"Parent Inscription",description:"Inscription als Child eines Parents erstellen",checked:V,onChange:P,children:a.jsx("input",{type:"text",value:R,onChange:he=>N(he.target.value),placeholder:"abc123...i0 (mehrere kommagetrennt)",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"})}),a.jsxs(as,{label:"Auf bestimmtem SAT inscribieren",description:"Die Inscription wird auf einen spezifischen Satoshi gebunden",checked:M,onChange:O,children:[a.jsx("input",{type:"text",value:$,onChange:he=>z(he.target.value),placeholder:"SAT Nummer (z.B. 1934567890123)",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"}),a.jsx("p",{className:"text-yellow-400 text-xs mt-2",children:" Du musst manuell einen UTXO senden, der diesen SAT enthlt. Das Tool kann das nicht automatisch steuern."})]}),a.jsxs(as,{label:"Reinscription",description:"Auf einem SAT inscribieren, der bereits eine Inscription hat",checked:_,onChange:q,children:[a.jsx("input",{type:"text",value:H,onChange:he=>D(he.target.value),placeholder:"Bestehende Inscription ID (abc...i0)",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"}),a.jsx("p",{className:"text-yellow-400 text-xs mt-2",children:" Sende den UTXO mit dieser Inscription an die Commit-Adresse. Die neue Inscription wird auf demselben SAT erstellt."})]}),a.jsx(as,{label:"Brotli Kompression",description:"Reduziert Kosten fr textbasierte Dateien (HTML, SVG, JSON, Text) signifikant",checked:se,onChange:ae,children:ie?a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsx("p",{className:"text-emerald-400",children:" Brotli verfgbar"}),d&&Xs(f)&&xe!==null&&a.jsxs("p",{className:"mt-1",children:["Geschtzte Einsparung: ",a.jsxs("strong",{className:"text-emerald-300",children:[xe,"%"]})," kleiner"]}),d&&!Xs(f)&&a.jsxs("p",{className:"mt-1 text-yellow-400",children:[" Brotli hilft nur bei Text-Dateien. Dein Content (",f,") ist binr  kein Effekt."]})]}):a.jsx("p",{className:"text-red-400 text-xs",children:" Brotli-WASM konnte nicht geladen werden."})}),a.jsx(as,{label:"Pixel Upscale",description:"Vergrssert Pixel-Art verlustfrei (Nearest Neighbor). Nur fr PNG, JPG, AVIF, WebP.",checked:le,onChange:k,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex gap-2",children:[2,3,4].map(he=>a.jsxs("button",{onClick:()=>X(he),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${Y===he?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[he,"x"]},he))}),a.jsxs("p",{className:"text-gray-400 text-xs",children:["1 Pixel  ",Y,"",Y," Block (",Y*Y," Pixel)"]}),d&&za(f)&&a.jsxs("p",{className:"text-yellow-400 text-xs",children:[" Bild wird ",Y,"x grsser  mehr Inscription-Fees. Output: PNG"]}),d&&!za(f)&&a.jsxs("p",{className:"text-yellow-400 text-xs",children:[" Dein Content (",f,") ist kein Rasterbild  Upscale hat keinen Effekt."]})]})}),a.jsxs(as,{label:"Batch Inscribing",description:"Mehrere Inscriptions in einer einzigen Transaktion (spart Commit-Fees)",checked:ee,onChange:F,children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Whle mehrere Dateien in Schritt 1 oben aus. Jede Datei wird eine separate Inscription."}),re.length>0&&a.jsxs("p",{className:"text-emerald-400 text-xs mt-1",children:[" ",re.length," Dateien geladen"]})]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white mb-3",children:[a.jsx("span",{className:"text-emerald-400",children:"4."})," Einstellungen"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-1",children:"Fee Rate (sat/vB)"}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("input",{type:"number",value:U,onChange:he=>B(Math.max(.1,parseFloat(he.target.value)||.1)),min:.1,step:.1,className:"w-24 px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"}),Q&&a.jsxs("div",{className:"flex gap-2 text-xs flex-wrap",children:[a.jsxs("button",{onClick:()=>B(Q.economy),className:"px-2 py-1 bg-green-900 text-green-300 rounded hover:bg-green-800",children:["Eco: ",Q.economy]}),a.jsxs("button",{onClick:()=>B(Q.hour),className:"px-2 py-1 bg-blue-900 text-blue-300 rounded hover:bg-blue-800",children:["1h: ",Q.hour]}),a.jsxs("button",{onClick:()=>B(Q.fastest),className:"px-2 py-1 bg-red-900 text-red-300 rounded hover:bg-red-800",children:["Fast: ",Q.fastest]})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-1",children:"Ziel-Adresse (Taproot / Ordinals)"}),a.jsx("input",{type:"text",value:de,onChange:he=>A(he.target.value.trim()),placeholder:"bc1p...",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"}),r&&r.startsWith("bc1p")&&a.jsxs("button",{onClick:()=>A(r),className:"mt-1 text-xs text-emerald-400 hover:text-emerald-300",children:[" Taproot-Adresse verwenden (",r.substring(0,16),"...)"]}),de&&!de.startsWith("bc1p")&&a.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:" Keine Taproot-Adresse! Inscriptions sollten an bc1p...-Adressen gehen."})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white mb-3",children:[a.jsx("span",{className:"text-emerald-400",children:"5."})," berprfen & Erstellen"]}),Un?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Content"}),a.jsx("p",{className:"text-white font-bold text-sm",children:ee?`${re.length} Dateien`:`${d?(d.length/1024).toFixed(1):0} KB`})]}),a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Gallery"}),a.jsx("p",{className:"text-white font-bold text-sm",children:x?`${(x.length/1024).toFixed(1)} KB`:""})]}),a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"Script"}),a.jsxs("p",{className:"text-white font-bold text-sm",children:[(Un.totalScriptSize/1024).toFixed(1)," KB"]})]}),a.jsxs("div",{className:"bg-black rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs",children:"vSize"}),a.jsxs("p",{className:"text-white font-bold text-sm",children:[Un.virtualSize.toLocaleString()," vB"]})]})]}),(w||E||V||se||M||_||ee)&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Aktive Features:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-emerald-900 text-emerald-300 rounded",children:"Titel"}),E&&a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-emerald-900 text-emerald-300 rounded",children:["Traits (",T.filter(he=>he.key&&he.value).length,")"]}),V&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-900 text-blue-300 rounded",children:"Parent"}),se&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-900 text-purple-300 rounded",children:"Brotli"}),M&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-yellow-900 text-yellow-300 rounded",children:"Specific SAT"}),_&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-900 text-orange-300 rounded",children:"Reinscription"}),ee&&a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-900 text-purple-300 rounded",children:["Batch (",re.length,")"]})]})]}),a.jsxs("div",{className:"bg-emerald-900/30 border border-emerald-600 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:"Fee:"}),a.jsxs("span",{className:"text-white font-bold",children:[Un.fee.toLocaleString()," sats"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-gray-300",children:"Commit Betrag:"}),a.jsxs("span",{className:"text-emerald-400 font-bold text-lg",children:[Un.commitAmount.toLocaleString()," sats"]})]}),a.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["= ",(Un.commitAmount/1e8).toFixed(8)," BTC"]})]}),Un.virtualSize>1e5&&a.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[" Groe Transaktion (",(Un.virtualSize/1e3).toFixed(0)," kvB). Brotli oder kleinere Dateien nutzen."]})}),a.jsx("button",{onClick:Yp,disabled:Jp===0||!de,className:"w-full py-3 bg-emerald-600 text-white font-bold rounded-lg hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-lg mt-2",children:" Commit-Adresse generieren"})]}):a.jsx("p",{className:"text-gray-500 text-sm",children:"Lade Content um Kosten zu berechnen."})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 text-xs text-gray-500",children:[a.jsx("h3",{className:"font-bold text-gray-400 mb-2",children:" Ablauf:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Content + optionale Features konfigurieren"}),a.jsx("li",{children:"Commit-Adresse generieren lassen"}),a.jsx("li",{children:"Betrag an Commit-Adresse senden"}),a.jsx("li",{children:"Warten bis Transaktion erkannt wird"}),a.jsx("li",{children:"Reveal broadcasten  Inscription on-chain!"})]}),a.jsx("p",{className:"mt-2 text-yellow-600",children:" Tab nicht schlieen nach dem Senden! Private Key wird lokal gespeichert."})]})]})]})})};function on(e){return e.name==="none"}const S6="recursive_collection_projects",$x="recursive_collection_last_project";let LJ=0;function DJ(){return`layer_${Date.now()}_${LJ++}`}function gg(){return`proj_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function BJ(){try{const e=localStorage.getItem(S6);return e?JSON.parse(e):[]}catch{return[]}}function Ja(e){try{localStorage.setItem(S6,JSON.stringify(e))}catch(t){console.error("Save error:",t)}}function RJ(){try{return localStorage.getItem($x)}catch{return null}}function RN(e){try{e?localStorage.setItem($x,e):localStorage.removeItem($x)}catch{}}function FN(e){try{const t=new Date(e);return t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})+" "+t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}catch{return e}}const FJ=()=>{var Pe,Oe,Me,$e,Fe,at;const{walletState:e}=Re(),t=(Pe=e.accounts)==null?void 0:Pe.find(L=>L.purpose==="ordinals"),r=(t==null?void 0:t.address)||((Me=(Oe=e.accounts)==null?void 0:Oe[0])==null?void 0:Me.address),n=e.connected&&Hi(r),[i,s]=b.useState(()=>BJ()),[o,l]=b.useState(null),[c,d]=b.useState(null),[u,f]=b.useState("wallet"),[h,p]=b.useState(""),[g,m]=b.useState(""),[v,x]=b.useState(!1),[y,w]=b.useState([]),[S,j]=b.useState(0),[I,E]=b.useState(""),[C,T]=b.useState(new Set),[K,V]=b.useState(""),[P,R]=b.useState("My Collection"),[N,M]=b.useState(100),[O,$]=b.useState("0 0 1000 1000"),[z,_]=b.useState([]),[q,H]=b.useState(null),[D,se]=b.useState([]),[ae,ie]=b.useState([]),[ce,xe]=b.useState(0),[ve,ee]=b.useState(!1),[F,re]=b.useState(null),[W,le]=b.useState({}),[k,Y]=b.useState(""),[X,U]=b.useState(""),[B,Z]=b.useState(null),ue=b.useRef(null),de=b.useRef(null),A=b.useRef({activeProjectId:null,projects:[],collectionName:"",totalCount:100,viewBox:"",layers:[],scanAddress:"",walletInscriptions:[],generated:[],hashlist:[]}),Q=b.useCallback(L=>{R(L.collectionName||"My Collection"),M(L.totalCount||100),$(L.viewBox||"0 0 1000 1000"),_(L.layers||[]),m(L.scanAddress||""),w(L.walletInscriptions||[]),se(L.generated||[]),ie(L.hashlist||[]),xe(0),T(new Set),V(""),H(null),Y("")},[]),ne=b.useCallback(L=>{const te=gg(),J=new Date().toISOString(),fe={id:te,name:L||"Neues Projekt",createdAt:J,updatedAt:J,collectionName:L||"My Collection",totalCount:100,viewBox:"0 0 1000 1000",layers:[],scanAddress:"",walletInscriptions:[],generated:[],hashlist:[]},pe=[fe,...i];s(pe),Ja(pe),l(te),Q(fe)},[i,Q]),G=b.useCallback(L=>{const te=i.find(J=>J.id===L);te&&(l(L),Q(te))},[i,Q]),ge=b.useCallback(()=>{if(!o)return;const L=new Date().toISOString(),te=i.map(J=>J.id!==o?J:{...J,updatedAt:L,name:P||J.name,collectionName:P,totalCount:N,viewBox:O,layers:z,scanAddress:g,walletInscriptions:y,generated:D,hashlist:ae});s(te),Ja(te),U(" Gespeichert"),setTimeout(()=>U(""),2e3)},[o,i,P,N,O,z,g,y,D,ae]),Ee=b.useCallback(L=>{const te=i.filter(J=>J.id!==L);s(te),Ja(te),o===L&&l(null),d(null)},[i,o]),Ae=b.useCallback(L=>{const te=i.find(Ne=>Ne.id===L);if(!te)return;const J=new Date().toISOString(),pe=[{...JSON.parse(JSON.stringify(te)),id:gg(),name:`${te.name} (Kopie)`,collectionName:`${te.collectionName} (Kopie)`,createdAt:J,updatedAt:J},...i];s(pe),Ja(pe)},[i]),ut=b.useCallback(()=>{ge(),l(null),RN(null)},[ge]);b.useEffect(()=>{A.current={activeProjectId:o,projects:i,collectionName:P,totalCount:N,viewBox:O,layers:z,scanAddress:g,walletInscriptions:y,generated:D,hashlist:ae}}),b.useEffect(()=>{const L=()=>{const te=A.current;if(!te.activeProjectId)return;const J=te.projects.map(fe=>fe.id!==te.activeProjectId?fe:{...fe,updatedAt:new Date().toISOString(),name:te.collectionName||fe.name,collectionName:te.collectionName,totalCount:te.totalCount,viewBox:te.viewBox,layers:te.layers,scanAddress:te.scanAddress,walletInscriptions:te.walletInscriptions,generated:te.generated,hashlist:te.hashlist});Ja(J)};return window.addEventListener("beforeunload",L),()=>window.removeEventListener("beforeunload",L)},[]),b.useEffect(()=>{if(i.length===0)return;const L=RJ();if(L&&i.some(te=>te.id===L)&&!o){l(L);const te=i.find(J=>J.id===L);te&&Q(te)}},[]),b.useEffect(()=>{o&&RN(o)},[o]),b.useEffect(()=>{if(o)return de.current&&clearTimeout(de.current),de.current=setTimeout(()=>{ge()},1e3),()=>{de.current&&clearTimeout(de.current)}},[z,P,N,O,g,y,D,ae,o,ge]);const Ye=b.useCallback(async()=>{const L=g.trim();if(!L||!L.startsWith("bc1p")){Y("Bitte eine gltige Taproot-Adresse (bc1p...) eingeben!");return}x(!0),Y(""),w([]),E("Lade Inscriptions...");try{let te=[],J=0;const fe=100;let pe=0;do{const Ne=`https://open-api.unisat.io/v1/indexer/address/${L}/inscription-data?cursor=${J}&size=${fe}`,je=await fetch(Ne,{headers:{Accept:"application/json"}});if(!je.ok)throw new Error(`API Fehler: ${je.status}`);const ke=await je.json();if(ke.code!==0)throw new Error(ke.msg||"API Error");const Ue=ke.data;pe=Ue.total||0,j(pe);const Xe=(Ue.inscription||[]).map(Te=>({id:Te.inscriptionId,number:Te.inscriptionNumber,contentType:Te.contentType,contentLength:Te.contentLength}));if(te=[...te,...Xe],w([...te]),E(`${te.length} / ${pe} geladen...`),J+=fe,Xe.length<fe)break;await new Promise(Te=>setTimeout(Te,200))}while(J<pe);E(` ${te.length} Inscriptions geladen`)}catch(te){Y(`Scan Fehler: ${te.message}`),E("")}finally{x(!1)}},[g]),Pt=b.useCallback(L=>L.split(/[\n,;\s]+/).map(J=>J.trim()).filter(Boolean).filter(J=>/^[a-f0-9]{64}i\d+$/i.test(J)),[]),Ke=b.useCallback(()=>{const L=Pt(h);if(L.length===0){Y("Keine gltigen Inscription IDs gefunden! Format: abc123...i0");return}const te=L.map(Ne=>({id:Ne})),J=new Set(y.map(Ne=>Ne.id)),fe=te.filter(Ne=>!J.has(Ne.id)),pe=[...y,...fe];w(pe),E(` ${fe.length} neue IDs geladen (${pe.length} gesamt)`),Y("")},[h,y,Pt]),Ze=b.useCallback(L=>{var fe;const te=(fe=L.target.files)==null?void 0:fe[0];if(!te)return;const J=new FileReader;J.onload=pe=>{var Ne;try{const je=(Ne=pe.target)==null?void 0:Ne.result;try{const Ue=JSON.parse(je);let Xe=[];if(Array.isArray(Ue)&&(Xe=Ue.map(Te=>typeof Te=="string"?Te.trim():Te.id?Te.id.trim():Te.inscriptionId?Te.inscriptionId.trim():"").filter(Boolean)),Xe.length>0){p(Xe.join(`
`));const Te=Xe.filter(fi=>/^[a-f0-9]{64}i\d+$/i.test(fi)),Vs=new Set(y.map(fi=>fi.id)),Gs=Te.filter(fi=>!Vs.has(fi)).map(fi=>({id:fi}));w(fi=>[...fi,...Gs]),E(` ${Gs.length} IDs aus Datei geladen (${y.length+Gs.length} gesamt)`);return}}catch{}p(je);const ke=Pt(je);if(ke.length>0){const Ue=new Set(y.map(Te=>Te.id)),Xe=ke.filter(Te=>!Ue.has(Te)).map(Te=>({id:Te}));w(Te=>[...Te,...Xe]),E(` ${Xe.length} IDs aus Datei geladen (${y.length+Xe.length} gesamt)`)}else Y("Keine gltigen Inscription IDs in der Datei gefunden!")}catch{Y("Fehler beim Lesen der Datei!")}},J.readAsText(te),L.target.value=""},[y,Pt]),di=b.useCallback(L=>{T(te=>{const J=new Set(te);return J.has(L)?J.delete(L):J.add(L),J})},[]),es=b.useCallback(()=>{T(new Set(Cr.map(L=>L.id)))},[y,K]),Er=b.useCallback(()=>{T(new Set)},[]),Cr=b.useMemo(()=>{if(!K)return y;const L=K.toLowerCase();return y.filter(te=>{var J;return te.id.toLowerCase().includes(L)||(te.contentType||"").toLowerCase().includes(L)||(((J=te.number)==null?void 0:J.toString())||"").includes(L)})},[y,K]),Fa=b.useMemo(()=>{const L=new Set;for(const te of z)for(const J of te.traits)J.inscriptionId&&!on(J)&&L.add(J.inscriptionId);return L},[z]),fl=b.useCallback(L=>{C.size!==0&&(_(te=>te.map(J=>{if(J.id!==L)return J;const fe=[];for(const pe of C)if(!J.traits.some(Ne=>Ne.inscriptionId===pe)){const Ne=y.find(je=>je.id===pe);fe.push({inscriptionId:pe,name:"",rarity:50,contentType:Ne==null?void 0:Ne.contentType})}return{...J,traits:[...J.traits,...fe]}})),T(new Set))},[C,y]),hl=b.useCallback((L,te)=>{const J=C.has(te)?Array.from(C):[te];L.dataTransfer.setData("text/plain",JSON.stringify(J)),L.dataTransfer.effectAllowed="move"},[C]),Ua=b.useCallback((L,te)=>{L.preventDefault(),L.dataTransfer.dropEffect="move",Z(te)},[]),ui=b.useCallback(()=>{Z(null)},[]),ts=b.useCallback((L,te)=>{L.preventDefault(),Z(null);try{const J=JSON.parse(L.dataTransfer.getData("text/plain"));if(!Array.isArray(J)||J.length===0)return;_(fe=>fe.map(pe=>{if(pe.id!==te)return pe;const Ne=[];for(const je of J)if(!pe.traits.some(ke=>ke.inscriptionId===je)){const ke=y.find(Ue=>Ue.id===je);Ne.push({inscriptionId:je,name:"",rarity:50,contentType:ke==null?void 0:ke.contentType})}return{...pe,traits:[...pe.traits,...Ne]}})),T(new Set)}catch{}},[y]),Nd=b.useCallback(()=>{const L={id:DJ(),name:"",traitType:"",traits:[],expanded:!0};_(te=>[...te,L])},[]),za=b.useCallback(L=>{_(te=>te.filter(J=>J.id!==L)),q===L&&H(null)},[q]),Wa=b.useCallback((L,te)=>{_(J=>{const fe=J.findIndex(je=>je.id===L);if(fe<0)return J;const pe=fe+te;if(pe<0||pe>=J.length)return J;const Ne=[...J];return[Ne[fe],Ne[pe]]=[Ne[pe],Ne[fe]],Ne})},[]),pl=b.useCallback((L,te)=>{_(J=>J.map(fe=>fe.id===L?{...fe,...te}:fe))},[]),Un=b.useCallback(L=>{_(te=>te.map(J=>J.id===L?{...J,expanded:!J.expanded}:J))},[]),Yp=b.useCallback(L=>{_(te=>te.map(J=>J.id===L?{...J,traits:[...J.traits,{inscriptionId:"",name:"",rarity:50}]}:J))},[]),Zp=b.useCallback(L=>{_(te=>te.map(J=>J.id===L?{...J,traits:[...J.traits,{inscriptionId:"",name:"none",rarity:50}]}:J))},[]),Xp=b.useCallback((L,te)=>{_(J=>J.map(fe=>fe.id===L?{...fe,traits:fe.traits.filter((pe,Ne)=>Ne!==te)}:fe))},[]),ml=b.useCallback((L,te,J)=>{_(fe=>fe.map(pe=>pe.id===L?{...pe,traits:pe.traits.map((Ne,je)=>je===te?{...Ne,...J}:Ne)}:pe))},[]),gl=b.useCallback(L=>{const te=L.reduce((fe,pe)=>fe+(pe.rarity||1),0);let J=Math.random()*te;for(const fe of L)if(J-=fe.rarity||1,J<=0)return fe;return L[L.length-1]},[]),Jp=b.useCallback(()=>{if(Y(""),z.length===0){Y("Kein Layer definiert! Erstelle mindestens einen Layer.");return}const L=[];for(let je=0;je<z.length;je++){const ke=z[je],Ue=`Layer #${je+1}${ke.name?` "${ke.name}"`:""}`;ke.name||L.push(`${Ue}: Layer Name fehlt`),ke.traitType||L.push(`${Ue}: trait_type fehlt`),ke.traits.length===0&&L.push(`${Ue}: Keine Traits`)}if(L.length>0){Y(L.join(" | "));return}const te=z.filter(je=>je.name&&je.traitType&&je.traits.length>0);if(te.some(je=>je.traits.some(ke=>!ke.name))){Y("Alle Traits brauchen einen Namen!");return}if(te.some(je=>je.traits.some(ke=>!on(ke)&&!ke.inscriptionId))){Y('Alle Traits (auer "none") brauchen eine Inscription ID!');return}const J=[],fe=new Set,pe=N*10;let Ne=0;for(;J.length<N&&Ne<pe;){Ne++;const je=te.map(Te=>({layerName:Te.name,traitType:Te.traitType,trait:gl(Te.traits)})),ke=je.map(Te=>on(Te.trait)?"none":Te.trait.inscriptionId).join("|");if(fe.has(ke)&&Ne<pe-N)continue;fe.add(ke);const Ue=J.length+1,Xe=je.filter(Te=>!on(Te.trait)).map(Te=>`  <image href="/content/${Te.trait.inscriptionId}" />`).join(`
`);J.push({index:Ue,layers:je,svg:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${O}">
${Xe}
</svg>`})}se(J),xe(0),ie(J.map((je,ke)=>({id:`PLACEHOLDER_${ke+1}`,meta:{name:`${P} #${ke+1}`,attributes:je.layers.map(Ue=>({trait_type:Ue.traitType,value:Ue.trait.name}))}})))},[z,N,P,O,gl]),Ha=b.useCallback((L,te,J)=>{se(fe=>{const pe=[...fe],Ne={...pe[L]},je=[...Ne.layers],ke={...je[te]},Ue=z.find(Te=>Te.traitType===ke.traitType&&Te.name===ke.layerName);if(!Ue||J>=Ue.traits.length)return fe;ke.trait=Ue.traits[J],je[te]=ke,Ne.layers=je;const Xe=je.filter(Te=>!on(Te.trait)).map(Te=>`  <image href="/content/${Te.trait.inscriptionId}" />`).join(`
`);return Ne.svg=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${O}">
${Xe}
</svg>`,pe[L]=Ne,pe}),ie(fe=>{var Te;const pe=[...fe];if(!pe[L])return fe;const Ne={...pe[L]},je=D[L];if(!je)return fe;const ke=z.find(Vs=>{const Gs=je.layers[te];return Gs&&Vs.traitType===Gs.traitType&&Vs.name===Gs.layerName});if(!ke)return fe;const Ue=ke.traits[J];if(!Ue)return fe;const Xe=[...((Te=Ne.meta)==null?void 0:Te.attributes)||[]];return Xe[te]&&(Xe[te]={...Xe[te],value:Ue.name}),Ne.meta={...Ne.meta,attributes:Xe},pe[L]=Ne,pe})},[z,O,D]),kd=b.useCallback(()=>{const L={};for(const te of z)te.traits.length>0&&(L[te.id]=Math.floor(Math.random()*te.traits.length));le(L)},[z]),Ka=b.useMemo(()=>z.filter(L=>L.traits.length>0).map(L=>{const te=W[L.id]??0,J=L.traits[Math.min(te,L.traits.length-1)];return{layerName:L.name,traitType:L.traitType,trait:J,layerId:L.id}}),[z,W]),xl=b.useMemo(()=>{if(D.length===0)return null;const L={};for(const te of D)for(const J of te.layers)L[J.traitType]||(L[J.traitType]={}),L[J.traitType][J.trait.name]=(L[J.traitType][J.trait.name]||0)+1;return L},[D]),zn=b.useCallback((L,te)=>{const J=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),fe=URL.createObjectURL(J),pe=document.createElement("a");pe.href=fe,pe.download=te,pe.click(),URL.revokeObjectURL(fe)},[]),Id=b.useCallback(L=>{const te=D[L];if(!te)return;const J=new Blob([te.svg],{type:"image/svg+xml"}),fe=URL.createObjectURL(J),pe=document.createElement("a");pe.href=fe,pe.download=`${P.replace(/\s+/g,"_").toLowerCase()}_${L+1}.svg`,pe.click(),URL.revokeObjectURL(fe)},[D,P]),Ed=b.useCallback(()=>{zn({collectionName:P,totalCount:N,viewBox:O,layers:z},`${P.replace(/\s+/g,"_").toLowerCase()}_config.json`)},[P,N,O,z,zn]),Cd=b.useCallback(()=>{if(!o)return;const L=i.find(fe=>fe.id===o),te=L?{...L,updatedAt:new Date().toISOString(),name:P||L.name,collectionName:P,totalCount:N,viewBox:O,layers:z,scanAddress:g,walletInscriptions:y,generated:D,hashlist:ae}:{id:o,name:P,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),collectionName:P,totalCount:N,viewBox:O,layers:z,scanAddress:g,walletInscriptions:y,generated:D,hashlist:ae},J=(P||"projekt").replace(/\s+/g,"_").replace(/[^\w\-]/g,"")||"projekt";zn(te,`${J}_backup_${new Date().toISOString().slice(0,10)}.json`)},[o,i,P,N,O,z,g,y,D,ae,zn]),he=b.useCallback(L=>{var fe;const te=(fe=L.target.files)==null?void 0:fe[0];if(!te)return;const J=new FileReader;J.onload=pe=>{var Ne;try{const je=(Ne=pe.target)==null?void 0:Ne.result,ke=JSON.parse(je);if(!ke||typeof ke!="object")throw new Error("Ungltiges Format");const Ue=Array.isArray(ke.layers),Xe={id:gg(),name:ke.name||ke.collectionName||te.name.replace(/\.[^.]+$/,"")||"Import",createdAt:ke.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),collectionName:ke.collectionName||ke.name||"Import",totalCount:ke.totalCount??100,viewBox:ke.viewBox||"0 0 1000 1000",layers:Ue?ke.layers:[],scanAddress:ke.scanAddress||"",walletInscriptions:Array.isArray(ke.walletInscriptions)?ke.walletInscriptions:[],generated:Array.isArray(ke.generated)?ke.generated:[],hashlist:Array.isArray(ke.hashlist)?ke.hashlist:[]},Te=[Xe,...i];s(Te),Ja(Te),l(Xe.id),Q(Xe),Y("")}catch(je){Y((je==null?void 0:je.message)||"Ungltige Projekt-Datei!")}},J.readAsText(te),L.target.value=""},[i,Q]),Se=b.useCallback(L=>{var fe;const te=(fe=L.target.files)==null?void 0:fe[0];if(!te)return;const J=new FileReader;J.onload=pe=>{var Ne;try{const je=JSON.parse((Ne=pe.target)==null?void 0:Ne.result);je.collectionName&&R(je.collectionName),je.totalCount&&M(je.totalCount),je.viewBox&&$(je.viewBox),je.layers&&_(je.layers)}catch{Y("Ungltige Config-Datei!")}},J.readAsText(te),L.target.value=""},[]);return e.connected?n?o?a.jsx("div",{className:"min-h-screen bg-black text-white pt-16 pb-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 sticky top-14 z-40",children:[a.jsx("button",{onClick:ut,className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-300 hover:bg-gray-700 hover:text-white flex items-center gap-1",children:" Projekte"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("h1",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 truncate",children:[" ",P||"Unnamed"]})}),a.jsx("button",{onClick:Cd,className:"px-4 py-1.5 bg-amber-600 text-white rounded-lg text-sm font-bold hover:bg-amber-500 flex items-center gap-1",title:"Projekt als JSON-Datei speichern (externer Backup)",children:" Export"}),a.jsx("button",{onClick:ge,className:"px-4 py-1.5 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-500 flex items-center gap-1",children:" Speichern"}),X&&a.jsx("span",{className:"text-xs text-emerald-400 animate-pulse",children:X})]}),k&&a.jsxs("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm flex items-center justify-between",children:[a.jsx("span",{children:k}),a.jsx("button",{onClick:()=>Y(""),className:"text-red-400 hover:text-white ml-2",children:""})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold mb-3",children:[a.jsx("span",{className:"text-purple-400",children:""})," Inscriptions laden"]}),a.jsxs("div",{className:"flex gap-1 mb-3 bg-black/50 rounded-lg p-1 border border-gray-800 w-fit",children:[a.jsx("button",{onClick:()=>f("wallet"),className:`px-3 py-1.5 rounded text-xs font-bold transition ${u==="wallet"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:" Wallet scannen"}),a.jsx("button",{onClick:()=>f("idlist"),className:`px-3 py-1.5 rounded text-xs font-bold transition ${u==="idlist"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:" ID-Liste einfgen"})]}),u==="wallet"&&a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",value:g,onChange:L=>m(L.target.value.trim()),placeholder:"bc1p... (Taproot-Adresse)",className:"flex-1 px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"}),r&&a.jsx("button",{onClick:()=>m(r),className:"px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 hover:bg-gray-700 whitespace-nowrap",children:"Meine Adresse"}),a.jsx("button",{onClick:Ye,disabled:v,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 disabled:opacity-50 text-sm font-bold whitespace-nowrap",children:v?" Scanne...":" Scannen"})]}),u==="idlist"&&a.jsxs("div",{className:"mb-3",children:[a.jsx("textarea",{value:h,onChange:L=>p(L.target.value),placeholder:`Inscription IDs eingeben (eine pro Zeile oder komma-getrennt):

abc123...i0
def456...i0
ghi789...i0`,className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-xs font-mono h-32 resize-y"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("button",{onClick:Ke,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 text-sm font-bold",children:" IDs laden"}),a.jsxs("label",{className:"px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 hover:bg-gray-700 cursor-pointer",children:[" JSON/TXT Datei laden",a.jsx("input",{type:"file",accept:".json,.txt,.csv",onChange:Ze,className:"hidden"})]}),h.trim()&&a.jsxs("span",{className:"text-xs text-gray-500",children:[Pt(h).length," IDs erkannt"]})]})]}),I&&a.jsx("p",{className:"text-xs text-gray-400 mb-3",children:I}),y.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 p-2 bg-black/50 rounded-lg border border-gray-800",children:[a.jsx("input",{type:"text",value:K,onChange:L=>V(L.target.value),placeholder:" Filter (ID, Typ, Nummer)...",className:"flex-1 min-w-[180px] px-2 py-1.5 bg-gray-900 border border-gray-700 rounded text-xs text-white"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Cr.length," angezeigt"]}),a.jsxs("span",{className:"text-xs text-purple-400 font-bold",children:[C.size," ausgewhlt"]}),a.jsx("button",{onClick:es,className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-xs text-gray-300 hover:bg-gray-700",children:"Alle"}),a.jsx("button",{onClick:Er,className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-xs text-gray-300 hover:bg-gray-700",children:"Keine"}),C.size>0&&z.length>0&&a.jsxs("div",{className:"flex items-center gap-1 bg-purple-900/30 border border-purple-700 rounded-lg px-2 py-1",children:[a.jsx("span",{className:"text-xs text-purple-300 font-bold",children:" In Layer:"}),a.jsxs("select",{value:q||"",onChange:L=>H(L.target.value||null),className:"px-2 py-1 bg-gray-900 border border-purple-500 rounded text-xs text-white font-bold min-w-[140px]",children:[a.jsx("option",{value:"",children:"-- Layer whlen --"}),z.map((L,te)=>a.jsxs("option",{value:L.id,children:["#",te+1," ",L.name||"(unnamed)"," (",L.traits.length," Traits)"]},L.id))]}),a.jsxs("button",{onClick:()=>q&&fl(q),disabled:!q,className:"px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-bold hover:bg-purple-500 disabled:opacity-30 disabled:cursor-not-allowed whitespace-nowrap",children:[" Verschieben (",C.size,")"]})]}),C.size>0&&z.length===0&&a.jsx("span",{className:"text-xs text-yellow-400",children:" Erst einen Layer erstellen!"}),C.size>0&&z.length>0&&a.jsx("span",{className:"text-[10px] text-gray-600",children:"oder per Drag & Drop in Layer ziehen"})]}),a.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-1.5 max-h-[400px] overflow-y-auto p-1",children:Cr.map(L=>{const te=C.has(L.id),J=Fa.has(L.id);return a.jsxs("div",{onClick:()=>!J&&di(L.id),draggable:!J,onDragStart:fe=>hl(fe,L.id),className:`aspect-square rounded-lg border-2 cursor-pointer relative overflow-hidden transition-all ${J?"border-green-600 opacity-40 cursor-not-allowed":te?"border-purple-500 ring-2 ring-purple-500/50 scale-[1.02]":"border-gray-800 hover:border-gray-500"}`,title:`${L.id}
#${L.number||"?"}
${L.contentType||"?"}`,children:[a.jsx("img",{src:`https://ordinals.com/content/${L.id}`,alt:"",className:"w-full h-full object-contain bg-white",loading:"lazy"}),te&&a.jsx("div",{className:"absolute top-0.5 right-0.5 w-4 h-4 bg-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-[8px] font-bold",children:""})}),J&&a.jsx("div",{className:"absolute inset-0 bg-green-900/50 flex items-center justify-center",children:a.jsx("span",{className:"text-green-300 text-[10px] font-bold",children:"IN LAYER"})})]},L.id)})})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold mb-3",children:[a.jsx("span",{className:"text-purple-400",children:""})," Einstellungen"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Collection Name"}),a.jsx("input",{type:"text",value:P,onChange:L=>R(L.target.value),className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Anzahl generieren"}),a.jsx("input",{type:"number",value:N,onChange:L=>M(Math.max(1,parseInt(L.target.value)||1)),min:1,max:1e4,className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"SVG viewBox"}),a.jsx("input",{type:"text",value:O,onChange:L=>$(L.target.value),className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm font-mono"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{onClick:Ed,className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-xs text-gray-300 hover:bg-gray-700",children:" Config exportieren"}),a.jsxs("label",{className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-xs text-gray-300 hover:bg-gray-700 cursor-pointer",children:[" Config importieren",a.jsx("input",{ref:ue,type:"file",accept:".json",onChange:Se,className:"hidden"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h2",{className:"text-lg font-bold",children:[a.jsx("span",{className:"text-purple-400",children:""})," Layer (",z.length,")"]}),a.jsx("button",{onClick:Nd,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 text-sm font-bold",children:"+ Layer hinzufgen"})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Layer werden von unten nach oben gestapelt. #1 = Hintergrund."}),z.map((L,te)=>a.jsxs("div",{onDragOver:J=>Ua(J,L.id),onDragLeave:ui,onDrop:J=>ts(J,L.id),className:`bg-gray-900 border-2 rounded-xl mb-3 overflow-hidden transition-all ${B===L.id?"border-purple-400 shadow-lg shadow-purple-500/40 scale-[1.01] bg-purple-900/20":q===L.id?"border-purple-500 shadow-lg shadow-purple-500/20":"border-gray-700"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 cursor-pointer transition-colors ${B===L.id?"bg-purple-900/40":"bg-gray-800"}`,onClick:()=>Un(L.id),children:[a.jsxs("span",{className:"text-purple-400 font-bold text-sm w-8",children:["#",te+1]}),a.jsx("span",{className:"text-white font-semibold flex-1",children:L.name||"(Unnamed Layer)"}),a.jsxs("span",{className:"text-xs text-gray-500",children:[L.traits.length," Traits"]}),a.jsx("button",{onClick:J=>{J.stopPropagation(),H(L.id===q?null:L.id)},className:`px-2 py-0.5 rounded text-xs font-bold ${q===L.id?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-purple-900 hover:text-purple-300"}`,title:"Als Ziel-Layer fr Inscriptions setzen",children:" Ziel"}),a.jsx("button",{onClick:J=>{J.stopPropagation(),Wa(L.id,-1)},disabled:te===0,className:"p-1 text-gray-500 hover:text-white disabled:opacity-30",children:""}),a.jsx("button",{onClick:J=>{J.stopPropagation(),Wa(L.id,1)},disabled:te===z.length-1,className:"p-1 text-gray-500 hover:text-white disabled:opacity-30",children:""}),a.jsx("button",{onClick:J=>{J.stopPropagation(),za(L.id)},className:"p-1 text-red-500 hover:text-red-400",children:""}),a.jsx("span",{className:"text-gray-500 text-sm",children:L.expanded?"":""})]}),L.expanded&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Layer Name"}),a.jsx("input",{type:"text",value:L.name,onChange:J=>pl(L.id,{name:J.target.value}),placeholder:"z.B. background, eyes, head...",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"trait_type (fr Hashlist)"}),a.jsx("input",{type:"text",value:L.traitType,onChange:J=>pl(L.id,{traitType:J.target.value}),placeholder:"z.B. background, eyes, head...",className:"w-full px-3 py-2 bg-black border border-gray-600 rounded-lg text-white text-sm"})]})]}),L.traits.length===0?a.jsxs("div",{className:`text-center py-6 border border-dashed rounded-lg transition-colors ${B===L.id?"border-purple-400 bg-purple-900/20 text-purple-300":"border-gray-700 text-gray-600"}`,children:[a.jsx("p",{className:"text-sm mb-1",children:B===L.id?" Hier ablegen!":"Keine Traits"}),a.jsx("p",{className:"text-xs",children:"Inscriptions oben auswhlen und hierher ziehen (Drag & Drop)"})]}):a.jsx("div",{className:"space-y-2",children:L.traits.map((J,fe)=>a.jsxs("div",{className:"flex gap-2 items-start bg-black/50 p-3 rounded-lg border border-gray-800",children:[a.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gray-900 border border-gray-700 rounded-lg overflow-hidden cursor-pointer",onClick:()=>!on(J)&&re((F==null?void 0:F.layerId)===L.id&&(F==null?void 0:F.traitIdx)===fe?null:{layerId:L.id,traitIdx:fe}),children:on(J)?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-purple-400 text-[10px] font-bold border-2 border-dashed border-purple-600/50 rounded",children:[a.jsx("span",{children:"none"}),a.jsx("span",{className:"text-gray-600 text-[8px]",children:"leer"})]}):J.inscriptionId?a.jsx("img",{src:`https://ordinals.com/content/${J.inscriptionId}`,alt:J.name,className:"w-full h-full object-contain",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600 text-xs",children:"?"})}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500",children:"Inscription ID"}),a.jsx("input",{type:"text",value:J.inscriptionId,onChange:pe=>ml(L.id,fe,{inscriptionId:pe.target.value.trim()}),placeholder:"abc...i0",className:"w-full px-2 py-1.5 bg-gray-900 border border-gray-700 rounded text-[10px] text-white font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500",children:"Name"}),a.jsx("input",{type:"text",value:J.name,onChange:pe=>ml(L.id,fe,{name:pe.target.value}),placeholder:"z.B. blue gradient",className:"w-full px-2 py-1.5 bg-gray-900 border border-gray-700 rounded text-xs text-white"})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-xs text-gray-500",children:["Rarity (",J.rarity,")"]}),a.jsx("input",{type:"range",value:J.rarity,onChange:pe=>ml(L.id,fe,{rarity:parseInt(pe.target.value)}),min:1,max:100,className:"w-full accent-purple-500"})]}),a.jsx("button",{onClick:()=>Xp(L.id,fe),className:"p-1.5 text-red-500 hover:text-red-400 text-xs",children:""})]})]})]},fe))}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[a.jsx("button",{onClick:()=>Zp(L.id),className:"px-3 py-1.5 bg-purple-900/70 border-2 border-purple-500 rounded text-xs font-bold text-purple-200 hover:bg-purple-800/70 hover:border-purple-400",title:"Leerer Layer  wird im SVG als leer gerendert (kein Bild)",children:"+ Leer (none)"}),a.jsx("button",{onClick:()=>Yp(L.id),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-xs text-gray-300 hover:bg-gray-700",children:"+ Trait manuell hinzufgen"}),a.jsx("span",{className:"text-[10px] text-gray-500",children:"Leer = optionaler Layer ohne Bild"})]})]})]},L.id)),z.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-600 border border-dashed border-gray-700 rounded-xl",children:[a.jsx("p",{className:"text-lg mb-2",children:"Keine Layer definiert"}),a.jsx("p",{className:"text-sm",children:'Klicke "Layer hinzufgen" um zu beginnen.'})]})]}),F&&(()=>{const L=z.find(J=>J.id===F.layerId),te=L==null?void 0:L.traits[F.traitIdx];return!L||!te||!te.inscriptionId?null:a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>re(null),children:a.jsxs("div",{className:"bg-gray-900 border border-purple-500 rounded-xl p-4 max-w-lg w-full",onClick:J=>J.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-bold",children:te.name||"(Kein Name)"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Layer: ",L.name," | Rarity: ",te.rarity]})]}),a.jsx("button",{onClick:()=>re(null),className:"text-gray-400 hover:text-white text-xl",children:""})]}),a.jsx("div",{className:"w-full aspect-square bg-black rounded-lg overflow-hidden",children:a.jsx("img",{src:`https://ordinals.com/content/${te.inscriptionId}`,alt:te.name,className:"w-full h-full object-contain"})}),a.jsx("p",{className:"text-xs text-gray-500 font-mono mt-2 break-all",children:te.inscriptionId})]})})})(),Ka.length>0&&a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h2",{className:"text-lg font-bold",children:[a.jsx("span",{className:"text-purple-400",children:""})," Layer-Vorschau"]}),a.jsx("button",{onClick:kd,className:"px-4 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-500 text-sm font-bold",children:" Zufllig mischen"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[300px_1fr] gap-4",children:[a.jsx("div",{className:"bg-black rounded-lg border border-gray-800 overflow-hidden",children:a.jsx("div",{className:"w-full aspect-square relative",children:Ka.filter(L=>!on(L.trait)).map((L,te)=>a.jsx("img",{src:`https://ordinals.com/content/${L.trait.inscriptionId}`,alt:L.trait.name,className:"absolute inset-0 w-full h-full object-contain",style:{zIndex:te},loading:"lazy"},L.layerId))})}),a.jsx("div",{className:"space-y-2",children:Ka.map((L,te)=>{const J=z.find(pe=>pe.id===L.layerId),fe=W[L.layerId]??0;return a.jsxs("div",{className:"flex items-center gap-2 bg-black/50 rounded-lg p-2 border border-gray-800",children:[a.jsxs("span",{className:"text-purple-400 font-bold text-xs w-6 text-center",children:["#",te+1]}),a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-900 border border-gray-700 rounded overflow-hidden",children:on(L.trait)?a.jsx("div",{className:"w-full h-full flex items-center justify-center text-purple-400 text-[10px] font-bold",children:"none"}):a.jsx("img",{src:`https://ordinals.com/content/${L.trait.inscriptionId}`,alt:"",className:"w-full h-full object-contain",loading:"lazy"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-gray-500",children:L.layerName||L.traitType}),a.jsx("p",{className:"text-sm text-white truncate",children:L.trait.name||"(kein Name)"})]}),J&&J.traits.length>1&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>le(pe=>({...pe,[L.layerId]:(fe-1+J.traits.length)%J.traits.length})),className:"w-6 h-6 bg-gray-800 border border-gray-600 rounded text-gray-400 hover:text-white text-xs flex items-center justify-center",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-500 w-10 text-center",children:[fe+1,"/",J.traits.length]}),a.jsx("button",{onClick:()=>le(pe=>({...pe,[L.layerId]:(fe+1)%J.traits.length})),className:"w-6 h-6 bg-gray-800 border border-gray-600 rounded text-gray-400 hover:text-white text-xs flex items-center justify-center",children:""})]})]},L.layerId)})})]})]}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("button",{onClick:Jp,disabled:z.length===0||z.every(L=>L.traits.length===0),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:from-purple-500 hover:to-pink-500 disabled:opacity-30 text-lg shadow-lg",children:[" ",N," Items generieren"]}),z.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Mgliche Kombinationen: ",z.filter(L=>L.traits.length>0).reduce((L,te)=>L*te.traits.length,1).toLocaleString()]})]}),D.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5",children:[a.jsxs("h2",{className:"text-lg font-bold mb-3",children:[a.jsx("span",{className:"text-purple-400",children:""})," Downloads"]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>zn(ae,`${P.replace(/\s+/g,"_").toLowerCase()}_hashlist.json`),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 text-sm font-bold",children:[" Hashlist JSON (",D.length,")"]}),a.jsxs("button",{onClick:()=>zn(D.map((L,te)=>({filename:`${P.replace(/\s+/g,"_").toLowerCase()}_${te+1}.svg`,svg:L.svg,traits:L.layers.map(J=>({trait_type:J.traitType,value:J.trait.name}))})),`${P.replace(/\s+/g,"_").toLowerCase()}_svgs.json`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 text-sm font-bold",children:[" Alle SVGs (",D.length,")"]})]})]}),xl&&a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5",children:[a.jsxs("h2",{className:"text-lg font-bold mb-3",children:[a.jsx("span",{className:"text-purple-400",children:""})," Rarity Statistik"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(xl).map(([L,te])=>a.jsxs("div",{className:"bg-black/50 rounded-lg p-3 border border-gray-800",children:[a.jsx("h3",{className:"text-sm font-bold text-purple-400 mb-2",children:L}),a.jsx("div",{className:"space-y-1",children:Object.entries(te).sort((J,fe)=>fe[1]-J[1]).map(([J,fe])=>{const pe=(fe/D.length*100).toFixed(1);return a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"text-gray-300 flex-1 truncate",children:J}),a.jsx("div",{className:"w-20 bg-gray-800 rounded-full h-1.5",children:a.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full",style:{width:`${pe}%`}})}),a.jsxs("span",{className:"text-gray-500 w-16 text-right",children:[fe,"x (",pe,"%)"]})]},J)})})]},L))})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h2",{className:"text-lg font-bold",children:[a.jsx("span",{className:"text-purple-400",children:""})," Vorschau"]}),a.jsx("button",{onClick:()=>ee(!ve),className:`px-3 py-1.5 rounded text-sm font-bold transition ${ve?"bg-yellow-600 text-white hover:bg-yellow-500":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:ve?" Bearbeiten AN":" Bearbeiten"})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("button",{onClick:()=>xe(Math.max(0,ce-1)),disabled:ce===0,className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-white hover:bg-gray-700 disabled:opacity-30",children:""}),a.jsxs("span",{className:"text-sm text-gray-400",children:["#",ce+1," / ",D.length]}),a.jsx("button",{onClick:()=>xe(Math.min(D.length-1,ce+1)),disabled:ce>=D.length-1,className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-white hover:bg-gray-700 disabled:opacity-30",children:""}),a.jsx("button",{onClick:()=>xe(Math.floor(Math.random()*D.length)),className:"px-3 py-1.5 bg-purple-900 border border-purple-600 rounded text-sm text-purple-300 hover:bg-purple-800",children:""}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Gehe zu #"}),a.jsx("input",{type:"number",min:1,max:D.length,value:ce+1,onChange:L=>{const te=parseInt(L.target.value);te>=1&&te<=D.length&&xe(te-1)},className:"w-16 px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs text-white text-center"})]}),a.jsx("button",{onClick:()=>Id(ce),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300 hover:bg-gray-700 ml-auto",children:" SVG"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-black rounded-lg border border-gray-800 overflow-hidden",children:a.jsx("div",{className:"w-full aspect-square relative",children:($e=D[ce])==null?void 0:$e.layers.filter(L=>!on(L.trait)).map((L,te)=>a.jsx("img",{src:`https://ordinals.com/content/${L.trait.inscriptionId}`,alt:L.trait.name,className:"absolute inset-0 w-full h-full object-contain",style:{zIndex:te},loading:"lazy"},`${ce}-${te}-${L.trait.inscriptionId}`))})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-bold mb-2",children:[P," #",ce+1]}),a.jsx("div",{className:"space-y-2 mb-4",children:(Fe=D[ce])==null?void 0:Fe.layers.map((L,te)=>{const J=z.find(pe=>pe.traitType===L.traitType&&pe.name===L.layerName),fe=(J==null?void 0:J.traits.findIndex(pe=>pe.inscriptionId===L.trait.inscriptionId))??-1;return a.jsxs("div",{className:`flex items-center gap-2 rounded p-2 border ${ve?"bg-yellow-900/20 border-yellow-700/50":"bg-black/50 border-gray-800"}`,children:[on(L.trait)?a.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded border border-purple-600/50 flex-shrink-0 text-[10px] text-purple-400 font-bold",children:"none"}):a.jsx("img",{src:`https://ordinals.com/content/${L.trait.inscriptionId}`,alt:"",className:"w-8 h-8 object-contain rounded border border-gray-700 flex-shrink-0",loading:"lazy"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-gray-500",children:L.traitType}),ve&&J&&J.traits.length>1?a.jsx("select",{value:fe>=0?fe:0,onChange:pe=>Ha(ce,te,parseInt(pe.target.value)),className:"w-full px-2 py-1 bg-gray-900 border border-yellow-600 rounded text-sm text-white mt-0.5 cursor-pointer",children:J.traits.map((pe,Ne)=>a.jsxs("option",{value:Ne,children:[pe.name||`Trait ${Ne+1}`," (Rarity: ",pe.rarity,")"]},Ne))}):a.jsx("p",{className:"text-sm text-white truncate",children:L.trait.name})]}),ve&&J&&J.traits.length>1&&a.jsxs("div",{className:"flex gap-0.5 flex-shrink-0",children:[a.jsx("button",{onClick:()=>{const pe=(fe-1+J.traits.length)%J.traits.length;Ha(ce,te,pe)},className:"w-6 h-6 bg-gray-800 border border-gray-600 rounded text-gray-400 hover:text-white text-xs flex items-center justify-center",children:""}),a.jsx("button",{onClick:()=>{const pe=(fe+1)%J.traits.length;Ha(ce,te,pe)},className:"w-6 h-6 bg-gray-800 border border-gray-600 rounded text-gray-400 hover:text-white text-xs flex items-center justify-center",children:""})]})]},te)})}),ve&&a.jsx("p",{className:"text-xs text-yellow-500/70 mb-2",children:" ndere Traits per Dropdown oder Pfeiltasten. Wird automatisch gespeichert."}),a.jsxs("details",{className:"mt-3",children:[a.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-300",children:"SVG Code"}),a.jsx("pre",{className:"mt-2 p-3 bg-black rounded-lg text-xs text-green-400 font-mono overflow-x-auto border border-gray-800 whitespace-pre-wrap break-all",children:(at=D[ce])==null?void 0:at.svg})]})]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5",children:[a.jsxs("h2",{className:"text-lg font-bold mb-3",children:[a.jsx("span",{className:"text-purple-400",children:""})," Alle Items (",D.length,")"]}),a.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2 max-h-[600px] overflow-y-auto",children:D.map((L,te)=>a.jsxs("div",{onClick:()=>xe(te),className:`aspect-square bg-black rounded-lg border cursor-pointer relative overflow-hidden ${te===ce?"border-purple-500 ring-2 ring-purple-500/50":"border-gray-800 hover:border-gray-600"}`,children:[L.layers.filter(J=>!on(J.trait)).map((J,fe)=>a.jsx("img",{src:`https://ordinals.com/content/${J.trait.inscriptionId}`,alt:"",className:"absolute inset-0 w-full h-full object-contain",style:{zIndex:fe},loading:"lazy"},fe)),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-center",children:a.jsxs("span",{className:"text-[10px] text-gray-400",children:["#",te+1]})})]},te))})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-black text-white pt-16 pb-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:" Recursive Collection Generator"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Projekte verwalten  erstellen, speichern, weiterbearbeiten"})]}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[a.jsxs("button",{onClick:()=>ne(),className:"flex-1 px-6 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:from-purple-500 hover:to-pink-500 text-lg shadow-lg flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:"+"}),a.jsx("span",{children:"Neues Projekt erstellen"})]}),a.jsxs("label",{className:"px-6 py-4 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-xl cursor-pointer text-lg shadow-lg flex items-center justify-center gap-2 transition-colors",children:[" Projekt importieren",a.jsx("input",{type:"file",accept:".json",onChange:he,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-6 -mt-2",children:"Import: JSON-Datei von Export oder Backup  unabhngig von localStorage"}),i.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-300 mb-2",children:[" Gespeicherte Projekte (",i.length,")"]}),i.map(L=>{var te,J,fe,pe,Ne,je,ke,Ue;return a.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-xl overflow-hidden hover:border-purple-600 transition-colors",children:a.jsxs("div",{className:"flex items-stretch",children:[a.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-black flex items-center justify-center border-r border-gray-800",children:(pe=(fe=(J=(te=L.layers)==null?void 0:te[0])==null?void 0:J.traits)==null?void 0:fe[0])!=null&&pe.inscriptionId?a.jsx("img",{src:`https://ordinals.com/content/${L.layers[0].traits[0].inscriptionId}`,alt:"",className:"w-full h-full object-contain",loading:"lazy"}):a.jsx("span",{className:"text-3xl text-gray-700",children:""})}),a.jsxs("div",{className:"flex-1 p-3 min-w-0",children:[a.jsx("h3",{className:"text-white font-bold truncate",children:L.name||L.collectionName||"Unnamed"}),a.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-0.5 text-xs text-gray-500 mt-1",children:[a.jsxs("span",{children:[((Ne=L.layers)==null?void 0:Ne.length)||0," Layer"]}),a.jsxs("span",{children:[((je=L.layers)==null?void 0:je.reduce((Xe,Te)=>{var Vs;return Xe+(((Vs=Te.traits)==null?void 0:Vs.length)||0)},0))||0," Traits"]}),a.jsxs("span",{children:[((ke=L.generated)==null?void 0:ke.length)||0," generiert"]}),a.jsxs("span",{children:[((Ue=L.walletInscriptions)==null?void 0:Ue.length)||0," Inscriptions"]})]}),a.jsxs("div",{className:"flex gap-x-4 text-[10px] text-gray-600 mt-1",children:[a.jsxs("span",{children:["Erstellt: ",FN(L.createdAt)]}),a.jsxs("span",{children:["Zuletzt: ",FN(L.updatedAt)]})]})]}),a.jsxs("div",{className:"flex flex-col justify-center gap-1 p-3 border-l border-gray-800",children:[a.jsx("button",{onClick:()=>G(L.id),className:"px-4 py-1.5 bg-purple-600 text-white rounded text-xs font-bold hover:bg-purple-500",children:"ffnen"}),a.jsx("button",{onClick:()=>{zn(L,`${(L.collectionName||L.name||"projekt").replace(/\s+/g,"_")}_backup.json`)},className:"px-4 py-1.5 bg-amber-700 text-amber-100 rounded text-xs hover:bg-amber-600",title:"Projekt als JSON extern speichern",children:" Export"}),a.jsx("button",{onClick:()=>Ae(L.id),className:"px-4 py-1.5 bg-gray-800 text-gray-300 rounded text-xs hover:bg-gray-700",children:"Duplizieren"}),c===L.id?a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>Ee(L.id),className:"px-2 py-1.5 bg-red-600 text-white rounded text-xs font-bold hover:bg-red-500",children:"Ja!"}),a.jsx("button",{onClick:()=>d(null),className:"px-2 py-1.5 bg-gray-700 text-gray-300 rounded text-xs hover:bg-gray-600",children:"Nein"})]}):a.jsx("button",{onClick:()=>d(L.id),className:"px-4 py-1.5 bg-gray-800 text-red-400 rounded text-xs hover:bg-red-900/30",children:"Lschen"})]})]})},L.id)})]}):a.jsxs("div",{className:"text-center py-16 text-gray-600 border border-dashed border-gray-700 rounded-xl",children:[a.jsx("p",{className:"text-4xl mb-4",children:""}),a.jsx("p",{className:"text-lg",children:"Keine Projekte vorhanden"}),a.jsx("p",{className:"text-sm mt-1",children:"Erstelle dein erstes Projekt!"})]})]})}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:" Kein Zugang"}),a.jsx("p",{className:"text-gray-400",children:"Dieses Tool ist nur fr Admins verfgbar."})]})}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:" Wallet verbinden"}),a.jsx("p",{className:"text-gray-400",children:"Verbinde dein Wallet um das Tool zu nutzen."})]})})},UJ=()=>{var N,M,O;const{walletState:e}=Re(),t=(N=e.accounts)==null?void 0:N.find($=>$.purpose==="ordinals"),r=(t==null?void 0:t.address)||((O=(M=e.accounts)==null?void 0:M[0])==null?void 0:O.address),n=e.connected&&r&&Hi(r),[i,s]=b.useState(""),[o,l]=b.useState(!1),[c,d]=b.useState(""),[u,f]=b.useState(""),[h,p]=b.useState([]),[g,m]=b.useState(""),[v,x]=b.useState(""),[y,w]=b.useState([]),S=()=>Fs()+"/api/collection-data",j=b.useCallback($=>fetch($,{headers:{Accept:"application/json"}}),[]),I=b.useCallback(async $=>{var H,D,se,ae;const z=$.trim().toLowerCase().replace(/\s+/g,"-");if(!z)return null;let _=0;const q=100;for(;;){const ie=`${S()}/collections?sort_by=median_number&order=desc&offset=${_}&count=${q}`,ce=await j(ie);if(!ce.ok){const ee=await ce.json().catch(()=>({})),F=(ee==null?void 0:ee.error)||`Backend Fehler ${ce.status}`;throw new Error(ee!=null&&ee.hint?`${F}  ${ee.hint}`:F)}const ve=(await ce.json()).data;if(!ve||ve.length===0)break;for(const ee of ve){const F=((H=ee.slug)==null?void 0:H.toLowerCase().includes(z))||((D=ee.slug)==null?void 0:D.toLowerCase())===z,re=((se=ee.name)==null?void 0:se.toLowerCase().includes(z))||((ae=ee.name)==null?void 0:ae.toLowerCase().replace(/\s+/g,"-"))===z;if(F||re)return ee}if(ve.length<q)break;_+=q,await new Promise(ee=>setTimeout(ee,200))}return null},[j]),E=b.useCallback(async $=>{const z=[];let _=0;const q=100;for(;;){const H=`${S()}/holders?slug=${encodeURIComponent($)}&offset=${_}&count=${q}`,D=await j(H);if(!D.ok){const ie=await D.json().catch(()=>({})),ce=(ie==null?void 0:ie.error)||`Holders-API Fehler ${D.status}`;throw new Error(ie!=null&&ie.hint?`${ce}  ${ie.hint}`:ce)}const ae=(await D.json()).data;if(!ae||ae.length===0||(z.push(...ae),ae.length<q))break;_+=q,d(`${z.length}+ Halter geladen...`),await new Promise(ie=>setTimeout(ie,150))}return z},[j]),C=b.useCallback(async()=>{const $=i.trim();if(!$){f("Bitte Collection-Name oder Slug eingeben (z.B. bitcoin-frogs, scanmode).");return}l(!0),f(""),p([]),w([]),m(""),x("");try{d("Suche Kollektion...");const z=await I($);if(!z){f(`Kollektion "${$}" nicht gefunden. Prfe den Namen/Slug (z.B. bitcoin-frogs).`),l(!1);return}m(z.slug),x(z.name||z.slug),d(`Lade Halter fr ${z.name||z.slug}...`);const _=await E(z.slug),q=_.map(D=>({address:D.wallet,inscriptionIds:D.inscription_ids||[],count:(D.inscription_ids||[]).length})),H=_.flatMap(D=>D.inscription_ids||[]);p(q),w(H),d(` ${H.length} Inscriptions  ${q.length} Halter`)}catch(z){f((z==null?void 0:z.message)||"Fehler beim Abrufen der Daten. Evtl. CORS oder API-Key ntig.")}finally{l(!1)}},[i,I,E]),T=b.useCallback(($,z)=>{const _=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),q=URL.createObjectURL(_),H=document.createElement("a");H.href=q,H.download=z,H.click(),URL.revokeObjectURL(q)},[]),K=(v||g||"collection").replace(/[^\w\-]/g,"_"),V=b.useCallback(()=>{const $={collection:v||g,slug:g,generatedAt:new Date().toISOString(),totalInscriptions:y.length,uniqueHolders:h.length,holders:h.map(z=>({address:z.address,inscriptionIds:z.inscriptionIds,count:z.count}))};T($,`${K}_holders.json`)},[h,y.length,v,g,T]),P=b.useCallback(()=>{const $={collection:v||g,slug:g,generatedAt:new Date().toISOString(),totalInscriptions:y.length,inscriptionIds:y};T($,`${K}_hashlist.json`)},[y,v,g,T]),R=b.useCallback(()=>{const $=new Blob([y.join(`
`)],{type:"text/plain"}),z=URL.createObjectURL($),_=document.createElement("a");_.href=z,_.download=`${K}_hashlist.txt`,_.click(),URL.revokeObjectURL(z)},[y,K]);return e.connected?n?a.jsx("div",{className:"min-h-screen bg-black text-white pt-20 pb-12 px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500 mb-2",children:" Collection Data Tool"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Gib einen Kollektions-Namen oder Slug ein (wie bei Magic Eden, z.B. bitcoin-frogs, scanmode)  ldt Halter-Adressen und Inscription-IDs. Export als JSON oder Hashlist."}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-4",children:[a.jsx("h2",{className:"text-lg font-bold mb-3",children:" Kollektion suchen"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:i,onChange:$=>s($.target.value),placeholder:"z.B. bitcoin frogs, scanmode, bitcoin-frogs",className:"flex-1 px-3 py-2 bg-black border border-gray-600 rounded-lg text-white",onKeyDown:$=>$.key==="Enter"&&C()}),a.jsx("button",{onClick:C,disabled:o||!i.trim(),className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-500 disabled:opacity-50 font-bold",children:o?" Suche...":" Daten laden"})]}),c&&a.jsx("p",{className:"text-xs text-amber-400 mt-2",children:c}),u&&a.jsx("p",{className:"text-xs text-red-400 mt-2",children:u}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Nutzt BestInSlot API. ",a.jsx("strong",{className:"text-amber-400",children:"BIS_API_KEY"})," in Railway setzen (bestinslot.xyz  API Key holen)."]})]}),h.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[a.jsx("h2",{className:"text-lg font-bold",children:" Hashlist & JSON speichern"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:R,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 text-sm font-bold",children:" Hashlist (.txt)"}),a.jsx("button",{onClick:P,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 text-sm font-bold",children:" Hashlist (.json)"}),a.jsx("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 text-sm font-bold",children:" Nach Adresse (.json)"})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[y.length," Inscriptions  ",h.length," Halter"]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl overflow-hidden",children:[a.jsx("h2",{className:"text-lg font-bold p-4 border-b border-gray-700",children:"Halter-bersicht"}),a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-800 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Adresse"}),a.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Anzahl"}),a.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Inscription IDs"})]})}),a.jsx("tbody",{children:h.map(($,z)=>a.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[a.jsx("td",{className:"px-4 py-2 font-mono text-xs text-amber-300",children:$.address}),a.jsx("td",{className:"px-4 py-2 text-white font-bold",children:$.count}),a.jsx("td",{className:"px-4 py-2",children:a.jsxs("div",{className:"flex flex-wrap gap-1 max-w-md",children:[$.inscriptionIds.slice(0,3).map(_=>a.jsxs("span",{className:"text-[10px] font-mono text-gray-500 truncate max-w-[120px]",title:_,children:[_.slice(0,12),"..."]},_)),$.inscriptionIds.length>3&&a.jsxs("span",{className:"text-gray-600",children:["+",$.inscriptionIds.length-3," weitere"]})]})})]},z))})]})})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:" Kein Zugang"}),a.jsx("p",{className:"text-gray-400",children:"Dieses Tool ist nur fr Admins verfgbar."})]})}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Wallet verbinden"}),a.jsx("p",{className:"text-gray-400",children:"Verbinde dein Wallet um das Tool zu nutzen."})]})})};function xu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N6={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(d,u){if(!i[d]){if(!n[d]){var f=typeof xu=="function"&&xu;if(!u&&f)return f(d,!0);if(l)return l(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[d]={exports:{}};n[d][0].call(p.exports,function(g){var m=n[d][1][g];return o(m||g)},p,p.exports,r,n,i,s)}return i[d].exports}for(var l=typeof xu=="function"&&xu,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,u,f,h,p,g,m,v=[],x=0,y=c.length,w=y,S=s.getTypeOf(c)!=="string";x<c.length;)w=y-x,f=S?(d=c[x++],u=x<y?c[x++]:0,x<y?c[x++]:0):(d=c.charCodeAt(x++),u=x<y?c.charCodeAt(x++):0,x<y?c.charCodeAt(x++):0),h=d>>2,p=(3&d)<<4|u>>4,g=1<w?(15&u)<<2|f>>6:64,m=2<w?63&f:64,v.push(l.charAt(h)+l.charAt(p)+l.charAt(g)+l.charAt(m));return v.join("")},i.decode=function(c){var d,u,f,h,p,g,m=0,v=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&w--,c.charAt(c.length-2)===l.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|w):new Array(0|w);m<c.length;)d=l.indexOf(c.charAt(m++))<<2|(h=l.indexOf(c.charAt(m++)))>>4,u=(15&h)<<4|(p=l.indexOf(c.charAt(m++)))>>2,f=(3&p)<<6|(g=l.indexOf(c.charAt(m++))),y[v++]=d,p!==64&&(y[v++]=u),g!==64&&(y[v++]=f);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function d(u,f,h,p,g){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=g}d.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,f,h){return u.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var u=0;u<8;u++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(d,u,f,h){var p=o,g=h+f;d^=-1;for(var m=h;m<g;m++)d=d>>>8^p[255&(d^u[m])];return-1^d}(0|c,l,l.length,0):function(d,u,f,h){var p=o,g=h+f;d^=-1;for(var m=h;m<g;m++)d=d>>>8^p[255&(d^u.charCodeAt(m))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),d=s?"uint8array":"array";function u(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",l.inherits(u,c),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,f.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(p,g){var m,v="";for(m=0;m<g;m++)v+=String.fromCharCode(255&p),p>>>=8;return v}function o(p,g,m,v,x,y){var w,S,j=p.file,I=p.compression,E=y!==d.utf8encode,C=l.transformTo("string",y(j.name)),T=l.transformTo("string",d.utf8encode(j.name)),K=j.comment,V=l.transformTo("string",y(K)),P=l.transformTo("string",d.utf8encode(K)),R=T.length!==j.name.length,N=P.length!==K.length,M="",O="",$="",z=j.dir,_=j.date,q={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(q.crc32=p.crc32,q.compressedSize=p.compressedSize,q.uncompressedSize=p.uncompressedSize);var H=0;g&&(H|=8),E||!R&&!N||(H|=2048);var D=0,se=0;z&&(D|=16),x==="UNIX"?(se=798,D|=function(ie,ce){var xe=ie;return ie||(xe=ce?16893:33204),(65535&xe)<<16}(j.unixPermissions,z)):(se=20,D|=function(ie){return 63&(ie||0)}(j.dosPermissions)),w=_.getUTCHours(),w<<=6,w|=_.getUTCMinutes(),w<<=5,w|=_.getUTCSeconds()/2,S=_.getUTCFullYear()-1980,S<<=4,S|=_.getUTCMonth()+1,S<<=5,S|=_.getUTCDate(),R&&(O=s(1,1)+s(u(C),4)+T,M+="up"+s(O.length,2)+O),N&&($=s(1,1)+s(u(V),4)+P,M+="uc"+s($.length,2)+$);var ae="";return ae+=`
\0`,ae+=s(H,2),ae+=I.magic,ae+=s(w,2),ae+=s(S,2),ae+=s(q.crc32,4),ae+=s(q.compressedSize,4),ae+=s(q.uncompressedSize,4),ae+=s(C.length,2),ae+=s(M.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ae+C+M,dirRecord:f.CENTRAL_FILE_HEADER+s(se,2)+ae+s(V.length,2)+"\0\0\0\0"+s(D,4)+s(v,4)+C+M+V}}var l=r("../utils"),c=r("../stream/GenericWorker"),d=r("../utf8"),u=r("../crc32"),f=r("../signature");function h(p,g,m,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=v,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(p){var g=p.meta.percent||0,m=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-v-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var g=this.streamFiles&&!p.file.dir;if(g){var m=o(p,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var g=this.streamFiles&&!p.file.dir,m=o(p,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:function(v){return f.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-p,v=function(x,y,w,S,j){var I=l.transformTo("string",j(S));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(y,4)+s(w,4)+s(I.length,2)+I}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var g=this;return p.on("data",function(m){g.processChunk(m)}),p.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),p.on("error",function(m){g.error(m)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var g=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var m=0;m<g.length;m++)try{g[m].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,g=0;g<p.length;g++)p[g].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(l,c,d){var u=new o(c.streamFiles,d,c.platform,c.encodeFileName),f=0;try{l.forEach(function(h,p){f++;var g=function(y,w){var S=y||w,j=s[S];if(!j)throw new Error(S+" is not a valid compression method !");return j}(p.options.compression,c.compression),m=p.options.compressionOptions||c.compressionOptions||{},v=p.dir,x=p.date;p._compressWorker(g,m).withStreamInfo("file",{name:h,dir:v,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),d=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function f(h){return new o.Promise(function(p,g){var m=h.decompressed.getContentWorker().pipe(new d);m.on("error",function(v){g(v)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var g=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),u.isNode&&u.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var v=new c(p);return v.load(m),v}).then(function(m){var v=[o.Promise.resolve(m)],x=m.files;if(p.checkCRC32)for(var y=0;y<x.length;y++)v.push(f(x[y]));return o.Promise.all(v)}).then(function(m){for(var v=m.shift(),x=v.files,y=0;y<x.length;y++){var w=x[y],S=w.fileNameStr,j=s.resolve(w.fileNameStr);g.file(j,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(g.file(j).unsafeOriginalName=S)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function l(c,d){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,o),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(l,c,d){s.call(this,c),this._helper=l;var u=this;l.on("data",function(f,h){u.push(f)||u._helper.pause(),d&&d(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(j,I,E){var C,T=l.getTypeOf(I),K=l.extend(E||{},u);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(j=x(j)),K.createFolders&&(C=v(j))&&y.call(this,C,!0);var V=T==="string"&&K.binary===!1&&K.base64===!1;E&&E.binary!==void 0||(K.binary=!V),(I instanceof f&&I.uncompressedSize===0||K.dir||!I||I.length===0)&&(K.base64=!1,K.binary=!0,I="",K.compression="STORE",T="string");var P=null;P=I instanceof f||I instanceof c?I:g.isNode&&g.isStream(I)?new m(j,I):l.prepareContent(j,I,K.binary,K.optimizedBinaryString,K.base64);var R=new h(j,P,K);this.files[j]=R}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),u=r("./defaults"),f=r("./compressedObject"),h=r("./zipObject"),p=r("./generate"),g=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),v=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var I=j.lastIndexOf("/");return 0<I?j.substring(0,I):""},x=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},y=function(j,I){return I=I!==void 0?I:u.createFolders,j=x(j),this.files[j]||s.call(this,j,null,{dir:!0,createFolders:I}),this.files[j]};function w(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var I,E,C;for(I in this.files)C=this.files[I],(E=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&j(E,C)},filter:function(j){var I=[];return this.forEach(function(E,C){j(E,C)&&I.push(C)}),I},file:function(j,I,E){if(arguments.length!==1)return j=this.root+j,s.call(this,j,I,E),this;if(w(j)){var C=j;return this.filter(function(K,V){return!V.dir&&C.test(K)})}var T=this.files[this.root+j];return T&&!T.dir?T:null},folder:function(j){if(!j)return this;if(w(j))return this.filter(function(T,K){return K.dir&&j.test(T)});var I=this.root+j,E=y.call(this,I),C=this.clone();return C.root=E.name,C},remove:function(j){j=this.root+j;var I=this.files[j];if(I||(j.slice(-1)!=="/"&&(j+="/"),I=this.files[j]),I&&!I.dir)delete this.files[j];else for(var E=this.filter(function(T,K){return K.name.slice(0,j.length)===j}),C=0;C<E.length;C++)delete this.files[E[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var I,E={};try{if((E=l.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");l.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var C=E.comment||this.comment||"";I=p.generateWorker(this,E,C)}catch(T){(I=new c("error")).error(T)}return new d(I,E.type||"string",E.mimeType)},generateAsync:function(j,I){return this.generateInternalStream(j).accumulate(I)},generateNodeStream:function(j,I){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(I)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),f=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===d&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),f=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&d===h[1]&&u===h[2]&&f===h[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),d=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new d(f):o.uint8array?new u(s.transformTo("uint8array",f)):new l(s.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,o),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=s.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),d=r("../support"),u=r("../external"),f=null;if(d.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(g,m){return new u.Promise(function(v,x){var y=[],w=g._internalType,S=g._outputType,j=g._mimeType;g.on("data",function(I,E){y.push(I),m&&m(E)}).on("error",function(I){y=[],x(I)}).on("end",function(){try{var I=function(E,C,T){switch(E){case"blob":return s.newBlob(s.transformTo("arraybuffer",C),T);case"base64":return c.encode(C);default:return s.transformTo(E,C)}}(S,function(E,C){var T,K=0,V=null,P=0;for(T=0;T<C.length;T++)P+=C[T].length;switch(E){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(V=new Uint8Array(P),T=0;T<C.length;T++)V.set(C[T],K),K+=C[T].length;return V;case"nodebuffer":return Buffer.concat(C);default:throw new Error("concat : unsupported type '"+E+"'")}}(w,y),j);v(I)}catch(E){x(E)}y=[]}).resume()})}function p(g,m,v){var x=m;switch(m){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=m,this._mimeType=v,s.checkSupport(x),this._worker=g.pipe(new o(x)),g.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}p.prototype={accumulate:function(g){return h(this,g)},on:function(g,m){var v=this;return g==="data"?this._worker.on(g,function(x){m.call(v,x.data,x.meta)}):this._worker.on(g,function(){s.delay(m,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?l.newBufferFrom(p,"utf-8"):function(g){var m,v,x,y,w,S=g.length,j=0;for(y=0;y<S;y++)(64512&(v=g.charCodeAt(y)))==55296&&y+1<S&&(64512&(x=g.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),j+=v<128?1:v<2048?2:v<65536?3:4;for(m=o.uint8array?new Uint8Array(j):new Array(j),y=w=0;w<j;y++)(64512&(v=g.charCodeAt(y)))==55296&&y+1<S&&(64512&(x=g.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?m[w++]=v:(v<2048?m[w++]=192|v>>>6:(v<65536?m[w++]=224|v>>>12:(m[w++]=240|v>>>18,m[w++]=128|v>>>12&63),m[w++]=128|v>>>6&63),m[w++]=128|63&v);return m}(p)},i.utf8decode=function(p){return o.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(g){var m,v,x,y,w=g.length,S=new Array(2*w);for(m=v=0;m<w;)if((x=g[m++])<128)S[v++]=x;else if(4<(y=d[x]))S[v++]=65533,m+=y-1;else{for(x&=y===2?31:y===3?15:7;1<y&&m<w;)x=x<<6|63&g[m++],y--;1<y?S[v++]=65533:x<65536?S[v++]=x:(x-=65536,S[v++]=55296|x>>10&1023,S[v++]=56320|1023&x)}return S.length!==v&&(S.subarray?S=S.subarray(0,v):S.length=v),s.applyFromCharCode(S)}(p=s.transformTo(o.uint8array?"uint8array":"array",p))},s.inherits(f,c),f.prototype.processChunk=function(p){var g=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=function(y,w){var S;for((w=w||y.length)>y.length&&(w=y.length),S=w-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?w:S+d[y[S]]>w?S:w}(g),x=g;v!==g.length&&(o.uint8array?(x=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(x=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:i.utf8decode(x),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function d(m){return m}function u(m,v){for(var x=0;x<m.length;++x)v[x]=255&m.charCodeAt(x);return v}r("setimmediate"),i.newBlob=function(m,v){i.checkSupport("blob");try{return new Blob([m],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(m),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,v,x){var y=[],w=0,S=m.length;if(S<=x)return String.fromCharCode.apply(null,m);for(;w<S;)v==="array"||v==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+x,S)))):y.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+x,S)))),w+=x;return y.join("")},stringifyByChar:function(m){for(var v="",x=0;x<m.length;x++)v+=String.fromCharCode(m[x]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(m){var v=65536,x=i.getTypeOf(m),y=!0;if(x==="uint8array"?y=f.applyCanBeUsed.uint8array:x==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<v;)try{return f.stringifyByChunk(m,x,v)}catch{v=Math.floor(v/2)}return f.stringifyByChar(m)}function p(m,v){for(var x=0;x<m.length;x++)v[x]=m[x];return v}i.applyFromCharCode=h;var g={};g.string={string:d,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,l.allocBuffer(m.length))}},g.array={string:h,array:d,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(m)}},g.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:d,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:d,nodebuffer:function(m){return l.newBufferFrom(m)}},g.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:d},i.transformTo=function(m,v){if(v=v||"",!m)return v;i.checkSupport(m);var x=i.getTypeOf(v);return g[x][m](v)},i.resolve=function(m){for(var v=m.split("/"),x=[],y=0;y<v.length;y++){var w=v[y];w==="."||w===""&&y!==0&&y!==v.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var v,x,y="";for(x=0;x<(m||"").length;x++)y+="\\x"+((v=m.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return y},i.delay=function(m,v,x){setImmediate(function(){m.apply(x||null,v||[])})},i.inherits=function(m,v){function x(){}x.prototype=v.prototype,m.prototype=new x},i.extend=function(){var m,v,x={};for(m=0;m<arguments.length;m++)for(v in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],v)&&x[v]===void 0&&(x[v]=arguments[m][v]);return x},i.prepareContent=function(m,v,x,y,w){return c.Promise.resolve(v).then(function(S){return s.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(j,I){var E=new FileReader;E.onload=function(C){j(C.target.result)},E.onerror=function(C){I(C.target.error)},E.readAsArrayBuffer(S)}):S}).then(function(S){var j=i.getTypeOf(S);return j?(j==="arraybuffer"?S=i.transformTo("uint8array",S):j==="string"&&(w?S=o.decode(S):x&&y!==!0&&(S=function(I){return u(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),d=r("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var g=this.reader.readString(4)===h;return this.reader.setIndex(p),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=d.uint8array?"uint8array":"array",p=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,g=this.zip64EndOfCentralSize-44;0<g;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var g=h-p;if(0<g)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),d=r("./utf8"),u=r("./compressions"),f=r("./support");function h(p,g){this.options=p,this.loadOptions=g}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(v){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===v)return u[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g,m,v,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)g=p.readInt(2),m=p.readInt(2),v=p.readData(m),this.extraFields[g]={id:g,length:m,value:v};p.setIndex(x)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:d.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:d.utf8decode(g.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(g,m,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=m,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),d=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var m=null,v="string";try{if(!g)throw new Error("No output type specified.");var x=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!x&&(m=m.pipe(new c.Utf8EncodeWorker)),!y&&x&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(w){(m=new u("error")).error(w)}return new o(m,v,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof d&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(v,g,m)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var d=0,u=new c(g),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),o=function(){f.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var h=new s.MessageChannel;h.port1.onmessage=g,o=function(){h.port2.postMessage(0)}}var p=[];function g(){var m,v;l=!0;for(var x=p.length;x;){for(v=p,p=[],m=-1;++m<x;)v[m]();x=p.length}l=!1}n.exports=function(m){p.push(m)!==1||l||o()}}).call(this,typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}function h(x,y,w){this.promise=x,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(x,y,w){s(function(){var S;try{S=y(w)}catch(j){return l.reject(x,j)}S===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,S)})}function g(x){var y=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof y=="function")return function(){y.apply(x,arguments)}}function m(x,y){var w=!1;function S(E){w||(w=!0,l.reject(x,E))}function j(E){w||(w=!0,l.resolve(x,E))}var I=v(function(){y(j,S)});I.status==="error"&&S(I.value)}function v(x,y){var w={};try{w.value=x(y),w.status="success"}catch(S){w.status="error",w.value=S}return w}(n.exports=f).prototype.finally=function(x){if(typeof x!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(x()).then(function(){return w})},function(w){return y.resolve(x()).then(function(){throw w})})},f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,y){if(typeof x!="function"&&this.state===d||typeof y!="function"&&this.state===c)return this;var w=new this.constructor(o);return this.state!==u?p(w,this.state===d?x:y,this.outcome):this.queue.push(new h(w,x,y)),w},h.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){l.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},l.resolve=function(x,y){var w=v(g,y);if(w.status==="error")return l.reject(x,w.value);var S=w.value;if(S)m(x,S);else{x.state=d,x.outcome=y;for(var j=-1,I=x.queue.length;++j<I;)x.queue[j].callFulfilled(y)}return x},l.reject=function(x,y){x.state=c,x.outcome=y;for(var w=-1,S=x.queue.length;++w<S;)x.queue[w].callRejected(y);return x},f.resolve=function(x){return x instanceof this?x:l.resolve(new this(o),x)},f.reject=function(x){var y=new this(o);return l.reject(y,x)},f.all=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var j=new Array(w),I=0,E=-1,C=new this(o);++E<w;)T(x[E],E);return C;function T(K,V){y.resolve(K).then(function(P){j[V]=P,++I!==w||S||(S=!0,l.resolve(C,j))},function(P){S||(S=!0,l.reject(C,P))})}},f.race=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var j=-1,I=new this(o);++j<w;)E=x[j],y.resolve(E).then(function(C){S||(S=!0,l.resolve(I,C))},function(C){S||(S=!0,l.reject(I,C))});var E;return I}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),d=r("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,g=8;function m(x){if(!(this instanceof m))return new m(x);this.options=o.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==f)throw new Error(c[w]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?l.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=s.deflateSetDictionary(this.strm,S))!==f)throw new Error(c[w]);this._dict_set=!0}}function v(x,y){var w=new m(y);if(w.push(x,!0),w.err)throw w.msg||c[w.err];return w.result}m.prototype.push=function(x,y){var w,S,j=this.strm,I=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof x=="string"?j.input=l.string2buf(x):u.call(x)==="[object ArrayBuffer]"?j.input=new Uint8Array(x):j.input=x,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(I),j.next_out=0,j.avail_out=I),(w=s.deflate(j,S))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(j.output,j.next_out))):this.onData(o.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&w!==1);return S===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):S!==2||(this.onEnd(f),!(j.avail_out=0))},m.prototype.onData=function(x){this.chunks.push(x)},m.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=m,i.deflate=v,i.deflateRaw=function(x,y){return(y=y||{}).raw=!0,v(x,y)},i.gzip=function(x,y){return(y=y||{}).gzip=!0,v(x,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),d=r("./zlib/messages"),u=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||m&&m.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,v.windowBits);if(x!==c.Z_OK)throw new Error(d[x]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function g(m,v){var x=new p(v);if(x.push(m,!0),x.err)throw x.msg||d[x.err];return x.result}p.prototype.push=function(m,v){var x,y,w,S,j,I,E=this.strm,C=this.options.chunkSize,T=this.options.dictionary,K=!1;if(this.ended)return!1;y=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?E.input=l.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(C),E.next_out=0,E.avail_out=C),(x=s.inflate(E,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&T&&(I=typeof T=="string"?l.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,x=s.inflateSetDictionary(this.strm,I)),x===c.Z_BUF_ERROR&&K===!0&&(x=c.Z_OK,K=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&x!==c.Z_STREAM_END&&(E.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=l.utf8border(E.output,E.next_out),S=E.next_out-w,j=l.buf2string(E.output,w),E.next_out=S,E.avail_out=C-S,S&&o.arraySet(E.output,E.output,w,S,0),this.onData(j)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(K=!0)}while((0<E.avail_in||E.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(E.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=g,i.inflateRaw=function(m,v){return(v=v||{}).raw=!0,g(m,v)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var o={arraySet:function(c,d,u,f,h){if(d.subarray&&c.subarray)c.set(d.subarray(u,u+f),h);else for(var p=0;p<f;p++)c[h+p]=d[u+p]},flattenChunks:function(c){var d,u,f,h,p,g;for(d=f=0,u=c.length;d<u;d++)f+=c[d].length;for(g=new Uint8Array(f),d=h=0,u=c.length;d<u;d++)p=c[d],g.set(p,h),h+=p.length;return g}},l={arraySet:function(c,d,u,f,h){for(var p=0;p<f;p++)c[h+p]=d[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(f,h){if(h<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",g=0;g<h;g++)p+=String.fromCharCode(f[g]);return p}c[254]=c[254]=1,i.string2buf=function(f){var h,p,g,m,v,x=f.length,y=0;for(m=0;m<x;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<x&&(64512&(g=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),y+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(y),m=v=0;v<y;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<x&&(64512&(g=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),p<128?h[v++]=p:(p<2048?h[v++]=192|p>>>6:(p<65536?h[v++]=224|p>>>12:(h[v++]=240|p>>>18,h[v++]=128|p>>>12&63),h[v++]=128|p>>>6&63),h[v++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,g=h.length;p<g;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,g,m,v,x=h||f.length,y=new Array(2*x);for(p=g=0;p<x;)if((m=f[p++])<128)y[g++]=m;else if(4<(v=c[m]))y[g++]=65533,p+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&p<x;)m=m<<6|63&f[p++],v--;1<v?y[g++]=65533:m<65536?y[g++]=m:(m-=65536,y[g++]=55296|m>>10&1023,y[g++]=56320|1023&m)}return u(y,g)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+c[f[p]]>h?p:h}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,l,c){for(var d=65535&s|0,u=s>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;u=u+(d=d+o[c++]|0)|0,--f;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,d){var u=s,f=d+c;o^=-1;for(var h=d;h<f;h++)o=o>>>8^u[255&(o^l[h])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),d=r("./crc32"),u=r("./messages"),f=0,h=4,p=0,g=-2,m=-1,v=4,x=2,y=8,w=9,S=286,j=30,I=19,E=2*S+1,C=15,T=3,K=258,V=K+T+1,P=42,R=113,N=1,M=2,O=3,$=4;function z(k,Y){return k.msg=u[Y],Y}function _(k){return(k<<1)-(4<k?9:0)}function q(k){for(var Y=k.length;0<=--Y;)k[Y]=0}function H(k){var Y=k.state,X=Y.pending;X>k.avail_out&&(X=k.avail_out),X!==0&&(o.arraySet(k.output,Y.pending_buf,Y.pending_out,X,k.next_out),k.next_out+=X,Y.pending_out+=X,k.total_out+=X,k.avail_out-=X,Y.pending-=X,Y.pending===0&&(Y.pending_out=0))}function D(k,Y){l._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,Y),k.block_start=k.strstart,H(k.strm)}function se(k,Y){k.pending_buf[k.pending++]=Y}function ae(k,Y){k.pending_buf[k.pending++]=Y>>>8&255,k.pending_buf[k.pending++]=255&Y}function ie(k,Y){var X,U,B=k.max_chain_length,Z=k.strstart,ue=k.prev_length,de=k.nice_match,A=k.strstart>k.w_size-V?k.strstart-(k.w_size-V):0,Q=k.window,ne=k.w_mask,G=k.prev,ge=k.strstart+K,Ee=Q[Z+ue-1],Ae=Q[Z+ue];k.prev_length>=k.good_match&&(B>>=2),de>k.lookahead&&(de=k.lookahead);do if(Q[(X=Y)+ue]===Ae&&Q[X+ue-1]===Ee&&Q[X]===Q[Z]&&Q[++X]===Q[Z+1]){Z+=2,X++;do;while(Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Q[++Z]===Q[++X]&&Z<ge);if(U=K-(ge-Z),Z=ge-K,ue<U){if(k.match_start=Y,de<=(ue=U))break;Ee=Q[Z+ue-1],Ae=Q[Z+ue]}}while((Y=G[Y&ne])>A&&--B!=0);return ue<=k.lookahead?ue:k.lookahead}function ce(k){var Y,X,U,B,Z,ue,de,A,Q,ne,G=k.w_size;do{if(B=k.window_size-k.lookahead-k.strstart,k.strstart>=G+(G-V)){for(o.arraySet(k.window,k.window,G,G,0),k.match_start-=G,k.strstart-=G,k.block_start-=G,Y=X=k.hash_size;U=k.head[--Y],k.head[Y]=G<=U?U-G:0,--X;);for(Y=X=G;U=k.prev[--Y],k.prev[Y]=G<=U?U-G:0,--X;);B+=G}if(k.strm.avail_in===0)break;if(ue=k.strm,de=k.window,A=k.strstart+k.lookahead,Q=B,ne=void 0,ne=ue.avail_in,Q<ne&&(ne=Q),X=ne===0?0:(ue.avail_in-=ne,o.arraySet(de,ue.input,ue.next_in,ne,A),ue.state.wrap===1?ue.adler=c(ue.adler,de,ne,A):ue.state.wrap===2&&(ue.adler=d(ue.adler,de,ne,A)),ue.next_in+=ne,ue.total_in+=ne,ne),k.lookahead+=X,k.lookahead+k.insert>=T)for(Z=k.strstart-k.insert,k.ins_h=k.window[Z],k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+T-1])&k.hash_mask,k.prev[Z&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=Z,Z++,k.insert--,!(k.lookahead+k.insert<T)););}while(k.lookahead<V&&k.strm.avail_in!==0)}function xe(k,Y){for(var X,U;;){if(k.lookahead<V){if(ce(k),k.lookahead<V&&Y===f)return N;if(k.lookahead===0)break}if(X=0,k.lookahead>=T&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,X=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),X!==0&&k.strstart-X<=k.w_size-V&&(k.match_length=ie(k,X)),k.match_length>=T)if(U=l._tr_tally(k,k.strstart-k.match_start,k.match_length-T),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=T){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,X=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else U=l._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(U&&(D(k,!1),k.strm.avail_out===0))return N}return k.insert=k.strstart<T-1?k.strstart:T-1,Y===h?(D(k,!0),k.strm.avail_out===0?O:$):k.last_lit&&(D(k,!1),k.strm.avail_out===0)?N:M}function ve(k,Y){for(var X,U,B;;){if(k.lookahead<V){if(ce(k),k.lookahead<V&&Y===f)return N;if(k.lookahead===0)break}if(X=0,k.lookahead>=T&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,X=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=T-1,X!==0&&k.prev_length<k.max_lazy_match&&k.strstart-X<=k.w_size-V&&(k.match_length=ie(k,X),k.match_length<=5&&(k.strategy===1||k.match_length===T&&4096<k.strstart-k.match_start)&&(k.match_length=T-1)),k.prev_length>=T&&k.match_length<=k.prev_length){for(B=k.strstart+k.lookahead-T,U=l._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-T),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=B&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+T-1])&k.hash_mask,X=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=T-1,k.strstart++,U&&(D(k,!1),k.strm.avail_out===0))return N}else if(k.match_available){if((U=l._tr_tally(k,0,k.window[k.strstart-1]))&&D(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return N}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(U=l._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<T-1?k.strstart:T-1,Y===h?(D(k,!0),k.strm.avail_out===0?O:$):k.last_lit&&(D(k,!1),k.strm.avail_out===0)?N:M}function ee(k,Y,X,U,B){this.good_length=k,this.max_lazy=Y,this.nice_length=X,this.max_chain=U,this.func=B}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*j+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*S+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(k){var Y;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=x,(Y=k.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?P:R,k.adler=Y.wrap===2?0:1,Y.last_flush=f,l._tr_init(Y),p):z(k,g)}function W(k){var Y=re(k);return Y===p&&function(X){X.window_size=2*X.w_size,q(X.head),X.max_lazy_match=s[X.level].max_lazy,X.good_match=s[X.level].good_length,X.nice_match=s[X.level].nice_length,X.max_chain_length=s[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=T-1,X.match_available=0,X.ins_h=0}(k.state),Y}function le(k,Y,X,U,B,Z){if(!k)return g;var ue=1;if(Y===m&&(Y=6),U<0?(ue=0,U=-U):15<U&&(ue=2,U-=16),B<1||w<B||X!==y||U<8||15<U||Y<0||9<Y||Z<0||v<Z)return z(k,g);U===8&&(U=9);var de=new F;return(k.state=de).strm=k,de.wrap=ue,de.gzhead=null,de.w_bits=U,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=B+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+T-1)/T),de.window=new o.Buf8(2*de.w_size),de.head=new o.Buf16(de.hash_size),de.prev=new o.Buf16(de.w_size),de.lit_bufsize=1<<B+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new o.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=Y,de.strategy=Z,de.method=X,W(k)}s=[new ee(0,0,0,0,function(k,Y){var X=65535;for(X>k.pending_buf_size-5&&(X=k.pending_buf_size-5);;){if(k.lookahead<=1){if(ce(k),k.lookahead===0&&Y===f)return N;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var U=k.block_start+X;if((k.strstart===0||k.strstart>=U)&&(k.lookahead=k.strstart-U,k.strstart=U,D(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-V&&(D(k,!1),k.strm.avail_out===0))return N}return k.insert=0,Y===h?(D(k,!0),k.strm.avail_out===0?O:$):(k.strstart>k.block_start&&(D(k,!1),k.strm.avail_out),N)}),new ee(4,4,8,4,xe),new ee(4,5,16,8,xe),new ee(4,6,32,32,xe),new ee(4,4,16,16,ve),new ee(8,16,32,32,ve),new ee(8,16,128,128,ve),new ee(8,32,128,256,ve),new ee(32,128,258,1024,ve),new ee(32,258,258,4096,ve)],i.deflateInit=function(k,Y){return le(k,Y,y,15,8,0)},i.deflateInit2=le,i.deflateReset=W,i.deflateResetKeep=re,i.deflateSetHeader=function(k,Y){return k&&k.state?k.state.wrap!==2?g:(k.state.gzhead=Y,p):g},i.deflate=function(k,Y){var X,U,B,Z;if(!k||!k.state||5<Y||Y<0)return k?z(k,g):g;if(U=k.state,!k.output||!k.input&&k.avail_in!==0||U.status===666&&Y!==h)return z(k,k.avail_out===0?-5:g);if(U.strm=k,X=U.last_flush,U.last_flush=Y,U.status===P)if(U.wrap===2)k.adler=0,se(U,31),se(U,139),se(U,8),U.gzhead?(se(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),se(U,255&U.gzhead.time),se(U,U.gzhead.time>>8&255),se(U,U.gzhead.time>>16&255),se(U,U.gzhead.time>>24&255),se(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),se(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(se(U,255&U.gzhead.extra.length),se(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(k.adler=d(k.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(se(U,0),se(U,0),se(U,0),se(U,0),se(U,0),se(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),se(U,3),U.status=R);else{var ue=y+(U.w_bits-8<<4)<<8;ue|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ue|=32),ue+=31-ue%31,U.status=R,ae(U,ue),U.strstart!==0&&(ae(U,k.adler>>>16),ae(U,65535&k.adler)),k.adler=1}if(U.status===69)if(U.gzhead.extra){for(B=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),H(k),B=U.pending,U.pending!==U.pending_buf_size));)se(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){B=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),H(k),B=U.pending,U.pending===U.pending_buf_size)){Z=1;break}Z=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,se(U,Z)}while(Z!==0);U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),Z===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){B=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),H(k),B=U.pending,U.pending===U.pending_buf_size)){Z=1;break}Z=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,se(U,Z)}while(Z!==0);U.gzhead.hcrc&&U.pending>B&&(k.adler=d(k.adler,U.pending_buf,U.pending-B,B)),Z===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&H(k),U.pending+2<=U.pending_buf_size&&(se(U,255&k.adler),se(U,k.adler>>8&255),k.adler=0,U.status=R)):U.status=R),U.pending!==0){if(H(k),k.avail_out===0)return U.last_flush=-1,p}else if(k.avail_in===0&&_(Y)<=_(X)&&Y!==h)return z(k,-5);if(U.status===666&&k.avail_in!==0)return z(k,-5);if(k.avail_in!==0||U.lookahead!==0||Y!==f&&U.status!==666){var de=U.strategy===2?function(A,Q){for(var ne;;){if(A.lookahead===0&&(ce(A),A.lookahead===0)){if(Q===f)return N;break}if(A.match_length=0,ne=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,ne&&(D(A,!1),A.strm.avail_out===0))return N}return A.insert=0,Q===h?(D(A,!0),A.strm.avail_out===0?O:$):A.last_lit&&(D(A,!1),A.strm.avail_out===0)?N:M}(U,Y):U.strategy===3?function(A,Q){for(var ne,G,ge,Ee,Ae=A.window;;){if(A.lookahead<=K){if(ce(A),A.lookahead<=K&&Q===f)return N;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=T&&0<A.strstart&&(G=Ae[ge=A.strstart-1])===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]){Ee=A.strstart+K;do;while(G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&G===Ae[++ge]&&ge<Ee);A.match_length=K-(Ee-ge),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=T?(ne=l._tr_tally(A,1,A.match_length-T),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(ne=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),ne&&(D(A,!1),A.strm.avail_out===0))return N}return A.insert=0,Q===h?(D(A,!0),A.strm.avail_out===0?O:$):A.last_lit&&(D(A,!1),A.strm.avail_out===0)?N:M}(U,Y):s[U.level].func(U,Y);if(de!==O&&de!==$||(U.status=666),de===N||de===O)return k.avail_out===0&&(U.last_flush=-1),p;if(de===M&&(Y===1?l._tr_align(U):Y!==5&&(l._tr_stored_block(U,0,0,!1),Y===3&&(q(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),H(k),k.avail_out===0))return U.last_flush=-1,p}return Y!==h?p:U.wrap<=0?1:(U.wrap===2?(se(U,255&k.adler),se(U,k.adler>>8&255),se(U,k.adler>>16&255),se(U,k.adler>>24&255),se(U,255&k.total_in),se(U,k.total_in>>8&255),se(U,k.total_in>>16&255),se(U,k.total_in>>24&255)):(ae(U,k.adler>>>16),ae(U,65535&k.adler)),H(k),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?p:1)},i.deflateEnd=function(k){var Y;return k&&k.state?(Y=k.state.status)!==P&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==R&&Y!==666?z(k,g):(k.state=null,Y===R?z(k,-3):p):g},i.deflateSetDictionary=function(k,Y){var X,U,B,Z,ue,de,A,Q,ne=Y.length;if(!k||!k.state||(Z=(X=k.state).wrap)===2||Z===1&&X.status!==P||X.lookahead)return g;for(Z===1&&(k.adler=c(k.adler,Y,ne,0)),X.wrap=0,ne>=X.w_size&&(Z===0&&(q(X.head),X.strstart=0,X.block_start=0,X.insert=0),Q=new o.Buf8(X.w_size),o.arraySet(Q,Y,ne-X.w_size,X.w_size,0),Y=Q,ne=X.w_size),ue=k.avail_in,de=k.next_in,A=k.input,k.avail_in=ne,k.next_in=0,k.input=Y,ce(X);X.lookahead>=T;){for(U=X.strstart,B=X.lookahead-(T-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[U+T-1])&X.hash_mask,X.prev[U&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=U,U++,--B;);X.strstart=U,X.lookahead=T-1,ce(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=T-1,X.match_available=0,k.next_in=de,k.input=A,k.avail_in=ue,X.wrap=Z,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var l,c,d,u,f,h,p,g,m,v,x,y,w,S,j,I,E,C,T,K,V,P,R,N,M;l=s.state,c=s.next_in,N=s.input,d=c+(s.avail_in-5),u=s.next_out,M=s.output,f=u-(o-s.avail_out),h=u+(s.avail_out-257),p=l.dmax,g=l.wsize,m=l.whave,v=l.wnext,x=l.window,y=l.hold,w=l.bits,S=l.lencode,j=l.distcode,I=(1<<l.lenbits)-1,E=(1<<l.distbits)-1;e:do{w<15&&(y+=N[c++]<<w,w+=8,y+=N[c++]<<w,w+=8),C=S[y&I];t:for(;;){if(y>>>=T=C>>>24,w-=T,(T=C>>>16&255)===0)M[u++]=65535&C;else{if(!(16&T)){if(!(64&T)){C=S[(65535&C)+(y&(1<<T)-1)];continue t}if(32&T){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}K=65535&C,(T&=15)&&(w<T&&(y+=N[c++]<<w,w+=8),K+=y&(1<<T)-1,y>>>=T,w-=T),w<15&&(y+=N[c++]<<w,w+=8,y+=N[c++]<<w,w+=8),C=j[y&E];r:for(;;){if(y>>>=T=C>>>24,w-=T,!(16&(T=C>>>16&255))){if(!(64&T)){C=j[(65535&C)+(y&(1<<T)-1)];continue r}s.msg="invalid distance code",l.mode=30;break e}if(V=65535&C,w<(T&=15)&&(y+=N[c++]<<w,(w+=8)<T&&(y+=N[c++]<<w,w+=8)),p<(V+=y&(1<<T)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=T,w-=T,(T=u-f)<V){if(m<(T=V-T)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(R=x,(P=0)===v){if(P+=g-T,T<K){for(K-=T;M[u++]=x[P++],--T;);P=u-V,R=M}}else if(v<T){if(P+=g+v-T,(T-=v)<K){for(K-=T;M[u++]=x[P++],--T;);if(P=0,v<K){for(K-=T=v;M[u++]=x[P++],--T;);P=u-V,R=M}}}else if(P+=v-T,T<K){for(K-=T;M[u++]=x[P++],--T;);P=u-V,R=M}for(;2<K;)M[u++]=R[P++],M[u++]=R[P++],M[u++]=R[P++],K-=3;K&&(M[u++]=R[P++],1<K&&(M[u++]=R[P++]))}else{for(P=u-V;M[u++]=M[P++],M[u++]=M[P++],M[u++]=M[P++],2<(K-=3););K&&(M[u++]=M[P++],1<K&&(M[u++]=M[P++]))}break}}break}}while(c<d&&u<h);c-=K=w>>3,y&=(1<<(w-=K<<3))-1,s.next_in=c,s.next_out=u,s.avail_in=c<d?d-c+5:5-(c-d),s.avail_out=u<h?h-u+257:257-(u-h),l.hold=y,l.bits=w}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),d=r("./inftrees"),u=1,f=2,h=0,p=-2,g=1,m=852,v=592;function x(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(P){var R;return P&&P.state?(R=P.state,P.total_in=P.total_out=R.total=0,P.msg="",R.wrap&&(P.adler=1&R.wrap),R.mode=g,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(m),R.distcode=R.distdyn=new s.Buf32(v),R.sane=1,R.back=-1,h):p}function S(P){var R;return P&&P.state?((R=P.state).wsize=0,R.whave=0,R.wnext=0,w(P)):p}function j(P,R){var N,M;return P&&P.state?(M=P.state,R<0?(N=0,R=-R):(N=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?p:(M.window!==null&&M.wbits!==R&&(M.window=null),M.wrap=N,M.wbits=R,S(P))):p}function I(P,R){var N,M;return P?(M=new y,(P.state=M).window=null,(N=j(P,R))!==h&&(P.state=null),N):p}var E,C,T=!0;function K(P){if(T){var R;for(E=new s.Buf32(512),C=new s.Buf32(32),R=0;R<144;)P.lens[R++]=8;for(;R<256;)P.lens[R++]=9;for(;R<280;)P.lens[R++]=7;for(;R<288;)P.lens[R++]=8;for(d(u,P.lens,0,288,E,0,P.work,{bits:9}),R=0;R<32;)P.lens[R++]=5;d(f,P.lens,0,32,C,0,P.work,{bits:5}),T=!1}P.lencode=E,P.lenbits=9,P.distcode=C,P.distbits=5}function V(P,R,N,M){var O,$=P.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new s.Buf8($.wsize)),M>=$.wsize?(s.arraySet($.window,R,N-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(M<(O=$.wsize-$.wnext)&&(O=M),s.arraySet($.window,R,N-M,O,$.wnext),(M-=O)?(s.arraySet($.window,R,N-M,M,0),$.wnext=M,$.whave=$.wsize):($.wnext+=O,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=O))),0}i.inflateReset=S,i.inflateReset2=j,i.inflateResetKeep=w,i.inflateInit=function(P){return I(P,15)},i.inflateInit2=I,i.inflate=function(P,R){var N,M,O,$,z,_,q,H,D,se,ae,ie,ce,xe,ve,ee,F,re,W,le,k,Y,X,U,B=0,Z=new s.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return p;(N=P.state).mode===12&&(N.mode=13),z=P.next_out,O=P.output,q=P.avail_out,$=P.next_in,M=P.input,_=P.avail_in,H=N.hold,D=N.bits,se=_,ae=q,Y=h;e:for(;;)switch(N.mode){case g:if(N.wrap===0){N.mode=13;break}for(;D<16;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(2&N.wrap&&H===35615){Z[N.check=0]=255&H,Z[1]=H>>>8&255,N.check=l(N.check,Z,2,0),D=H=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&H)<<8)+(H>>8))%31){P.msg="incorrect header check",N.mode=30;break}if((15&H)!=8){P.msg="unknown compression method",N.mode=30;break}if(D-=4,k=8+(15&(H>>>=4)),N.wbits===0)N.wbits=k;else if(k>N.wbits){P.msg="invalid window size",N.mode=30;break}N.dmax=1<<k,P.adler=N.check=1,N.mode=512&H?10:12,D=H=0;break;case 2:for(;D<16;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(N.flags=H,(255&N.flags)!=8){P.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){P.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=H>>8&1),512&N.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,N.check=l(N.check,Z,2,0)),D=H=0,N.mode=3;case 3:for(;D<32;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.head&&(N.head.time=H),512&N.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,Z[2]=H>>>16&255,Z[3]=H>>>24&255,N.check=l(N.check,Z,4,0)),D=H=0,N.mode=4;case 4:for(;D<16;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.head&&(N.head.xflags=255&H,N.head.os=H>>8),512&N.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,N.check=l(N.check,Z,2,0)),D=H=0,N.mode=5;case 5:if(1024&N.flags){for(;D<16;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.length=H,N.head&&(N.head.extra_len=H),512&N.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,N.check=l(N.check,Z,2,0)),D=H=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(_<(ie=N.length)&&(ie=_),ie&&(N.head&&(k=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,M,$,ie,k)),512&N.flags&&(N.check=l(N.check,M,ie,$)),_-=ie,$+=ie,N.length-=ie),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(_===0)break e;for(ie=0;k=M[$+ie++],N.head&&k&&N.length<65536&&(N.head.name+=String.fromCharCode(k)),k&&ie<_;);if(512&N.flags&&(N.check=l(N.check,M,ie,$)),_-=ie,$+=ie,k)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(_===0)break e;for(ie=0;k=M[$+ie++],N.head&&k&&N.length<65536&&(N.head.comment+=String.fromCharCode(k)),k&&ie<_;);if(512&N.flags&&(N.check=l(N.check,M,ie,$)),_-=ie,$+=ie,k)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;D<16;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(H!==(65535&N.check)){P.msg="header crc mismatch",N.mode=30;break}D=H=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),P.adler=N.check=0,N.mode=12;break;case 10:for(;D<32;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}P.adler=N.check=x(H),D=H=0,N.mode=11;case 11:if(N.havedict===0)return P.next_out=z,P.avail_out=q,P.next_in=$,P.avail_in=_,N.hold=H,N.bits=D,2;P.adler=N.check=1,N.mode=12;case 12:if(R===5||R===6)break e;case 13:if(N.last){H>>>=7&D,D-=7&D,N.mode=27;break}for(;D<3;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}switch(N.last=1&H,D-=1,3&(H>>>=1)){case 0:N.mode=14;break;case 1:if(K(N),N.mode=20,R!==6)break;H>>>=2,D-=2;break e;case 2:N.mode=17;break;case 3:P.msg="invalid block type",N.mode=30}H>>>=2,D-=2;break;case 14:for(H>>>=7&D,D-=7&D;D<32;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if((65535&H)!=(H>>>16^65535)){P.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&H,D=H=0,N.mode=15,R===6)break e;case 15:N.mode=16;case 16:if(ie=N.length){if(_<ie&&(ie=_),q<ie&&(ie=q),ie===0)break e;s.arraySet(O,M,$,ie,z),_-=ie,$+=ie,q-=ie,z+=ie,N.length-=ie;break}N.mode=12;break;case 17:for(;D<14;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(N.nlen=257+(31&H),H>>>=5,D-=5,N.ndist=1+(31&H),H>>>=5,D-=5,N.ncode=4+(15&H),H>>>=4,D-=4,286<N.nlen||30<N.ndist){P.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;D<3;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.lens[ue[N.have++]]=7&H,H>>>=3,D-=3}for(;N.have<19;)N.lens[ue[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,X={bits:N.lenbits},Y=d(0,N.lens,0,19,N.lencode,0,N.work,X),N.lenbits=X.bits,Y){P.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ee=(B=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,F=65535&B,!((ve=B>>>24)<=D);){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(F<16)H>>>=ve,D-=ve,N.lens[N.have++]=F;else{if(F===16){for(U=ve+2;D<U;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(H>>>=ve,D-=ve,N.have===0){P.msg="invalid bit length repeat",N.mode=30;break}k=N.lens[N.have-1],ie=3+(3&H),H>>>=2,D-=2}else if(F===17){for(U=ve+3;D<U;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}D-=ve,k=0,ie=3+(7&(H>>>=ve)),H>>>=3,D-=3}else{for(U=ve+7;D<U;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}D-=ve,k=0,ie=11+(127&(H>>>=ve)),H>>>=7,D-=7}if(N.have+ie>N.nlen+N.ndist){P.msg="invalid bit length repeat",N.mode=30;break}for(;ie--;)N.lens[N.have++]=k}}if(N.mode===30)break;if(N.lens[256]===0){P.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,X={bits:N.lenbits},Y=d(u,N.lens,0,N.nlen,N.lencode,0,N.work,X),N.lenbits=X.bits,Y){P.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,X={bits:N.distbits},Y=d(f,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,X),N.distbits=X.bits,Y){P.msg="invalid distances set",N.mode=30;break}if(N.mode=20,R===6)break e;case 20:N.mode=21;case 21:if(6<=_&&258<=q){P.next_out=z,P.avail_out=q,P.next_in=$,P.avail_in=_,N.hold=H,N.bits=D,c(P,ae),z=P.next_out,O=P.output,q=P.avail_out,$=P.next_in,M=P.input,_=P.avail_in,H=N.hold,D=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ee=(B=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,F=65535&B,!((ve=B>>>24)<=D);){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(ee&&!(240&ee)){for(re=ve,W=ee,le=F;ee=(B=N.lencode[le+((H&(1<<re+W)-1)>>re)])>>>16&255,F=65535&B,!(re+(ve=B>>>24)<=D);){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}H>>>=re,D-=re,N.back+=re}if(H>>>=ve,D-=ve,N.back+=ve,N.length=F,ee===0){N.mode=26;break}if(32&ee){N.back=-1,N.mode=12;break}if(64&ee){P.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ee,N.mode=22;case 22:if(N.extra){for(U=N.extra;D<U;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.length+=H&(1<<N.extra)-1,H>>>=N.extra,D-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ee=(B=N.distcode[H&(1<<N.distbits)-1])>>>16&255,F=65535&B,!((ve=B>>>24)<=D);){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(!(240&ee)){for(re=ve,W=ee,le=F;ee=(B=N.distcode[le+((H&(1<<re+W)-1)>>re)])>>>16&255,F=65535&B,!(re+(ve=B>>>24)<=D);){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}H>>>=re,D-=re,N.back+=re}if(H>>>=ve,D-=ve,N.back+=ve,64&ee){P.msg="invalid distance code",N.mode=30;break}N.offset=F,N.extra=15&ee,N.mode=24;case 24:if(N.extra){for(U=N.extra;D<U;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}N.offset+=H&(1<<N.extra)-1,H>>>=N.extra,D-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){P.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(q===0)break e;if(ie=ae-q,N.offset>ie){if((ie=N.offset-ie)>N.whave&&N.sane){P.msg="invalid distance too far back",N.mode=30;break}ce=ie>N.wnext?(ie-=N.wnext,N.wsize-ie):N.wnext-ie,ie>N.length&&(ie=N.length),xe=N.window}else xe=O,ce=z-N.offset,ie=N.length;for(q<ie&&(ie=q),q-=ie,N.length-=ie;O[z++]=xe[ce++],--ie;);N.length===0&&(N.mode=21);break;case 26:if(q===0)break e;O[z++]=N.length,q--,N.mode=21;break;case 27:if(N.wrap){for(;D<32;){if(_===0)break e;_--,H|=M[$++]<<D,D+=8}if(ae-=q,P.total_out+=ae,N.total+=ae,ae&&(P.adler=N.check=N.flags?l(N.check,O,ae,z-ae):o(N.check,O,ae,z-ae)),ae=q,(N.flags?H:x(H))!==N.check){P.msg="incorrect data check",N.mode=30;break}D=H=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;D<32;){if(_===0)break e;_--,H+=M[$++]<<D,D+=8}if(H!==(4294967295&N.total)){P.msg="incorrect length check",N.mode=30;break}D=H=0}N.mode=29;case 29:Y=1;break e;case 30:Y=-3;break e;case 31:return-4;case 32:default:return p}return P.next_out=z,P.avail_out=q,P.next_in=$,P.avail_in=_,N.hold=H,N.bits=D,(N.wsize||ae!==P.avail_out&&N.mode<30&&(N.mode<27||R!==4))&&V(P,P.output,P.next_out,ae-P.avail_out)?(N.mode=31,-4):(se-=P.avail_in,ae-=P.avail_out,P.total_in+=se,P.total_out+=ae,N.total+=ae,N.wrap&&ae&&(P.adler=N.check=N.flags?l(N.check,O,ae,P.next_out-ae):o(N.check,O,ae,P.next_out-ae)),P.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(se==0&&ae===0||R===4)&&Y===h&&(Y=-5),Y)},i.inflateEnd=function(P){if(!P||!P.state)return p;var R=P.state;return R.window&&(R.window=null),P.state=null,h},i.inflateGetHeader=function(P,R){var N;return P&&P.state&&2&(N=P.state).wrap?((N.head=R).done=!1,h):p},i.inflateSetDictionary=function(P,R){var N,M=R.length;return P&&P.state?(N=P.state).wrap!==0&&N.mode!==11?p:N.mode===11&&o(1,R,M,0)!==N.check?-3:V(P,R,M,M)?(N.mode=31,-4):(N.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,h,p,g,m,v,x){var y,w,S,j,I,E,C,T,K,V=x.bits,P=0,R=0,N=0,M=0,O=0,$=0,z=0,_=0,q=0,H=0,D=null,se=0,ae=new s.Buf16(16),ie=new s.Buf16(16),ce=null,xe=0;for(P=0;P<=15;P++)ae[P]=0;for(R=0;R<p;R++)ae[f[h+R]]++;for(O=V,M=15;1<=M&&ae[M]===0;M--);if(M<O&&(O=M),M===0)return g[m++]=20971520,g[m++]=20971520,x.bits=1,0;for(N=1;N<M&&ae[N]===0;N++);for(O<N&&(O=N),P=_=1;P<=15;P++)if(_<<=1,(_-=ae[P])<0)return-1;if(0<_&&(u===0||M!==1))return-1;for(ie[1]=0,P=1;P<15;P++)ie[P+1]=ie[P]+ae[P];for(R=0;R<p;R++)f[h+R]!==0&&(v[ie[f[h+R]]++]=R);if(E=u===0?(D=ce=v,19):u===1?(D=o,se-=257,ce=l,xe-=257,256):(D=c,ce=d,-1),P=N,I=m,z=R=H=0,S=-1,j=(q=1<<($=O))-1,u===1&&852<q||u===2&&592<q)return 1;for(;;){for(C=P-z,K=v[R]<E?(T=0,v[R]):v[R]>E?(T=ce[xe+v[R]],D[se+v[R]]):(T=96,0),y=1<<P-z,N=w=1<<$;g[I+(H>>z)+(w-=y)]=C<<24|T<<16|K|0,w!==0;);for(y=1<<P-1;H&y;)y>>=1;if(y!==0?(H&=y-1,H+=y):H=0,R++,--ae[P]==0){if(P===M)break;P=f[h+v[R]]}if(O<P&&(H&j)!==S){for(z===0&&(z=O),I+=N,_=1<<($=P-z);$+z<M&&!((_-=ae[$+z])<=0);)$++,_<<=1;if(q+=1<<$,u===1&&852<q||u===2&&592<q)return 1;g[S=H&j]=O<<24|$<<16|I-m|0}}return H!==0&&(g[I+H]=P-z<<24|64<<16|0),x.bits=O,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,l=1;function c(B){for(var Z=B.length;0<=--Z;)B[Z]=0}var d=0,u=29,f=256,h=f+1+u,p=30,g=19,m=2*h+1,v=15,x=16,y=7,w=256,S=16,j=17,I=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(h+2));c(V);var P=new Array(2*p);c(P);var R=new Array(512);c(R);var N=new Array(256);c(N);var M=new Array(u);c(M);var O,$,z,_=new Array(p);function q(B,Z,ue,de,A){this.static_tree=B,this.extra_bits=Z,this.extra_base=ue,this.elems=de,this.max_length=A,this.has_stree=B&&B.length}function H(B,Z){this.dyn_tree=B,this.max_code=0,this.stat_desc=Z}function D(B){return B<256?R[B]:R[256+(B>>>7)]}function se(B,Z){B.pending_buf[B.pending++]=255&Z,B.pending_buf[B.pending++]=Z>>>8&255}function ae(B,Z,ue){B.bi_valid>x-ue?(B.bi_buf|=Z<<B.bi_valid&65535,se(B,B.bi_buf),B.bi_buf=Z>>x-B.bi_valid,B.bi_valid+=ue-x):(B.bi_buf|=Z<<B.bi_valid&65535,B.bi_valid+=ue)}function ie(B,Z,ue){ae(B,ue[2*Z],ue[2*Z+1])}function ce(B,Z){for(var ue=0;ue|=1&B,B>>>=1,ue<<=1,0<--Z;);return ue>>>1}function xe(B,Z,ue){var de,A,Q=new Array(v+1),ne=0;for(de=1;de<=v;de++)Q[de]=ne=ne+ue[de-1]<<1;for(A=0;A<=Z;A++){var G=B[2*A+1];G!==0&&(B[2*A]=ce(Q[G]++,G))}}function ve(B){var Z;for(Z=0;Z<h;Z++)B.dyn_ltree[2*Z]=0;for(Z=0;Z<p;Z++)B.dyn_dtree[2*Z]=0;for(Z=0;Z<g;Z++)B.bl_tree[2*Z]=0;B.dyn_ltree[2*w]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function ee(B){8<B.bi_valid?se(B,B.bi_buf):0<B.bi_valid&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function F(B,Z,ue,de){var A=2*Z,Q=2*ue;return B[A]<B[Q]||B[A]===B[Q]&&de[Z]<=de[ue]}function re(B,Z,ue){for(var de=B.heap[ue],A=ue<<1;A<=B.heap_len&&(A<B.heap_len&&F(Z,B.heap[A+1],B.heap[A],B.depth)&&A++,!F(Z,de,B.heap[A],B.depth));)B.heap[ue]=B.heap[A],ue=A,A<<=1;B.heap[ue]=de}function W(B,Z,ue){var de,A,Q,ne,G=0;if(B.last_lit!==0)for(;de=B.pending_buf[B.d_buf+2*G]<<8|B.pending_buf[B.d_buf+2*G+1],A=B.pending_buf[B.l_buf+G],G++,de===0?ie(B,A,Z):(ie(B,(Q=N[A])+f+1,Z),(ne=E[Q])!==0&&ae(B,A-=M[Q],ne),ie(B,Q=D(--de),ue),(ne=C[Q])!==0&&ae(B,de-=_[Q],ne)),G<B.last_lit;);ie(B,w,Z)}function le(B,Z){var ue,de,A,Q=Z.dyn_tree,ne=Z.stat_desc.static_tree,G=Z.stat_desc.has_stree,ge=Z.stat_desc.elems,Ee=-1;for(B.heap_len=0,B.heap_max=m,ue=0;ue<ge;ue++)Q[2*ue]!==0?(B.heap[++B.heap_len]=Ee=ue,B.depth[ue]=0):Q[2*ue+1]=0;for(;B.heap_len<2;)Q[2*(A=B.heap[++B.heap_len]=Ee<2?++Ee:0)]=1,B.depth[A]=0,B.opt_len--,G&&(B.static_len-=ne[2*A+1]);for(Z.max_code=Ee,ue=B.heap_len>>1;1<=ue;ue--)re(B,Q,ue);for(A=ge;ue=B.heap[1],B.heap[1]=B.heap[B.heap_len--],re(B,Q,1),de=B.heap[1],B.heap[--B.heap_max]=ue,B.heap[--B.heap_max]=de,Q[2*A]=Q[2*ue]+Q[2*de],B.depth[A]=(B.depth[ue]>=B.depth[de]?B.depth[ue]:B.depth[de])+1,Q[2*ue+1]=Q[2*de+1]=A,B.heap[1]=A++,re(B,Q,1),2<=B.heap_len;);B.heap[--B.heap_max]=B.heap[1],function(Ae,ut){var Ye,Pt,Ke,Ze,di,es,Er=ut.dyn_tree,Cr=ut.max_code,Fa=ut.stat_desc.static_tree,fl=ut.stat_desc.has_stree,hl=ut.stat_desc.extra_bits,Ua=ut.stat_desc.extra_base,ui=ut.stat_desc.max_length,ts=0;for(Ze=0;Ze<=v;Ze++)Ae.bl_count[Ze]=0;for(Er[2*Ae.heap[Ae.heap_max]+1]=0,Ye=Ae.heap_max+1;Ye<m;Ye++)ui<(Ze=Er[2*Er[2*(Pt=Ae.heap[Ye])+1]+1]+1)&&(Ze=ui,ts++),Er[2*Pt+1]=Ze,Cr<Pt||(Ae.bl_count[Ze]++,di=0,Ua<=Pt&&(di=hl[Pt-Ua]),es=Er[2*Pt],Ae.opt_len+=es*(Ze+di),fl&&(Ae.static_len+=es*(Fa[2*Pt+1]+di)));if(ts!==0){do{for(Ze=ui-1;Ae.bl_count[Ze]===0;)Ze--;Ae.bl_count[Ze]--,Ae.bl_count[Ze+1]+=2,Ae.bl_count[ui]--,ts-=2}while(0<ts);for(Ze=ui;Ze!==0;Ze--)for(Pt=Ae.bl_count[Ze];Pt!==0;)Cr<(Ke=Ae.heap[--Ye])||(Er[2*Ke+1]!==Ze&&(Ae.opt_len+=(Ze-Er[2*Ke+1])*Er[2*Ke],Er[2*Ke+1]=Ze),Pt--)}}(B,Z),xe(Q,Ee,B.bl_count)}function k(B,Z,ue){var de,A,Q=-1,ne=Z[1],G=0,ge=7,Ee=4;for(ne===0&&(ge=138,Ee=3),Z[2*(ue+1)+1]=65535,de=0;de<=ue;de++)A=ne,ne=Z[2*(de+1)+1],++G<ge&&A===ne||(G<Ee?B.bl_tree[2*A]+=G:A!==0?(A!==Q&&B.bl_tree[2*A]++,B.bl_tree[2*S]++):G<=10?B.bl_tree[2*j]++:B.bl_tree[2*I]++,Q=A,Ee=(G=0)===ne?(ge=138,3):A===ne?(ge=6,3):(ge=7,4))}function Y(B,Z,ue){var de,A,Q=-1,ne=Z[1],G=0,ge=7,Ee=4;for(ne===0&&(ge=138,Ee=3),de=0;de<=ue;de++)if(A=ne,ne=Z[2*(de+1)+1],!(++G<ge&&A===ne)){if(G<Ee)for(;ie(B,A,B.bl_tree),--G!=0;);else A!==0?(A!==Q&&(ie(B,A,B.bl_tree),G--),ie(B,S,B.bl_tree),ae(B,G-3,2)):G<=10?(ie(B,j,B.bl_tree),ae(B,G-3,3)):(ie(B,I,B.bl_tree),ae(B,G-11,7));Q=A,Ee=(G=0)===ne?(ge=138,3):A===ne?(ge=6,3):(ge=7,4)}}c(_);var X=!1;function U(B,Z,ue,de){ae(B,(d<<1)+(de?1:0),3),function(A,Q,ne,G){ee(A),se(A,ne),se(A,~ne),s.arraySet(A.pending_buf,A.window,Q,ne,A.pending),A.pending+=ne}(B,Z,ue)}i._tr_init=function(B){X||(function(){var Z,ue,de,A,Q,ne=new Array(v+1);for(A=de=0;A<u-1;A++)for(M[A]=de,Z=0;Z<1<<E[A];Z++)N[de++]=A;for(N[de-1]=A,A=Q=0;A<16;A++)for(_[A]=Q,Z=0;Z<1<<C[A];Z++)R[Q++]=A;for(Q>>=7;A<p;A++)for(_[A]=Q<<7,Z=0;Z<1<<C[A]-7;Z++)R[256+Q++]=A;for(ue=0;ue<=v;ue++)ne[ue]=0;for(Z=0;Z<=143;)V[2*Z+1]=8,Z++,ne[8]++;for(;Z<=255;)V[2*Z+1]=9,Z++,ne[9]++;for(;Z<=279;)V[2*Z+1]=7,Z++,ne[7]++;for(;Z<=287;)V[2*Z+1]=8,Z++,ne[8]++;for(xe(V,h+1,ne),Z=0;Z<p;Z++)P[2*Z+1]=5,P[2*Z]=ce(Z,5);O=new q(V,E,f+1,h,v),$=new q(P,C,0,p,v),z=new q(new Array(0),T,0,g,y)}(),X=!0),B.l_desc=new H(B.dyn_ltree,O),B.d_desc=new H(B.dyn_dtree,$),B.bl_desc=new H(B.bl_tree,z),B.bi_buf=0,B.bi_valid=0,ve(B)},i._tr_stored_block=U,i._tr_flush_block=function(B,Z,ue,de){var A,Q,ne=0;0<B.level?(B.strm.data_type===2&&(B.strm.data_type=function(G){var ge,Ee=4093624447;for(ge=0;ge<=31;ge++,Ee>>>=1)if(1&Ee&&G.dyn_ltree[2*ge]!==0)return o;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return l;for(ge=32;ge<f;ge++)if(G.dyn_ltree[2*ge]!==0)return l;return o}(B)),le(B,B.l_desc),le(B,B.d_desc),ne=function(G){var ge;for(k(G,G.dyn_ltree,G.l_desc.max_code),k(G,G.dyn_dtree,G.d_desc.max_code),le(G,G.bl_desc),ge=g-1;3<=ge&&G.bl_tree[2*K[ge]+1]===0;ge--);return G.opt_len+=3*(ge+1)+5+5+4,ge}(B),A=B.opt_len+3+7>>>3,(Q=B.static_len+3+7>>>3)<=A&&(A=Q)):A=Q=ue+5,ue+4<=A&&Z!==-1?U(B,Z,ue,de):B.strategy===4||Q===A?(ae(B,2+(de?1:0),3),W(B,V,P)):(ae(B,4+(de?1:0),3),function(G,ge,Ee,Ae){var ut;for(ae(G,ge-257,5),ae(G,Ee-1,5),ae(G,Ae-4,4),ut=0;ut<Ae;ut++)ae(G,G.bl_tree[2*K[ut]+1],3);Y(G,G.dyn_ltree,ge-1),Y(G,G.dyn_dtree,Ee-1)}(B,B.l_desc.max_code+1,B.d_desc.max_code+1,ne+1),W(B,B.dyn_ltree,B.dyn_dtree)),ve(B),de&&ee(B)},i._tr_tally=function(B,Z,ue){return B.pending_buf[B.d_buf+2*B.last_lit]=Z>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&Z,B.pending_buf[B.l_buf+B.last_lit]=255&ue,B.last_lit++,Z===0?B.dyn_ltree[2*ue]++:(B.matches++,Z--,B.dyn_ltree[2*(N[ue]+f+1)]++,B.dyn_dtree[2*D(Z)]++),B.last_lit===B.lit_bufsize-1},i._tr_align=function(B){ae(B,2,3),ie(B,w,V),function(Z){Z.bi_valid===16?(se(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(B)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,l){if(!o.setImmediate){var c,d,u,f,h=1,p={},g=!1,m=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,c={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,j=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=j,S}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(S){o.postMessage(f+S,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){u.port2.postMessage(S)}):m&&"onreadystatechange"in m.createElement("script")?(d=m.documentElement,function(S){var j=m.createElement("script");j.onreadystatechange=function(){y(S),j.onreadystatechange=null,d.removeChild(j),j=null},d.appendChild(j)}):function(S){setTimeout(y,0,S)},v.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var j=new Array(arguments.length-1),I=0;I<j.length;I++)j[I]=arguments[I+1];var E={callback:S,args:j};return p[h]=E,c(h),h++},v.clearImmediate=x}function x(S){delete p[S]}function y(S){if(g)setTimeout(y,0,S);else{var j=p[S];if(j){g=!0;try{(function(I){var E=I.callback,C=I.args;switch(C.length){case 0:E();break;case 1:E(C[0]);break;case 2:E(C[0],C[1]);break;case 3:E(C[0],C[1],C[2]);break;default:E.apply(l,C)}})(j)}finally{x(S),g=!1}}}}function w(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(f)===0&&y(+S.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(N6);var zJ=N6.exports;const WJ=oi(zJ),HJ=()=>{var P,R,N,M;const e=vt(),{walletState:t}=Re(),r=b.useRef(null),n=((R=(P=t.accounts)==null?void 0:P.find(O=>O.purpose==="ordinals"))==null?void 0:R.address)||((M=(N=t.accounts)==null?void 0:N[0])==null?void 0:M.address),i=t.connected&&Hi(n),[s,o]=b.useState([]),[l,c]=b.useState(75),[d,u]=b.useState(!1),[f,h]=b.useState(0),[p,g]=b.useState([]),[m,v]=b.useState(null),x=b.useCallback(O=>{const $=O.target.files;if(!$)return;const z=Array.from($).filter(_=>_.type==="image/png"||_.type==="image/jpeg"||_.type==="image/jpg"||_.type==="image/webp");if(z.length===0){v("Keine untersttzten Bilder gefunden (PNG, JPG, WebP)");return}o(z),g([]),v(null),h(0)},[]),y=O=>new Promise(($,z)=>{const _=new Image;_.onload=()=>{const q=document.createElement("canvas");q.width=_.naturalWidth,q.height=_.naturalHeight;const H=q.getContext("2d",{willReadFrequently:!0});if(!H){z(new Error("Canvas context not available"));return}H.clearRect(0,0,q.width,q.height),H.drawImage(_,0,0);const D=H.getImageData(0,0,q.width,q.height);URL.revokeObjectURL(_.src),$(D)},_.onerror=()=>{URL.revokeObjectURL(_.src),z(new Error(`Bild konnte nicht geladen werden: ${O.name}`))},_.src=URL.createObjectURL(O)}),w=b.useCallback(async()=>{if(s.length!==0){u(!0),g([]),v(null),h(0);try{const O=await Jt(()=>import("./index-D-eIu90V.js"),[]),$=O.default||O.encode,z=[];for(let _=0;_<s.length;_++){try{const q=await y(s[_]),H=(()=>{const ie=q.data;for(let ce=3;ce<ie.length;ce+=4)if(ie[ce]<255)return!0;return!1})(),D=await $(q,{quality:l,qualityAlpha:H?Math.max(l,90):-1,subsample:H?3:1}),se=new Blob([D],{type:"image/avif"}),ae=s[_].name.replace(/\.[^.]+$/,"");z.push({name:`${ae}.avif`,originalSize:s[_].size,convertedSize:se.size,blob:se,preview:URL.createObjectURL(se)})}catch(q){console.warn(`Fehler bei ${s[_].name}:`,q.message)}h(Math.round((_+1)/s.length*100))}g(z),z.length===0&&v("Keine Bilder konnten konvertiert werden.")}catch(O){console.error("AVIF Encoder Fehler:",O),v(`Encoder-Fehler: ${O.message}`)}u(!1)}},[s,l]),[S,j]=b.useState(!1),I=b.useCallback(async()=>{if(p.length!==0){j(!0);try{const O=new WJ,$=O.folder("avif-converted");p.forEach(q=>{$.file(q.name,q.blob)});const z=await O.generateAsync({type:"blob"}),_=document.createElement("a");_.href=URL.createObjectURL(z),_.download=`avif-converted-q${l}.zip`,_.click(),URL.revokeObjectURL(_.href)}catch(O){console.error("ZIP Fehler:",O)}j(!1)}},[p,l]),E=b.useCallback(O=>{const $=document.createElement("a");$.href=URL.createObjectURL(O.blob),$.download=O.name,$.click(),URL.revokeObjectURL($.href)},[]),C=O=>O<1024?`${O} B`:O<1024*1024?`${(O/1024).toFixed(1)} KB`:`${(O/(1024*1024)).toFixed(2)} MB`,T=p.reduce((O,$)=>O+$.originalSize,0),K=p.reduce((O,$)=>O+$.convertedSize,0),V=T>0?Math.round((1-K/T)*100):0;return i?a.jsx("div",{className:"min-h-screen bg-black text-white p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h1",{className:"text-3xl font-bold",children:"AVIF Converter"})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-end",children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"Select Images (PNG, JPG, WebP)"}),a.jsx("input",{ref:r,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",multiple:!0,onChange:x,className:"hidden"}),a.jsx("button",{onClick:()=>{var O;return(O=r.current)==null?void 0:O.click()},className:"w-full px-4 py-3 bg-gray-800 hover:bg-gray-700 border-2 border-dashed border-gray-600 hover:border-red-500 rounded-lg transition-colors text-center",children:s.length>0?a.jsxs("span",{className:"text-white font-semibold",children:[s.length," images selected"]}):a.jsx("span",{className:"text-gray-400",children:"Click to select images..."})})]}),a.jsxs("div",{className:"w-full md:w-64",children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:["Quality: ",a.jsxs("span",{className:"text-white text-lg",children:[l,"%"]})]}),a.jsx("input",{type:"range",min:"1",max:"100",value:l,onChange:O=>c(parseInt(O.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-600"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"1 (klein)"}),a.jsx("span",{children:"50"}),a.jsx("span",{children:"100 (max)"})]})]}),a.jsx("button",{onClick:w,disabled:s.length===0||d,className:"px-8 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded-lg font-bold text-lg transition-colors whitespace-nowrap",children:d?`Converting... ${f}%`:"Convert to AVIF"})]}),d&&a.jsx("div",{className:"mt-4 w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-orange-500 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),m&&a.jsx("div",{className:"bg-red-900/30 border border-red-600 rounded-lg p-4 mb-6 text-red-400",children:m}),p.length>0&&a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-1",children:[p.length," images converted"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[C(T),"  ",C(K)," ",a.jsxs("span",{className:V>0?"text-green-400 font-bold":"text-red-400",children:["(",V>0?`-${V}%`:`+${Math.abs(V)}%`,")"]})]})]}),a.jsx("button",{onClick:I,disabled:S,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 rounded-lg font-bold transition-colors",children:S?"Creating ZIP...":`Download ZIP (${p.length})`})]}),a.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:p.map((O,$)=>{const z=Math.round((1-O.convertedSize/O.originalSize)*100);return a.jsxs("div",{className:"flex items-center gap-4 bg-gray-800 rounded-lg p-3 hover:bg-gray-750 transition-colors",children:[a.jsx("img",{src:O.preview,alt:O.name,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-white truncate",children:O.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:[C(O.originalSize),"  ",C(O.convertedSize)," ",a.jsxs("span",{className:z>0?"text-green-400":"text-red-400",children:["(",z>0?`-${z}%`:`+${Math.abs(z)}%`,")"]})]})]}),a.jsx("button",{onClick:()=>E(O),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold transition-colors",children:"Download"})]},$)})})]})]})}):a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold mb-4",children:"Admin Access Required"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Connect your admin wallet to use this tool."}),a.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-bold",children:"Back to Home"})]})})},KJ=()=>{var i,s,o,l;const e=vt(),{walletState:t}=Re(),r=((s=(i=t.accounts)==null?void 0:i.find(c=>c.purpose==="ordinals"))==null?void 0:s.address)||((l=(o=t.accounts)==null?void 0:o[0])==null?void 0:l.address);return t.connected&&Hi(r)?a.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-gray-800",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h1",{className:"text-xl font-bold",children:"Audio Splitter Tool"})]}),a.jsx("iframe",{src:"/tools/audio_splitter_tool.html",className:"flex-1 w-full border-0",title:"Audio Splitter Tool",sandbox:"allow-scripts allow-same-origin allow-downloads allow-forms"})]}):a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold mb-4",children:"Admin Access Required"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Connect your admin wallet to use this tool."}),a.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-bold",children:"Back to Home"})]})})},VJ=()=>{var i,s,o,l;const e=vt(),{walletState:t}=Re(),r=((s=(i=t.accounts)==null?void 0:i.find(c=>c.purpose==="ordinals"))==null?void 0:s.address)||((l=(o=t.accounts)==null?void 0:o[0])==null?void 0:l.address);return t.connected&&Hi(r)?a.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-gray-800",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h1",{className:"text-xl font-bold",children:"Video Splitter Tool"})]}),a.jsx("iframe",{src:"/tools/video_splitter_tool.html",className:"flex-1 w-full border-0",title:"Video Splitter Tool",sandbox:"allow-scripts allow-same-origin allow-downloads allow-forms"})]}):a.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold mb-4",children:"Admin Access Required"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Connect your admin wallet to use this tool."}),a.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-bold",children:"Back to Home"})]})})},GJ=()=>{const e=vt(),t=Qc(),{walletState:r}=Re(),n=[{id:"home",label:"Home",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),path:"/"},{id:"black-wild",label:"Mint",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),path:"/black-wild"},{id:"point-shop",label:"Shop",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),path:"/point-shop"},{id:"tech-games",label:"Games",icon:a.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),path:"/tech-games"},...r.connected?[{id:"trade",label:"Trade",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),path:"/trade"}]:[]],i=s=>s==="/"?t.pathname==="/":t.pathname.startsWith(s);return a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-md border-t-2 border-red-600/50 z-50 md:hidden",children:a.jsx("div",{className:"flex items-center justify-around h-16",children:n.map(s=>a.jsxs("button",{onClick:()=>e(s.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-300 touch-manipulation active:scale-95 ${i(s.path)?"text-red-600 scale-110":"text-gray-400 hover:text-white"}`,"aria-label":s.label,children:[s.icon,a.jsx("span",{className:"text-[10px] mt-1 font-semibold",children:s.label}),i(s.path)&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-red-600 rounded-t-full"})]},s.id))})}),a.jsx("div",{className:"h-16 md:hidden"})]})};function qJ(){const[e,t]=b.useState(!1),r=Qc(),n=r.pathname==="/",i=r.pathname==="/black-wild";return a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx(S8,{onGalleryClick:()=>t(!0),showFullMenu:!n,showMintingMenu:i}),a.jsxs(KO,{children:[a.jsx(ot,{path:"/",element:a.jsx(zq,{})}),a.jsx(ot,{path:"/black-wild",element:a.jsx(oY,{})}),a.jsx(ot,{path:"/point-shop",element:a.jsx(LY,{})}),a.jsx(ot,{path:"/tech-games",element:a.jsx(BY,{})}),a.jsx(ot,{path:"/bitcoin-mixtape",element:a.jsx(XY,{})}),a.jsx(ot,{path:"/1984",element:a.jsx(tZ,{})}),a.jsx(ot,{path:"/free-stuff",element:a.jsx(cZ,{})}),a.jsx(ot,{path:"/random-stuff",element:a.jsx(sZ,{})}),a.jsx(ot,{path:"/collection/:id",element:a.jsx(RY,{})}),a.jsx(ot,{path:"/trade",element:a.jsx(mY,{})}),a.jsx(ot,{path:"/history",element:a.jsx(gY,{})}),a.jsx(ot,{path:"/play",element:a.jsx($Y,{})}),a.jsx(ot,{path:"/link-gallery",element:a.jsx(UY,{})}),a.jsx(ot,{path:"/smile-a-bit",element:a.jsx(HY,{})}),a.jsx(ot,{path:"/slums",element:a.jsx(ZY,{})}),a.jsx(ot,{path:"/palindrom-sound-box",element:a.jsx(uZ,{})}),a.jsx(ot,{path:"/admin/gallery-tool",element:a.jsx($J,{})}),a.jsx(ot,{path:"/admin/recursive-tool",element:a.jsx(FJ,{})}),a.jsx(ot,{path:"/admin/collection-data",element:a.jsx(UJ,{})}),a.jsx(ot,{path:"/admin/avif-converter",element:a.jsx(HJ,{})}),a.jsx(ot,{path:"/admin/audio-splitter",element:a.jsx(KJ,{})}),a.jsx(ot,{path:"/admin/video-splitter",element:a.jsx(VJ,{})}),a.jsx(ot,{path:"*",element:a.jsx(WO,{to:"/",replace:!0})})]}),e&&a.jsx(tA,{onClose:()=>t(!1)}),a.jsx(GJ,{})]})}function YJ(){return a.jsx(wI,{children:a.jsx(qO,{children:a.jsx(qJ,{})})})}console.log(" MAIN.TSX GELADEN - VERSION 2.0 - KEINE ZAHLUNGEN! ");console.log("[main.tsx]  Diese Version verwendet NUR Ord - KEINE Zahlungen!");console.log('[main.tsx]  Wenn Sie "Pack payment" sehen, ist der Cache NICHT geleert!');xg.createRoot(document.getElementById("root")).render(a.jsx(sc.StrictMode,{children:a.jsx(wI,{children:a.jsx(YJ,{})})}));export{Jt as _,kb as a,Uh as b,Pd as c,XJ as g,kc as s};
